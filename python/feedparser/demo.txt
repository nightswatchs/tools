海绵是地球上第一个动物
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="506" src="http://www.khxx.net/wp-content/uploads/2016/03/2016-03-0977.png" title="海绵是地球上第一个动物 - 康斯坦丁 - 科幻星系" width="435" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">当我们提起海绵两个字的时候，你想到的一定是沙发或者汽车的坐垫，因为在我们的生活中，海绵就是软软的、具有弹性的，所以绝对不会将其跟一种动物联系起来。其实海绵这种材料能够被开发出来就是因为海绵这种动物被发现，甚至在早期海绵就是用的海绵这种动物制作成的。不过在今天已经可以用不同的材料来制作海绵了，然而在接触身体用的材料时，依旧还是用海绵这种动物制作的。海绵不仅功效大，而且据最新的研究显示，它还是地球上诞生的第一个动物。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">麻省理工学院的大卫·金博士再一次领导的研究中发现，海绵拥有非同寻常的分子结构，而这种分子结构可能是在6.4亿年前的寒武纪时期形成的。为了证实这种推测，金博士求证了古生物学和遗传学等多方面的证据，在一块古老的化石中发现了海绵的标本，而这块化石的年龄就在寒武纪时期。对于生物起源了解一些的朋友都知道，寒武纪时期是生物大爆发的时期，大量的化石就是源于那个时代。很多的学者认为地球上出现第一个动物经历了很长的时期，但是从单细胞生物发展到复杂的多细胞动物却只经历了很短的时间。当然，这个时间也是相对而言，绝不是一早一夕可以完成的。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">正是因为有着这股生物诞生潮的出现，所以科学家也没办法鉴定到底谁第一个出现。为了追根溯源，金博士组织了一支队伍试图去破解其中的奥秘，而分子化石就是其中最重要的一环。金博士告诉我们，“有一种感觉，寒武纪出现的动物非常多，但是真正第一个诞生的一定是一个分子类结构的动物，而海绵刚好是符合这种推测的。现在只要找到这种化石就足以将这个结论给坐实，海绵就能当之无愧地成为地球上的第一个动物。”为了提高准确度，金博士和同事们经过分析后还得出了一个数据，那就是脂质分子一定是第一个诞生的动物不可或缺的一部分。经过对化石的长期收集和分析之后，在1994年的时候科学家首次在一块石头化石里检测到了这种分子，于是就推测它可能就是海绵的祖先。到了2009年的时候，他们再次在一块年龄在6.4亿年前的化石中检测到了这种分子。这两次的研究发现让金博士的信心更加充足，认为海绵肯定就是地球上第一个出现的动物。&nbsp;为了再次确认，研究人员对30种类似基因的生物进行了检测，结果发现很让人惊喜，因为发现了甾醇甲基转移酶，它是脂质分子的副本，属于近亲关系，所以再次确定海绵是地球上最早出现的动物。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">没有想到这个冷门的动物居然是地球上第一个出现的动物。当其余动物还在苦苦支撑，寻求变化的时候后，海绵居然有了这么大的来头。或许我们见到海绵这种动物的机会很少，但是在以后有机会近距离接触的时候你可以仔细看看，它凭什么就能得到第一的名头，谁才是它的天敌等扽问题。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><div><br /></div></div>
两会助力中国腾势：新能源产业将成开路先锋
<div><p>本届两会，是“十三五”开局之年的第一次两会，对于中国经济下一步发展有着极其重要的意义。经历二十多年来GDP增速最低的2015年，在当前全球不景气的经济环境下，不可否认的是，中国正处于经济增速放缓、经济转型经历阵痛的关键节点，能否迎难而上，亟需提振全民士气，首先要从精神层面实现突破。</p><p>就目前来看，中国改革开放创造了全世界罕见的经济奇迹。“唱衰”中国的声音不绝于耳，被中国一次又一次逆境图强的表现打脸。榜样的力量是无穷的，而每一位奋进前行的人们，都应该得到更多的掌声和鼓励。正因如此，当“中国正腾势——向每一份推动中国向上的力量致敬”的口号出现在鸟巢、人民日报、朋友圈时，大家都能感到一种由衷的共鸣。在两会这个节点，当国家在绿色发展的大战略方向上达成越来越多的共识时，那对新能源产业而言，赢得更多人关注，并随着中国向上腾势的发展势头，迎接未来的辉煌就变得不仅是一种期望，而是一种实实在在的实践驱动力。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0960.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="293" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0960.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="两会助力中国腾势：新能源产业将成开路先锋 - 康斯坦丁 - 科幻星系" width="500" /></a></p><p>3月5日晚，鸟巢打出“中国正腾势——向每一份推动中国向上的力量致敬”的口号</p><p><strong>中国正腾势！两会传递积极、乐观情绪</strong></p><p>本次两会的召开，既有对“十二五”的总结，也承担着开启“十三五”新纪元的重任。虽然过去一年和未来的发展时间中，中国将在复杂的全球经济形势下，面临着诸多困难，但只要有推动中国向上的力量在不断努力，就一定能够战胜各种各样的困难。而那些推动中国向上的力量，也将被国人所铭记。</p><p>比如，互联网巨头多方整合，在成为全球互联网重要组成部分的同时，也为国人乃至全球用户带来更加多元、便捷的服务。成功在国内取得突破之后，互联网巨头并纷纷出海，以并购、投资等形式拓展全球市场。成功屹立于全球互联网之巅的创新型中国互联网企业，给予国人更多的信心。今天，我们需要更多这样的力量。</p><p>就像在消费者接触最频繁的智能手机市场层面，中国手机品牌不仅成为全球智能手机市场的重要组成部分，还在迅速开拓高端市场，如华为Mate系列、中兴AXON系列等。中国手机品牌的发展，满足了不同群体的需要，既有人人消费得起且满足使用的千元机，也有满足商务、时尚等需要的高端手机，这也是推动中国向上腾势的力量。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-09100.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="351" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-09100.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="两会助力中国腾势：新能源产业将成开路先锋 - 康斯坦丁 - 科幻星系" width="469" /></a></p><p>科技领域，这种力量更是让人瞩目。第三代核电技术取得重大进展、国产C919大型客机总装下线、屠呦呦获得诺贝尔医学奖等，让全国各族人民倍感振奋和自豪！中国汽车自主品牌的逆袭，尤其是在SUV市场、新能源汽车等细分领域亮点颇多。</p><p>种种推动中国向上的力量，在以实际的行动表明，未来的中国将会继续迈着坚定的步伐快速向前发展。两会传递出的积极、乐观情绪，也让国人吃下了一颗“定心丸”。按照目前的形势发展下去，或许我们能够很快取得显著成果。</p><p><strong>&nbsp;新能源将成中坚力量&nbsp;全面推进中国向上</strong></p><p>在推动中国向上的众多力量中，新能源产业堪称绝对的中坚力量，与国家绿色发展的大战略完美契合。汽车产业链很长，是一个能影响社会多维度领域的产业，而新能源汽车产业，更是基于传统汽车产业链基础上的新转型升级，甚至在一定程度上影响中国社会、经济等的走势。新能源产业的巨大潜力，也得到国家、政府的高度重视。</p><p>早在一年前的2015年政府工作报告上，国务院总理李克强就提到要推广新能源汽车，为新能源注入了一剂强心针。而在今年两会李克强总理作的政府工作报告中，提到国务院编制了《国民经济和社会发展第十三个五年规划纲要（草案）》，其中重要的一点就是强调要牢固树立和贯彻落实创新、协调、绿色、开放、共享的发展理念，将绿色发展上升到国家层面的高度上。</p><p>在政府工作报告中，“建设水电核电，完善风能、太阳能、生物质能等发展扶持政策，提高清洁能源比重”等被直接提到。而承担绿色环保使命的“新能源汽车”，也成为今年全国两会代表委员热议的话题之一。全国人大代表、天能集团董事长张天任就建议，顶层设计要鼓励多元路线共同发展、不同动力的汽车兼容发展。</p><p>对新能源汽车的重视程度上，两会代表都认为需将其摆在最高层面上，成为国家战略。全国政协委员、沧州市政协副主席何香久就表示，汽车产业是国民经济的支柱产业之一，也是体现国家竞争力的标志性产业。新能源汽车基于驱动技术的重大升级和转型，是汽车产业应对能源安全、气候变化、环境保护和结构升级的重要突破口，也是推动经济可持续发展的重要战略。</p><p>可以看到，站在国家绿色发展风口上的新能源产业及新能源汽车，必然将会腾势而起。具体来看，新能源汽车本身的环保节能等，与当下流行的绿色出行、节约能源等理念不谋而合，代表未来发展方向；而新能源汽车的大踏步发展，将创造更多就业岗位和经济效益，直接促进经济发展和社会稳定。这种腾势而起的力量，值得更多关注。</p><p><strong>&nbsp;巨龙升空！新能源产业将成王冠上的明珠</strong></p><p>在两会召开之后，政府明确且清晰的未来发展战略和规划，将很快会落到实践中去。中国这条东方巨龙将不惧艰险，继续腾势而起。而在这一过程中，新能源产业将成为王冠上最闪亮的明珠。多元化的产业优势，满足了多方发展的诉求。以新能源汽车为代表的新能源产业，将在“十三五”规划和实践中，扮演最重要的角色之一。</p><p>而中国新能源汽车品牌，在促进中国继续迈进的过程中，本身将迎来更大的发展空间，成为巨龙升空的完美助推力。像德国奔驰的母公司戴姆勒就与电池技术领先的比亚迪联手，推出全新的新能源汽车品牌——DENZA腾势。凭借戴姆勒全球领先的设计、供应商资源，兼之全球统一的制造流程和严苛的品质监控体系，加上比亚迪提供的尖端动力电池和驱动技术，DENZA腾势致力于打造中国最好的纯电动汽车。</p><p>两会期间，DENZA腾势在《人民日报》、微信朋友圈、鸟巢等不同媒介平台推出的“中国正腾势，向每一份推动中国向上的力量致敬”主题广告这也为这个新兴的品牌，注入了更多正能量的内涵，不仅准确点出中国正处于向上腾势的状态中，也让国人受到鼓舞，引起情感上的共鸣，去争做推动中国向上力量中的一分子。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0936.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="313" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0936.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="两会助力中国腾势：新能源产业将成开路先锋 - 康斯坦丁 - 科幻星系" width="469" /></a></p><p>新能源汽车的发展，已经迈入了一个新的阶段。作为国内高端纯电动汽车代表的DENZA腾势，传承德国戴姆勒百年造车工艺技术，执着每一个造车细节，作为国内高端纯电动车的代表品牌，DENZA腾势拥有远超同级的产品力、全面周到的服务力和超强的品牌力，与TESLA特斯拉、BMW宝马i3被誉为当下高端纯电动汽车品牌中的“TBD”。这也将引领中国新能源汽车进化至全新的发展态势。</p><p>目前，国内新能源汽车行业已经呈现出的百花齐放态势。证明不管是政府、汽车企业，还是大众消费者，都对新能源汽车未来的发展充满信心。此外，政府对新能源产业的重视，也为新能源汽车、新能源研发/开采等提供多项利好政策。自身努力+优良大环境，相信中国新能源汽车产业将会迎来更加快速的发展期，成为中国向上腾势的开路先锋。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
代理商变操盘手：在线旅游到底玩啥花样
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-087.png" rel="nofollow" style="color: rgb(52, 73, 94);"><img alt="图片2" height="306" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-087.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="代理商变操盘手：在线旅游到底玩啥花样 - 康斯坦丁 - 科幻星系" width="364" /></a></p><p>近段时间，不，准确地说是近几年来，狂飙突进的在线旅游行业一直处于毁誉参半的状态。从好的一方面看，确实给大众出行、旅游、住宿等带来便利；而从坏的一方面看，肆意改签、退单、假机票、天价退票费、无序的管理手段等，也让在线旅游网站等饱受诟病。但无论如何，在线旅游行业还是以让人瞠目结舌的速度向前发展。</p><p>尤其需要注意的是，近来多家在线旅游网站之间的并购，将其愈发地向垄断的态势推进。但独霸市场也不能让其满足，在线旅游发展在完成横向发展之后，开始纵向发展，向上游发起进攻，试图从下游的代理商角色变成掌控全局的操盘手角色。对于整个在线旅游行业和消费者而言，在线旅游网站玩的这些花样究竟会带来什么？</p><p><strong>&nbsp;去哪儿开航空公司、携程成旅游公司股东：属性开始转变</strong></p><p>随着携程与去哪儿完成联姻，国内在线旅游网站正式完成“整编”。在线旅游网站之间的残酷竞争已然“退居二线”，接下来要做的就是谋求更高层次的发展。但出乎业界预料之外，在线旅游网站并没有继续在订票、住宿、旅游等细分领域上深挖，而是雄心勃勃地想要从被动接受订单的代理商，转化成主动发起进攻的操盘手。</p><p>近日，去哪儿确认，正准备与另外两家企业筹建一家航空公司，并将总部落户深圳。去哪儿表示正在参与以深圳为主运营基地的”互联网+、低成本”的航空公司的申请，该公司由两家深圳本地公司申请，将主营国内、周边地区国际航线。在这家新公司中，去哪儿将采用技术参股等投资形式，主要负责互联网直销部分。</p><p>携程则与众信旅游签署《众信与携程战略合作框架协议》，未来12个月内预计将通过本次重大资产重组成为直接持有众信旅游上市公司股份的重要股东。最终的目标，是拓展出境游市场。而几乎是在同一时间，去哪儿宣布联手携程进军互联网保险行业，彻底打通两家公司的资源，发挥各自的优势，共同打造一个全新的互联网保险平台。</p><p>无论是筹建航空公司、参股上市旅游公司还是进军互联网保险行业，对于在线旅游网站来说，都是在属性上开始进行转变。不再处于只能挨打，却无力还击的态势，转而与以往“剥削”自己的上游企业平起平坐，大打对攻战。</p><p><strong>&nbsp;垄断的开始？在线旅游网站欲打造一条龙服务</strong></p><p>在线旅游网站目前杀向上游的大动作，主要是为了打好未来更大发展的基础，进而避免不正当和恶性竞争，减少成本支出。航空公司此前纷纷降低乃至取消机票代理费，已经给在线旅游网站敲响了警钟。一旦酒店、旅游景点等再度把在线旅游网站架空，那在线旅游网站就真成了无源之水，无本之木。</p><p>原本在线旅游网站通过并购、互相参股、交换股权等形式，已经成为旅游这一细分领域掌握话语权的霸主。但这显然还没有满足在线旅游网站的胃口，目前的这些跨领域动作，恰恰说明垄断才刚刚开始。从这些动作来看，在线旅游网站想打造的是从旅游行业上游到下游的一条龙服务，并真正掌握住自己的命脉，不被上游企业左右。</p><p>此外，在线旅游网站还想打造出一个横跨多个领域，且具有可持续性发展的生态系统。目前尚是在旅游行业内完善布局，未来更有可能往其他领域发展——互联网保险就是最好的证明。即使未来推出社交应用、理财产品、购买足球队，乃至杀向手游界、电动汽车行业等也不是妄想。只有做到这一点，在线旅游网站才能够摆脱纯粹的代理商角色，进而进化成有望比肩BAT的巨头。</p><p><strong>&nbsp;消费者的噩梦or美梦</strong></p><p>对于在线旅游网站来说，一系列大动作的背后是光明前景。但对于消费者来说，究竟是噩梦还是美梦？此前在线旅游网站就已经被N次曝光负面消息，一旦其垄断态势大成，且依然遵循当前的模式，对消费者来说无疑是最大的噩梦。</p><p>不过，从另一方面来看，在线旅游网站对航空、旅游、保险等行业的搅局，将会加速这些行业的创新、进化速度及服务的人性化，为消费者提供更便利的服务。最少，也能为消费者提供从家里到全球的一条龙省心服务。</p><p>究竟做出来的是噩梦还是美梦，其实决定权就在那几家在线旅游网站巨头手里。要想未来不被吐槽至死，就好好地、乖乖地升级吧！（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
盘点：硅谷的前7大创业社区
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="311" src="http://www.khxx.net/wp-content/uploads/2016/03/2016-03-0857.png" title="盘点：硅谷的前7大创业社区 - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">当创业热潮烧遍了全世界的时候，走到世界上的每一个国度、每一个角落，只要那里有政府、有人，那么就一定能够看到大大小小的创业社区，然而放眼全世界，或许硅谷的创业社区并不是最多的，但硅谷的创业社区却是最有潜力的，今天我们就来看看这些未来可能引领世界潮流的硅谷7大创业社区。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;硅谷企业家</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这个创业组织成立于2007年，主要是对分享经济的经验和价值进行讨论。到目前为止，一共有23000名会员加入了该组织，从而使得该组织在全美都有分社。其中该组织每周一次的事件讨论、小组讨论和创始人分享夜等活动拥有极高的人气，每次开展都能有上万名拥簇抵达现场参与。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;《飞越疯人院》俱乐部</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这个俱乐部最吸引人的地方就是它的氛围特别轻松，可以与朋友们分享自己的心得、寻找联合创始人和投资者、为公司招聘一些专业人员，都可以在这里找到解决方案。另外，该俱乐部拥有完善的体系，一旦有人触犯条例，那么这个人就会从俱乐部消失，所以在这个俱乐部里是安全和具有隐私权的。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;硅谷创业前瞻</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strong>如果说其他的创业社区还带有创业者交流的目的，那么加入该创业社区的人一定就是想找寻求一个好的创业项目。每年的2月23日，该创业社区就会组织一次高水平的创业大会，期间很多本土知名人士就会给出非常实际的创业导向，&nbsp;并且现场寻找和撮合创业者。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;麻省理工学院企业家论坛</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这是一个全球性非营利组织，它汇集了大量的投资者、行业从业者和硅谷企业家。每年都会以论坛的形式帮助创业者指点迷津。从1990年开始，该论坛就从来没有断过，帮助不少的人成功创业。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;黑色创始人</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这是一句富有特色的创业社区，它旨在帮助黑人进行创业。在2011年，为了解决黑人创业难，不被社会认可的问题，该组织成立了。在“黑色创始人”成立后，帮助了一大批黑人进行创业，并且取得了成功。其负责人表示，创业必须多样化，我们给黑人提供帮助来弥补其本身的弱势，帮助他们融资，以便更好的发展。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;硅谷得分</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这是一家帮助中小企业在发展过程中进行服务的组织。在互联网化高涨的今天，很多中小企业也面临互联网化的转型，所以必须要有这么一个组织能够帮助它们从头开始。在这个过程中，企业与企业、企业与组织之间的合作深度加强，碰撞出不一样的火花。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;硅谷市场营销协会</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">营销是创业过程中非常重要的一环，所以美国市场营销协会定期派遣专家前往讲课和指导，因此在创业这种形成了巨大的影响力。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">创业者是艰难的，也是孤独的，创业的过程非常辛苦，但是成功后的喜悦却绝对不是其他事情能够比拟的，因此这些创业社区都给了创业者一个机会，不管是提高创业成功率还是交流话题、接受建议的环境，深受创业者的喜爱。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">&nbsp;</p></div>
从明星扎堆转型互联网 看内容草根时代的结束
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0734.png" rel="nofollow" style="color: rgb(52, 73, 94);"><img alt="图片2" height="241" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0734.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="从明星扎堆转型互联网 看内容草根时代的结束 - 康斯坦丁 - 科幻星系" width="393" /></a></p><p>在互联网时代，与其说“得屌丝者得天下”，不如说这是一个由千千万万草根支撑起来的繁华时代。作为占据互联网参与者最重要的组成部分，草根此前承担着两大重任。一是内容创造，为互联网不断输入多个领域的内容和信息；另一个则是被舆论引导，成为热门事件或感兴趣内容的讨论者、关注者。</p><p>但目前国内互联网环境却突然加速朝向新的方向发展，明星、超级IP等成为互联网内容输入的主要承担者，内容草根的能量、活力被极大地削弱。再加上各种政策——如广电总局对网络剧更加严格的把控等，内容草根时代即将结束。</p><p><strong>&nbsp;烧钱、烧人、烧大局</strong></p><p>当下，内容草根退潮最直接的原因，就是巨头在互联网内容上的疯狂投入和进攻。以不计成本的烧钱、烧人等形式去尽可能地将大局、生态等烧起来。2014年6月24日，阿里以62.44亿港元投资获得59.32%股份，成为文化中国第一大股东，随即改名“阿里影业”；去年3月，阿里以24亿元入股光线传媒，成为其第二大股东；10月，阿里巴巴宣布收购优酷土豆；今年2月11日，阿里以1.95亿元人民币收购韩国著名娱乐公司SM&nbsp;4%的股份……</p><p>2014年6月，腾讯在上海国际电影节上举办“为虎添翼，腾讯视频牵手电影产业战略产业”发布会，参与出品多部大片；到9月份，腾讯互动娱乐推出第四个实体业务平台——腾讯电影+，2015年3月12日，柠萌影业已经获得腾讯注资；小米此前也宣布将花10亿美元在内容层面……而这些，都还只是巨头烧钱行动中的冰山一角。</p><p>而在烧人方面，更多地是表现在明星扎堆转型互联网。并且从单纯的代言形式，向成为互联网高层角色进行转变。何炅加入阿里音乐，出任CCO（首席内容官），与阿里音乐董事长高晓松、CEO宋柯组成铁三角；李湘要去360公司，加盟360影视出任&nbsp;CCO兼副总裁，据说待遇是千万年薪+期权；汪峰推出名为imixdio的网络电台，据称将音视频、社交互动以及音乐衍生品等结合起来……</p><p>在一系列的烧钱、烧人背后，巨头和明星等逐渐成为互联网内容的主宰者，并迅速改变着互联网内容的制造环境。从大局来看，巨头显然是有一系列步骤、策略去实施的。比如腾讯依靠在网络文学、动漫、游戏等领域的霸主地位，手握众多超级IP，最终形成完整的内容输出生态系统和闭环。最终，巨头和明星联手将互联网内容掌握在手中，强大的攻势让内容草根几无生存之基。</p><p><strong>&nbsp;出卖什么博卖点？直播成草根残剩阵地</strong></p><p>内容草根之所以原来能够呈现百花齐放的态势，主要是当时环境比较宽松，压力也比较小。只要能制造爆点，就能当成卖点去名利双收。以最容易出头的网络自制剧来说，《万万没想到》、《屌丝男士》、《极品女士》、《废柴兄弟》等捧红了N多草根，也让草根内容成为互联网内容的重要组成部分。</p><p>但广电总局对网络自制剧的监管越来越严格，让内容草根“很受伤”。不提那些被下架的动画，《太子妃升职记》、《上瘾》等被禁播就对内容草根造成极大压力。原本挖空心思去制造爆点，欲引领互联网内容新趋势，却被轻易地给下架，打消了内容草根创作的积极性，草根出头无望。</p><p>而网络文学虽然不像自制剧管理那么严苛，但竞争压力实在太大，新人草根出头太难。基本上点击率、阅读量等都掌握在大神手中，寡头趋向严重。网络文学届的大神，其实就和娱乐圈的明星一样，对草根形成了明显的压制态势。</p><p>就目前来看，直播平台似乎成为草根的最后一块残剩阵地，守卫着草根在互联网内容输出上最后的一点坚持和尊严。关注社会各个领域的直播平台，聚集了方方面面地直播草根，以另一种形式推动着社会和互联网的不断变迁，也宣泄着草根的喜怒哀乐。</p><p>不过，目前直播平台也有着自己的问题。比如涉黄严重，多起直播平台涉黄事件引起广泛关注。为此多家直播平台推出严苛的规则，在取得一定成效的同时，也让整个直播平台低沉下来。再比如拜金问题严重，攀比成风，容易引起社会风气变得恶劣。直播平台未来必将纳入更加严格的监控范围内，草根的生存也将愈发困难。</p><p><strong>&nbsp;社交冷却，草根时代淡出传统平台</strong></p><p>而草根聚集最多，使用率最高的社交平台，也成为了明星、大V及各路公众人物的秀场，草根轻易被信息、舆论所主导，彻底失去了自我。比如在微博上，明星就成为主导，一举一动惹人关注，转发量、评论量等屡破新高。</p><p>TFBOYS成员、队长王俊发布的一条微博，共产生42776438条转发，获得吉尼斯世界纪录——“转发最多的一条微博信息”。鹿晗的单条微博以13163859次的评论量，获得吉尼斯世界纪录“微博上最多评论的博文”的称号。</p><p>李晨为女友范冰冰，发表《必须要说的话》长文微博发布一小时后，转发、评论、点赞总数超过140万，轻松打破陈赫承认离婚的记录(80分钟转评赞破百万)。黄晓明和Angelababy的婚礼，在成为当时互联网上最大的热门后，甚至还被人民日报怒批：“明星婚礼秀”可以少搞些！</p><p>除了这些明星以外，拥有百万乃至千万的大V和公众人物也在以各种花样去吸引草根的关注。而类似于留几手那样从草根一落爬上去的公众人物，也开始为钱而服务。草根即使在微博上创造内容，除了自己的熟人圈以外，受到的关注很少。而在微信、QQ等社交平台上，草根也只是将其当成沟通、交流的通道，根本没有创造有价值的内容。</p><p>互联网环境的改变，让内容草根越来越沉寂。属于草根的时代，终究还是过去了……（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
解过冻的食物还能放入冰箱吗？
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="426" src="http://www.khxx.net/wp-content/uploads/2016/03/2016-03-0768.png" title="解过冻的食物还能放入冰箱吗？ - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">如果你经常下厨房做饭，那么一定会遇到一个非常棘手的问题，冰箱冷藏层里的肉只用得到一半，但是不得不全部解冻之后再切下来，剩下的一半还得放回冰箱，继续冷藏。在这个过程中，反复的解冻和冷藏这个行为真的正确吗？或者说解过冻的食物还能放入冰箱吗？</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">对于这个问题你是如何解决的呢？估计很多人的选择是根据食材进行分，有的可以反复解冻再冷藏，有的就不能解冻后再冷藏。然而我们在采访了美国农业部食品安全检验局的蒂娜·哈尼斯之后发现，只要正确的解冻，其实对于食材的要去求并不高，而且影响价值也不会溜走。据其介绍，任何食物不管是生的还是熟的，只要解冻后没有发生变质，那么就可以将其再次冷冻。值得我们注意的是，哈尼斯在这里提到了任何事物，难道鱼、海鲜和家禽类也可以？没错，哈尼斯认为只要解冻后食物本身没有变质，那么就可以放入冰箱进行再次冷藏。如果说任何食物都可以二次冷藏，那么如何解冻才算是正确的解冻呢？哈尼斯给我们介绍了几个方法。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">1、莫要在解冻肉类、鱼类和海鲜的时候，将其放入温水中解冻。因为一旦接触到温暖的环境，那么其滋生细菌的速度将提高很多倍，所以在解冻的时候最好是让它在常温下自己解冻。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">2、当你用微波炉对肉类和鱼类进行解冻后，就不要再次冷藏了，否则肉质的口感将会完全丧失，比如鱼肉会变得非常易碎，就像是生面粉一样。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">3、当塑料包装的食品放在冷水里解冻后，如果解冻时间超过30分钟后，最好不要再次冷藏，因为可能会破坏食物的组织，导致营养流失。其中牛肉最为明显，经过二次解冻后明显肉质变老，很难将其炖软。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">4、对于熟食来说，最好是在半小时内进行再次冷藏，否则在冷藏的过程中有变质的风险。其实熟食最好不要冷藏，因为大部分的熟食在烹饪的时候仅仅只是加热而已，所以一旦感染细菌，那么是无法进行消灭的。熟食还是当天吃当天买，吃多少买多少，这样比较安全。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">听完她的介绍你是不是觉得以前的某些做法很蠢，比如炖了很大一锅肉。其实这样看来，只要用正确的方法解冻，那么就可以进行二次冷藏。不过冷冻食物放太久绝不是一个好的行为，因为它会影响食物的营养价值。有媒体报道过，一般冷藏一块肉的时间就在1个月左右，但是有的家庭冰箱里的肉却可以达到3个月以上。这样的做法一定不对，而且调查时就发现该肉的细菌已经全面超标，甚至开始变质了。因此，冰箱不是万能的，特别是冷藏的时候也有很多的忌讳，类似二次冷藏这样的事情估计很多人都没有注意过，但它实际上有很多值得关注的地方，否则就会影响我们的身体健康。（科技新发现 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545 ，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科技新发现官方微信公众号：kejxfx</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">&nbsp;</p></div>
沉默的中国运营商
<div><p>早在十年前，电信运营商无疑是中国最具审美性的企业，中国移动的工资高，专家常常公布其一分钟的收入，以重重地刺激私企的上班狗们，大街上到处都是动感地带的广告牌，周杰伦那首《我的地盘我做主》也成了永恒的经典。在功能机时代，消费者没有太多选择，只能不断研究各种套餐，比如短信数量、单向免费、甚至两城一家都能成为大家讨论的话题，有些段子手常常能围绕移动、联通编辑出各种各样的经典段子…</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0680.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片1" height="328" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0680.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="沉默的中国运营商 - 康斯坦丁 - 科幻星系" width="500" /></a></p><p>&nbsp;</p><p>随着移动互联网的发展，中国彻底进入了“大通信”时代，但作为基础通信设施提供者的运营商却越来越沉默，他们的竞争低端化、地位管道化，与用户的距离越来越远，没有人会去讨论什么套餐，大家只care一件事，那就是流量是否足够多。短短的几年时间，中国运营商就从消费者宠儿变成了沉默的羔羊，而这种沉默的背后又代表着未来通信时代的趋势，也是运营商输掉竞争、黯然出局的写照，正当Google、苹果们不断推出革命性产品时，运营商还是只干着补贴、兑换积分和剪光纤的低端勾当；正当OPP提供着蚕食着市场，零距离甚至负距离接触之时，运营商却只能蹲在被遗忘的角落，笔者有时候竟然会忘记自己是联通还是移动的用户，这不重要，至于10086的客服，我再也没心情调戏她们了，毕竟，陌陌上有更刺激的内容，而运营商推出的3G/4G和4G+也更像是炒作，不太像诚意之作。</p><p><strong>&nbsp;补贴，补贴：运营商的真正脊梁？</strong></p><p>自3G时代开始，补贴就是运营商朋友圈里的一个热词，事实上，正是通过高额的补贴和iPhone的引入，联通一改之前的颓势，不仅用户激增，且因沾了苹果的光又提升了品牌形象，大有迎头赶上老大移动之趋势。</p><p>在外界看来，联通无疑是中国3G时代最风光的运营商，但补贴之于业绩的巨大影响，也只有联通人自己心里明白，从利润上来讲，他们充其量也就只是个表面风光，更糟糕的是，依靠巨额补贴拉拢过来的用户群，忠诚度并不高，随着iPhone沦为街机，合同逐渐到期，以及移动、电信在4G上的抢先布局，联通正遭遇前所未有的客户流失，他们仅用9个月的时间就丢掉了1191.6万的用户，简直是王小二过年，一年不如一年，颇具讽刺意味的是，在面对用户流失时，联通给出来的对策，依旧是巨额补贴。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0624.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="220" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0624.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="沉默的中国运营商 - 康斯坦丁 - 科幻星系" width="374" /></a></p><p>前不久，中国联通在北京召开了本年度最重要的一场会议，名曰：沃4G+发布会。其实，4G+的核心应该是载波聚合技术，据说联通的4G+双载波聚合的峰值速率下行超过300Mbps，上行则达到了75Mbps，同样的一套说辞，比如下载一部高清电影只需要1分钟，或者一晚上不关流量，房子都要归中国联通了，而未来的4G+高清语音通话质量将会是2G/3G网路语音的两倍以上，通话声音高保真且接通时间更短，另外，4G+还支持更流畅的视频通话，分辨率是原来的10倍…</p><p>这些半专业数据让消费者味同嚼蜡，尽管他们代表着运营商的努力，但坦白讲，这些基本提不起消费者兴趣，毕竟，4G+没有革命性，甚至没有革新性，如今消费者的思维和知识已经极大地拓展，他们不会只期待更快的接通速度和更高的视频分辨率，他们期待的是虚拟现实或者漂浮在沙漠、大海之上的移动基站，显然，中国运营商做不了这些事情，或许，只有Google或者苹果能干得出来，于是，尴尬的事情再次发生，整个沃4G+的发布会，最大亮点终于又被定义成高达450亿的补贴，这可能也是唯一让消费者兴奋的点，而且在2016年，中国联通定制、非定制机都可以享受合约机政策，可见联通对用户流失的忍耐已经到了极限，而短期奏效的方式只有补贴。</p><p>中国的企业总是急功近利，运营商也难逃这个魔咒，事实上，用补贴吸引客户本身就是一段短视的行为，而这种短视最该控诉的地方正在于他们永远换不来忠诚度，诸如“我舍不得我的号码”这种事儿，估计再也不会发生在补贴时代了，而当运营商业绩下滑，无法供给足够的补贴之时，遭到抛弃也是情理之中的事儿，更糟糕的恶性循环在于，运营商因要强推补贴，很可能以牺牲“用户体验”为代价，这大概就是运营商话语权不断降低的真正逻辑吧，事实上，大多数消费者还是愿意花更多的钱，享受更好的服务，过于依靠补贴应该是中国运营商在一个时代跑偏的路，需要回头了。</p><p><strong>&nbsp;默默奉献，运营商的管道人生</strong></p><p>运营商之所以沉默，更确切地说，他们做啥都让用户提不起兴趣，除了送钱，除了送流量，一方面是因运营商提供的东西太过老套，几年来他们重组、拆分，轮调掌门人，更像是一场轰轰烈烈的政治运动，自然没有时间和精力去开发出好的产品，特别是通信产品，更需要不断地打磨才有可能提供优质的用户体验；另一方面，移动互联网时代，与通信相关的产品实在太多，无论是硬件还是软件都有比“动感地带”更流行的品牌。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0686.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="267" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0686.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="沉默的中国运营商 - 康斯坦丁 - 科幻星系" width="400" /></a></p><p>事实上，在功能机时代，消费者对运营商和手机制造商的关注各占50%，谈到手机最多是诺基亚换了什么样子的壳子，以及山寨机的双喇叭和血压仪，但智能机时代，手机已经完全抢走了运营商的风头，纵然移动、联通、电信总想在iPhone外壳上镭射自己的logo或者把开机画面弄得“专属于我”，但消费者只知道这是苹果手机，而非任何的运营商手机，可以说，由于苹果们的过于强势，整个移动互联网都是以硬件为导向的，比如苹果发布一款新的A系列处理器的轰动效应，要比什么4G+战略的发布震撼多了，毕竟，前者以产品为导向，而不是以补贴为导向。</p><p>如果说苹果的硬件改变的是一种导向格局，让运营商从宏观上掉了队，那么，微信、陌陌等软件的出现，则几乎让运营商在微观上彻底闭嘴，也就慢慢成了沉默的管道。</p><p>坦白来讲，微信的语音和信息的质量并不如运营商提供的传统服务，一些重要的电话，消费者还是习惯利用手机直接完成，但问题在于，微信可不止语音和短信，一个朋友圈就足以秒杀任何运营商软件服务，而一旦用户打开微信，他们也就再没有耐心去打开另外的通信方式了，于是，传统的短信和彩信几乎是被微信、陌陌等新型的社交工具瞬间秒掉了，而核心的语音服务竟也成了运营商最后一块利润池；</p><p>从现在这个趋势看，运营商已经错过了变革最佳时期，他们之前尝试飞信、翼聊等服务早已销声匿迹，这种的差距让运营商离客户越来越远、离高利润也越来越远，自然离话语权也越来越远。打个比方，未来的通信时代，运营商提只供基础的送水服务，赚取基础利润，而OTT服务，则更像是把运营商提供的水变成了酒，白酒或者红酒，利润率会呈几何式增长，希望，运营商在未来还能推出些相对不错的服务，否则，他们将永远沉默！（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
关于寨卡病毒 你不得不知道的5件事
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="266" src="http://www.khxx.net/wp-content/uploads/2016/03/2016-03-0326.png" title="关于寨卡病毒 你不得不知道的5件事 - 康斯坦丁 - 科幻星系" width="400" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">2014年2月，当第一例寨卡病毒案例出现后，该病毒就开始有了全球蔓延之势。到了今天，已经有24个国家出现了寨卡病毒案例，一时间它跟非洲的埃博拉病毒并称“双雄”，时刻威胁着人类的生命。由于寨卡病毒在亚洲出现的区域很少，所以不少人对它还不了解，但到了如今，你也不得不直到一些关于它的事情了，毕竟谁也不知道寨卡病毒什么时候就会来到我们身边。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;感染寨卡病毒后初期几乎没有任何症状</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">寨卡病毒属于热带疾病，所以在初期是相当温和的。据统计数字显示，有5分之一的感染者在早期根本就没有任何的症状，而其他感染者在早期也仅仅是出现了发烧、皮疹、关节和肌肉疼痛、结膜炎等等普通症状，因此很多时候就被预判为感冒，并且常规治疗一周后所有症状就会消退。但可怕的是被寨卡病毒感染后的患者如果生后代，那么患小头畸形的机率几乎是100%的，没有一个例外。除此之外，最新研究显示寨卡病毒会破坏人类的神经系统，轻则肌肉无力，重则瘫痪。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;寨卡病毒的传播者是埃及伊蚊</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">目前发现的寨卡病毒携带者和感染者都是因为被蚊子叮咬后产生的，这种蚊子叫做埃及伊蚊，大面积存在于热带和亚热带地区之间。它们不仅仅传播寨卡病毒，播登革热、基孔肯雅病毒等等都出自它们手里。它们在只要有水的地方就可以繁殖，在黎明和黄昏的时候最为兴奋，所以处于疫区的人们尽量避免在这两个时段去水源地玩耍。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;目前没有特效药可以治疗寨卡病毒</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在目前，人类只能通过血液测试来判断你是否感染寨卡病毒，然而却没有一种药物能够帮助你根治它。只能表现出什么症状就治疗什么症状，或者说现在医学界对此束手无策。最主流的做法就是利用乙酰氨基酚等药物减少发热和疼痛，减轻患者的痛苦而已。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;寨卡病毒感染孕妇后将出现缺陷</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">寨卡病毒的让人担心的就在于一旦孕妇感染后，后代几乎都会出现小头畸形。这种病症主要会导致婴儿大脑发育不完整或者异常，目前这种病症已经在美洲地区大面积出现，所以很多的孕妇都紧急撤离了感染地区，避免后代患小头畸形。这是非常危险的，一旦处理不好的话将产生一大批畸形儿童，给社会和家庭造成大量的负担。因此现在国际社会已经封闭了孕妇前往疫区的途径，防止事态的扩大。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;前往寨卡病毒疫区务必长衣长袖</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">现在寨卡病毒的爆发地区为美洲，当你前往疫区的时候有必要穿上长衣长裤，并且喷上避蚊胺和在睡觉的时候使用蚊帐，彻底降低被蚊子叮咬的机率。同时国际上也尽量劝阻人们不要前往这些地区，如果必须要去，那么就要做好防备措施，避免感染。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">寨卡病毒的可怕之处在于它的潜伏期太长了，而且症状上非常不明显，所以很难察觉。但是当你忽略了它的时候，它又会给你和你的后代带去致命伤害，所以国际社会高度重视，已经有相关的专家全力以赴的进行研究，相信不久后就能将其控制住。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">&nbsp;</p></div>
金矿还是大坑 VR创业真有那么美好？
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0344.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="232" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0344.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="金矿还是大坑 VR创业真有那么美好？ - 康斯坦丁 - 科幻星系" width="362" /></a></p><p>近段时间，一个段子在疯狂流传：彩票中奖的1000万，其实是存放在银行里，而彩民每次花两块钱买彩票，其实就是去输一次密码，只要够坚持，总会取出那1000万……这似是而非的说辞，却引得彩票销量一路看涨。而与其相似的是，当初名不见经传的虚拟现实企业Oculus&nbsp;VR被Facebook以20亿美元收购之后，刺激着创业者不断在VR行业发力——万一自己就是那个幸运儿呢？与此同时，投资者也越来越多地将精力放在VR行业。</p><p>这是不是就意味着VR行业彻底迈向快车道？在确定成为下一个最具潜力市场的当下，VR行业有着最为光明的未来，是一个取之不尽，用之不竭的“金矿”。但从另一方面来看，VR行业还存在有太多的不确定性，对于实力偏弱，抵抗风险能力较低的创业者来说，很有可能从金矿变成“大坑”。这微妙的关系，在对创业者产生无限诱惑的同时，又让其心生惶恐。</p><p><strong>&nbsp;金矿！VR创业者虎视眈眈</strong></p><p>对于创业者来说，其实努力并不是最重要的，找准方向，找对行业才是能够最大限度地实现成功的梦想。如果现在创业者还一股脑地扎入智能手机、手游、移动应用等行业内，“出头”的几率绝不比中彩票高多少。而就目前来看，未来前景颇好，且处于萌芽、混沌状态的VR行业是最好的创业领域之一。</p><p>巨头虽已入场，但还未掌握绝对的话语权，没有构建技术壁垒；创业方向较多，可在VR行业的各个细分分支发力；投资者不断挥舞金钱魔术棒，寻找下一个Oculus，历经三轮融资却还没有一个产品的虚拟现实公司Magic&nbsp;Leap受到谷歌、高通、阿里青睐，获得十数元美元融资就是最好佐证……种种态势表明，VR行业就是创业者当下的金矿。</p><p>就目前来看，VR行业创业主要集中在以下分支上：设备类，以Oculus&nbsp;VR、三星Gear&nbsp;VR、暴风魔镜等为代表；操控类，推出的VR操纵器和跟踪装置的Nod&nbsp;Labs去年6月分融资1600百万美元；开发者工具类，开发Vizard&nbsp;VR工具包的WorldViz去年4月分布融资350万美元，内容类，分为从事VR游戏开发的工作室和从事VR虚拟体验开发的工作室，前者比如制作VR游戏的独立工作室Reload&nbsp;Studios去年6月份融资200万美元，后者比如由史蒂文·斯皮尔伯格担任顾问的提供虚拟现实体验的工作室The&nbsp;VR&nbsp;Company融资超过210万美元……</p><p>再加上社交网络/内容平台、教育类、医疗类等，一张遍布全行业的VR大网正在铺开。虽然还未真正显现出应有的威力，但其成为未来科技的发展主力方向已是不争的事实。面对刚刚起步，尚未饱和的VR行业，创业者自然会虎视眈眈。</p><p><strong>&nbsp;大坑！不确定性让创业者很受伤</strong></p><p>VR行业的未来的确一片大好，对于有胆识、有梦想的创业者来说，是不可多得的能够施展拳脚的领域。但如果因为其发展潜力较大，就埋头闯入其中，小心掉入大坑之中！在VR行业创业，并不会像想象中那么简单，比传统的智能手机、手游等创业风险更高。</p><p>在手游、移动应用、智能手机行业等创业，虽然竞争压力较大，但已经有一套完整的流程和机制，标准业已完善。只要按部就班的将规则套入创业过程中，虽然有可能泯然于众人，但更大的可能是处于中游水平，“温饱”无忧，甚至也会有很小的几率凭借创意、创新等一夜爆红。与之相比，VR行业的产业链尚不成熟，技术尚处于研发状态，标准、规则更无从谈起。</p><p>相对于大体量的VR企业来说，实力孱弱的创业者只能是将更多精力投入到技术研发之中。先不说技术研发的困难，即使有所收获，但在未来VR标准的制定中，肯定是不具备话语权的，以往的努力有可能一下子打水漂。而且相比有巨头在背后支撑的VR企业，创业者无论是在资金、资源，还是人才等方面的投入，都会有所欠缺，很难拿出“改变世界”的VR产品或内容。</p><p>更让人无奈的是，现在国内的VR创业者很多已经走入一个误区。他们打着让VR产品普及的旗号，大肆推出价格较低的VR产品。试图快速回笼资金，或者吸引投资者的关注，抑或迅速打响名头。很多价格都是两三百，乃至百元以下。例如暴风魔镜，价格此前都为99元，直到第四代才提高到179元。在淘宝上，甚至还有几块钱的虚拟现实纸盒。</p><p>低价的VR产品的确对想体验虚拟现实的用户有着致命诱惑力，但这些VR产品并不能提供真正具有颠覆意义的虚拟现实效果，甚至还会破坏用户对VR的憧憬，进而对VR行业的迈进起到反作用。从这方面来看，这些VR创业者其实是进入了大坑。太过急功近利的想法，让他们迷失了自己。</p><p><strong>&nbsp;掌控平衡！创业者的取胜之道</strong></p><p>在VR行业尚未完全爆发之际，VR创业者并不需要太过焦虑。对他们来说，快速入局，迅速在VR行业站稳脚跟并不是最重要的。如何避开大坑，留出足够的资本去挖出金子，才是迫在眉睫的问题。这就需要VR创业者必须掌控平衡，在创业之路上有保留的前行。</p><p>对于未来走势还是一片迷雾的VR行业来说，孤注一掷的创业者最容易“受伤”。而且也不能抱有“必须独一无二、震惊世界”的念头，毕竟VR行业虽然还未爆发，但很多创意和技术都已经研发出来。太过闭门造车，执着于创新，很容易与其他VR企业“撞车”。</p><p>其实，VR创业者如果没有那么大的野心，不执着于独立门户，等稍稍发展起来后，像Oculus那样被收购，成为巨头的一部分，也是蛮好的……（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
人类居然在40万年前以乌龟为食
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="339" src="http://www.khxx.net/wp-content/uploads/2016/03/2016-03-0237.png" title="人类居然在40万年前以乌龟为食 - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">人类就是一个“吃货”的历史，从古自今无数的黑暗料理层出不穷，特别是作为什么都敢吃、什么都会吃的中华民族，更是让世界侧目，从天上飞的大雁岛河里游的青蛙，大到骆驼大象，小到蚂蚁蚂蚱，无所不吃。然而从最新的考古报告来看，其实不仅仅中华民族，欧洲人同样什么都敢吃，甚至黑暗料理的历史比中国久远很多。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">以色列特拉维夫大学考古研究所的Ruth&nbsp;Blasco教授近日在西班牙的考古活动中发现了一个让人惊讶的结果，那就是西班牙人在远古时期就已经开始以乌龟为食。Ruth&nbsp;Blasco教授与同事在西班牙胡玛纳发现了一处原始洞穴，其中有着明显的早期人类活动的痕迹，更让人意外的是在洞穴里发现了大量的空龟壳。这些龟壳里的肉被掏取得非常干净，说明人们在那个时期已经开始以乌龟为食物。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">其实Ruth&nbsp;Blasco教授就在《第四纪科学评论》学术杂志里发表过一篇类似的研究报告。在这份报告里他表示考古学界已经多次在有古人类活动的洞穴里发现各种贝壳和龟甲的遗迹，说明古人类已经学会了从海洋中捕捞，并且加工这些食物进行食用。当时学术界都认为人类还未能学会从海洋中捕捞食物，只能从陆地上寻找食物，所以Blasco博士的理论在当时并没有引起注意，甚至惹来了冷嘲热讽。最直接的原因还是因为没有直接的考古发现来支持他的理论，所以最终不了了之。在今天，Ruth&nbsp;Blasco教授跟他的同事们终于找到了最直接的证据，大量龟壳和龟壳内的处理痕迹都说明人类早就开始学会从海洋中寻找食物，并且还会以乌龟为食，打破了人类只能从陆地上寻找食物的理论。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">再发掘现场，大量的龟壳都是直接被外力钝器给破坏掉的，所以谈不上用来装饰和占卜的用途，而且这些龟壳都有被烘烤之后的痕迹，说明古人类在抓到海龟后，直接用石器将其背壳砸开，然后放在火上直接烤着吃。据Ruth&nbsp;Blasco教授在接受采访的时候说，该地区的古人类依旧还是以鹿马牛为主要的食物，毕竟只有这些食物才能满足人类正常的热能和蛋白质需求，而海龟仅仅是一种补充。特别是在食物不够充足的情况下才会宰杀海龟。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">我们不放猜测一下为何海龟会仅仅是一种补充，据研究人员介绍，主要还是海龟的捕捉难度大，特别是在海里，另外肉很少，无法满足正常的需求，但海龟的好处是可以长时间圈养，以备不时之需。另外还有一个主要的原因就是海龟肉的味道肯定不如鹿马牛，因为海龟肉的脂肪含量不足，所以吃起来不如鹿马牛香。直到今天，吃海龟的民族少之又少，由此可见其味道一定不怎么样。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">或许也是因为海龟的肉质不好吃，所以海龟才得以保存下来。如果海龟肉质好吃，那么说不定海龟早就没有了。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p></div>
创业咖啡馆+孵化器：倒闭潮涌过来会淹死谁
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0220.png" rel="nofollow" style="color: rgb(52, 73, 94);"><img alt="图片2" height="400" src="http://www.kjxfx.com/wp-content/uploads/2016/03/2016-03-0220.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="创业咖啡馆+孵化器：倒闭潮涌过来会淹死谁 - 康斯坦丁 - 科幻星系" width="554" /></a></p><p>一边是“大众创新、万众创业”号召带来的前所未有的创业潮，以及多项政策红利，一边却传出创业咖啡馆、孵化器不断倒闭的消息。看似矛盾的两个极端态势，却正成为当下互联网创业寒潮的真实写照。作为创业重镇的互联网领域，似乎依然是巨头们之间的游戏，创业成为了一个“笑话”。</p><p><strong>&nbsp;倒闭趋势加重&nbsp;创业咖啡馆、孵化器正成受害者</strong></p><p>创业咖啡馆、孵化器——听起来绝对是当下最新潮、最火爆的新鲜名词。借助互联网创业、一夜暴富、下一个马云/马化腾等莫须有的光环，创业咖啡馆和孵化器等几乎快要成为人头攒动的“菜市场”。再加上政策的不断引导以及多项优惠措施，甚至资金的直接帮扶，这二者成为创业领域的首选。</p><p>但正是这两大创业基地，目前却成为“受害者”，面临倒闭的风险。据爆料，拓荒族创业咖啡馆近日因经营困难而欠薪等问题可能面临倒闭。春节前后，位于深圳市南山区的孵化器“地库”传出转让的消息。上海八六三软件孵化器两股东退出，并挂牌转让股份……在万象更新的春天，创业咖啡馆和孵化器却面临着更加寒冷的冬天。</p><p>之所以会造成这样的态势，最直接的原因就是类似创业咖啡馆、孵化器这样的创业基地数量不断飙升。今年1月，科技部火炬中心副主任杨跃承在接受采访时曾透露，截至2015年全国科技企业孵化器数量近3000家，面积超过8000万平方米，除此之外还有众创空间2300多家。而投中研究院《2015年众创空间十大关键词》显示，“2015年上半年，我国较有规模的众创空间不足20家，而随着国家及地方一系列政策的扶持以及‘双创’热潮的席卷，如今已有超过1.6万家众创空间在全国各地‘开花’。”</p><p>数量的飙升，让创业咖啡馆、孵化器等承受着巨大的竞争压力。在大家都还处于摸索阶段，尚无特色、品牌等作支撑的现阶段，纯复制类型的创业基地显得毫无竞争力可言。对于雄心万丈，想要在互联网创业热潮中分一杯羹的创业基地来说，自然成为“受害者”。</p><p><strong>&nbsp;赢利为先！玩不转创业游戏</strong></p><p>而这些处处开花的创业咖啡馆、孵化器等，初衷就是为了赢利。虽然无可厚非，但却空有赢利的心，却无与之相对应的实力。据了解，这些创业基地很多都在赚着政府补贴资金。比如，来自中关村管委会认定的创新型孵化器可以获得80万~100万元左右，海淀园管委会有40万元左右的补贴费用，以及北京市科委认定的众创空间可以享受40万元左右的补贴，还有海淀区经信委支持的100兆宽带补贴。看似美妙的创业热潮，只是在政府补贴下勉力支撑的结果而已。</p><p>此外，绝大多数这样的创业基地，都是充当着“二房东”的角色。将房子、车库等装修好后，包装成一个个简洁的办公室、工位等，为创业团队、创业者等提供纯物理的创业空间。寄希望于让创业团队自己营造创业氛围，以便吸引更多想在互联网创业的个人和团队前来。</p><p>但这样做的后果，就是创业团队和个人对这些创业基地毫无依赖可言。只是在不断比较创业基地租用价格的高低，而创业基地数量的飙升则不断使其租用价格下探，最终导致收支不能平衡。如果再加上严重的空位率，亏本是必然的。</p><p>真正的创业咖啡馆、孵化器等，是要为进驻其中的创业团队、个人等，提供融资、场地、培训、宣传等在内的全面服务。只有这样，才能让创业团队等真正成长起来，成为创业基地的支柱。可惜的是，现在的创业咖啡馆、孵化器等，都还做着最简单的物理出租生意，对创业游戏根本不能做到信手拈来、轻松玩转的程度。这样的创业基地，如何能够让创业群体满意？</p><p><strong>&nbsp;创业潮趋冷&nbsp;讲不出好故事</strong></p><p>对于创业者来说，一杯咖啡造就出高融资、一个工位诞生数亿融资等奇迹般的创业故事，再也不会上演。经济环境下行、投资者资金趋紧、众多互联网创业项目纷纷倒闭等大环境下，创业者的互联网创业项目能够生存就已经是幸事，遑论再去争取高融资。</p><p>而且，太阳底下没有新鲜事的哲言证明着，目前互联网创业中具有创意的项目实在太少。创业者几乎都是在重复前人走过的路，没有原创性、创新性可言。好故事越来越难讲，越来越难以打动投资者的心。</p><p>此外，当一个互联网细分领域兴起时，创业者一拥而上，很快将蓝海变成红海，最后成为一片死海。即使能出现一两个“巨无霸”，但绝对是踩着众多创业者“尸骸”登基的。更多的创业者开始收缩战线，对创业持观望态度。</p><p>在这样的态势下，创业咖啡馆和孵化器的倒闭也就在情理之中了。而后两者的关门，也加重了创业者的焦虑和投资者的犹豫，最终形成恶性循环。从这个角度看，受伤的，不仅仅是创业咖啡馆和孵化器，而是整个互联网创业行业，进而影响到整个互联网的进一步蝶变。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
硬件潮遇冷后 中国手机如何走出困局？
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2978.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="321" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2978.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="硬件潮遇冷后 中国手机如何走出困局？ - 康斯坦丁 - 科幻星系" width="481" /></a></p><p>全球智能手机出货量处于下滑态势，已是不争的事实。而之所以在经过高歌猛进的发展之后就很快遇到销量增长的天花板，在于当下的智能手机遭遇创新困境，在硬件围城中无法突破出来。自然，就无法形成足够的驱动力，去刺激消费者更换新机。尤其是国产手机厂商，在硬件创新陷入停滞之后，对下一步的发展显得非常茫然，不知所措。在失去硬件比拼、性价比等常规竞争手段和宣传噱头后，国产手机厂商的竞争力或许会直线下降。在这样的态势下，以新思路为切入点去破局成为当务之急。</p><p><strong>硬件潮遇冷&nbsp;源于上游停滞导致同质化</strong></p><p>刚刚过去的，一向被称之为全球通信风向标的MWC展会，深刻地反映出硬件创新的缺位。最主要的原因就在于整个智能手机产业链上游，陷入了创新停滞状态。高通还在拼命推广其骁龙820处理器、联发科还是陪太子读书喜欢跟风的节奏、主流屏幕像素依然是“万年不变”的1080P、电池创新更是无从谈起……</p><p>更让人无奈的是，就连智能手机的灵魂——系统都陷入僵硬中。因为安卓系统趋于成熟，谷歌放缓了创新突破的力度。目前在移动系统层面，谷歌关注的焦点是解决让其头大的碎片化问题——安卓6.0都已经推出较长时间，但普及率极低，甚至很多安卓手机还停留在4.x时代。至于微软的Windows&nbsp;Phone，虽然做着打通PC端的梦，却一直没有付诸于实践。让在MWC展会上发布的，号称“最强Win&nbsp;10手机”的惠普HP&nbsp;Elite&nbsp;x3无用武之地。</p><p>在上游创新停滞的负面因素下，下游智能手机厂商也只能是被逼着去做出一些无聊的微创新。LG推出所谓的首款模块化手机G5，手机“下巴”能更换电池、相机模块和音乐模块，然并卵……此外，一直处于下滑态势的HTC，仅仅是发布三款中端机型，而为了体现区别，只是在背部采用了全新泼彩配色而已。至于索尼发布的Xperia&nbsp;X系列，依然是在外形、材质上做文章，系统、体验的提升乏善可陈。</p><p>在软、硬创新减缓的大环境趋势下，国际主流智能手机厂商尚且如此，更善于主打硬件牌的国产手机厂商更是尝尽了苦头。配置趋于雷同、深度定制系统体验恶劣、外形毫无亮点……这些就是目前大部分国产智能手机的真实写照。太过同质化的手机怎么能让消费者爱起来呢？销量下滑自然也就在情理之中了。</p><p><strong>改变，才能求存</strong></p><p>作为下游的手机厂商，既然不能改变上游在硬件、系统等层面创新的停滞，就必须在已有的条件下，转换思路，深挖智能手机的潜力。而从智能手机未来的发展方向看，由单纯的硬件PK，逐渐走上注重消费者体验是终极目标。而国产手机厂商也将逐渐因为系统定制质量的高低、实用功能的多少、人性化体验的不同等，走上差异化发展路线。</p><p>实事求是地讲，既然当前硬件创新不复存在，那么如何针对已有的硬件资源，深挖硬件潜力，进行合理化配备，最终减少配置过剩就成为实现差异化的重要手段。目前，智能手机推陈出新的速度之快，让人瞠目结舌。比如魅蓝Note刚推出几个月后，2代就迅速上市。超短的更新时间背后，其实是研发用时被大幅压缩。</p><p>如此一来，智能手机彻底沦为硬件堆积的产物。毫无人性化可言，纯粹是为了硬件升级而升级。iPhone之所以能够长盛不衰，就在于其新机推出的间隔较长，有着足够的研发时间，能够很好地在各方面进行反复优化，最终将自身打造为艺术品。</p><p>还有一点不得不考虑的是，智能手机更新过快，带来的是消费者额外支出的增多，或者是已购智能手机贬值速度的加快。如果能够将硬件潜力充分挖掘出来，并进行合理化配备，一方面可以降低终端销售价格，另一方面还能够提升智能手机的保值率。结果就是消费者能够真正根据自身需求去选择智能手机，而不必考虑硬件过剩、贬值过快等问题，能够推动智能手机行业健康发展。</p><p>三星手机一向被调侃为“跳水王”，而iPhone被认为是“保值王”。购买iPhone半年后再出手，还可以再买三星的旗舰手机。而在国产智能手机品牌中，OPPO、华为等旗下的机型都是公认较为保值的。比如OPPO&nbsp;Find&nbsp;7在上市一年之后，价格依然保持在3000元+的高位，与发布时的3500元价格相差不大。在国内，一直就流传着OPPO手机保值的“传说”。而华为自Mate&nbsp;7开始，也开启了保值之旅。Mate&nbsp;7在让华为杀入高端市场的同时，也成为国内智能手机保值的表率。</p><p>在今年的MWC大会上，体验上的优化也成为耀眼的主角。OPPO在此前强悍的VOOC快充技术上再进一步，带来全新的VOOC超级闪充。最多15分钟，就可以将电池容量为2500mAh的手机完全充满，足以做到“充电5分钟，通话10小时”！OPPO的快速充电技术上已经走在了行业的前列，虽然超级闪充还没有量产，但我相信也只是时间问题。但不得不说，目前国内手机厂商在研发技术的一些领域已经越来越超前。</p><p>在此次展会上，OPPO此次还推出全新的图像芯片防抖技术，相对传统智能手机的镜头O.I.S防抖技术，从原来的两个方向的抖动补偿，升级为SmartSensor图像芯片防抖技术，实现三个维度的抖动补偿。其是全球首次出现像素级的防抖技术，是手机行业的第一个芯片防抖技术，也是全球最小的光学防抖技术。结合此前的电动旋转摄像头、全局闪拍技术等，在拍照技术上的不断创新，体现出OPPO对越来越多自拍群体的重视。</p><p>此外，除了线上销售渠道，线下渠道也越来越受到重视。魅族一直坚持开设实体店，成功将触角延伸开来，让越来越多的人直接体验到魅族手机。小米此前虽然坚称对线下渠道不重视，但目前也终于不再自欺欺人，在小米5的发布会上宣布将小米之家由服务店升级为线下零售店，并在未来将拓展实现全国200多家。</p><p>当然，线下渠道的开辟不仅仅是提供真机的演示场所，更是品牌形象的重要载体。一定要服务好消费者，带来宾至如归之感。比如拥有强大线下专卖店网络的OPPO，就为消费者提供免费贴膜、充电等服务。OPPO成为一线厂商的背后，线下专卖店的服务是重要的一环。其优质的服务模式，能够给小米这样的新丁来借鉴。</p><p>在经过全面嬗变之后，最终国产手机厂商将摈弃、淘汰传统的“核战争”、价格血拼战等杀敌一千，自损八百的竞争策略，打造出一个真正百花齐放的市场。针对不同的细分群体，都能够提供相应的智能手机产品，满足不同人群的需要。而这，也是让智能手机市场复苏的必然举措。</p><p><strong>手机依然是移动互联网的中心</strong></p><p>尽管有平板电脑、二合一PC等智能移动终端的竞争，但手机依然是移动互联网集中汇聚的中心。手机厂商成为控制软件用户入口中心的情况，依然还是存在。这也意味着，在智能手机系统、功能、体验上发力，就能够彻底抓住消费者的心，满足其多元化需求，从而掌握住通向移动互联网的入口。</p><p>而随着这方面商业模式的成熟，其未来潜力、盈利能力比单纯、成本被订死的硬件更大。变的是用户的胃口和上下游的环境。国产手机厂商只有不断垂直深挖用户需求，做好用户体验，才能够触碰到未来。</p><p>目前，国内如OPPO、华为等厂商已经在多个方面为未来的发展埋下了伏笔，做好了未雨绸缪的准备。所以那些还被困在硬件桎梏中的国产手机厂商，是时候清醒下了。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
科学证明：马真的能够读懂你的表情
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="370" src="http://www.khxx.net/wp-content/uploads/2016/03/2016-03-0126.png" title="科学证明：马真的能够读懂你的表情 - 康斯坦丁 - 科幻星系" width="554" />&nbsp; &nbsp; &nbsp; &nbsp;</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">&nbsp;&nbsp; 从<span style="font-family: Calibri;">4000</span><span>年前第一匹被人类驯服的马开始，它在人类文明的进化历史中就扮演着极为重要的作用，战争、运输和赌博都避不开它，直到机械力的出现才逐渐让马退出了主流视野。虽然马退出了主流视野，但是它的地位却并没有改变，并且越来越珍贵，逐渐成为贵族才能拥有的玩物。为什么全世界的贵族和富豪都对马情有独钟呢？原因就是马很通灵性，能够明白你给他下达的指令。斯皮尔伯格的电影《战马》就展现了一次人与马之间的亲密情感，催人泪下。爱马的人经常告诉其他人，“我的马能听懂我说的是什么”，每次听到这句话大家一定都想笑，认为这个人给马赋予了太多感情色彩，然而看完今天的研究之后你才会发现他并没有骗你，因为马真的能够看懂人类的表情。</span></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在是一项来自英国苏塞克斯大学的研究成果，发表在了《生物学快报》上。据研究人员介绍，他们从<span style="font-family: Calibri;">5</span><span>个不同的马厩里选了</span><span style="font-family: Calibri;">28</span><span>匹马，并且让马的主人在它们面前展现出高兴和愤怒的表情，同时研究人员用摄像机记录下马的一举一动。在我们采访到首席研究员艾米·史密斯的时候，他兴奋的告诉我们，“这部分表情非常的奇特，简直不敢相信这是马能够展现出来的，这说明那些优秀的驯马人的确掌握了其中的一些道理。”据了解，这次实验的过程中，当主人展现出愤怒的表情时，它们的心跳也开始加速，但是并没有展现出焦虑的状况，就像是为朋友感到不忿一样。然而当陌生人在这匹马的面前表现出愤怒的情况，同样心跳加速，而且明显感觉到它焦躁不安，特别是眼神中也透出愤怒的表情，这说明这个人的愤怒表情让它感觉到了不安和威胁。</span></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">另外，当展现出快乐的笑容时，马就会表现得很兴奋，喜欢来亲近你。而且更为重要的是研究人员对马的左右脑进行了检查，发现马匹在处理消极情绪的时候会使用右脑，而处理快乐情绪的时候会使用左脑，所以如果仔细看的话会从马的两只眼睛中发现一些变化。通过这次研究，艾米·史密斯认为情感在社会物种动物中是普遍存在的，并且之间的情感是相通的，这也是为什么人们总是感觉像马、狗等等动物是通灵性的，能够听到我们说的话，真正的答案就是如此。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">虽然很多人跟我一样还没能有机会跟一匹马相处太长的时间，然而却有机会跟自己的宠物有交流的机会。比如狗就可以听懂你的部分话语，也可以根据你的表情来判断你此时此刻的状况。当你感到愤怒的时候，狗在这个时候往往会非常安静的坐在旁边，倾听你的不满。当你发出笑声或者展现出笑容的时候，它就会来到你的面前，要求你抚摸它，分享你的快乐。所以千万不要将它们当成一个累赘，它们或许是你最忠诚的伙伴。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载,请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p></div>
苹果用户：你被“霸权”政策刺伤过吗？
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2919.png" rel="nofollow" style="color: rgb(52, 73, 94);"><img alt="图片2" height="304" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2919.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="苹果用户：你被“霸权”政策刺伤过吗？ - 康斯坦丁 - 科幻星系" width="435" /></a></p><p>身为苹果的铁杆支持者，我买过很多苹果设备。虽然相对来说，苹果设备的价格相较同类产品较高，但正所谓物有所值，其带来的畅快体验也是其他设备无法媲美的。尤其是iPhone、iPad、Macbook组成的“三叉戟”，让我体验到很多乐趣。因为此前我的苹果设备都没出过什么毛病，所以对网上那些指责苹果保修不给力的信息总是一笑而过，认为是无稽之谈。</p><p>但不成想，身边最亲密的朋友最终还是遭遇到了苹果维修的“霸权”政策。虽然不至于从粉转黑，却让我真正意识到苹果不是用户幻想中体贴备注、人性化极高的科技企业，只是以利益为先的企业而已——苹果的“神坛”属性在我心中已然不复存在。那么问题来了，苹果的“霸权”政策究竟是多大的坑呢？</p><p><strong>&nbsp;这么多不给修&nbsp;这么多的“挂号”</strong></p><p>这次损坏的是朋友的iPhone&nbsp;6s，主要是在经过一段时间的使用后，Home键有些许不灵。因为官方认证的维修点他家较远，他就选择了一家距离较近的第三方维修点。但没想到，维修人员的技术不过关，始终没能给他修好。无奈之下，这位朋友只好去官方认证维修点修理。而这，也是他“噩梦”的开始。</p><p>据他讲，在经过长时间的挂号等待之后，终于轮到了他。没想到直接拒绝维修，因为认定他的iPhone打开过，但他原先并不知道打开过就不能维修。在多番解释无果后，他决定自掏腰包，放弃免费的保修。但没想到，这样也不行！维修点给出的解释是，iPhone拆卸之后，不仅丧失免费保修的权利，就连付费维修的资格也没有！</p><p>当时这位朋友就郁闷到极点，在他质疑维修政策的合理性后，维修人员只是让他拨打苹果官方400电话去咨询，他表示只是依照政策去执行。400电话自然是打也没有用的——这是基本的常识。没办法，只能是吃了这个哑巴亏，慢慢去寻找能修理的第三方维修点了。</p><p><strong>&nbsp;苹果省了多少麻烦=用户带来多少苦</strong></p><p>在我的细心搜索、观察之后发现，一直以来，苹果在保修政策方面就玩着很多花招。早在2013年央视“3?15晚会”上，就曝光了苹果公司“维修门”事件。虽然当时有“大概8点20发”这样的插曲，但苹果在国内的保修政策确实是饱受批评，但苹果却始终没有做出任何改变。当时的我还在网上为苹果辩解，想想还有些惭愧……</p><p>在晚会曝光之后，苹果曾进行过两次公开回应。第一次“不足200字的声明”并无道歉内容，明显缺乏诚意，第二次回应仍然否认“内外有别”的双重售后标准。在巨大的压力下，库克于4月1日在官网上正式发表并署名《致中国消费者的一封信》。在信中，库克表示在近期收到了不少反馈意见，苹果公司“不仅对这些意见进行了深刻的反思，还与相关部门一起仔细研究了‘三包’规定”，就“售后服务内外有别”的行为表示“诚挚的歉意”。为苹果辩解的人是不是该反思一下？毕竟苹果自己都为保修政策道歉了。</p><p>而就在今年2月下旬，苹果还因为“Error&nbsp;53”所导致的iPhone变砖问题焦头烂额。所谓的“Error&nbsp;53”，就是如果iPhone&nbsp;6/6&nbsp;Plus的Home键出现问题，可是并没有在苹果专营店或授权的维修中心维修，那么更新iOS系统后，iPhone就会无法进入操作界面，立马变砖。</p><p>问题出现后，苹果最初承认报错问题，但苹果主要是从安全方面去考虑，因此对用户出现的变砖问题不负责。简单来说，就是我的手机得我修，你给别人修可能就变砖，变砖后还得我才能修好。对此，用户表示强烈不满，因为很多用户的iPhone已经不在保修期内，但保修期外的官方维修，价格很高。今年2月12日，西雅图律师事务所向苹果发起有关“53号故障码”（Error&nbsp;53）的集体诉讼。最终的结果就是苹果一方面是向用户致歉，另一方面是发布解决方案。</p><p>在美国本土市场，苹果尚且如此，在大陆市场自然可想而知了。有太多这方面的案例值得一说，比如知乎一位网友就提到：“iPhone&nbsp;6&nbsp;Plus充电发烫死机……到售后，他们承诺说给换新的，结果返厂了，现在又反咬诬陷我私拆，拒绝售后维修，我才买了8天的手机现在就是一块破铜烂铁。”另一位网友则说到：“iPhone&nbsp;6的Touch&nbsp;ID设置不了要保修返厂，授权维修点要发票。找移动营业厅补开通用机打发票，售后说要增值税发票或者移动合约协议，苹果在其他国家都是按序列号或保修卡保修的……”</p><p><strong>&nbsp;维修麻烦滋生黑维修</strong></p><p>可以说，苹果的保修政策确实有点太过霸道。在保修期内，在第三方维修点修过彻底丧失保修权利；出保后在别人那修过之后官方保修点付钱都不给修；没有保修卡和发票出保也不给修……更让人无奈的是，出保后苹果官方的维修价格是绝对的天价！SIM卡托的价格近百元、更换屏幕从788元到1100元不等、电池基本为588元、更换主机基本都在2000元以上……</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2990.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="401" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2990.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="苹果用户：你被“霸权”政策刺伤过吗？ - 康斯坦丁 - 科幻星系" width="535" /></a></p><p>&nbsp;</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2993.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="318" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2993.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="苹果用户：你被“霸权”政策刺伤过吗？ - 康斯坦丁 - 科幻星系" width="522" /></a></p><p>&nbsp;</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2926.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片5" height="217" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2926.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="苹果用户：你被“霸权”政策刺伤过吗？ - 康斯坦丁 - 科幻星系" width="533" /></a></p><p>这样的价格，对于苹果用户来说是难以承受的。而且苹果直营店数量较少且分布在几个大城市中，认证的授权维修点数量也不能够满足庞大的维修需求。多重原因之下，“黑维修”自然层出不穷。但受限于维修水平不一，很难给用户带来高质量的维修服务。</p><p>买的贵、修的贵，售后还不方便，这样的苹果还能让我们继续去爱吗？再说了，现在的苹果品控也越来越不如当年了，设备出现问题的概率越来越高，真的是累感不爱了……（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
为什么你的女朋友高度总是差不多
<div><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="636" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-2927.png" title="为什么你的女朋友高度总是差不多 - 康斯坦丁 - 科幻星系" width="1000" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">每一个谈过恋爱的人都有这样的一种感觉，那就是不管还多少个男朋友还是女朋友，你身边的闺蜜和死党在见到他们每一个人的时候都会悄悄跟你说一句话，那就是跟你上一个男朋友或者女朋友真像，甚至连高度都差不多。或许你认为这是朋友们的一句玩笑话，实则不然，这里面可是有着大学问。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">来自爱丁堡大学的一项研究表明，用你的前男友跟你的现任男朋友相比，你就会发现他们之间的共同点实在太多了。从头发的颜色到眼睛的大小，再到身高的高矮，都能够找到相似的地方。这个发现就是说人类在选择配偶的时候，对于外形有着独特的认知，无论换多少个人，在你心目中总是觉得这类人是最完美的。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在这次的研究中，研究人员对比了超过13000多对夫妇的求偶标准，然后罗列出非常多的照片让男女双方都选择自己最喜欢的一位。在所有的照片中，有一些照片中的角色就跟其配偶非常相似，结果神奇的是夫妇双方选择的照片跟现任非常相似，也就意味着在我们的潜意识里，会要求我们做出相同的选择。究竟是哪一个物质控制着这种功能呢？经过爱丁堡大学专家们的仔细分析，对所有的夫妇进行了DNA序列分析，然后进行一一比对，结果发现对配偶有相似要求的夫妇中DNA方面也有着非常相似的地方，这就说明对配偶外形的要求是刻在我们骨子里的，所以无论怎么还，长相身高都差不多。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">戴维文博士是这次研究的主要负责人，他认为不仅跟DNA有关，也跟人类的行为学和神经学有关。据他介绍，世界上生物的求偶行为都可以称为嗜同神经行为，换句话说就是“物以类聚”，是一种天生的行为，因为只有在这种情况下，所有的生物才会有“安全感”。正是这些生理上的原因，直接造成你寻找另外一半的时候无论如何也逃不出这个圈子，所以被人说现任女友跟前女友很像。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">除了长相，身高也是择偶的一个因素，来自奥尔巴尼大学的进化心理学家戈登·盖洛普博士像我们解释，他们发现了一个有趣的现场，那就是人们择偶对身高的要求总是惊人的相似，即都会选择跟自己身高差不多的异性，比自己高一点或者比自己矮一点，很少出现差异太大的情况，这也是因为“安全感”造成的。然而凡是不是绝对的，我们也能够看到长短腿之恋，这一点在体育界表现得尤为突出。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">现在你知道为什么女朋友总是会说你无法给她“安全感”或者前男友说你真的不是我的“菜”了吗？如果下次遇到他们这样说，那么你就真的放手吧，毕竟无论后天如何努力，基因里确定的东西真的是无法改变的，所以在当初还是应该选择一个跟自己基因匹配的异性，天生能够“物以类聚”的才是你最好的选择。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><div><br /></div></div>
付费阅读之殇：信息过剩时代谁会为文字买单
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-283.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片1" height="216" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-283.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="付费阅读之殇：信息过剩时代谁会为文字买单 - 康斯坦丁 - 科幻星系" width="389" /></a></p><p>互联网最基本的属性，就是自由、开放、共享。虽然当下无论是音乐、电影，还是视频、网络文学等具有价值的内容，都趋向收费，但免费模式依然是重要的补充。或者说，国内互联网内容还没有完全从依靠免费培育习惯的初级模式进化至更高的阶段。在这样的态势下，逆势而行进行付费阅读，似乎是与主流违背。</p><p>而近日，微信测试付费阅读功能成为热门话题。鉴于微信公众号越来越强势的传播能力，即使是一个小功能的添加和删除，都会影响万千公众号的生存和用户的阅读体验。而此前微博、博客乃至豆瓣阅读等都开始试水付费阅读，似乎要将其发展成为强力的吸金功能。那么问题来了，在这个信息过剩的时代，谁还会为文字买单呢？</p><p><strong>&nbsp;付费阅读横行&nbsp;巨头纷纷露出獠牙</strong></p><p>微信付费阅读功能目前正处于测试中，即在微信内阅读文章将有可能需要收费。具体操作细则是：提供200字以内的免费阅读内容，剩下的则需要付费阅读，付费金额限制在0到200元之间。关于是否设置付费，则由公众号作者自主决定。不可否认的是，因为微信当下无可匹敌的影响力，此功能一经曝光，就受到关注，乃至质疑。已经习惯免费阅读微信公众号文章的用户，纷纷对微信展开批判。</p><p>但事实上，微信并不是第一家上线付费阅读功能的媒体平台。此前，微博、博客、豆瓣阅读等都已经践行着这一功能。远在2011年，中国独立博客还处于盈利模式匮乏、单一的时候，阮一峰就开始出售博客文章。2013年底，豆瓣阅读开始做付费专栏。专栏前三篇默认免费，后续内容由作者自行决定何时转为付费。豆瓣和专栏作者的分成是3/7开。</p><p>而在2014年8月份，微博公测打赏功能的时候，就开始小范围测试“付费阅读”功能。就连国外，也开启了付费阅读的浪潮。去年三月份，《纽约时报》、《华尔街日报》和《华盛顿邮报》与在线新闻付费平台Blendle&nbsp;BV达成协议，允许荷兰读者在线购买这三家报纸的单篇报道。在分成方面，出版方将抽取70%，剩下的归Blendle公司。</p><p>微信付费阅读功能与这些巨头实践的模式类似，虽然并没有创新，却还是在免费为主的潮流下显得格格不入。而且，这些媒体平台的付费阅读，与网络文学的付费有着明显不同。后者主要是依靠连载的趣味性，引起读者阅读兴趣，进而付费，且单价极低，千字只有两三分钱。相比之下，前者主要是依靠高质量的单篇文章来获得收益，以公众号的信誉、品牌为吸引力，让读者产生付费阅读的冲动。</p><p><strong>&nbsp;为阅读买单只是个笑话！粉丝经济为当下主流</strong></p><p>对于媒体平台来说，开启付费阅读功能是稳赚不赔的事，毕竟这是他们试图盈利的商业模式之一。通过与作者、公众号等收费之后的分成，媒体平台想赚得盘满钵满。但直到目前，付费阅读功能的处境却依然尴尬。最大的软肋就在于，能够为文字付费的用户太少，这也就导致付费阅读功能的收益并不高。</p><p>微博官方数据中心发布的《2015微博用户发展报告》的数据显示：2015年1月到11月份，微博付费阅读成交金额达2930.7万元，平均每位作者收益接近13万元。近3000万的金额，对普通人来说，是笔巨款，但对微博这样的巨头来说，简直就是一个“打脸”的数字。而平均每位作者收益接近13万，看似不错，却也意味着只有200多位作者获得实实在在的收益。与庞大的微博作者团队相比，这个数字几乎可以忽略不计。</p><p>连早早就试水付费阅读功能，且传播能力较强的微博尚且如此，其他平台在此功能上的收益就可想而知了。归根到底，用户并没有养成为单篇文章付费的习惯。而微博大V、微信公众号运营者之所以还乐此不疲地不断更新高质量的文章，是因为他们大都是依靠副业赚钱，文字只是他们吸引读者的工具而已。</p><p>比如著名的罗辑思维，在2014年单是月饼就卖了四万盒，据说秒杀星巴克月饼网上的销量。6月份，8000套单价499元的图书礼包在90分钟内被秒杀。而在2014年年底卖了75吨大米，2000多个跳蛋。去年罗辑思维在公众号称营收预计将突破一亿五千万元。结果就是去年10月份，罗辑思维完成B轮融资&nbsp;估值13.2亿人民币。而罗辑思维是典型的粉丝经济践行者，跟风者更是不计其数。</p><p><strong>&nbsp;粗暴付费注定进度缓慢&nbsp;开辟新模式迫在眉睫</strong></p><p>此前的打赏功能，对于用户的付费习惯并没有形成直接的冲击。毕竟用户可以在阅读完文章之后，再决定是否花钱打赏。如果不想花钱，文章再优秀，也不会产生直接的效益。而付费功能的出现，则是彻底改变了用户的“三观”。想看文章？掏钱！习惯免费文章的用户，肯定会接受不了。</p><p>虽然打赏和付费阅读对公众号、作者等都是利好的政策、规则，但在当下是真的玩不转。这是一个信息过剩的时代，没有谁的信息、文章是不可或缺的，用户完全可以选择去阅读其他消息和文章。而且文无第一，武无第二，你的文章再优秀，也总会有替代者——更何况别人还是免费的。</p><p>付费阅读其实是一种简单粗暴的手段，在未来或许能够成为主流，但绝不是当下。一蹴而就地让用户欣然接受并掏出白花花的银子去阅读文章，想的有点太美好了。因此，开辟新模式迫在眉睫。无论是上面所说的粉丝经济，还是广告模式，抑或其他，最基本的要点就是——让用户掏钱掏的心甘情愿，而不是有着严重的抵触心理。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
定制婴儿，伦理不容？
<div><p>2015年中国最轰动的新闻莫过于全面二胎的开放，80后感慨自己竟然是唯一一代独生子女，段子手们也开始发挥，作为独生子女的80后夫妻，不但要赡养四位爹妈，未来还需要照顾四个孙子孙女，压力山大。事实上，政策放开之后，轰动是轰动，但并不是所有人都想生二胎，对天伦之乐的幻想远敌不过现实的无奈，育儿、学费、买房子，这些事情需要的金钱足以让任何夫妻在嘿咻之时，心有余悸、小心翼翼，更大的问题在于，现在的父母都希望自己的孩子能成为精英，于是他们拼命地在起跑线上较劲，像什么奥数班、钢琴班，不孩子喜不喜欢都给报上，其实他们也不知道这些培训班有没有用，只是给自己的懒惰和无知找一些安慰罢了，事实上，很多人都不知道优生优育，更不知道该如何健全孩子的人格，他们只能发现表象的东西、短期的东西，而参与一个生命成长这种高级想法，实在太难。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2552.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片1" height="313" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2552.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="定制婴儿，伦理不容？ - 康斯坦丁 - 科幻星系" width="500" /></a></p><p>精英教育最该控诉的地方在于，它带来无穷无尽、无时无刻的攀比，因为攀比盛行，“别人家的孩子”成了中国最优秀的孩子，望子成龙的父母最爱的依旧是自己的孩子，但同时也希望定制一款“别人家的孩子”，以前这只能是奢望，但随着基因编辑技术的成熟，定制婴儿正越来越接近现实，事实上，这项技术理论上绝对可行，而在其真正普及之前，我们需要考虑的是宗教、伦理以及社会公平问题。</p><p><strong>&nbsp;如何定制一款心仪的婴儿？</strong></p><p>其实，基因编辑技术由来已久，20年来，生物学家已逐步建立起一套成熟的基因编辑程序：首先将特定的DNA片段插入到小鼠胚胎干细胞中，然后，把修饰过的干细胞植入到早期胚胎（即胚囊）中，最后将发育中的细胞移植到雌性小鼠中。这种模式下的基因编辑，体系成熟，但却需要耗费数年的时间和数十万的成本，脱靶率太高，仅有30%的命中率，且仅能应用于小鼠、大鼠等少数物种上。2015年，基因编辑技术CRISRP取得突破性进展，它完美地绕过了胚胎干细胞的操作过程，使得整个基因编辑过程快速、精准、效率极高，这项技术具有优越的能力，可将一个基因快速放到正确的位置，由于绕开了干细胞的操作过程，CRISRP不仅降低了操作成本，且极大地扩展了基因编辑技术的应用范围。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2592.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><br /></a><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2511.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="210" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2511.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="定制婴儿，伦理不容？ - 康斯坦丁 - 科幻星系" width="325" /></a></p><p>通俗来讲，基因编辑技术能够精准地改变生物的DNA，它能够关闭某些基因，也能够增加特定的基因，这样的技术在影视作品中早就出现过，而如今CRISRP技术有望把它变成现实，更让人兴奋的是，它的应用领域超越了白鼠、绵羊或者忍者神龟，能实实在在地应用于人类，帮我们克服先天性遗传疾病，以及像定话费套餐一样，定制一款婴儿。</p><p>现在，基因编辑技术，包括CRISRP技术也仅限于实验阶段，它的安全性尚在检验之中，对于“脱靶”的预防和处理的机制也在讨论之中。短期之内，基因编辑技术的核心应用范围还是会被用来校正人类基因以消除疾病、构建出更具生命的物种，消灭病原体等等，这种治疗目的的应用符合现有的法律、宗教、哲学秩序，于短期之内可能会取得重大的突破，世界上先天性遗传疾病将会大幅度减少。我们的麻烦在于如何看待“非治疗性基因编辑技术”，如前文所述，CRISRP基因编辑技术高效、快速、成本低廉，准确率高，在可预见的未来，势必会走出实验室，最起码会在精英阶层流传开来，到了那个时候，人类可能不仅仅满足于消除疾病，更拉风的应用在于改变婴儿的性状，改变婴儿的头发、肤色、乃至智商，而且这些性状会一代一代地传承下去，比如迈克杰克逊想要一个白人小孩，再也不需要做全身皮肤置换手术了，只需要改变控制肤色的基因就可以了，真正意义上地改变人生。</p><p><strong>&nbsp;伦理不容，定制婴儿会顺利诞生吗？</strong></p><p>现在，科学家对于人类遗传基因研究有两个禁区，一是不允许非治疗性的生育筛选，二是不允许对基因做可遗传的人工编辑，之所以有这两个禁区，主要是因科学家自己本人心有余悸，毕竟基因编辑有太多的不确定因素，万一弄出什么不受控制的怪物，毁灭了人类岂不成了罪人，另一方面，来自政治、法律、哲学领域的人，简直无法接受“定制婴儿”，他们矫情地维系着旧秩序，而且手里掌握着重要的社会资源，分分钟能断了科学家们的资金来源，或者开出一辆坦克来，把基因编辑实验室夷为平地。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2592.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="313" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2592.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="定制婴儿，伦理不容？ - 康斯坦丁 - 科幻星系" width="500" /></a></p><p>事实上，早在2015年10月份，那时CRISRP技术刚刚取得突破性进展，联合国教科文组织就在巴黎召开了一次专题研讨会，参会者包括科学家、哲学家、律师和官员，他们大声疾呼在安全性和功效被确切证明之前，应禁止对人类胚系基因进行编辑，他们在一份报告中，甚至严肃声明：基因编辑技术可能会把人类固有的和平、尊严等置于危险境地，并且将改写优生学”联合国的声明没有错，但问题在于生物技术之于事物自然秩序的干预已经司空见惯，倘若从一开始就忌惮生物技术的发展，人类有可能还挣扎于寄生虫中痛苦不堪。</p><p>至于公平，确实是个问题，基因编辑有望让现实生活中出现真正的上帝，他们强大而温柔，相貌英俊、脾气温和、能轻松拯救世界，显然，这对于普通婴儿来说非常不公平，他们不是输在了起跑线上，而是定制婴儿直接出生在了终点线上…由基因编辑技术引发的公平问题，肯定会让普通父母感到沮丧，他们给孩子报再多地培训班也追不回与“定制婴儿”的差距，但这又怎样？世界本来就是不公平的，纵然没有基因编辑技术，孩子们一生下来就因肤色、智商以及孩子他爸而变得不同，大家都能接受这种不公平，而且努力得向命运抗争，正因这种抗争与奋斗才让人类不断进步，从自然选择学说的角度讲，努力的婴儿和他们的父母存活了下来，而不努力的婴儿和他们的父母则会慢慢消失，最终，全面提高人类素质。从这个角度讲，笔者非常支持“定制婴儿”的诞生，其实，那群疯子一样的科学家，是不会因一些矫情的文科生而停止探索的，也即，定制婴儿一定会顺利诞生。</p><p>相比于巴黎会议上的保守，《经济学人》的意见是，如果基因编辑技术能够在能够在人体上被证明是安全的，就有必要为其争取同意和平等的机制。这种能够让人类过上更健康、更长寿和质量更好的生活的工具已经触手可及，它应当得到拥抱。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
现代文明留给地球后代的只有残渣
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片5" height="370" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-2585.png" title="现代文明留给地球后代的只有残渣 - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">从远古时期，古人给我们留下了太多的东西，煤炭、石油和各种文化等等。然而现在物质极度发达的人类社会，却有可能给后辈留下的只有残渣。这样的结果并不是危言耸听，而是真的有可能出现的。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">现有的证据证明，现在是一个新的地质时代，沉淀物开始逐渐变硬，成为地球的地质层。虽然这跟大家的印象里久远的地质层不一样，我们这里谈到的地质层只有万年左右的时间，但是它却真的开始溶于地球，成为新的地质层。莱斯特大学的地质学家Jan&nbsp;Zalasiewicz认为，这个信号是全球性的，并非一个国家的事情，因为人类已经创造了太多的东西，给地球增加了很多的负担。他带领自己的团队开始收集证据，并且对这些证据进行编译，所以他们认为一个真正的地质现象正在发生，并且这种现象还将持续下去，或者说这种现象正在加速。对于这种现象，被称为新地质时代。这种时代大约是从11700年前开始到1950年，在这个期间因为冰河时期过去，海面上升了120米，空气中的二氧化碳的含量比以前增加了百万分之一。到了今天，按照自然理论来说空气中的二氧化碳含量应该逐渐降低，再次迎来小冰河时期，但是由于人类活动大范围的将地球改变了，空气中的二氧化碳含量不仅没有降低，反而还在不断增加，应该说是快速的增加，所以地球居然开始加速变暖了。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">事实上这种情况是因为技术的快速发展、不断膨胀的人口和不断增长的消费资源，特别是金属物的大量出现就是在1950年开始出现的。在这里我们不得不提的是叫做合成材料的出现，铜合金、塑料的出现彻底改变了社会。据不完全统计，如果将全世界的混泥土建筑量平铺在地球上，那么地球上每平方米就有一公斤的混凝土在上面放着。不仅如此，现在每年产生的塑料奖金7亿吨，而且泥土以比以前快三倍的速度流入河流，煤烟、石油和天然气产生气流在太平洋的最中心都能够找到它们的影子，因此整个地球已经被人类全面的“改造”了。研究人员正在对全世界各地的人进行探测，发现人类的影响力太大了，以至于地球上根本没有一个地方找不到工业的影子，每个人都会产生工业垃圾，而这些垃圾就慢慢的沉淀进入地球。至此，研究人员非常担忧，虽然很难接受，但目前的现状就是在下一个万年之后，人类能够给后人留下的东西就全部都是混凝土。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这样的消息让人非常失望，因为这意味着人类对地球没有进行有益处的改造，而现在所谓的工业文明对于地球就是破坏。好在现在我们已经意识到了这个问题，开始努力做出改变，恢复地球的原貌并且尽量减少都地球的影响，或许能过在万年之后我们能够给后人留下更多有用的东西，而不仅仅都是残渣。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><div><br /></div></div>
动物的同情心比我们想象的强
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="347" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-2423.png" title="动物的同情心比我们想象的强 - 康斯坦丁 - 科幻星系" width="540" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">我们经常形容一个人没有同情心的时候就会说，“你简直就是一个畜生！”这句话放在以前是一句贬义，然而现在看来却不是了，因为经过科学研究证明，就连畜生都是有同情心的，而且它们的同情心远比我们想象中强烈得多。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这次科学家对动物的同情心测试选择的试验体式草原田鼠。这种田鼠的配偶制度是动物界最具代表性的“一夫一妻制”，而这次的试验则是首次对啮齿动物的安慰行为进行记录。据研究人员介绍，随后还会对大象、海豚和狗进行试验和记录，从而找出其中的区别。实验的主要原理是，将两只草原田鼠放在一起让它们慢慢熟悉，经过长达2个月的时间后两只草原田鼠已经非常熟悉。在这个时候将它们分别放在两个相近的笼子里，并且释放出信号让一只草原田鼠感受到强大的压力，这个时候研究人员就会记录另外一只草原田鼠的反应，究竟它们会表现出焦急还是无所谓呢？实验的结果让研究人员有些惊奇，因为两只草原田鼠并非是配偶，只是熟识而已，所以研究人员认为另外一只安全的草原田鼠可能会出现出于自保而产生的焦虑，但结果是另外一只安全的草原田鼠表现出了极大的伤感，产生这种伤感的原因也可能是它无法帮助那只受到压力的草原田鼠。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">研究人员还另外进行了一项测试，即让它们在同一个笼子里的时候对其中一只草原田鼠施加压力，结果另外一只草原田鼠就会对其进行安慰，并且是放出了催产素，也就是我们常说的“爱的荷尔蒙”。这种催产素在人类中间也会产生，当你熟悉的人遭遇了不幸的时候，人自然就会产生这种催产素。但是面对不熟悉的人时，这种催产素就不会被释放。于是研究人员也在草原田鼠身上进行了验证，结果表明两只完全不认识的草原田鼠在进行同样的测试时，另外一只安全的草原田鼠并不会有任何的反应。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">由此研究人员得知，动物的同情心并不弱，起码比我们想象中强烈了很多。只是这种安慰行为和催产素的释放必须建立在两只动物相互熟悉的情况下。如果是陌生的情况，那么动物依旧是绝情的。对此，研究人员也进行了实验，在相对陌生的情况下，当一只草原田鼠受到压力的时候，另外一只没有任何反应，不过在研究人员为其注入了催产素的时候，情况就改变了。这只安全的草原田鼠会去舔舐受伤草原田鼠的伤口。所以可以确定催产素激发了安慰行为。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这项研究并仅仅让我们对自然界的认知更深入，还能够在治疗一些自闭症和精神分裂症的时候有了更多的价值，或许能够从不同的方面来对病患进行治疗，从而让其能够拥有正常的感情，进行正常的社交活动。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">&nbsp;</p></div>
忘记电商 刘强东和京东的“如意算盘”
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2474.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="346" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2474.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="忘记电商 刘强东和京东的“如意算盘” - 康斯坦丁 - 科幻星系" width="377" /></a></p><p>以自由、开放为基础属性的互联网行业，虽然正日益被金钱指挥棒引导着方向，但若是想强行利用自己的影响力将权利全掌握在自己手中，却无疑是痴人说梦。近日，京东商城掌舵人刘强东在最新的发言中，强烈建议传统企业家忘记自家的电商。石破天惊般的话语背后，是刘强东想要“集权”的“如意算盘”。而对于整个网购市场来说，这无疑是一条越走越逼仄的路。</p><p><strong>&nbsp;忘记电商&nbsp;刘强东全面控制的如意算盘</strong></p><p>对于传统企业来说，盈利自然是最重要的。但说到底，对自家的未来、命运、前途等拥有绝对的自主权、主动权是最基本的诉求。但在线下消费疲弱，越来越依赖线上渠道的当下，原本的自主权却在强势的电商平台面前成为笑谈。但即便这样，在遇到生死存亡问题时，传统企业却是不会一而再、再而三地退步的。</p><p>刘强东在中国企业家论坛开幕式主题演讲中说出惊人之语，对于传统企业的电商部门，他表示：“作为传统品牌企业家忘记电商吧，回去第一件事是把电商部门撤掉”。从刘强东的发言不难看出，他是想提醒传统企业家将销售管道交给专业的电商平台去做。认为传统企业成立电商部门只是在浪费资金、人力等。</p><p>甚至刘强东还举例称，一个并未向京东供货的知名的鞋企去年线上做了22个亿，但净利润只有一千万，但如果让专业的销售渠道去卖，净利润应该会达到3.8亿。但实际上，刘强东所说的“忘记电商”言论根本不具备实际可操作性。传统企业存在的问题，根本不能靠简单地裁撤电商部门解决。</p><p>刘强东不着边际的言论，只是他为了满足自己的控制欲和集权欲。如果传统企业撤掉电商部门，就意味着必须将天猫、淘宝、京东等电商平台当做线上销售渠道，而这也意味着传统企业将失去彻底的主动权。如果接受刘强东的建议，裁掉自家电商部门，选择京东的第三方平台，那么与京东的财大气粗相比，绝大多数传统企业都只能在其严峻的政策下忍气吞声，沦为被京东“剥削”的对象。</p><p><strong>&nbsp;传统企业家强力反驳&nbsp;构建自家电商渠道不可或缺</strong></p><p>面对刘强东咄咄逼人的言论，传统企业家自然是嗤之以鼻。因为刘强东是在给他们画了一张大饼，看似美好，却根本吃不到、摸不着。究其原因，在于传统企业家和京东之间并不是绝对平等的合作伙伴。对于京东来说，传统企业只是在依附于它而生存。那么对于传统企业来说，就不得不低头，遵从京东定制的各种强硬规则。</p><p>也就是说，奢求京东与传统企业和平相处、以诚相待根本是不可能的。事实上，京东针对以传统企业为主的第三方商户的历史可谓“劣迹斑斑”。京东擅自控制第三方平台上商户的价格、收高额进场费、拖欠保证金/货款等事件，早已屡见不鲜。</p><p>早在2013年，阿芙精油就投诉京东，称京东拖欠其贷款长达13个月，数额超过300万。而在一个由近600个商户联合组建的“京东拖欠商家质保金”QQ群中，部分商户在与京东的合作自然终止后无故被拖欠保证金，甚至有的商户被拖欠保证金的时间长达2年还多。</p><p>这样的京东，岂能让传统企业忘记自家电商？自然，对于刘强东匪夷所思的言论，传统企业家持以强烈的反对态度。食品企业巨头杭州唯新食品副总熊威态度颇为激烈，他表示：“这简直是扯淡，我们传统企业经营的原则是把对的产品通过对的促销推广方式在对的通路以合适的价格卖给消费者。一个有品牌的企业怎么能够把渠道放弃掉？或者完全交给第三方？”</p><p>在传统企业看来，无论如何，构建自家的电商渠道都是不可或缺的。毕竟与国外较为成熟、规范的电商平台相比，仍处于野蛮生长态势的国内电商平台，在政策、规则等方面有太多的不确定性，让人不能够完全放心。就目前来看，发展程度较低的传统企业，可以在天猫、淘宝、京东，乃至其他垂直电商去获得第一桶金。发展程度较高的，则可以多线并举，既可以在电商平台开店，也可以自建电商渠道。</p><p>就像很多手机厂商，既在电商渠道销售，也都有自家的官方电商网站。从长远来看，不管是搭建自家电商平台，还是在天猫/京东开店等，都是必须的手段和策略，没必要完全放手。</p><p><strong>&nbsp;电商渠道呈现多元化发展态势&nbsp;一家独大成为历史</strong></p><p>电商渠道目前早已不是荒芜之地，而是一片红海。原来阿里的一家独大，已经被京东蚕食部分市场份额。加上苏宁易购、国美在线、亚马逊中国、及聚美优品、唯品会等多样的电商平台，未来电商渠道呈现多元化发展态势已成必然。再加上传统企业推出的电商平台，形势更加复杂。美特斯·邦威推出“有范”购物APP，红星美凯龙推出网上商城……且都做的有滋有味，形成了固定的消费群体。</p><p>可以预见的是，在这样的态势下，一家独大已然不可能。京东想“包圆”传统企业的线上销售渠道，只能是痴人说梦。刘强东想让传统企业终端变革、升级、转型之路，也绝无可能。所以，强哥这样惊人的言论还是私底下对奶茶MM说说吧，真的不适合放在大庭广众之下去讨论啊——明显是会挨批的！（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
“霍比特人”或许一直生活在孤岛上
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="370" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-2365.png" title="“霍比特人”或许一直生活在孤岛上 - 康斯坦丁 - 科幻星系" width="553" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">当彼得·杰克逊导演的《魔戒》系列上映后，霍比特人就成为其中最亮眼的明星，所以我们还看了《霍比特人》系列电影。这种矮小、聪明又充满韧性的人更加受到世界上很多影迷的喜欢。对于这个角色，《魔戒》的原作者J.R.R.托尔金说是虚构出来的，但是没想到地球上真的有“霍比特人”，并且一直生活在某个孤岛上。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这个岛屿可能是印度尼西亚的苏拉威西岛！在2003年的时候，研究人员在印度尼西亚的弗洛勒斯岛上发现了一块具有18000历史的化石。经过检测后研究人员才大呼不可思议，因为这有可能是人类的一个近亲，它属于一个未知的古人类。接着研究人员进行了进一步的挖掘，并且根据化石对这种古人类进行了还原，结果发现这种古人类非常的矮小，身高大概只有1米左右，因此也被叫做“霍比特人”。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这次的发现激发了科学家的更多的激情，不断进行新的探索。在2010年的时候，研究人员提出了霍比特人的祖先生活在100万年前的理论，并且霍比特人的祖先也是直立人，是人类最原始的祖先之一。随着研究的不断深入，研究人员认为在19世纪发现的爪洼岛直立人就是霍比特人的祖先，他们生活在150万年前的时期。根据这个线索我们可以得知，霍比特人在不断的迁徙，印度尼西亚的其他群岛上很有可能就生活着霍比特人。在这么多的岛屿中，位于弗洛雷斯岛和亚洲大陆之间的苏拉威西岛是最有可能的。苏拉威西岛是世界上最古老的岛屿，属于从澳大利亚板块分裂出来后漂流到今天这个位置的。在对苏拉威西岛进行探索的时候发现，11.8万年前岛上有着石器时代的影子，这说明原本岛上就有着一种原始的人类，随后5万年前的时候有一个完全不同的人类物种划船来到了这里。澳大利亚伍伦贡大学的古生物学家马瑞像我们介绍，这种进化应该一直处于一种隔离状态，最终出现了霍比特人跟直立人两种完全不同的人种。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在2007年和2012年之间，研究人员发现了不少的石器，基本产生于118000到194000年这个时间段，这就是苏拉威西岛最早一批古人类的活动时间，而后这批人在4万年前消失了。由于这些岛屿过于偏僻，所以根本没有可以比较的人类化石。目前来看霍比特人、直立人和&nbsp;丹尼索瓦人是岛上居民的唯一可能，至于他们跟尼安特人有没有近亲关系就不得而知了。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">如果说根据现有化石进行的这个推论是正确的，那么几乎可以肯定将在附近的几个岛屿上能够发现霍比特人的化石，届时就能彻底还原出人类进化的不同线路，甚至我们还能找到由霍比特人打造的部落。我们猜测一下，根据霍比特人的身高，很有可能他们真的像电影中一样，生活在一个又一个的地堡中。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">&nbsp;</p></div>
无人机将迎来黄金时代
<div><p>无人机其实不是个新鲜玩意儿，它早就有了，而且给社会做出了巨大的贡献。笔者小时候看《动物世界》时，就非常好奇，那种百鸟乱飞的画面是怎么拍出来的，难不成要摄影师趴到树上蹲点，等着鸟儿们一同起飞，当时，竟然还对摄影师产生了一种肃然起敬的感觉。现在知道了，这个可以利用无人机拍摄，想拍什么角度都行，而且除了无人机之外，摄影师还会放炮，惊起一滩鸥鹭，以创造更唯美的画面。</p><p>2016新年伊始，网上爆出了“无人机惊扰天鹅事件”，大概内容就是，青海湖畔聚集了1829只大天鹅，个别摄影爱好者为了拍摄到天鹅起飞的“震撼视频”，燃放烟花让天鹅们受惊，随之利用无人机抓拍…</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2324.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="375" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2324.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="无人机将迎来黄金时代 - 康斯坦丁 - 科幻星系" width="600" /></a></p><p>这个帖子在元旦期间迅速在网络走红，本来应该批判人性的丑陋，以及对野生动物的残忍，但显然公众对这些有些麻木，事实上，在中国讨论这些也没有，舆论随之将矛头对准了“无人机”，一时间，无人机再次成为热点，只是受“惊扰天鹅事件”的影响，舆论更倾向于讨伐无人机不受监管的黑飞已经影响到了社会的方方面面，无人机作为不明飞行物，可以让航班改变飞行路线，也能砸坏市民路边摊的锅碗瓢盆，巴德学院公布的一组检测数据显示，2013年~2015年，无人机和遥控飞机与民航共发生了327起危险接近事件，其中28次导致航班为了避免与无人机相撞而改变航线，这些数字乍看上去挺夸张的，试想一个5公斤左右的无人机，怎么能逼着大飞机改道呢？但高中物理能及格的人都应该知道冲量的概念，普通民航班机在下降时，速度大约在300公里/小时，而一般无人机的重量在2~5公斤，两者相撞会产生的巨大能量，足以让飞机严重受损，无奈只能改变飞行路线，撞不起，我还躲不起吗？另外，一个5公斤的东西，从200米的高空中掉下来，自由落体产生的加速度，足以把它变成一颗子弹，这是物理的秘密，也是地面人群的安全隐患。</p><p><strong>&nbsp;未来10年，无人机的黄金时代</strong></p><p>比较讽刺的是，正当中国网民轰轰烈烈地讨伐无人机罪恶之时，2016年CES展览上，无人机再次成为焦点，数量之多，品类之全简直亮瞎消费者的双眼，有智能的，搭载车联网技术，有安全环保，仅适用于低空飞行的，高通、Google、腾讯等科技巨头的参与，有望大幅度加速无人机技术上的进步，总之，CES展台的气氛和中国网民的情绪严重不符，但这个世界从来就是由强者制定规则，舆论只是科技发展的衍生品，笔者认为，未来10年将会是无人机的黄金时代，毕竟，它能做的事情太多了，以至于，我们不得不忍受它的缺点，通过制度、法律、监管等手段，让无人机驶入正确的航道。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2346.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="375" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2346.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="无人机将迎来黄金时代 - 康斯坦丁 - 科幻星系" width="600" /></a></p><p>如开篇所述，无人机早就不是个新鲜玩意儿，它甚至已经给人类社会做出了重要贡献，而且一直在改进，现在曝露出大量问题，也从另一个方面说明，无人机之于人类工业、生活的渗透率越来越高：</p><p>航拍是无人机最普遍的应用之一，于是，我们才能欣赏到那么多经典的震撼画面，体会电影之美，但这始终是娱乐范畴，无人机更大的用途，不应该局限于此，所谓无人机，核心词汇是“无人”，也就是它能去到人类不想去或者去不了的地方，以帮助人类完成各种任务，比如河北的农民是没有办法飞到天上去，给高大的果树喷洒农药，但无人机可以，且效率非常高，此外，无人机还能播种、施肥，或许当无人机真正地进入黄金时代之后，文学作品中再也不会出现“汗滴禾下土”的场景了，而农民形象也可能因无人机而彻底改变；</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-23461.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="338" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-23461.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="无人机将迎来黄金时代 - 康斯坦丁 - 科幻星系" width="600" /></a></p><p>另外，无人机还有很多更具审美性的应用，比如Google开发的热气球空中基站，可以把WIFI信号送到撒哈拉沙漠、送到亚马逊热带雨林、送到南极无人区，让企鹅也能用“两只企鹅”保持联系，这件事儿，无人机做起来效率更高，只是相比于热气球成本会高一些；当疾病爆发、传染流行之时，自然人医生为了采集数据，常常飞蛾扑火，到头来，一场传染病中，死亡率最高的常常是医生，而智能型无人机完全可以代替人类深入疾病区域，采集的数据可能会更全面，总之，它们不怕疾病；人类向往地球之外的世界，却苦于无法生存于月亮和火星，但无人机可以先人类一步进行探索，在火星上，无人机不用担心会突然掉下来，砸到活人，或者说，我们真希望无人机能在火星上砸到一个活着的东西…</p><p>当然，无人机要真真迎来黄金时代，甚至成为iPhone一样的街机，还是需要安全地飞入寻常百姓家，而且帮助普通人完成一些日常工作，这有赖于终端技术的提升，也有赖于清醒监管制度的建立，更有赖于人类之于无人意识的改变。</p><p><strong>&nbsp;清醒监管，为无人机保驾护航</strong></p><p>民用无人机完成的任务，虽然不像火星探测器那样高端，但要适应的环境却并不简单，毕竟，火星探测器砸不到活人，而民用无人机则要时刻注意不要扰民。在复杂的环境之下，需要更精准的控制系统，未来科技巨头的研究方向势必会朝着智能化方向发展，感应器、传感器、遇到意外时的自我毁灭装置都会依托于大数据、互联网成为现实，比如智能系统下的无人机会清楚地识别出禁行区域，自我管控好飞行高度，在安全距离内发现障碍之时会进行自我调整，这听上去像科幻片里的镜头，但只要人类有需求，就一定会成为现实，事实上，人类之于移动通信的需求，催生了手机；人类之于移动互联网的需求，又催生了智能手机，其实，Google、高通的参与，已经让人对无人机的前景充满了信心。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2351.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片5" height="337" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2351.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="无人机将迎来黄金时代 - 康斯坦丁 - 科幻星系" width="600" /></a></p><p>科技是无人机发展的前提，同时，也是由其衍生出了配套的法律、监管之手段。事实上，中国无人机之所以出现黑飞，最深层次的原因在于，中国人之于无人机的漠视，不了解，所以惧怕，不清楚，所以拒绝。据一位发烧友透露，被誉为无人机之乡的广东省，每天有上百架的无人机飞来飞去，发烧友自然知道黑飞不好，也想向有关部门报告，但收到的回复总是：我们不负责。显然，中国的配套政策远没有追上无人机的“飞行速度”，也就出现了开篇所述的问题，其实，健康发展型的社会对于新鲜事物应该持开放式态度，建立与之配套的政策制度，以保证能安全发展，具体到无人机，亟待建立清醒的监管体系，可参照交通体系，在安全飞行区域，统一规划，为每一架注册过的无人机分配航道以及飞行时间，甚至形成一张准确的无人机时刻表；而无人机在执行任务的时候，也完全可以通过规划，以避免任务冲突；未来的无人机操作员要同现在的司机一样考取驾照，用专业的培训来规避风险。</p><p>无人机的黄金时代正在来临，这是一个大型生态工程，关乎科技、经济、制度、文化和人性，具体到中国最先要完成的就是技术的精进与普及，这不但能帮助国内企业研究出更好的机器，还能帮助普通消费者快速接受、正确使用无人机，更重要的则是帮助立法部门建立完善、科学、可行的监管体系，倘若对无人机不够了解，监管机制、驾照颁发有可能再次成为有关部门的收钱门道，希望无人机不要因金钱而折断双翼。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
探秘中国网购的数据迷城
<div><p>双十一按照北京时间计算已经完成，但网购族们的狂欢远没有结束，事实上，早在一个月前社会各界就开始关注这个人造节日，而在接下来的两周内，节后疯狂仍将继续，最忙的应该是阿里巴巴，他们一面忙着准备商品、疏通物流、修缮后台服务器，马大帅估计还要和冯小刚总结讨论，以避免明年双十一晚会，再度成为《快乐大本营》…</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2231.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="272" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2231.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="探秘中国网购的数据迷城 - 康斯坦丁 - 科幻星系" width="397" /></a></p><p>消费层面，狂欢前夕对于有剁手族的家庭来说，早已阴云密布，谍影重重，主妇们从十月份开始就停止了正常购物，包括化妆品、衣服、鞋子、卫生纸等等，更有甚者连粮食也断了，她们坚信双十一的时候会买到足够便宜、足够多的商品，然后坚持一整年；可怜的老公们则在恰当的时候，试图把支付宝密码连续输错三次，以避免资产土崩瓦解，毕竟，要解除冻结需要24小时…这就是购物节带给中国人的狂欢，有点疯狂，也有点酸楚。狂欢节当日，各大网站都直播了销售/订单的数据，比如阿里巴巴仅用了1分12秒交易额就突破10亿大关，京东的订单量在早晨6点就达到了去年水中，笔者都不用特意查看，只要打开手机就能看到各种天文数字，与之交相辉映的则是，有关部门的官方而正经的数据，十二五期间，中国的网络零售交易额规模跃居全球第一，从用户规模到渗透率，再到交易额，中国网购全面碾压外国人，据统计，中国网购的用户规模达到了3.61亿，网购在网民中的渗透率达到55.7%，2014年的网络零售交易总额达到了惊人的27898亿元，同比增长2.6倍，一切看上去都欣欣向荣，如果再来一台《新闻联播》式的赞扬，那就完美了。</p><p>但世界运行规律中，一切繁荣奢华的背后，总会充斥着些许的腌臜与污垢，正当中国网购气势汹汹地拿下销售金牌之时，却出现了全球范围内的声讨，关于假货、关于维权，关于快递哥的猝死都宛如王水般吞噬着中国销售冠军的含金量。或许，我们没必要对双十一的繁荣嗤之以鼻，但探究一下那些不甚和谐的数字，或许能找到一条固本强筋的大路。</p><p><strong>&nbsp;半壁江山，假货需要一个名分</strong></p><p>正当全国人民沉浸在购物的狂欢中欲仙欲死之时，国外媒体却不合时宜地过来添堵，他们不仅嘲讽中国的双十一是造假者的大日子，而且非常专业地罗列了一些数据，连工商局收到过多少件的投诉都非常清楚，说句实话，中国的统计局都未必能做得这么细致。援引报道数据显示，2014年大陆网购正品率只有58.7%，也就是说，你只要在网上买超过两件衣服，就可能遇到赝品，与之配套的则是投诉案件的猛增，去年全国工商部门共受理网络购物投诉7.78万件，年增长356.6%，而在消协组织受理的20135件远程购物投诉中，网络购物占了92.3%，这些数字的准确性无从考证，但大体能反应出中国网购正品率的现状，更何况，58.7%的数字应该已经是比较体面的说法了，要知道，前两年这个数字仅有20%。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2266.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="285" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2266.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="探秘中国网购的数据迷城 - 康斯坦丁 - 科幻星系" width="460" /></a></p><p>数字本身并不重要，重要的是所反映出来的情况，总而言之，中国网购还没有摆脱“亚健康”的状态，只是看上去挺火罢了。假货是一个老生常谈的问题，投诉流程也值得控诉，但要真正根除这些顽疾，根本不是一个首富能搞定的事儿。</p><p>假货在中国网购，乃至整个中国社会泛滥，这是不争的事实，我们似乎也习惯用假货，一方面找不到真货，一方面假货也便宜，也就是说，假货不止是网购平台的事儿，它关乎制度、文化和人性，只是有人成了首富，不得不多承担些责任罢了，总体来说，网购平台还是做了些努力，比如招聘一些质检员，提高入驻门槛等等，但奈何假货在中国有着庞大的市场需求，比如25元的劳力士绝对要比2500元的劳力士要畅销。事实上，假货衍生于人性的劣根，无法根除，中国的现存制度文化、市场特性又不可能全面禁止，在这个问题上，与其简单粗暴打击，倒不如走一条疏导之路。其实，假货之所以该控诉，正在于价格和质量上的不匹配，以及之于知识产权的不尊重，但很多消费者在购买假货时，和商家应该是心照不宣的，毕竟，花5块钱买一盘window，估计比尔-盖茨也不敢奢望它是正版的，这种心理状态完全可以走进正常的监管范围，一方面经营仿制品要付出相应的版税，但相对于正版要低很多，这样在整体价格上就不会太高，也就能满足低端客户的要求，自然不存在欺诈之说了；当然，诸如药品、食品或者其他与人体健康相关的产品，容不得半分掺假，有可能获得名分的产品估计也就仅限于衣服、鞋子或者电子产品了。假货讨厌，但自由其存在之道理。</p><p><strong>&nbsp;&nbsp;生死时速，双十一是快递哥的噩梦？</strong></p><p>除了中国网购的正品率之外，另一组数字也让人忧心忡忡。关于快递，宏观来讲，我国又是不折不扣的快递强国，送货量居世界首位，但这个伟大数字的背后同样满是疮痍。在无人机普及前，在智能物流还只是个雏形的时候，支撑中国快递的只是快递哥和他们的电动车。双十一期间，快递哥再次成为舆论关注的焦点，当然，也仅仅是在生命消逝之后的短暂关注，事实上，每年快递量猛增的时候，都会有一两篇关于快递小哥猝死的报道，今年也不例外，据报道，36岁的快递员谢先生因工作繁忙，感冒拖了一个星期没有看，最终发展成为心肌炎，黯然离世，但这样的报道也只是停留了2个小时，更多的时候，版面让那些创纪录的数字霸占，其中还包括一些快递哥自己创下的纪录：</p><p>川大独臂快递员，去年双十一期间，单日最高送400件，重达3吨，一个月挣了大概30000元，一举成为川大知名人物，接受采访时，独臂哥决心大干一场，再创新高。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2262.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="270" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2262.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="探秘中国网购的数据迷城 - 康斯坦丁 - 科幻星系" width="492" /></a></p><p>读到这样的报道，看到这么高的工资，有些白领竟然起了辞职之心，但笔者却没有羡慕之情，有的只是唏嘘和感慨，自然，生命消逝从来就要默哀，但独臂哥的生活也未必幸福。如果单从收入来看，快递哥确实超越了写字楼中大多数群体，但只消看一眼他们的工作状态，就深刻地感受到这钱赚得不容易。首先，工作时长就不是一般人能承受的，自7点开始，一直忙到深夜12点，更有甚者，要工作20个小时以上，而且为了送更多的快递，他们在双十一期间不断上演生死时速，快递在他们手中就好像一颗手雷，稍微慢点就要爆炸，很多快递哥恨不得如像哪吒一样，脚上踩个风火轮，穿梭于城市之间，事实上，正是他们的努力和奉献，才让消费者能在双十一的早上收到凌晨刚拍下的货。</p><p>“杀个措手不及”，这不是高效率，这简直是自虐。只是我们在感叹物流的服务之时，是否反思过，我们真得需要猝不及防地收到快递吗？自然，能快速收到商品是网购平台的竞争力之一，但笔者建议，从业者要好好平衡效率和人的极限，我们希望产业链活泼、健康，而不是恶性竞争，恶疾连连，我们疯狂抢购之后，也希望多留给快递哥一些时间。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
当一名医生患癌症后是如何生活的
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="614" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-2277.png" title="当一名医生患癌症后是如何生活的 - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">现代医学的发展已经达到了一个较高的水平，但是对于癌症依旧没有特别好的办法。不管是穷人还是富人、是官员还是平民，当患上癌症后结果都差不多。另外，患上癌症后也不管你的身份如何，反应几乎都只有两种，一种就是当时就崩溃、一种就是积极配合治疗。然而你想过吗，如果一名医生直到自己患了癌症后，那么他会有什么样的反应，又会怎么生活呢？</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">最近，英国36岁的神经外科医生保罗被告知肺癌已经到达第四期了，作为斯坦福大学的高才生，他亲自对自己的病例进行了审查，结果发现情况非常不好，生存的可能性几乎为零，因为他也向这方面的专家进行了询问，大家也拿出了很多的方案，最终他认为这些手术&nbsp;病情没有太多的益处，这一点也得了专家的认可，所以根据这个情况，他对自己的生活进行了合理的安排。他开始用文字和图片记录自己患病后的生活。首先提出的一个问题是“面对死亡，什么样的生活才有意义？”</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;第一：必须明确自己的价值观</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在发现自己身患绝症后，保罗并没有去消极的对待，而是用自己正确的价值观去面对它。他在书中说到，因为身患绝症，所以自己的生命更具挑战性。保罗开始配合医生进行检查，并且将自己在家中的角色进行了重新排位，想让自己尝试更多的身份。丈夫、作家、厨师，在价值观的不断变化前，这些身份也会不停的转变。正面面对疾病，是所有患者必须做好的第一步。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;第二：必须正视自己的疾病</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">很多的患者都不敢相信自己患了癌症，在一点又一点的迟疑下，最终即对病情没有任何的好处，更是让自己错过了品味人生的感觉。所以保罗患病后并没有刻意的去做一些慈善，而是正视自己的疾病，通过跟医生的配合延长自己的生命，甚至最终治愈。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;第三：将疾病看作自己的敌人</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">“大部分的人都会被自己患的疾病给吓倒，甚至一部分人听到之后整个精神世界就崩溃了，最终死于自己的恐惧，而不是病症。”保罗这样告诉我们，他在从医的过程中这样的案例看过了太多次，每一个能够争取到更多生命的人一定是将疾病看作敌人，拼命与其抗争的人，而不是听到就放弃的人，所以在保罗患病后，他积极配合医生进行治疗，将癌症压制在了一个最低的水平上。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><strong>&nbsp;第四：珍惜跟亲人相处的时光</strong></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">保罗说，他见过一部分因为听说自己患病后就全世界到处治病，寻求延长生命方法的人。这些人都是有钱人，以为靠着钱多就能解决问题，最后还是没有摆脱死亡的结果。因此，在生命的最后时刻，我们应该珍惜跟亲人相处的时光。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">最终在22个月后，保罗还是死于肺癌，这个时间在所有患者中并不算长，但是保罗作为一名对自己病情有着非常了解，每天都能够了解死亡离自己如此近的人来说已经不容易了，而且在这段时间里，保罗通过切身感受给医生提供了很多宝贵的数据，并且享受了于家人在一起的美妙时光，让死亡反而变得无足轻重了。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><div><span><br /></span></div></div>
阿里凭啥比腾讯更会和Groupon相处好？
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2160.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片1" height="238" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-2160.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="阿里凭啥比腾讯更会和Groupon相处好？ - 康斯坦丁 - 科幻星系" width="416" /></a></p><p>提起Groupon，大部分人对其第一反应就是那个“过气”的团购网鼻祖和与腾讯合作推出的国内团购网站“高朋网”，死相极惨！虽然马化腾表示是双方准备不足的原因，但却有消息称是二者合作有隙。但就这么一个过气且不容易相处的团购网站，却受到阿里的青睐。</p><p>近日，阿里买入Groupon的3300万股股票，持有5.6%的股权，成为其第四大股东。而且这一过程相当低调，Groupon发言人比尔·罗伯茨甚至表示，该公司此前一直不清楚阿里已经大笔买入该公司股票。那么，阿里花钱想买经验的“被动持股”说法是否是一厢情愿？阿里又为何买入一个被大多国人看为”过气“公司的股票，有何意义？</p><p><strong>&nbsp;阿里要“市场经验”</strong></p><p>对于阿里来说，虽然已经在美国上市，并进行多元化投资，但在欧美并没有取得较好的成绩。早在2014年路透社委托法国益普索集团展开的最新调查显示，88％的美国人没听说过阿里巴巴。此外，阿里巴巴面向美国消费者的购物网站11main.com，直到现在也还没有取得一席之地。在亚马逊、eaby的挤压下，阿里在欧美的发展步履维艰。</p><p>相反，在中小国家尤其是东亚地区的市场阿里则有着别样的风光。比如在巴西，当地人蜂拥而至阿里巴巴旗下网站全球速卖通购买低价商品。仅2014年7月一个月，巴西人浏览速卖通网站超过1200万次，相当于eaby在巴西所获浏览次数的3倍。</p><p>而在海外直购平台上，台湾、韩国等都是其重点发力的对象，且取得不错的成绩。自2010年进入台湾市场以来，淘宝已成为台湾网民最受欢迎的网购平台之一。仅仅是2013年淘宝公布的数据就显示，台湾已经有50万注册会员，年交易额近500亿元新台币，相当于台湾GDP的0.3%。</p><p>在这样的态势下，阿里自然想在中小国家市场发力。在完成对后者的占领之后，再度向欧美市场发起冲击——典型的“农村包围城市”策略。实事求是地说，虽然Groupon因为模式地原因，在国际市场表现并不出彩，相继退出希腊、土耳其、摩洛哥、巴拿马、菲律宾、波多黎各、台湾、泰国和乌拉圭、瑞典、丹麦、挪威以及芬兰等市场，但其还是有着完整、优秀地中小国家市场拓展经验。</p><p>对于尚未完全在海外市场发力的阿里来说，这些经验是难以拒绝的诱惑。不但能够缩短熟悉中小国家市场当地特性的时间，还能够最大限度的避开运营过程中的雷区。</p><p><strong>&nbsp;阿里要“技术风向”</strong></p><p>虽然阿里在大数据等层面有着诸多先进技术，且有着先进的管理方式，但毕竟不能坐井观天，还是需要和更多的巨头企业进行交流，来完善自己，以期达到更进一步的目标。而Groupon作为当下全球最大的团购网站，全职员工早已超万人。庞大的企业，必然有着先进的管理方式来支撑。</p><p>标配硅谷团队的Groupon，是阿里学习、交流潜在先进模式的最好对象之一。就算是只得到Groupon失利、过气的教训，也是财富难以买到的经验。在成为Groupon的股东之后，阿里或许能够深入观察、了解Groupon的运营模式，并从中权衡利弊，化为自身发展所需要的驱动力。</p><p>此外，目前Groupon已经涉足外卖业务。对于急于在外卖行业有所建树，也投资饿了么，并有旗下口碑网的阿里来说，也能够获取一定的运营知识。在前途莫测的外卖市场，或许一点灵光就能“斩杀”对手。</p><p><strong>&nbsp;阿里要“赚美元”</strong></p><p><strong>&nbsp; &nbsp; </strong>一个容易被人忽视的事情是，阿里的现金储备远超过人们的想象。早在2013年9月18日，阿里巴巴集团宣布对雅虎76亿美金的股份回购计划全部完成。当时阿里巴巴集团表示，此次交易完成后，集团的现金储备为30亿美元。</p><p>而在2015年8月23日，全球股市大跌，阿里巴巴开盘即报58.16美元，一举跌破IPO发行价。当时，阿里巴巴集团CEO、逍遥子张勇于8月25日发表致员工信。在这封信中就提到，阿里拥有上千亿元的现金储备。</p><p>也就是说无论怎样，阿里手中肯定有金额巨大的美元储备。在当下人民币持续走低的态势下，用美元投资美国公司，赚美元对阿里来说不会亏。而且虽然阿里购买的是全球最大团购网站Groupon的股票，听起来虽然很吓人，但实际上通过二级市场投资Groupong是一个“抄底”的时机。</p><p>按照爆料出的时间段来看，当时Groupon的收盘价不足3美元，阿里持有其3300万股，花费不足1亿美元。相比国内动不动就融资数以、十数亿美元的企业来说，算是相当划算了。可以预见的是，阿里在今年类似的投资方式还将更加频繁。</p><p>此外，阿里近来股价一直没有明显的起色，必须要给资本市场新的可以诉说的故事。在阿里收购Groupon股票的消息传出后，双方股价都有所提升。尤其是Groupon，股价大幅上涨逾40%！Groupon的未来有了更多的可能性，阿里有了新故事，可谓双赢。</p><p><strong>&nbsp;阿里要“海外O2O”</strong></p><p>从阿里频繁在海外的动作不难看出，其未来是真正想进驻海外市场，成为全球性的巨头企业。但阿里最核心的电商平台、模式，明显在重要的欧美市场吃不开。要想真正在海外市场立足，除了投资以外，最好的途径就是O2O。</p><p>阿里发言人对入股Groupon的行为表示，“我们买下Groupon的少量股票，是为了在中美两地市场间共享理念”，并特别提及O2O业务。“这只是消极持有，如果Groupon管理层想要与我们交换经验，我们也乐于分享。”虽然说的是“交换”，但其实明眼人都知道阿里眼红Groupon在海外O2O市场的经验。</p><p>Groupon虽然是以团购知名，但近来已经快速杀入O2O市场，拥有庞大的销售团队。从其身上，阿里能学到更多的海外O2O运营经验。虽然阿里持有Groupon股票的比例为5.6%，仅为第四大股东，但从战略层面看，却是下的一步好棋。</p><p>写在最后：</p><p>当初腾讯与Groupon之所以闹得不愉快，是因为双方太过寻求直接的合作。在没有搞清中国本地团购市场特殊情况下匆忙上马，自然会出现诸多问题，最后分崩离析。</p><p>而阿里持股Groupon，虽然有着多方面的考虑，但总体来看还是处于被动状态，并未对后者的发展产生过多的干扰。而一旦Groupon需要阿里帮助，或者寻求合作，阿里肯定会乐于搀和其中。从这点来看，阿里还是有所“预谋”的。花小钱办大事，谁都会高兴的。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
比淘宝更接地气？农村市场为何爱上微商
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1862.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="209" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1862.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="比淘宝更接地气？农村市场为何爱上微商 - 康斯坦丁 - 科幻星系" width="269" /></a></p><p>作为最后一块“净土”，农村市场正受到前所未有的外来影响——尤其是互联网。淘宝、京东在农村的刷墙，以及农村淘宝等的流行，让业界正在重新审视农村市场的潜力。甚至在金融层面，阿里、京东也对农村市场磨刀霍霍——今年1月19日，京东就与中华保险在农村金融领域建立合作。</p><p>然而，一切看似美好的前景和未来，所有的大气澎湃的动作和策略，却很有可能被微信这一小小的应用给打碎。在农村市场的创业者、经营者，尤其是刚入门或小规模经营的参与者，更习惯于在微信上做起微商。难道与淘宝、京东相比，微信更加接地气？</p><p><strong>&nbsp;农村市场爱上微商&nbsp;一场美丽邂逅？</strong></p><p>农村市场与微信连接上，从大环境来看，不单单是自主创业的需求，也是未来挖掘农村市场潜力的必然选择之一。二者的一拍即合，在一定程度上推动了农村市场向集约化、规模化转变的速度，为未来更加现代化的农村市场打下一个良好的基础。</p><p>为了继续拉动国内经济增长，并保证人口红利资源以另外一种形式迁移等，“大众创业，万众创新”的口号成为当下的潮流和指导。而这“双众”举措并不仅仅是针对城市市场，在农村市场也有越来越多的人选择自主创业——毕竟农村人口的数量更多。在传统工作几近饱和的态势下，自主创业就成为必然的选择。</p><p>必须要看到的是，传统创业模式成本高昂，而传统互联网创业的门槛也一高再高。在这样的态势下，越来越多的农民选择依托最流行的应用——微信来创业。与通常我们看到的微商在朋友圈售卖化妆品、保健品、服装鞋帽等不同，农民做微商主要是以农产品、再加工产品等为核心，开始了一场迫不及待的创业之旅。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1877.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="250" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1877.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="比淘宝更接地气？农村市场为何爱上微商 - 康斯坦丁 - 科幻星系" width="380" /></a></p><p>农村市场爱上微商，一是微商上手手续简洁——最简单的，通过朋友圈发点水果、特产图片，留上一个手机号、QQ号就能碰到商机。无需淘宝、京东开店需要提交一大堆资料，并且做一些相对麻烦复杂的店面装修。二是，推广方式简单——自己手里的通讯录，随即就可以变成渠道。在这个电商化的“买手时代”中，只要有好货源，就能立马做起买卖。对于盛产特产的农村市场，拥有货源相对集中，卖家文化水平相对较低的市场中，“微商”又或者说朋友圈买卖，就成为了首选的途径。</p><p><strong>&nbsp;推广成本、方式占优&nbsp;对抗强势淘宝</strong></p><p>毋庸置疑的是，淘宝、京东等专业电商平台，目前对农村市场也下大力气进行扶持，刚刚过去的淘宝年货节等就是最好的佐证。但淘宝、京东这样的专业电商平台太过强势，对小卖家和农村卖家的扶持力度还是远远比不上能付出真金白银流量费、购买最佳广告位置的大卖家。</p><p>即使再对农村卖家有扶持，但基于电商平台依靠流量、广告位置等赚钱的天然属性，始终不能将范围扩大，收益的只是农村卖家中的佼佼者或者幸运儿。绝大多数农村创业者或小卖家，并不能享受到相关的福利。</p><p>而与之相反的是，微信相对来说还是一个比较公平的平台。成为微商，几乎没有任何入门门槛——有网络和智能手机即可。且不需要花费天价去进行广告推广，需要的仅仅是通过熟人社交关系链向外进行延伸。这样的延展开来的熟人社交链，虽然不能和淘宝、京东覆盖全国的消费群体相比，但对于自家的农产品及衍生品来说，显然已经足够。</p><p>而且相对城市来说，农村市场对熟人更为信任，使得已经被玩坏的微商，在农村市场能够得以继续延续，乃至发扬光大。疯狂加人、疯狂利用人际关系链去推广的低成本营销，与当下农村市场的创业套路不谋而合。</p><p>实事求是地说，每当我在朋友圈看到售卖农产品之类的，总是会心生好感——毕竟比化妆&nbsp;价格要低一些，且质量和新鲜度上也更有保障。</p><p><strong>&nbsp;瑕疵依然存在&nbsp;农村微商前路不好走</strong></p><p>微商在农村市场的火爆，显示出农民对全新售卖渠道、自主创业的渴望。对于他们来说，微信平台无疑扮演着高于社交应用的角色，是一条“另类”又新鲜的致富道路。虽然这条路上没有柏油、沥青，却是以社交关系链为骨架，承载着他们的致富梦想。</p><p>不过需要注意的是，农村市场玩转微商并不是完美的，也是存在瑕疵的。由于交易环节监控松散，交易过程中出现假货或者退换等问题，依然成为买家卖家头痛的问题。另外，&nbsp;需要注意的是，在农村做微商，最难的就是物流、快递问题。一般的快递并没有深入农村市场，如何快速、高效、低成本地将农产品等发至用户手中，是农民不得不考虑的问题。从小处来看，很容易透支自己的人脉关系。此外，农产品季节性、不确定性太强，很难形成固定消费群体。此前培养的消费人群，也很有可能就会被同行抢走，消费者黏性太低。</p><p>从大的趋势来看，太过依赖微信平台，就始终不能做大。只能在被禁锢起来，成长潜力较低。做微商还是只合适捞第一桶金，并不适合成为日后的稳定平台。而且微信的政策变化太快，对农村微商的冲击更大，很容易就会前功尽弃。</p><p>但不管怎么说，成为微商，还是给创业的农民多了一个新的选择。如果能在微信、淘宝等之间玩得游刃有余，小康生活还是无忧的。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
外星人没有被发现的原因是它们死绝了？
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="312" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-1818.png" title="外星人没有被发现的原因是它们死绝了？ - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">人类不断地对宇宙进行着探索，从月球到火星再到外星系，想要获得的信息无非就是两点，是否存在外星文明和是否适合地球人移居。在漫漫的上下求索之路上，人类从来没有过任何的放弃，然而最近科学家的新研究结果可能将给以前的研究打上一个巨大的句号。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">Aditya&nbsp;Chopra博士跟他的同事们在澳大利亚国立大学开展了这项研究，据其介绍，人类已经在不少的星球上发现过曾经有水出现的痕迹，因为它们都有潮湿的岩石，还有很多组成稳定星球必须的元素也被慢慢发现了，比如火星等等，然而我们依旧没有发现任何的外星文明和生物。这个原因一直困扰着Aditya&nbsp;Chopra博士跟他的同事们。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在地球的周围或者更远的地方，有着一批适合孕育生命的星球，没有发现生命的重要原因就是他们无法保持生命的持续成长。据他们的研究结果发现，想要真正的孕育出生命，需要一个非常严格、规范的环境，而且这个环境要是稳定和持续的，就像地球一样，其中最为重要的就是需要二氧化碳的浓度达到一定程度，才能保持气温的温度稳定，并且是适合生存的气温。还有就是液态水，很多星球上都有水，然而由于缺乏大气层的保护，所以都已经成为了气态水，没有提供孕育生命的必要条件。几位研究者还告诉记者，曾经科学界都认为火星跟金星是最适合生存的地方，甚至这些星球可能曾经都出现过生命，因为在某一个跟孕育生命过程相比，相对较短的时间里这些星球出现了生命，但是环境的不持续性造成了生命的死亡。如果未来的我们想要在一个星球上找到外星人，那么前提一定是该星球具备一个稳定和舒适的环境，因为我们可以肯定的是任何生命的进化都是漫长的，所以时间不够长必然最终导致生命的灭绝。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">回过头来看看地球，之所以可以孕育出如此多的生物，最重要的一点就是地球的环境在上亿年的时间里几乎都保持着一种相对稳定的环境，气温、大气层和组成结构的变化在一个可持续的范围内。同样，地球上也出现过环境被打破的时候，结果就是恐龙完全灭绝了。因此，Aditya&nbsp;Chopra博士认为其他星球最大的问题就是不稳定，所以有可能某些星球曾经出现过高等生物，但是环境的恶劣直接造成了他们的灭亡。并且他还提出了一种预测，有可能在未来的探索过程中，我们会在某些星球上找到一些生物的化石，可能是微生物也有可能是高等生物。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这个理论引发了学术界的讨论，有部分专家认为一个星球适宜生命孕育的环境形成很难，所以想要打破这个环境也并不简单，环境的不停变化不太可能。然而在笔者看来，且不说Aditya&nbsp;Chopra博士的理论是否正确，起码打开了另外一条探索生命的大门。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p></div>
世界制造三巨头，谁是核心？
<div><p>在过去很长一段时间内，制造业都不是镁光灯的宠儿，只有勤劳的双手在不断劳作，源源不断地生产出可供给全世界的养料，高端的如波音飞机、苹果电脑、或者琳琅满目的奢侈品，低端的也有廉价皮鞋、打火机和小米盒子等等，当然，中国制造业靠的是有血有肉的双手，而德国、美国这种资本主义靠得可能是冰冷的机械手臂。随着工业4.0概念的出现，以及越来越多的金融危机，人类越发认识到制造业的重要性，事实上，一个国家如果没有坚实的制造业做基础，那么，他们的金融体系必然是风险极高的，于是，制造业自2014年开始又回到国家领袖的视线内：德国寄希望于工业4.0重新回到制造业领袖的位置；奥巴马早就要求乔布斯把苹果产品的组装搬回美国，同时，他们也提出工业互联网的概念；中国制造稍显尴尬，我们巨大的规模优势，在世界制造业中占据非常重要的位置，但未来的路却极不明朗，好在，中国制造2025计划又给了这个行业一丝曙光。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1793.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="332" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1793.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="世界制造三巨头，谁是核心？ - 康斯坦丁 - 科幻星系" width="442" /></a></p><p>德国、美国、中国是如今世界制造的三巨头，也都开始布局未来制造的路，但显然，三巨头核心竞争力不尽相同，起点更是相差巨大，经过下一个10年的竞争之后，谁都有可能一枝独秀，也有可能黯然出局，留给大家的时间不多了，特别是中国制造时间更宝贵。</p><p><strong>&nbsp;工业4.0和德国的制造血液</strong></p><p>现在，世界制造业正处于转型的关键时期，最核心的憧憬就是智慧工厂，这个工厂里没有太多的自然人，能够自动地完成生产任务，效率将会达到极致，而自然人的loading也将会降到最低。德国人提出的工业4.0概念，与制造业的这个憧憬高度契合，于是，短时间内风靡世界，事实上，工业4.0不是单独的技术概念，它依托于内外部的基础，比如云计算、大数据和新一代物流是其广义的外部条件，而无人机、3D打印、机械手臂又是流水线上的内部基础，而一旦建立完善的信息系统，未来消费着可以直接联系工厂，所以，工业4.0时代，有可能是商人最倒霉的时代。</p><p>工业4.0的概念非常宏大，囊括了未来制造业几乎全部的智能元素，但这些都不是德国制造业的真正脊梁，事实上，支撑德国制造业的应该是国民之于制造业始终如一的态度。笔者早在文章《中国制造应该向德国学点什么》就曾提到过，德国制造从业者非常“迂腐”，他们能始终坚持自己的产业方向、持续沉淀核心的工业技术，他们坚信唯有制造业才是国民生活的基础，解决了消费者生活、工作和娱乐的问题，于是，即便是在过去5年经济疲软之时，这个国家也没有号召全民炒股，其实，迂腐之人怎么会想到用“虚拟的金融数字”来美化财政呢？正是这种对制造业的坚持和沉淀得以让他们保持领先优势，给工业4.0时代打下了坚实的基础。最后举一个德国人造房子的例子，来说明这个国家对产品和工艺的信仰：2003年，青岛政府收到一封来自德国设计师的信，告诉他们市中心的一座宫殿需要修葺了，并附上详细的修葺图纸和背景说明：原来这座宫殿始建于1903年，由德国人建造，按照设计师的要求，每50年修葺一次，但因1953年正处于第二次世界大战的恢复期，没能及时来到中国，对此深感抱歉，而就在100年的时候，设计师已离开人世，但依旧嘱托继任者要提醒青岛人修葺宫殿，读了这个新闻，再让想想中国的70年产权，真是汗颜。</p><p><strong>&nbsp;互联网++，美国是世界制造的最大客户</strong></p><p>如果说德国是世界制造业的灵魂和精神导师，那么，美国绝对是世界制造业的大心脏，而且，他们也是唯一一个被公认的制造强国+制造大国。如前文所述，奥巴马曾经明确要求乔布斯把苹果产品的组装搬回美国，当时，帮主的回复是：他们再也回不来了，但帮主走后，库克却帮助奥巴马实现了部分愿望，一些iMac的内观上已经出现了assembly&nbsp;in&nbsp;USA的字样。其实，帮主未尝不想帮奥巴马解决就业问题，但问题在于美国找不到足够的低端人力去完成那些枯燥、单调的工作，而库克虽然表示出一些诚意，但最重要的iPhone组装依旧要留到河南。这个桥段反映出两个问题，第一个是美国在低端制造上确实不占优势，只有走一条高端制造+智慧工厂的路，工业互联网是其最核心的竞争资本；第二，美国在基础制造业中虽不占优，但却掌握着这些低端工厂的命运，简单点说，如果美国制造率先完成智慧工厂的升级，大大地提升了制造业效率之后，苹果、Nike们能分分钟把制造业订单拉回美国，毕竟，全世界最风靡的20个品牌，有15个都来自美国。</p><p>毫无疑问，美国是世界制造的最大客户，没有之一，20年来他们向世界输出了大量的品牌，赚取着高额利润，相关数据显示，世界制造业17%的产值都送到了美国，再由那里的人决定给地球哪个角落派送，这也是问什么，他们闹经济危机，全球跟着遭殃。</p><p>另外，美国人擅长在电气和信息化领域进行创新，他们对于代码的精雕细琢不亚于德国设计师建造房子，于是，他们诞生了微软、Google、IBM这些伟大的软件/互联网公司，而其中很多都是专门向制造业企业提供解决方案的。比如大数据概念风靡之后，成百上千的传感器、扫描枪和有线网路，记录了制造过程中的一切细节，通过相应的规则再提取出有效的信息，以帮助制造业企业改善效率，这些数据包括制造业TOP的不良项目，帮助工程师缩小分析范围；也包括设备的健康指标，以提前维护和更换，从而降低产能损失，更高级地则在于通过大量数据找到规律以预测未来，而对于未来订单的精准把握，对于制造业这种重资产的企业来说，简直是救命一样。总之，美国制造业的直接产能在短期内不会有重大变化，但他们正通过品牌战略、工业互联网遥控着整个世界制造业，高端且可怕！</p><p><strong>&nbsp;中国制造2025，先找回人权吧</strong></p><p>德国、美国制造在技术上有着不可比拟的优势，但他们的故事却不如中国多，当然，事故也肯定没有中国多，毕竟，我们靠的是自然人的双手，他们会感觉疲惫、枯燥，会有心理上的波动、有情感的诉求，但现在谁也不敢轻视中国制造，无论是产能、还是效率，亦或是价格上的竞争力，中国都不输美德，他们用机械手臂每小时组装249个，中国流水线女工就用双手每小时组装350个，为了达成产能，大家会在一段高亢激昂的音乐之后，主动压缩休息时间，当然，也是想要多赚点加班费，事实上，中国制造正是以自虐的方式不断提高效率，用低人权的竞争方式来换取订单，从而铸就了制造神话。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1753.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="300" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1753.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="世界制造三巨头，谁是核心？ - 康斯坦丁 - 科幻星系" width="473" /></a></p><p>随着制造业改革大潮的到来，中国制造业管理者没有办法再用之前简单、粗暴地方式完成制造，他们正逼迫着自己提高、引进自动化生产线、信息技术等等，但基于中国国情，制造业的改革重点依旧在于“自然人”，在进入工业4.0之前，中国制造先要找回人权。</p><p>制造业在中国并不受欢迎，年轻人更愿意去阿里巴巴、腾讯、百度这样的互联网公司就职，每每谈起制造业就嗤之以鼻，某制造业企业曾经到某某科技大学招聘居然被赶了出来。这其中有公众、媒体对制造业的误读，也有制造业本身的问题。如前文所述，中国制造靠低人权竞争赢取订单，自然不会出现具有审美性的管理案例，而且因身处产业链最低端，利润微薄，能给予员工薪水肯定也不会太高，连最正规的企业，基本工资也常常是踩着地区薪资最低标准，这也就是为什么会出现制造业基层员工喜欢加班的情况，于这种环境下生存员工是不容易产生归属感的，一旦人员不稳定，技能提升、职业尊严或者其他更高级的情操就无从谈起，久而久之，中国制造业不知不觉耽误了几代人的成长，而未来那些工业4.0或者自动化，又或是什么其他智慧工厂，还是要人才来完成。中国制造与其好高骛远地跟风追求智慧工厂，倒不如踏踏实实地把人才培养好，有了成熟的体系，模仿也好、追赶也好，又或者自己创新就都有了可能，否则，只能处于低端的工业加工等级，无缘高利润。　（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
终极解密：美国冷战时期的秘密空间项目
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="329" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-1760.png" title="终极解密：美国冷战时期的秘密空间项目 - 康斯坦丁 - 科幻星系" width="477" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">人类对于太空的探索技术进步最快的时期就是冷战时期，在这个时期地球上无数的空间技术被创造了出来，而且无数的空间项目被实施了，但是这些项目不单单是为了给人类造福，而是因为当时的超级大国美国和苏联之间的战争做准备。苏联已经不复存在，当年的事情已经被彻底封存，而美国冷战时期的秘密空间项目开始逐渐解密了。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">今天我们谈论的是美国空军的摩尔项目，该项目从1963年12月到1969年6月为止，大约花费了15.6亿美元，这个数字还是以最低值估计的。据解密的信息中来看，在那个年代里，美国选择了17名宇航员，美国宇航局决定进行一项载人空间站发射实验，运用双子座双子飞船将其运送到轨道里，而选择的发射基地就在加利福尼亚范登堡空军基地。</p><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片2" height="420" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-1757.png" title="终极解密：美国冷战时期的秘密空间项目 - 康斯坦丁 - 科幻星系" width="334" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">据当年的科学家介绍，在项目开始的时候就练科学家都不知道到底什么是摩尔项目，是生产轰炸机还是侦察机，到今天究竟是谁提出了摩尔项目都成了一个迷。在早期，摩尔项目要求科学家研发出一种高清摄像机和侧视雷达，从而用来记录探索用。直到很久之后科学家才知道这些东西可能需要安装在一个空间站上，而这个空间站是用来作为武器使用的，所以后来有人提议在空间站上空的时候携带核弹头，可以对地球任何国家进行精确打击，并且很难以被拦截。该项目得到了不少人的支持，于是宇航员的培训也开始了，从心理和生理来训练宇航员，以便他们能够长期在太空中生活。历史文档和研究中心的首席科学家James&nbsp;Outzen告诉我们，在那个时代科学都是为战争服务的，所以这次摩尔项目如果真的被最终通过了，那么人类估计就不会是现在这个样子，一次核战争可能在那个时候就爆发了。参与过当时后期组织计划的一名官员说，“项目是如何开始的，前期是如何准备的都让人非常难以去了解，因为当时我参与项目的时候都已经是项目运行了一年之后，才允许有更多的人加入其中的，但是第一批人是谁都不可查了。”</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">摩尔计划的宇航员詹姆斯?亚伯拉罕森在接收采访的时候介绍了当时的情况，当时我们还在进行训练，结果在1969年6月10日的时候突然有人告诉我们计划取消了，训练停止。没有任何给出过停止的原因，所以他们也不知道究竟为什么。其实这次经历让詹姆斯?亚伯拉罕森成为了美国宇航事业的先驱，后来主持了1980年代美国的航天飞机计划。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">目前该计划已经解密了，但是具体的原因已经不可查，不过值得我们庆幸的是当时该计划幸好停止了，否则将会让全世界面临一场巨大的灾难。你可以想象在70年全球一片荒芜，就像电影里那样人类只能在地下生活的局面吗？（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p></div>
中国芯片，如何“断奶”？
<div><p>关于芯片，全世界的科技从业者都充满着幻想，事实上，搞定了芯片设计、封装、测试的企业大都建立了“长青”的基业，比如早先的英特尔，在个人PC领域独领风骚，移动互联网时代虽然遭遇挫折，但人家底子厚，有的是时间纠正错误；智能手机时代，芯片商更加耀眼，他们甚至从后台走进大众视野，成为销售小姐们提高“逼格”的重要道具，谁说女人看手机只看外观和摄像头，我们也要比一比高通晓龙处理器的性能；三星的半导体能力首屈一指，这让其始终和苹果保持着微妙关系，两家企业在终端水火不如，却又在iPhone供应链上亲密无间，三星向苹果提供了一半以上的手机零部件，其中就包括最重要的A系列处理器，而且芯片的设计、生产能力又注定了三星生命力之顽强，世间罕有，纵然Galaxy败给了iPhone，但三星会比苹果活得更久，50年后，世界可能不再需要手机，但却需要处理器，需要嵌入到一切物体内的高速处理器。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1618.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="252" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1618.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="中国芯片，如何“断奶”？ - 康斯坦丁 - 科幻星系" width="495" /></a></p><p>另外，台湾科技在智能手机时代贡献卓越，最典型的代表就是联发科和台积电，前者踩塌了Android手机的价格门槛，而后者则是iPhone产业链上最重要的成员之一，而他们最重要的生存手段就是半导体芯片设计制造能力，而这或许也是台湾科技最后的自尊。</p><p>相比之下，中国大陆的芯片业就寒碜多了：2015年中国的内资和外资厂商共计使用1450亿美元的各类芯片，但中国本土芯片行业的供给率尚不足10%，在一些高价值的芯片领域几乎全部依赖进口，多年来，我国进口芯片的总值都是要超过石油的。芯片的技术难度大，附加利润也更高，一般利润率会达到40%左右，而被我们做到极致的低端制造业，利润率则只有2%，于是，在进口额和利润率等重要指标的调戏下，中国在2015年制定了目标：10年内将芯片内需市场自制率提升到70%，</p><p>显然，这个目标彰显了中国的野心，但实现难度非常大，如前文所述，现在中国芯片的自制率只有10%，而且是相对低端的，设计人才、专利非常匮乏，更何况，10年厚的世界，电脑、手机形态是否存在还未可知，而且受摩尔定律的影响，我们能把越来越多的电路塞到越来越小的面积之中吗？坦白讲，这个目标不仅狂妄，而且不科学。</p><p><strong>&nbsp;大跃进，谁让中国“芯”碎</strong></p><p>中国有很多事情都死在了“大跃进”的心态上，翻译成通俗的现代化语言就是：急功近利。我们常常在没搞懂事物本质的运行规律时，就盲目制定出了大量不科学的目标，比如在那一段特殊的历史时期，中国开展了高额丰产试验田运动，下决心亩产10000斤；领导给妇女打鸡血，灌鸡汤，让她们“悍妇能为无米之炊”….这些轰轰烈烈的运动基本上都源于一个统一的目标：两年内，建成一个像样的共产主义。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1641.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="334" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1641.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="中国芯片，如何“断奶”？ - 康斯坦丁 - 科幻星系" width="500" /></a></p><p>现在回头看看，这个目标非常不科学，而之所以制定出这样的目标，除了急功近利的心态之外，最重要的原因就是目标制定者没有充分掌握事物运行的本质规律，而且缺乏清晰的数理思维。众所周知，中国人擅长宫斗，但缺乏数理思维，这个特点最该控诉的地方就是：每个时代都会出现不科学的目标，而且常常要消耗大量社会资源。</p><p>话题回到中国芯片，其实，在21世纪初期，中国在芯片领域也取得过一些成绩。由国家扶持拨款，龙芯中科在花光了1000万资金之后，于2002年8月推出“龙芯一号”，这是个里程碑事件，标志着我国拥有了自主知识产权的芯片，接下来的“龙芯二号”则达到了巅峰时刻，这款芯片在Space&nbsp;CPU2000上的测试分数超越了Intel奔腾2处理器。在这种大好的形势下，中国大跃进式的思维又出来作祟，提出追赶英特尔的发展策略，正如，我们曾经踌躇满志地追赶过苏联、美国和日本，但如你所见，中国芯片没能追赶上英特尔，反倒是差距越来越大，同其他大跃进的策略一样，中国的芯片发展目标也是忽略了事物最本质的发展规律。事实上，英特尔在PC芯片领域的成就，远非一朝一夕而来，半导体行业本身就没有捷径可走，一块小小的芯片，从最初的沙子原料，到最终的成品，中间的每一个环节，包括设计、制造、封装、测试等众多步骤都需要长时间的技术沉淀，而且著名的摩尔定律揭示，每隔18个月相同尺寸的芯片上电路会增加一倍，本质上来讲，芯片业的挑战就是突破自己，而不是以某家企业为目标；另外，芯片行业的发展最终要归结于整个生态环境，只有终端有了足够强大的需求，芯片业才有了提升的动机。英特尔之所以在PC领域所向披靡，还有另外一个原因，那就是得益于微软window的统治地位，每隔一段时间，微软就会搞一些不痛不痒的升级，逼着消费者更新硬件，当然，你可以选择不升级，代价就是不兼容，正是在两个行业巨头相互配合之下，英特尔的芯片得以不断升级，并催生出强大的应用。</p><p>笔者猜想中国芯片部门在制定追赶策略时，肯定不会料想在智能手机时代，英特尔也会陷入挣扎和无奈，不知道，他们是否会接着制定追赶高通或者联发科的策略，更加尴尬的是，中国人又常常对这些目标产生幻想，也就是那种不惜一切代价也要达成的幻想，最起码，要弄出个“已经达成”的样子，这就出现了政府大量采购，大量拨款，甚至拟定把外国芯片挡在门外的保护政策，这些违背商业本质规律的决策，注定又让中国“芯”碎。</p><p><strong>&nbsp;忍痛断奶，沉淀技术救我中国“芯”</strong></p><p>任何事物的发展都要符合自身规律，半导体行业没有捷径可走，或许，我们可以制定Aggressive的目标，但一定是在了解事物运行规律和自身能力的情况下做出的决定，否则，只会在不切实际的目标中，不断地消耗社会资源，换来的也只是一些干瘪的政绩数字。事实上，一个行业的成功需要体制、人才以及顺应趋势，具体到中国芯片行业，与其制定宏伟不切实际的目标，花钱如流水地换政绩，倒不如脚踏实地培养芯片相关产业的人才、沉淀技术，花50年甚至更长的时间做点实事儿，相信会有一些可观的收获。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1632.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="463" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1632.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="中国芯片，如何“断奶”？ - 康斯坦丁 - 科幻星系" width="451" /></a></p><p>通常来讲，一个高科技行业的发展，总要归结于人的发展。现在，大家都知道芯片重要，不仅仅关乎钱和利益，更关乎国家信息的安全，当然，总是从国外进口，领导面子上也挂不住，于是，中国大地上掀起轰轰烈烈的“芯片”创业潮，大量的资金流向了顾问和演说家，大家都希望成为导师，在中国，嘴皮子利索的人，更容易拿到补贴，而后他们大肆宣传、打广告、拍照、举行激情四射的演讲，但显然，这些人都不直接创造价值，更明智地做法就是“高薪养技”，把那些用于兴建工业园区的钱，全都给技术人才，或者从硅谷这些科技圣地引进一些华裔人才，避开中间环节，把资金留给真正能创造价值的人，而且，这些人的培养周期，产品的研发周期，政策也最好不要干预，更不能拍脑袋直接制定计划，要找到“懂行”的人来评估，让技术、专业凌驾于政绩之上，而且要做长期投资的准备，如果非要加上一个期限，我想至少是50年，唯有这样，中国的芯片才会有希望。</p><p>好吧，笔者承认让一个有关部门制定出“超出自己任期”的发展策略，是一件非常艰难的事情，但中国芯片想要存活，自给自足，甚至远销国外，没有点长期奋斗的决心是不可能的，10年之于芯片行业太短，莫说自制率达到70%，能出一两个优秀的企业就已然不错，更何况，中国科技从来不引领潮流，10年后，可能又是一个新世界。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
太阳系外巨大的彗星会威胁人类文明
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="454" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-162.png" title="太阳系外巨大的彗星会威胁人类文明 - 康斯坦丁 - 科幻星系" width="394" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">人类文明在地球上存在了至少400万年的时间，才慢慢形成了我们现代高度发达的社会。然而我们赖以生存的地球却面临着诸多危机，让人类文明有着覆灭的威胁。其中大部分都是由于自然条件恶化造成的，不过今天看来，人类不仅有着内忧，还有着外患，它就是遥远的彗星。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">英国白金汉大学的科学家比尔·纳皮尔经过长时间的研究和观察后发现，在太阳系外围数以百计的巨大彗星已经开始对人类文明构成了威胁。这些巨大的彗星被称为半人马彗星，直径高达50至100公里，甚至更大。目前它正在以不稳定的态势陆续穿过星、土星、天王星和海王星的轨道，如果行星引力场对它产生了吸引，那么就意味着它会向地球飞来，大约在4万年到10万年后，它可能就会进入地球的轨道。随着该彗星离太阳的距离越拉越近，彗星不可避免的就会被解体，直接破裂成碎片和尘埃，不断地向着地球冲击，最终这些碎片和尘埃将给地球带去巨大的灾难，直接引发的巨大洪水和尘埃将让地球上的所有生物都面临死亡的威胁，而人类更是首当其冲的受害者。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">彗星的解体时间歇性的，大约将持续10万年，这就意味着在如此漫长的时间里，即便能够躲过第一波的冲击，陆陆续续到来的冲击将彻底让人类文明灭绝。或许正是由于彗星的这种威胁，在公元前1万年和公元前2300年才会发生了灭绝事件，恐龙在那个时候全部死亡了，而刚刚起步的人类文明又突然消失了。彗星的撞击或许是一个不错的解释！在过去的1万年里，地球还在经历断断续续的灰尘、流星和彗星的威胁。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">为了支撑这个理论，内皮尔教授寻找了多种证据，其中阿波罗计划在陨石坑里带回的月球陨石比其他岩石年龄年轻了将近3万岁，而与此同时，这个时间段内太阳系正好发生了大规模的尘埃风暴，由此可见一次冲击是非常可怕的。因此，现在各国研究机构都在努力找出对地球产生威胁的天体，目前美国宇航局做得最为出色，一共追踪了12992颗天体，其中1607颗被认为具备威胁地球的能力。而今天发生的这几百颗彗星也同样对地球充满着“敌意”，因此研究人员认为最好将它们也添加入名单，并且拿出解决方案。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">人类社会经过了这么多年的发展，我们现在已经具备了较强的科技实力，而通过未来至少4万年的发展，人类的科技也应该拥有了一个相对较高的科技能力，最终可能会通过一些手段将这些威胁地球存在的天体彻底解决，就像是《彗星撞地球》里哪像，发射小型飞船去炸毁彗星，大大减弱其对地球的威胁。不过究竟如此我们现在根本无法想象，但是我们坚信，人类能够经历如此多的困难生存下来，那么就依旧会为了继续生存而做出决绝的努力。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p></div>
台湾科技挣扎，人祸大于天灾？
<div><p>不同的时代，总会出现不同的枭雄，战争领域如此，科技领域也如此，因消费者的需求不会停滞，我们永远不用担心没有“科技英雄”去膜拜，唯一不同的是，这些科技英雄的技能不同、文化不同，还会满世界地飞来飞去：</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1569.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片1" height="277" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1569.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="台湾科技挣扎，人祸大于天灾？ - 康斯坦丁 - 科幻星系" width="461" /></a></p><p>移动互联网时代，科技英雄大都来自欧美，他们举着iPhone监视着世界一举一动，顺便赚下了天文数字般的利润；来自大洋彼岸的Android，又是一个奇迹，野蛮生长之后，它创造了平民级的智能手机市场，笔者坚定地认为，推动移动互联网最大功臣，应该是android，事实上，任何消费性技术都需要推广到寻常百姓家才能说是成熟，倘若没有Android，世界对智能手机的理解不会如此深刻，iPhone的光辉估计也会打折扣；此外，中国大陆也在这一波移动互联网的大潮中涌现了不少青年才俊，时下中国最火的互联网人物无疑是马云，他在成功前长得不是太好看，成功之后却成了帅哥，当然，他并没有去整容，而是用思维、奋斗、钱和鸡汤改变了中国女人的审美观，真正的人生赢家，逆袭之典范；腾讯的马化腾、百度的李彦宏则是真正意义上的青年才俊，人帅多金又顾家，更具审美性的则是，他们的产品已经同电饭锅、沙发、手电筒成为消费生活的必需品，加之，中国大陆的手机，这两年突飞猛进，销量经常进入前三或者前五，诸如雷军、杨元庆等翩翩科技郎已然完成蜕变。</p><p>现在，欧美、大陆、韩国都在移动互联网时代熠熠生辉，他们每天就琢磨着如何瓜分世界，而一些传统的科技圣地正开始遭遇危机，日本电子红极一时，任天堂、索尼、夏普等企业曾向世界源源不断地输出终端产品和零部件，但如今的日系电子企业就像一具具尸体，散发出死亡的味道。而与之有着千丝万缕联系的台湾科技，也正卸掉光环，他们看上去还不像尸体，却已然是垂垂老矣，否则，台湾最著名的企业家不应该只是张仲谋和郭台铭。</p><p><strong>&nbsp;台湾半导体，只是小小的骄傲</strong></p><p>早在40年前，世界科技进行第一次国际化分工的时候，台湾分到的工作就远比大陆体面得多。或许因总人口仅有2300万、环境资源也并不丰富，最起码，生产资料肯定比不过中国大陆，这也使得他们基本上放弃了“先用廉价劳动力赚一笔”的想法。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1556.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="220" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1556.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="台湾科技挣扎，人祸大于天灾？ - 康斯坦丁 - 科幻星系" width="330" /></a></p><p>从上世纪80年代开始，在政策和环境的双重作用下，台湾的工业开始向资本密集、技术密集转化，且迅速成为全球最大的电子产品生产基地，其间涌现出了全球顶尖的半导体代工企业，建立起一整条的IC供应体系，时至今日，联发科芯片设计、台积电芯片制造等相关企业依旧是电子供应链上的狠角色；台湾科技之于PC产业的零部件生产、整机组装也做出了巨大贡献，华硕、宏碁的电脑由台湾岛出发远销全世界….据说在台湾科技，特别是半导体行业最红火的时候，他们的工业园区内是不敢停电的，只消半个小时的产能损失，就有可能影响全球电子产品价格以及整个供应链的波动。</p><p>比较遗憾的是，台湾在其半导体和其他产业最辉煌的时候，没有思考如何转型，更没有深入探究移动互联网的运行规律，或许，企业家们都想过了，但长期的生产模式让其短期内根本无法转型，事实上，当一个地区把生意做到极致时，就再难转型了。</p><p>其实，凭借强大的半导体产业链，台湾企业赚了一些钱，而且建制完成世界上最重要的高科技硬件中心，但他们的发展模式，一直是以苹果、戴尔、东芝等品牌的合作为主，企业家不注重对本土品牌的培养，这种模式带来的恶果就是“永远慢一步”，更有甚者让人取代。事实上，培育品牌的主要目的不是获得镁光灯，或者登上报纸头条，而是一个地区必须要有前沿的龙头企业，有直接能够倾听消费者声音的企业，有能够创造流行趋势的企业，苹果就是这样的企业，他们创造了iPhone，左右着消费者的购买选择，从而掌握了产业链上绝对的主导权；相比之下，台湾科技就没有这样的企业，他们孤岛难鸣，甚至搞不清楚世界的流行趋势，这种后知后觉态度，让其只能依靠半导体设计、代工生产，辛苦一生，却又难以青史留名，更糟糕的是，每次大变革，台湾企业都好像死过一回。</p><p><strong>&nbsp;台企挣扎，天灾还是人祸？</strong></p><p>台湾科技正陷入挣扎，他们缺乏优秀的品牌：宏碁、华硕听上去就会有一种老旧的尘土味儿，宏达电（HTC)倒是个小鲜肉，只可惜生如夏花，在与苹果、三星仅有的两、三轮的竞争中就输得一败涂地，专家们预测宏达电未来年亏损额将达到6.5亿美元；台积电、富士康现在的日子过得还不错，但都是受惠于苹果订单，今年iPhone6s的销量刚打了个哈欠，这两家企业就陷入了深深的焦虑，总之，都是一些命运非自己掌握的可怜人。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1544.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="236" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1544.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="台湾科技挣扎，人祸大于天灾？ - 康斯坦丁 - 科幻星系" width="356" /></a></p><p>如前文所述，台湾的市场、资源、品牌都不占优势，于是他们对外部环境的变化更加敏感，事实上，从外部环境来看，造成台湾科技企业困境的有多重因素，首先是苹果等品牌商之于整个产业链的掌控日渐深入，台积电可以拿到iPhone的芯片订单，但一定是和三星打上几轮价格之后的事儿，而且，新iPhone的芯片订单又不一定拿得到，前期为满足苹果需求而进行的大规模投资，成本回收的难度非常大；另外一个巨头三星，韩国人把全产业链优势发挥到了极致，仅仅这一家企业就给整个台湾科技造成了毁灭性的打击，正可谓“论半导体江山谁主沉浮，非三星莫属”，连苹果都要忌惮的企业，台湾科技众生就更不用说了。除了这些巨头之外，中国大陆还悬浮着大量的颗粒企业，他们也在很大程度上分流着台企的利润，尤其是深圳电子产业链日益完备，已经成为台湾不可忽视的对手。</p><p>外部环境如同天灾，台企难以掌握，事实上，8年前谁也不知道苹果会弄个iPhone来恶心全世界的科技竞争者，但除了天灾之外，台企的人才培育模式也值得反思，事实上，任何企业的成长和衰败都要最终归结于人。在台湾科技最鼎盛的时期，管理者基本上采用技术股和分红配股制度，这些鼓励制度帮助企业留下了很多关键性的人才，但台湾企业秉承了日系电子的文化，基本上是一种“低调赚辛苦钱”的文化，这种企业文化可以保证基础的产能、保证员工兢兢业业、保证效率不断提升，但终因太过于强调“吃大苦、耐大劳”的精神，而逐步消灭了年轻人的创新热情。台企用人制度之所以该遭到控诉，是因它只教会了台湾年轻人兢兢业业，懂得熬，耐得住寂寞，这也就是为什么，美国能诞生马克-扎克伯格这样25岁的CEO，比尔-盖茨在闻名天下时，年龄也不大，而台湾的企业，依然掌握在老一辈的企业家中，台积电的张仲谋已经到了花甲之年，富士康的郭台铭也有64岁了，这些老头子们都想退了，但苦于找不到接班人，因为在他们的接班人还没有熬出头！</p><p>企业可以说是一个地区内最重要的组织结构，它不但输出产品，也输出人才和文化，这对于整个社会的影响都是深远的、重大的，同时，希望每一个社会里都能有好的企业，为社会运行提供源源不断的养料，物质的、精神的!（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
狂赚310亿美元！安卓系统的钱究竟是怎么来的
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1441.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片1" height="286" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1441.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="狂赚310亿美元！安卓系统的钱究竟是怎么来的 - 康斯坦丁 - 科幻星系" width="246" /></a></p><p>&nbsp;</p><p>免费的产品、服务就不赚钱？看到这句话，奇虎360就偷偷地笑了。因为以免费杀毒软件及其他应用等为核心的奇虎360市值高达80亿美元，就这周鸿祎还不满意，吵着闹着要私有化！与之相仿，我们印象中完全免费，甚至被各大手机厂商改造的面目全非的安卓系统，其实也在闷头赚大钱！</p><p>据外媒报道，甲骨文代理律师在法庭上披露，谷歌Android操作系统已经创造了310亿美元营收，220亿美元利润，利润率达70%！虽然谷歌认为这些数字不应该被公布于众，因为甲骨文律师披露的信息来自其内部机密财务文件，但也证明着这天文数字的真实性。印象中随意被揉捏，完全开源免费的安卓系统，到底从哪捞钱的呢？</p><p><strong>&nbsp;广告！广告！谷歌赐予安卓的生命线！</strong></p><p><strong>&nbsp; &nbsp;</strong>甲骨文之所以曝光安卓的收入与利润，是因为其目前正在与谷歌对簿公堂。甲骨文指控谷歌使用其Java软件开发安卓系统，但没有支付相应的费用，索赔金额可能超过10亿美元！而对于甲骨文的做法，谷歌非常恼火。在法庭文件中谷歌表示，“除了一般业务，谷歌从未公开披露过Android业务的单独营收和利润。这些非公开财务数据高度敏感，公开披露可能会对谷歌业务产生严重负面影响。”虽然谷歌大动肝火，但也从侧面看出来谷歌对安卓的重视。而就分析来看，安卓狂赚310亿美元的重要支柱之一就是谷歌为其提供的移动广告圈子。</p><p>先不说安卓，就算是谷歌本身也是极其依赖广告收入。据了解，谷歌90%的营收都是由广告收入聚合而来。据谷歌2015年第三季度财报显示，其总营收为186.75亿美元。而这其中，网站营收130.87亿美元（可以认为就是广告收入），网络（谷歌合作伙伴网站通过AdSense计划产生）营收为36.94亿美元，其他营收仅为18.94亿美元。</p><p>对于谷歌来说，其搜索、邮件等核心业务虽然并没有直接赚钱，但它们毫无疑问是谷歌广告生态的坚实基础。安卓系统统一如此，它在谷歌移动广告的最佳载体，是谷歌在移动市场不可或缺的一部分。</p><p>现在被甲骨文曝光，自然非常愤怒——财不外露才是王道啊！要知道在2013年三星安卓手机发展得如日中天的时候，其在安卓手机市场份额超过40%，出货量较市场上的排名第二的同行高出2亿部！虽然这带动了谷歌手机广告营收增长，但也让后者感到焦虑。安卓业务主管安迪·鲁宾当时就表示，公司与三星的关系正逐渐复杂化。因为三星仗着自己对谷歌的重要性，已经表露出期盼更高分成的意愿。</p><p>为了让安卓系统上的广告做得更好，收入更高，谷歌还做出种种重要举措。谷歌近日表示，其在2015年着重加强了针对移动广告和应用开发者的行动。约有2.5万个应用账户被禁止携带谷歌广告，其中大多数都是因为存在违规行为，影响用户体验。此外，在成立Alphabet控股母公司后，谷歌新任CEO&nbsp;Sundar&nbsp;Pichai上任后的首次重大人事变动，就是针对对关键的广告和Android部门主管进行调整。</p><p><strong>&nbsp;Google&nbsp;Play：应用商店是聚宝盆</strong></p><p>而安卓系统另一个money来源，就是从移动应用商店Google&nbsp;Play中获得的营收。据应用研究公司App&nbsp;Annie发布的研究报告显示，2015年，Google&nbsp;Play的下载量比苹果App&nbsp;Store高出100%，2014年则是高出60%。也就是说，去年Google&nbsp;Play不仅仅体量更大，增速也要快于App&nbsp;Store。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1440.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="200" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-1440.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="狂赚310亿美元！安卓系统的钱究竟是怎么来的 - 康斯坦丁 - 科幻星系" width="340" /></a></p><p>当然，限于安卓应用的质量一般比不上iOS应用，且苹果设备用户更舍得消费，因此App&nbsp;Store的收入比Google&nbsp;Play多75%。而App&nbsp;Store在2015年的总收入达到214.5亿美元，也就是说，Google&nbsp;Play在2015年的总收入达到122.5亿美元，同样是一笔天文数字。</p><p>对于谷歌来说，Google&nbsp;Play就是一个取之不尽，用之不竭的聚宝盆。在移动智能终端市场，安卓系统始终占据着最强势地位，这就意味着Google&nbsp;Play的位置不可动摇。在过一段时间之后，Google&nbsp;Play就要入华。虽然国内应用商店已经“满员”，但并不妨碍Google&nbsp;Play成为其中的佼佼者。毕竟原汁原味的体验，也是有部分拥趸的。</p><p><strong>&nbsp;互联网时代免费依然有利可图</strong></p><p>当下，无论是音乐、视频，还是图书等，都在叫嚣着全面迈入收费时代，而这也是大势所趋的方向。但这并不意味着免费在互联网时代就毫无意义，毕竟互联网的精髓还在于开放性上。尤其是对于互联网服务来说，它们不像音乐、视频等一锤子买卖，是具有可持续发展性的。属性的不同，决定着免费依然有利可图。</p><p>安卓系统狂暴的赚钱方式，就给出了最好的佐证。或许互联网从业者也要从收费or免费的怪圈中惊醒，选择更加适合自己的。一味的收费或免费，都会犯上选择性的错误，还是应该从互联网产品或服务的根本属性出发。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
只有土豪才送得起的情人节礼物
<div><p><img /></p><p>&nbsp; &nbsp; &nbsp; &nbsp;玫瑰花似乎已经成为了情人节的专属礼物，但其实情人节还有很多的礼物可以相送，这些礼物的浪漫层次相比起玫瑰花来说是有过之而无不及，甚至有些礼物是土豪级别的，奢华大气上档次，那么这些礼物都是什么呢？</p><p>&nbsp; &nbsp;</p><p><strong>甜品</strong></p><p><img /></p><p><br /></p><p>&nbsp; &nbsp; &nbsp; &nbsp;巧克力之屋（&nbsp;La Maison du）的四个限量版浓情巧克力，由著名厨师尼古拉斯创作，他是由南非红茶、斯达黎加菠萝、委内瑞拉可可和意大利皮埃蒙特榛子制作的，气味芳香、口感丝滑醇厚，是情人节的礼物中的良品。</p><p><br /></p><p></p><p><br /></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Grand Cru今年上市的“吻我”系列黑巧克力是由名厨弗朗索瓦用来自委内瑞拉一个海滨小镇的可可制作的。这个小镇自16世纪以来一直生产巧克力。可以说，这款巧克力应该算是精品中的精品。Stick with Me的巧克力由苏珊娜和Yoon甜品品牌共同创办，曾经这个牌子的巧克力在纽约餐厅推出了一款独特的手工制作的巧克力，成分有柚子、抹茶、黑芝麻等。</p><p><br /></p><p><strong>&nbsp;红酒</strong></p><p></p><p><br /></p><p>&nbsp; &nbsp; &nbsp; &nbsp;提到红酒总是让人感觉很浪漫，仿佛这两个是天生一对。纳帕谷的雷蒙德葡萄园用行动完美的诠释了红酒与浪漫，他用赤霞珠（一种葡萄的品种）酿取了完美的红酒，天鹅绒般的醇厚的口感，葡萄浓郁的甜香，无一不为这个情人节的浪漫增色。玫红色礼盒上华美的纹理、闪闪发光的名牌和精细的抛光手艺，无疑不预示着葡萄酒的价值，这可谓是情人节中最浪漫的元素了。</p><p><br /></p><p><strong>&nbsp;珠宝</strong></p><p></p><p><br /></p><p>&nbsp; &nbsp; &nbsp; &nbsp;这款名为“新传说”的珠宝戒指，设计灵感源于1950年演员詹姆斯?迪恩的一部作品。戒指由黑色缟玛瑙、老虎铁、钻石和赤铁矿与蓝色的黄水晶相结合，设计复古经典，集合了包括袖口、领带夹所用的材料和元素。每一件都是手工制作，价格从240美元到6000美元不等。</p><p><br /></p><p></p><p><br /></p><p>&nbsp; &nbsp; &nbsp; &nbsp;圣心吊坠是另一款珠宝吊坠，它的设计灵感来源于旧世界的工艺实践，并将传统艺术与现代审美相结合。这个吊坠是由两名工匠共同设计，用料是22K的金和氧化银，中间是心形的圣心，造型犹如两个卫兵守卫着钻石和蓝宝石。它的设计是独一无二的，价格从5000美元到250000美元之间不等。</p><p></p><p><br /></p><p>&nbsp; &nbsp; &nbsp; &nbsp;纽约的珠宝商也设计出一款令人眼前一亮的新耳环，它使用了难寻的常温红色缅甸尖晶石，花了一年时间才制作完成。耳环中心装饰着34克拉的红色尖晶石和24克拉来自波斯湾的天然巴士拉珍珠，耳环四周都是10.5克拉的白色钻石。该款珠宝设计华美，价格在100万美元左右。</p><p><br /></p><p><strong>&nbsp;手表</strong></p><p><img /></p><p><br /></p><p>&nbsp; &nbsp; &nbsp; 每年情人节，Blancpain公司都会发布一款手表，而2015年的情人节发布的这款手表名为“玫瑰说我爱你”，该款手表的特点是珍珠母表盘镶嵌有粉色珍珠母玫瑰浮雕。手表设计淡雅又不失华贵。同时，表盘上还装饰着钻石，水晶的表面上也有粉红色的珍珠母。情人节这天仅有14只手表会售卖，当然价格不菲，高达5万多美元。</p><p><br /></p><p>&nbsp; &nbsp; &nbsp; 相信你已经可以从这些土豪级的礼品里获得一些情人节制造浪漫的灵感，那就行动起来，给你的另一半一个惊喜吧。（科幻星系 康斯坦丁/文）</p><p><br /></p><p>&nbsp; &nbsp; &nbsp; 本文如需转载，请联系QQ：102927545，并注明出处</p><p><br /></p><p>&nbsp; &nbsp; &nbsp; 科幻星系官方微信公众号：kehuanxx</p><br /></div>
手机分发真能抢媒体平台的饭吗？
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0519.png" rel="nofollow" style="color: rgb(52, 73, 94);"><img alt="图片1" height="174" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0519.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="手机分发真能抢媒体平台的饭吗？ - 康斯坦丁 - 科幻星系" width="464" /></a></p><p>互联网的多元化态势和高强度的可塑性，让其相比传统行业有了在跨界层面玩出多种花样的资本。滴滴打车从单纯的打车服务延伸至拼车、卖车、快递等多元化服务；支付宝由小变大，升级至蚂蚁金服这样的互联网金融平台，集合支付、借贷、理财等功能于一身；微信从开始的交流应用，变成手游、公众号、支付等功能聚集全平台……</p><p>在跨界成为流行趋势的当下，手机分发平台也不甘落后，欲伸出触手，向多方面延伸。而它们发力的重点，则是生活服务以及包括音乐/图书/杂志/视频等在内的数字版权内容。尤其是后者，成为手机分发平台发力的重点。而想在今年趁势飞起，跨界升级的手机分发平台，能抢媒体平台的“饭”吗？</p><p><strong>&nbsp;手机分发平台强势出击&nbsp;扩充内容成今年最重要策略</strong></p><p>随着移动互联网的高速发展及智能手机的广泛、深入普及，与智能手机应用密切相连的手机分发平台在此消彼长的发展态势下，也在不断转换形态。从以机锋商场等为主的第三方手机分发平台，到以百度收购91助手、阿里收购PP助手、腾讯推出应用宝等巨头成为手机分发霸主，以及手机厂商如小米、魅族、华为等推出自家手机分发平台，整个手机分发市场的主角在不断变化。</p><p>手机分发市场领导者角色的变化、体量的不同、矩阵的增大，给予了市场更多的想象空间。从单纯的移动应用分发，开始逐渐向其他细分领域延伸，并根据自家旗下的业务，摸索着适合自己的手机分发策略。</p><p>百度手机助手提出“分发3.0时代”，在百度看来，新的分发取向将主要以“服务”为主。除了常规的移动应用以外，手机分发平台还要承担起生活服务等功能。而360手机助手则宣布开启5.0&nbsp;five&nbsp;me版，以全民分发为基础开发，为不同用户打造具有针对性的“应用圈”，给予用户更多选择。比如手游圈、骑行圈、美食圈等，力争将手机分发平台做的更加多元化。</p><p>此外，腾讯高层表示未来应用宝也会在内容上有所改变，将施行“应用＋”战略。除了移动应用外，还将分发应用的内容与服务，图书、视频、生活服务等都能在应用宝中获取。而PP助手宣布开启开启移动应用分发“数据+”新战略，未来将会依托阿里大数据，实现大数据全景式精准分发，为用户提供更加精准的个性化服务。</p><p>可以看到，这些国内领军的手机分发平台，都在积极转变自身角色，不断为平台扩充分发的内容。而这也将成为今年手机分发平台的最重要策略，在壮大自身的同时，也将会影响着整个手机分发市场的走向。</p><p><strong>&nbsp;数字版权成突破口&nbsp;或成最大输出管道？</strong></p><p>在众多手机分发平台扩充内容的表态中，我们不难发现，生活服务和数字版权内容成为重点。尤其是后者，与移动应用有着紧密联系，不仅更容易通过平台进行分发，也很容易受到用户青睐。</p><p>图书、杂志、视频、音乐等数字版权内容，从属性上来看，也属于娱乐、休闲方向，与移动应用有着千丝万缕的联系。而且与复杂的生活服务相比，这些数字版权内容基本上都是以单个为点播、下载的标准，非常适合手机分发平台。如果未来再加上新闻、评论等时效性较强的内容，完全能够构成数字版权内容的矩阵。在手机分发平台遍及每个智能手机应用的当下，成为数字版权内容的最大输出管道将不是空想。</p><p>互联网巨头玩跨界，其影响是多方面的。对传统行业来说，互联网巨头的杀入，意味着整个行业产业链将得到彻底改变，传统模式将得到冲击，必然会影响多个企业的发展前景。而对于互联网中小企业来说，也有可能带来灭顶之灾。</p><p>手机分发平台对数字版权内容的分发，毫无疑问将会削弱媒体平台的传播能力。最终，原本在移动互联网时代就处于弱势的媒体，将会愈发式微。</p><p><strong>&nbsp;完成内容闭环？手机分发平台更具潜力</strong></p><p><b>&nbsp; &nbsp; &nbsp; &nbsp;</b>得益于手机分发平台本身已有的生态，数字版权内容的融入将会极大地提升其分发内容的丰富性。而与以往第三方规模较小，实力孱弱的手机分发平台不同，现在领衔的手机分发平台都有着巨头做靠山，很容易完成内容上的闭环。比如PP助手有阿里旗下的UC浏览器、阿里云、阿里文学、墨迹天气等相助，且能够运用阿里的大数据。应用宝更是有QQ、微信得天独厚的资源，配合腾讯其他产品和服务，在内容的量级和封闭性上也能做得不错。</p><p>从这方面来看，在完成内容闭环上，手机分发平台更具潜力。相比单一的媒体平台，手机分发平台太过强势。在今年，手机分发平台不仅要抢媒体平台的“饭”，甚至连其饭碗也要夺走！（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
大脑是如何区分安全和威胁的？
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="281" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-0423.png" title="大脑是如何区分安全和威胁的？ - 康斯坦丁 - 科幻星系" width="540" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">不管是人类还是动物，对于安全和威胁都有一种直觉，大脑会因为我们的所见所闻而做出判断。然而我们不知道的是，大脑究竟是如何区分安全和威胁的呢？我们今天来看看，大脑这个神秘的器官是如何让人类趋吉避凶的。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">最近，纽约大学神经科学研究中心的神经和生理学博士杰伊塔·巴苏进行了一项研究，针对大脑是如何进行“趋吉避凶”的问题进行了研究。据杰伊塔·巴苏介绍，学习和记忆是大脑最基本的能力，这使得我们能够做出适当的恐惧反应，达到避免危险等等情况。同样，既然具备避免危险的能力，那么大脑也会做出安全的划分，让我们表现出安全的反应。我们已经得到证实的一件事，海马体跟内嗅皮层是大脑用来形成和存储语境记忆并且保持关联的重要区域。这两个区域通过一个复杂的网络或者神经元来连接大脑细胞。虽然现在已经可以确定大部分网络是如何运行的，但是依旧有一部分自始自终是一个谜。杰伊塔博士告诉我们，内嗅皮层通过神经元跟海马体进行联系是通过了两种不同的路径，曾经我们以为这两条路径通过组合的方式来到达让人产生不一样反应的效果，但研究上始终没有任何进展，直到最近有发现第三条路径，它的出发点一样，但是目标确实未知的，这就给我们之前的发现做好了背书，让其有可能成为现实。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在我们的大脑中，有80%的神经元处于兴奋状态，而另外20%神经元处于抑制状态，就像是一辆超跑在发动机保证它能够疯狂加速的时候也必须有最好刹车保证它随时能停下来。不过对于大脑来说，第三种路径就像是一个缓冲装置，让车辆能够进行预判提前一些时间刹车，保证不出现急刹车的现象，或者是在加速的时候缓踩油门，慢慢的提速。正是这种神经元被发现，杰伊塔·巴苏做了一个实验，先通过记录老鼠正常情况下的神经元活动，再记录通过刺激老鼠之后神经元的活动。然后研究人员慢慢释放,LRIP信号，即当初刺激老鼠时自然释放的一种信号。结果发现，老鼠在接收到这个信号一开始，就会开始出现害怕的反应，随着信号的加强，老鼠害怕的反应就越大，而停止信号释放的时候，老鼠的紧张情绪就会消失。由此可见，在信号向海马体和内嗅皮层输送的过程中，必然有神经元是充当了闸门的作用，通过信号的强弱来改变输送速度。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">杰伊塔博士认为，或许普通人还不太了解这项研究有何重要意义，但实际上这项研究让人类对治疗精神类疾病有了新的方向。即有些精神病患者的反应很突然，会突然害怕或者突然紧张，有可能就是相关的神经系统出现了问题，如何能够通过信号来改变和改善其中神经元的通路，那么就有可能将他们的病症进行完全治疗。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p></div>
收费的QQ群 改变的不只是所谓的在线教育
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0428.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片2" height="342" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0428.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="收费的QQ群 改变的不只是所谓的在线教育 - 康斯坦丁 - 科幻星系" width="554" /></a></p><p>如果说国内互联网企业中最会捞钱的，腾讯敢认第二，恐怕没有其他的企业敢认第一。依赖QQ这一历经十数年发展起来，并延伸至互联网个细分领域，提供全面服务的应用，腾讯建立起一个庞大的商业帝国。时至现在，成为中国互联网上的标记之一的QQ早已脱离单纯的沟通、交流作用，附加上太多商业元素。同门师弟微信在商业模式上与其相比，还有很长的路要走。</p><p>但即使扩张到现在的地步，QQ仍然不满足。近日，QQ竟然对最基础的群功能痛下“狠手”，推出付费入群功能，这是QQ加群的第一个付费方式。据悉，用户申请入群时，需要向群主支付一定的费用。金额为1-20元范围内的整数，由群主设定。更让人“喷饭”的是，用户付费后就能直接加入群，不再需要群主或管理员的审核——钱完全成了畅通无阻的敲门砖。那么问题来了，收费的QQ群，真像腾讯说的那样只是为了教程、学习等类型的群吗？</p><p><strong>&nbsp;为了在线教育？付费入群只是锦上添花</strong></p><p>虽然已经有了邮箱、音乐、旋风、输入法、游戏大厅、电脑管家、浏览器、飞车/仙侠传/三国等多个延伸应用和游戏，但QQ其实从未放弃对在线教育的关注和投入力度。QQ天然的一对一、一对多沟通、交流属性，对于在线教育来说有着天然的优势。尤其是一对多、多对多的QQ群，更是占据着在线教育交流的制高点。</p><p>在最新的8.1版本中，家校、师生群新增“题库作业”，提供海量在线题库和作业智能评测，并将这一功能放置在版本更新的第一显眼位置。此外，与在线教育相关的远程演示、文档演示等更是一个都不少。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0496.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="256" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0496.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="收费的QQ群 改变的不只是所谓的在线教育 - 康斯坦丁 - 科幻星系" width="334" /></a></p><p>&nbsp;</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0489.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="243" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0489.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="收费的QQ群 改变的不只是所谓的在线教育 - 康斯坦丁 - 科幻星系" width="376" /></a></p><p>而QQ群试水在线教育早在此前，就已经暴露出“野心”。在2013年11月中旬发布的QQ2013正式版SP5，就是主打“教育模式”功能，支持远程教学。在这个版本中，群视频新增教育模式，专为远程教学量身定制；群视频新增演示PPT，远程会议轻松搞定等功能的增加，使得远程教育成为可能。</p><p>就目前来看，QQ通过群组功能，在在线教育市场已经分得一杯羹。付费入群功能的添加，更像是锦上添花而已。想入教育等群组的肯定会进入，根本不会在意那最高不超过20块的入群费；想依赖QQ群组的教育来赚钱的，也不会狭隘地去设置付费入群的门槛。腾讯此举，显得有些多余。</p><p><strong>&nbsp;监管难度加大&nbsp;“黄赌毒”群组或借此泛滥？</strong></p><p>很明显，所谓的付费入群功能并不是专门为在线教育及相关领域研发的，那只是一个幌子而已。其中一个说明我们不能错过：群成员支付的进群费用将在次日转账至群主QQ钱包余额。也就是说，群成员必须在绑定银行卡等之后，使用QQ钱包给群主付费，而这些钱也都会落入群主的QQ钱包。难道这是QQ钱包对抗支付宝，以及同门师弟微信支付的杀手锏？</p><p>但无论如何，付费入群的出现弊端还是有很多的。最明显的，就是会加大入群的难度。或者说，对于一些群还是减小了入群的难度。由此一来，群组将更加难以管理。毕竟群成员是付费近来的，总不能随随便便地就踢吧？很容易就会造成群组的混乱。</p><p>此外，付费入群功能的出现，也有可能会让“黄赌毒”、暴力等群组出现的可能性、几率增加，加大监管的难度，由此导致这些群组的泛滥。最终，QQ推出的这项功能是搬起石头砸自己的脚！</p><p><strong>&nbsp;商业化是否意味着敛财无底线</strong></p><p>不得不承认，腾讯的商业化是极其成功的。原本只是沟通、交流的工具QQ，就被其变成取之不尽，用之不竭的聚宝盆。不提其他延伸领域，仅仅是各种会员、各种钻等依赖于QQ的增值服务，就让腾讯赚得盘满钵满。</p><p>腾讯将人的心理摸得太透了。举个很简单的例子，以前QQ会员就很牛了，但超级会员一出现，前者立刻就毫无优势可言，成为被吊打的对象。只要每月多十块钱，就能享受超级会员各种“然并卵”的权益，成功哄了多少用户啊！</p><p>如今，QQ变本加厉，竟然推出付费入群这毫无意义的敛财招数，简直是打破了自己的底线！商业化并不意味着能够无限制地添加各种付费功能，如果是那么远的话，只是在摧毁自己的存在根基——要是以后加好友都收费了，QQ还有存在的价值吗？而且，QQ在摧毁青少年价值观上的事儿做的不少了，就别再添这一把火了吧？（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
顺风车之争——关于“回家”的抢夺战
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0371.png" rel="nofollow" style="color: rgb(52, 73, 94);"><img alt="图片3" height="261" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0371.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="顺风车之争——关于“回家”的抢夺战 - 康斯坦丁 - 科幻星系" width="352" /></a></p><p>&nbsp;</p><p>随着春节的逼近，返乡再度成为热门话题。与以往一样，数亿人次的返乡之途可谓八仙过海，各显神通。飞机、火车、大巴、摩托等，都是常见的返乡途径。虽然在订票及路途中会遭遇各种无奈、心酸之事，但总归还算正常范围之内。而今年与以往不同的是，通过拼车应用等，搭顺风车返乡，成为新的选择。</p><p>与其他返乡途径相比，搭顺风车可谓利弊参半。好处是乘坐环境一般相比火车硬座乃至无座、大巴硬座、摩托骑行等稍好一点，而且时间自由，基本上随时都能找到返乡的顺风车。弊端则在于安全得不到充分保障、尚未完全获得合法地位等。但无论如何，有需求就有市场。一场关于“回家”的抢夺战，已经围绕顺风车展开。</p><p><strong>&nbsp;弱审核、无审核下的苍白监管&nbsp;易造成负面案例</strong></p><p><strong>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strong>滴答拼车、天天用车、51用车……再加上58同城等信息网站上的拼车信息，拼车、顺风车已经成为生活的一种潮流。尤其是在春节返乡的这个特殊节点，搭顺风车成为很多人无奈却又唯一的选择。在常规交通形式不能满足人们返乡需求的当下，顺风车的出现不失为一种很好的补充。</p><p>但由于顺风车还是一种刚刚摆上台面的新鲜事物，即使是推出拼车业务的滴滴等，也还处于摸索状态，有太多的不确定性和风险。拼车的随机性太大，很难让打车应用像对专车、快车那样更加严格的当面审核驾驶人。不仅车型、价格等要求入门门槛更低，甚至连审核流程都更加简化。</p><p>弱审核的监管方式，让拼车更容易出现问题。更让人无奈的是，信息网站上层出不穷的拼车信息，更是处于无监管的状态。用户在选择的时候只能是比较车型优劣、价格高低等，却对背后的风险高低不能有明确的比较形式，只能是靠运气。</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0381.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片4" height="336" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0381.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="顺风车之争——关于“回家”的抢夺战 - 康斯坦丁 - 科幻星系" width="437" /></a></p><p>在这样的态势下，搭顺风车不可避免地会出现诸多问题。如司机都是非专业司机，面对经济交通情况、复杂路况等时应变能力较低，很容易出现大大小小的交通问题，影响返乡之旅不提，更有可能会对生命财产安全造成损害。一旦司机没有上足额保险，或保险公司不予理赔，那乘客只能将希望寄予司机身上——但这可能吗？</p><p>此外，专车上也曾经出现过多起违法事故，而顺风车由于乘客、司机较多且复杂，更容易出现问题，让不法犯罪分子有可趁之机。如果在偏远地段实施不法行为，无是求救还是事后的取证都会有很大难度。再说，一车都是不熟悉的人，如果都不善于聊天，在轿车那狭窄的空间内也会很尴尬吧？</p><p><strong>&nbsp;无法排查违禁行李&nbsp;安全隐患较大</strong></p><p>如果说上面提到的，还是属于司机、乘客之间容易发生的问题，那么在春节返乡的时刻，行李将是隐患最大的安全问题发生地。首先要提到的是，多个人拼一辆车，尤其是在这个特殊节点，一般会造成行李过多，无法安置的问题。如果行李摆放不当，很容易造成行驶过程中遇到撞击、上下坡、滑行等造成的人身安全问题。而这样的问题，很难善后，双方容易各执一词。</p><p>当然，最重要的是谁也没有权利去搜查行李。司机没有权利去检查乘客的，乘客之间也没有权利互相检查。当然，也没有权利检查司机的。这就造成一个很现实的问题——司机和乘客都有携带违禁品的可能性。</p><p>尤其是可燃、易爆物品，一旦在途中出事，肯定就是大事。而如果是其他违禁品被相关工作人员检查到，司机和其他乘客也都有被牵连的危险。这样看来，搭顺风车回家风险还是很大的。很多人其实还都是抱着侥幸心理，但总是会有那么一丁点可能的</p><p><strong>&nbsp;部分城市依然非法&nbsp;下一步如何调整？</strong></p><p>2月1日，首次参加春运的滴滴顺风车披露其春运首周的运行情况。数据显示，滴滴跨城顺风车已累计送30万人返乡。而在此前，滴滴顺风车曾预计，2016年春运将运送百万乘客回家。而这还仅仅是滴滴一家，尚不包括其他顺风车、拼车应用，更不包括用户自发在58同城等发布的拼车信息聚集到的用户数量。</p><p>早在1月21日交通运输部召开的春运服务新闻发布会上，交通运输部运输服务司副司长王水平明确表态，对于春运期间互联网平台推出的“拼车回家”，交通部持支持和鼓励的态度。但是，交通部的意思是鼓励和支持非盈利的跨城拼车回家，并没有将盈利性质的顺风车业务正规化。从另一个角度来看，这只是一个积极的信号，但还没有真正落实到法律法规和日常的执行上。</p><p>而目前的现实情况是，很多城市依然没有认可顺风车、拼车的合法性。去年八月份，南京市民江先生因用滴滴顺风车带了一个人，被客管处执法人员逮到，车辆被扣，罚款9000元；同样是八月份，深圳一位车主在开滴滴顺风车的过程中与前车发生追尾事故，两车的修理费及乘客就医费用共计4.6万元，事发后，保险公司认定车主当时在进行滴滴顺风车业务，并依次判定其为非法营运，拒绝理赔；西安的鲁先生今年1月19日使滴滴顺风车载人被西安市出租汽车管理处执法人员现场查扣，处理结果是：罚款5万元，而他的车裸车价才7万元……</p><p>现在的所谓顺风车完全没有法律地位可言，即使是披上滴滴等的外衣，却依然属于非法营运行为。一旦被逮到，就只能缴纳巨额罚款。出了事故，保险公司也可以拒绝赔偿，让司机全无一点安全感。</p><p>就和专车、快车等一样，顺风车未来肯定也是一种潮流。如果能够经受得住返乡搭顺风车的考验，未来在全社会正式普及也将不会成为问题。但在当下，其实还是利益之间的博弈。如何走出关键的一步，还得看多方面的综合因素。我们能做的，就只是默默等待。（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
每天晚睡一小时 你将失去些什么
<div><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片1" height="387" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-0396.png" title="每天晚睡一小时 你将失去些什么 - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">都市的人群因为工作和生活压力大，大多数人已经习惯了晚睡，很多人没到晚上12点以后就几乎睡不着觉。这样的情况并非是某一个地区或者某一个国家的问题，而是一个全球性的问题。在晚睡成为习惯的时候，我们已经忽略了究竟晚睡会给我们造成什么问题，但你不得不承认，即便只是晚睡一个小时，你也将失去自己的部分健康。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">卡洛琳·格雷戈勒作为一名著名的高级健康科学作家，一直是《赫芬顿邮报》的特约作者。因为每天有着很多繁忙的工作，所以她每天都会很晚才睡觉，结果她发现在白天的时候自己开始出现了精神不集中等等问题。随后她开始了一次测试，于是决定试试每天晚睡一个小时，究竟是能够增加工作效率和时间还是会让健康受到损失。她根据美国睡眠基金会建议的每天8小时睡眠时间基础上减去一个小时，即每天睡7个小时。经过了几个月的时间，她发现自己撑不住了，因为明显可以感觉在白天上班的时候根本就没有精神，需要上班好几个小时候才能进入状态，而进入状态后不久就会感觉到疲惫，并且出现了皮肤变差、抵抗力下降的状况，所以她非常肯定的告诉大家，晚睡一个小时，你失去的不仅仅是健康，因为你精力不足的时候去上班，很容易犯错，更别提需要创意的工作了，所以老板很有可能就将你开除了。据卡洛琳介绍，她说如果不是因为前期跟老板讲诉了这次实验，估计老板就会找她谈话了。</p><p style="text-align: center; font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;"><img alt="图片2" height="526" src="http://www.khxx.net/wp-content/uploads/2016/02/2016-02-0324.png" title="每天晚睡一小时 你将失去些什么 - 康斯坦丁 - 科幻星系" width="554" /></p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">在结束了晚睡实验之后，她又开始了早睡实验，即每天按时睡觉，满足8个小时的睡眠时间。在试验一周之后，她发现自己可以在早上自然醒了，根本无需闹钟来叫醒自己。另外由于早上去上班工作也有了精神，整个工作的效率完全提升起来了。让她没有想到一个小时的差距居然有这么大得差距。据说才开始的时候她很不习惯，晚上就是睡不着，但是她就是强行关了灯，戴上耳机拒绝一起音乐，然后在不知不觉中就睡着了。但是在3天之后，她就能够正在每天11点左右自然有了睡意，说明已经有了效果。在第7天的时候，她告诉我们，已经能够早上准时起床，不需要闹钟来闹醒自己了。最重要的一点是，她认为以前曾经害怕太早睡觉失去工作时间，从而让第二天的工作压力过大，结果她发现保持睡眠之后工作效率提升很明显，在公司就能完成所有工作，根本不需要带回家去工作。</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">这样看来，晚睡一个小时失去的是健康和优质的生活，早睡一个小时多的就是健康和高效率的工作，所以再也不要给自己找一个晚睡的借口，早早的上床睡觉。很多人或许不相信，不过你可以自己试试，结果会出乎你的意料，让你这辈子都不想再晚睡了。（科幻星系 康斯坦丁/文）</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">本文如需转载，请联系QQ：102927545，并注明出处</p><p style="font-family: 'Microsoft Yahei', Helvetica, sans-serif; margin-top: 0px; margin-bottom: 15px; text-indent: 24px; line-height: 26px; color: rgb(51, 51, 51); font-size: 14px;">科幻星系官方微信公众号：kehuanxx</p></div>
微软手机 能靠Surface Phone卷土重来吗？
<div><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0227.png" rel="nofollow" style="color: rgb(52, 73, 94);"><img alt="图片2" height="245" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-0227.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="微软手机 能靠Surface Phone卷土重来吗？ - 康斯坦丁 - 科幻星系" width="309" /></a></p><p>就算整体大环境再好，就算是站在风口之上，也总是会有跟不上时代，处于往下坠落态势的产品和服务。就像国内电影票房飘红，很多国产电影动辄十数亿的票房，但依然有票房只有数千万的垃圾电影存在。而目前的微软手机，就像国产的三四流电影，销量和营销根本上不了台面！</p><p>陷入泥淖中无法挣脱出来，以Lumia型号为代表的微软手机，正在经历更加残酷的市场审判，表现完全是给了安卓和iOS手机惊喜——简直惨不忍睹。但作为通往移动互联网世界的入口和载体，微软是无论如何都不会放弃智能手机业务的。在严峻的态势下，曾经传得沸沸扬扬的Surface&nbsp;Phone再度浮出水面。靠它，微软就能在移动智能终端市场卷土重来吗？</p><p><strong>&nbsp;无止境的坠落！微软手机太可悲</strong></p><p>微软1月29日发布截至12月31日的2016财年第二财季财报，而这份财报堪称“鲜血淋漓”。报告显示，微软该季度营收为238亿美元，同比下滑10%；运营利润为60亿美元，同比下滑23%；净利润为50亿美元，同比下滑15%；合摊薄后每股利润0.62美元，同比下滑13%……</p><p>更惨的是，被微软寄予厚望的Lumia手机，在2015年第四自然季度中，销量竟然只有450万台，相比前一年同期的1050万部大跌57%，营收也同比下滑49%。而要知道的是，同期全球智能手机总销量为3.995亿台，Windows&nbsp;Phone占比仅为1.1%。与此同时，全球市场份额跌到1.9%。</p><p>事实上，微软手机从未有过大放异彩的时候。即使所谓的销量巅峰，也不过是2014年第四季度1050万台的销量而已。而从微软手机近年来的出货量来看，2011年10月至2015年12月期间，微软和诺基亚累计卖出1.1亿部Windows&nbsp;Phone手机，而同期iOS和Android手机的总销量则达到45亿部！</p><p><a href="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-021.png" rel="nofollow" style="color: rgb(52, 73, 94); text-decoration: none;"><img alt="图片3" height="240" src="http://www.kjxfx.com/wp-content/uploads/2016/02/2016-02-021.png" style="height: auto; vertical-align: middle; display: block; margin: 0px auto;" title="微软手机 能靠Surface Phone卷土重来吗？ - 康斯坦丁 - 科幻星系" width="376" /></a></p><p>可见，微软手机已经是处于无止境的坠落之中！微软虽然对其手机业务不抛弃，不放弃，但现实所谓极其残酷的。以往高大上的微软手机，竟然沦为和黑莓差不多的市场边缘角色，让人不胜唏嘘。</p><p><strong>&nbsp;Surface&nbsp;Phone不是灵丹妙药&nbsp;生态系统已然开始坍塌</strong></p><p>也正是因为微软手机的不争气，让Surface&nbsp;Phone的消息近来甚嚣尘上，成为最大的热门。之所以Surface&nbsp;Phone被寄予厚望，是因为同门师兄Surface系列平板市场表现越来越好，成为微软在移动终端智能设备市场的中流砥柱，引领了商务笔记本变革的全新方向。正因为如此，Surface&nbsp;Phone自然会被加上各种“拯救微软”的光环。</p><p>当下，只有在浏览器输入“www.surfacephone.com”并确认，就会跳转至微软官网，而且还是直达Surface产品的页面。这个域名的存在起码说明Surface&nbsp;Phone有可能是真实存在的，就算还没有更多消息流露出来，但也许是处于研发状态，未来有可能出现在市场之中。这就给了微软铁杆粉丝一丝慰藉，希望微软能够靠Surface&nbsp;Phone咸鱼翻身。</p><p>但事实上，Surface&nbsp;Phone却不会是解救微软的灵丹妙药。此前微软为了“去诺基亚化”，在Lumia手机上把诺基亚的相关消息全部删去，增添上微软的Logo，但也没对销量产生刺激性影响。如果Surface&nbsp;Phone也只是换汤不换药，很难得到业界和消费者认可。除非Surface&nbsp;Phone带来的不仅仅是名字上的改变，还有智能手机综合形态上的彻底颠覆。</p><p>此外，微软在移动市场的生态系统已然开始坍塌，不能够为Surface提供更多帮助，甚至还影响着Surface&nbsp;Phone的研发进度。去年12月中旬，私人图片分享应用Path宣布将放弃Windows&nbsp;Phone平台的应用开发和支持，全力专注于安卓和iOS平台。更早之前，支付宝也被曝停止对WP系统的支持。</p><p>更残酷的是，就在今年1月底，腾讯停止对Windows&nbsp;10&nbsp;Mobile平台的应用开发，相关开发人员已经转职并只留下维护人员。这就意味着WP版的QQ、微信等将不会再有更新，也是在宣告WP手机在中国彻底“完蛋”。一旦丧失中国这个潜力最大的市场，微软将来在移动智能终端的发展也就可想而知了。</p><p><strong>&nbsp;微软需加快整合速度</strong></p><p>悲催的微软手机业务，想靠Surface&nbsp;Phone重振雄风，一鸣惊人，可能性微乎其微。毕竟现在智能手机的比拼，早已不局限于硬件、设计、外形等方面，更多的是在于其本身所构建的生态系统的繁荣程度。其实，微软原本的设想是很好的，要打通PC端、移动端、云端等，使其成为一个统一的平台，让设备能够自由转换——新款Lumia旗舰手机就能化身小PC。</p><p>但无可奈何的是，微软的步伐实在是太慢了。与更新频率越来越快的智能手机迭进速度相比，微软手机简直就是蜗牛在散步！在时间就是生命的情况下，微软懒散的作风，自然被对手打得落花流水。微软要想卷土重来，不继续加快整合速度，尽快完成大一统，使自家的优势真正发挥出来。微软啊，你可长点心吧，坐吃山空是很容易就“死”的！（科技新发现 康斯坦丁/文）</p><p>本文如需转载，请联系QQ：102927545 ，并注明出处</p><p>科技新发现官方微信公众号：kejxfx</p></div>
徐小明：市场要选择方向了
徐小明：市场要选择方向了

&nbsp;
&nbsp; &nbsp;
&nbsp;这种相对的平衡期是不会持续太久的，市场将要选择方向了，我认为就这几天了。今天上午市场成交量也非常......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wg3y.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
3月10日消息面解读
点击进入《交易师经典版特色功能（1）分时九转》、《徐小明：周四操作策略》
《2016上半年大型投资策略报告会（回放）》、《徐小明：3月10日盘中即时直播》



......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wg3a.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
徐小明：周四操作策略
徐小明：周四操作策略
&nbsp;
点击进入明日（3月10日）盘中即时直播
&nbsp;
你如果分别看上证指数、深成指、创业板指数，你会有三种不同的感觉分析结果，本着多......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wg22.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
徐小明：3月10日盘中即时直播
徐小明：3月10日盘中即时直播

郑重声明：最近有个qq号为1018906638的骗子总是四处招摇撞骗说是我，再次声明本人没有qq，更没有qq群，也不提供指导，不代客理财......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wg1s.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
徐小明：跌无深跌
徐小明：跌无深跌

&nbsp;
&nbsp; &nbsp;
&nbsp;如果市场运行下跌周期，我认为比较大概率是抵抗式的下跌，震荡式的下跌，这个我一直是这样描述的，并非是今天才......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wg1l.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
3月9日消息面解读
点击进入《交易师经典版特色功能（1）分时九转》、《徐小明：周三操作策略》
《2016上半年大型投资策略报告会（回放）》、《徐小明：3月9日盘中即时直播》




......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wg0i.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
徐小明：周三操作策略
徐小明：周三操作策略
&nbsp;
点击进入明日（3月9日）盘中即时直播
&nbsp;
这几天其实我给的建议是“无为而治”，最好的操作是不操作，最好的涨跌判断是没有涨跌......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wfz7.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
徐小明：3月9日盘中即时直播
徐小明：3月9日盘中即时直播

郑重声明：最近有个qq号为1018906638的骗子总是四处招摇撞骗说是我，再次声明本人没有qq，更没有qq群，也不提供指导，不代客理财。......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wfyd.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
3月8日消息面解读
点击进入《交易师经典版特色功能（1）分时九转》、《徐小明：周二操作策略》
《2016上半年大型投资策略报告会（回放）》、《徐小明：3月8日盘中即时直播》




......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wfx0.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
徐小明：周二操作策略
徐小明：周二操作策略
&nbsp;
点击进入明日（3月8日）盘中即时直播
&nbsp;
15年的股灾1.0和2.0，我是认为基本上是无解的，资金放的太多，杠杆滥用导致的踩踏。15......<a href="http://blog.sina.com.cn/s/blog_4d89b8340102wfvw.html">>>点击查看新浪博客原文</a><br /><br /><img src="http://simg.sinajs.cn/blog7style/images/special/1265.gif" />&nbsp;
自己动手写一个简单的MVC框架（第二版） - Edison Chou
本文首先回顾了ASP.NET MVC经历的管道事件概览，然后针对其中核心的“路由系统”和“MvcHandler”进行了实现，并对其进行了一定封装，还实现了ContentResult、JsonResult和ViewResult，最终成为了一个可以使用的轻量级ASP.NET MVC框架。借助此框架，可以...
自己动手写一个简单的MVC框架（第一版） - Edison Chou
本文首先回顾了一下MVC的关键概念，并从一个“纯净”的ASP.NET Web空项目开始一步一步构建一个类似于MVC的应用程序，通过单一处理入口的伪静态方式与模拟路由表的方式进行了简单地实现，并进行了测试。此次实验，核心就在于获取路由数据，指定处理程序，也就是理解并模拟路由机制。路由模块就是一个很简单...
Hybrid App移动应用开发初探 - Edison Chou
Hybrid App (混合模式移动应用），它利用例如安卓端webview组件+HTML5内嵌的方式混合的方式开发的移动应用，好处显而易见，由于内嵌的是HTML5, 所以跨平台，扩展性，开发成本都是很不错的优势。本文将带你认识一下移动App的类型及其优缺点、移动App的相关开发技术、最火爆的Hyb...
[转] Agile Software Development 敏捷软件开发 - Edison Chou
敏捷开发是一种软件开发方法，基于迭代和增量开发，通过自组织，跨团队，沟通协作完成开发工作。2001年2月11日到13日，17位软件开发领域的领军人物聚集在美国犹他州的滑雪胜地雪鸟（SnowBird）雪场。经过两天的讨论，“敏捷”（Agile）这个词为全体聚会者所接受，用以概括一套全新的软件开发价值观...
操作系统核心原理-7.设备管理：I/O原理 - Edison Chou
前面阐述了操作系统具有进程管理、内存管理、外存管理三大核心功能，但是计算机归根是为人类服务的，这就要求计算机必须提供某种机制使得人们可以向计算机发出命令或操纵计算机。也就是说计算机与人之间必须存在某种沟通的机制，这种沟通的机制就是计算机的输入输出机制。输入输出的存在才使得计算机的存在有了意义，就像一...
操作系统核心原理-6.外存管理（下）文件系统 - Edison Chou
操作系统是一个魔术师，其提供给用户的就是各种幻想：抽象。进程抽象的是CPU，虚拟内存抽象的是内存，对于磁盘来说，操作系统提供给用户的帮助就是在磁盘外面包裹一层容易使用的抽象，用户直接与这层抽象打交道，而无需了解磁盘的技术细节。在操作系统中，这层为磁盘提供的抽象就是：文件系统。
操作系统核心原理-6.外存管理（上）磁盘基础 - Edison Chou
计算机是处理数据的机器，而数据就需要有地方存放。在计算机中，可供数据存放的地方并不太多，除了内存之外，最主要的存储数据的媒介就是磁盘。对于大多数计算机领域的人来说，磁盘通常被看做是一种外部设备。可是，对于现代操作系统来说，磁盘是不可或缺的。虽然早期的操作系统可以基于磁带，但由于操作系统复杂性和性能的...
《京东技术解密》读书笔记：坚持技术十年如一日 - Edison Chou
最近在京东上购买了《京东技术解密》这本书，抱着看看京东为何从.NET转向Java的目的，像当初看《淘宝技术这十年》一样看完了这本。这不是一本传统意义上的技术书，而是讲述了京东技术和成长的故事。10年时间，京东在技术团队的支撑下，从一个简陋的网站和混乱的库房，建立起出色的团队，打造了财务、物流和技术三...
操作系统核心原理-5.内存管理（下）：段式内存管理 - Edison Chou
分页内存管理存在页表大、速度慢、共享困难等缺陷，特别是一个进程只能占有一个虚拟地址空间。于是，新的管理模式—分段管理系统横空出世，分段管理就是将一个程序按照逻辑单元分成多个程序段，每一个段使用自己单独的虚地址空间。这样，一个段占用一个虚拟地址空间，就不会再发生空间增长时碰撞到另一个段的问题，从而避免...
AngularJS基础入门初探 - Edison Chou
AngularJS诞生于2009年，由Misko Hevery 等人创建，后为Google所收购。是一款优秀的前端JS框架，已经被用于Google的多款产品当中。AngularJS有着诸多特性，最为核心的是：MVVM、模块化、自动化双向数据绑定、语义化标签、依赖注入等等。本篇会简单介绍一下Angul...
[原]机器学习系列(7)_机器学习路线图（附资料）
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a>&amp;&amp;<a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a> <br />
时间：2016年2月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50759472">http://blog.csdn.net/han_xiaoyang/article/details/50759472</a> <br />
<a href="http://blog.csdn.net/longxinchen_ml/article/details/50749614">http://blog.csdn.net/longxinchen_ml/article/details/50749614</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>



<h1 id="1-引言">1. 引言</h1>

<p>也许你和这个叫『机器学习』的家伙一点也不熟，但是你举起iphone手机拍照的时候，早已习惯它帮你框出人脸；也自然而然点开今日头条推给你的新闻；也习惯逛淘宝点了找相似之后货比三家；亦或喜闻乐见微软的年龄识别网站结果刷爆朋友圈。恩，这些功能的核心算法就是机器学习领域的内容。</p>

<p>套用一下大神们对机器学习的定义，机器学习<strong>研究的是计算机怎样模拟人类的学习行为，以获取新的知识或技能，并重新组织已有的知识结构使之不断改善自身</strong>。简单一点说，就是计算机从数据中学习出规律和模式，以应用在新数据上做预测的任务。近年来互联网数据大爆炸，数据的丰富度和覆盖面远远超出人工可以观察和总结的范畴，而机器学习的算法能指引计算机在海量数据中，挖掘出有用的价值，也使得无数学习者为之着迷。</p>

<p>但是越说越觉得机器学习有距离感，云里雾里高深莫测，我们不是专家，但说起算有一些从业经验，做过一些项目在实际数据上应用机器学习。这一篇就我们的经验和各位同仁的分享，总结一些对于初学者入门有帮助的方法和对进阶有用的资料。</p>

<p><img alt="人工智能" src="http://www.66826.com/uploads/allimg/150304/c75c10385343fbf2f9078755b47eca8065388f98.jpg" title="" /></p>



<h1 id="2-机器学习关注问题">2. 机器学习关注问题</h1>

<p>并非所有的问题都适合用机器学习解决(很多逻辑清晰的问题用规则能很高效和准确地处理)，也没有一个机器学习算法可以通用于所有问题。咱们先来了解了解，机器学习，到底关心和解决什么样的问题。</p>

<p>从功能的角度分类，机器学习在一定量级的数据上，可以解决下列问题：</p>

<p><strong>1.分类问题</strong></p>

<ul>
<li>根据数据样本上抽取出的特征，判定其属于有限个类别中的哪一个。比如： <br />
<ul><li>垃圾邮件识别(结果类别：1、垃圾邮件  2、正常邮件)</li>
<li>文本情感褒贬分析(结果类别：1、褒  2、贬)</li>
<li>图像内容识别识别(结果类别：1、喵星人 2、汪星人 3、人类 4、草泥马 5、都不是)。</li></ul></li>
</ul>

<p><strong>2.回归问题</strong></p>

<ul>
<li>根据数据样本上抽取出的特征，预测一个连续值的结果。比如： <br />
<ul><li>星爷《美人鱼》票房</li>
<li>大帝都2个月后的房价</li>
<li>隔壁熊孩子一天来你家几次，宠幸你多少玩具</li></ul></li>
</ul>

<p><strong>3.聚类问题</strong></p>

<ul>
<li>根据数据样本上抽取出的特征，让样本抱抱团(相近/相关的样本在一团内)。比如： <br />
<ul><li>google的新闻分类</li>
<li>用户群体划分</li></ul></li>
</ul>

<p>我们再把上述常见问题划到机器学习最典型的2个分类上。</p>

<ul>
<li><strong>分类与回归问题需要用已知结果的数据做训练</strong>，属于<strong><font color="red">“监督学习”</font></strong> </li>
<li><strong>聚类的问题不需要已知标签</strong>，属于<strong><font color="red">“非监督学习”</font></strong>。</li>
</ul>

<p>如果在IT行业(尤其是互联网)里溜达一圈，你会发现机器学习在以下热点问题中有广泛应用：</p>

<p><strong>1.计算机视觉</strong></p>

<ul>
<li>典型的应用包括：<font color="red">人脸识别、车牌识别、扫描文字识别、图片内容识别、图片搜索</font>等等。</li>
</ul>

<p><strong>2.自然语言处理</strong></p>

<ul>
<li>典型的应用包括：<font color="red">搜索引擎智能匹配、文本内容理解、文本情绪判断，语音识别、输入法、机器翻译</font>等等。</li>
</ul>

<p><strong>3.社会网络分析</strong></p>

<ul>
<li>典型的应用包括：<font color="red">用户画像、网络关联分析、欺诈作弊发现、热点发现</font>等等。</li>
</ul>

<p><strong>4.推荐</strong></p>

<ul>
<li>典型的应用包括：<font color="red">虾米音乐的“歌曲推荐”，某宝的“猜你喜欢”</font>等等。</li>
</ul>



<h1 id="3-入门方法与学习路径">3. 入门方法与学习路径</h1>

<p>OK，不废话，直接切重点丢干货了。看似学习难度大，曲线陡的机器学习，对大多数入门者也有一个比较通用的学习路径，也有一些优秀的入门资料可以降低大家的学习门槛，同时激发我们的学习乐趣。</p>

<p>简单说来，大概的一个学习路径如下： <br />
</p><center> <br />
<img alt="路径图" src="http://7xnkcs.com1.z0.glb.clouddn.com/ml%E8%B7%AF%E5%BE%84%E5%9B%BE.jpg" title="" /> <br />
</center><p></p>

<p>简单说一点，之所以最左边写了『数学基础』『典型机器学习算法』『编程基础』三个并行的部分，是因为机器学习是一个将数学/算法理论和工程实践紧密结合的领域，需要扎实的理论基础帮助引导数据分析与模型调优，同时也需要精湛的工程开发能力去高效化地训练和部署模型和服务。</p>

<p>需要多说一句的是，在互联网领域从事机器学习的人，有2类背景的人比较多，其中一部分(很大一部分)是程序员出身，这类同学工程经验相对会多一些，另一部分是学数学统计领域的同学，这部分同学理论基础相对扎实一些。因此对比上图，2类同学入门机器学习，所欠缺和需要加强的部分是不一样的。</p>

<p>下面就上述图中的部分，展开来分别扯几句：</p>



<h2 id="31-数学基础">3.1 数学基础</h2>

<p>有无数激情满满大步向前，誓要在机器学习领域有一番作为的同学，在看到公式的一刻突然就觉得自己狗带了。是啊，机器学习之所以相对于其他开发工作，更有门槛的根本原因就是数学。每一个算法，要在训练集上最大程度拟合同时又保证泛化能力，需要不断分析结果和数据，调优参数，这需要我们对数据分布和模型底层的数学原理有一定的理解。所幸的是如果只是想合理应用机器学习，而不是做相关方向高精尖的research，需要的数学知识啃一啃还是基本能理解下来的。至于更高深的部分，恩，博主非常愿意承认自己是『数学渣』。</p>

<p>基本所有常见机器学习算法需要的数学基础，都集中在微积分、线性代数和概率与统计当中。下面我们先过一过知识重点，文章的后部分会介绍一些帮助学习和巩固这些知识的资料。</p>



<h3 id="311-微积分">3.1.1 微积分</h3>

<ul>
<li><strong>微分的计算及其几何、物理含义</strong>，是机器学习中大多数算法的求解过程的核心。比如算法中运用到梯度下降法、牛顿法等。如果对其几何意义有充分的理解，就能理解“梯度下降是用平面来逼近局部，牛顿法是用曲面逼近局部”，能够更好地理解运用这样的方法。</li>
<li><strong>凸优化和条件最优化</strong> 的相关知识在算法中的应用随处可见，如果能有系统的学习将使得你对算法的认识达到一个新高度。</li>
</ul>



<h3 id="312-线性代数">3.1.2 线性代数</h3>

<ul>
<li>大多数机器学习的算法要应用起来，依赖于高效的计算，这种场景下，程序员GG们习惯的<strong>多层for循环通常就行不通了，而大多数的循环操作可转化成矩阵之间的乘法运算</strong>，这就和线性代数有莫大的关系了</li>
<li>向量的<strong>内积运算</strong>更是随处可见。</li>
<li><strong>矩阵乘法</strong>与分解在机器学习的<strong>主成分分析（PCA）和奇异值分解（SVD）</strong> 等部分呈现刷屏状地出现。</li>
</ul>



<h3 id="313-概率与统计">3.1.3 概率与统计</h3>

<p>从广义来说，机器学习在做的很多事情，和统计层面数据分析和发掘隐藏的模式，是非常类似的。</p>

<ul>
<li><strong>极大似然思想、贝叶斯模型</strong> 是理论基础，朴素贝叶斯(Naïve Bayes )、语言模型(N-gram)、隐马尔科夫（HMM）、隐变量混合概率模型是他们的高级形态。</li>
<li>常见分布如高斯分布是混合高斯模型(GMM)等的基础。</li>
</ul>



<h2 id="32-典型算法">3.2 典型算法</h2>

<p>绝大多数问题用典型机器学习的算法都能解决，粗略地列举一下这些方法如下：</p>

<ol>
<li>处理分类问题的常用算法包括：<strong>逻辑回归(工业界最常用)，支持向量机，随机森林，朴素贝叶斯(NLP中常用)，深度神经网络(视频、图片、语音等多媒体数据中使用)</strong>。</li>
<li>处理回归问题的常用算法包括：<strong>线性回归</strong>，普通最小二乘回归（Ordinary Least Squares Regression），逐步回归（Stepwise Regression），多元自适应回归样条（Multivariate Adaptive Regression Splines）</li>
<li>处理聚类问题的常用算法包括：<strong>K均值（K-means）</strong>，基于密度聚类，LDA等等。</li>
<li>降维的常用算法包括：<strong>主成分分析（PCA）,奇异值分解（SVD）</strong> 等。</li>
<li>推荐系统的常用算法：<strong>协同过滤算法</strong></li>
<li>模型融合(model ensemble)和提升(boosting)的算法包括：<strong>bagging，adaboost，GBDT，GBRT</strong></li>
<li>其他很重要的算法包括：EM算法等等。</li>
</ol>

<p>我们多插一句，机器学习里所说的<strong>“算法”</strong>与程序员所说的“数据结构与算法分析”里的“算法”<strong>略有区别</strong>。<strong>前者更关注结果数据的召回率、精确度、准确性等方面，后者更关注执行过程的时间复杂度、空间复杂度等方面。</strong> 。当然，实际机器学习问题中，对效率和资源占用的考量是不可或缺的。</p>



<h2 id="33-编程语言工具和环境">3.3 编程语言、工具和环境</h2>

<p>看了无数的理论与知识，总归要落到实际动手实现和解决问题上。而没有工具所有的材料和框架、逻辑、思路都给你，也寸步难行。因此我们还是得需要合适的编程语言、工具和环境帮助自己在数据集上应用机器学习算法，或者实现自己的想法。对初学者而言，Python和R语言是很好的入门语言，很容易上手，同时又活跃的社区支持，丰富的工具包帮助我们完成想法。相对而言，似乎计算机相关的同学用Python多一些，而数学统计出身的同学更喜欢R一些。我们对编程语言、工具和环境稍加介绍：</p>



<h3 id="331-python">3.3.1 python</h3>

<p>python有着全品类的数据科学工具，从数据获取、数据清洗到整合各种算法都做得非常全面。</p>

<ul>
<li>网页爬虫: <a href="http://scrapy.org/">scrapy</a></li>
<li>数据挖掘: <br />
<ul><li><a href="http://pandas.pydata.org/">pandas</a>：模拟R，进行数据浏览与预处理。</li>
<li><a href="http://www.numpy.org/">numpy</a>：数组运算。</li>
<li><a href="http://www.scipy.org/">scipy</a>：高效的科学计算。</li>
<li><a href="http://matplotlib.org/">matplotlib</a>：非常方便的数据可视化工具。</li></ul></li>
<li>机器学习: <br />
<ul><li><a href="http://scikit-learn.org/stable/">scikit-learn</a>：远近闻名的机器学习package。未必是最高效的，但是接口真心封装得好，几乎所有的机器学习算法输入输出部分格式都一致。而它的支持文档甚至可以直接当做教程来学习，非常用心。对于不是非常高纬度、高量级的数据，scikit-learn胜任得非常好(有兴趣可以看看sklearn的源码，也很有意思)。</li>
<li><a href="https://www.csie.ntu.edu.tw/~cjlin/libsvm/">libsvm</a>：高效率的svm模型实现(了解一下很有好处，libsvm的系数数据输入格式，在各处都非常常见)</li>
<li>keras/<a href="http://www.tensorflow.org/">TensorFlow</a>：对深度学习感兴趣的同学，也能很方便地搭建自己的神经网络了。</li></ul></li>
<li>自然语言处理: <br />
<ul><li><a href="http://www.nltk.org/">nltk</a>：自然语言处理的相关功能做得非常全面，有典型语料库，而且上手也非常容易。</li></ul></li>
<li>交互式环境： <br />
<ul><li><a href="http://ipython.org/notebook.html">ipython notebook</a>：能直接打通数据到结果的通道，方便至极。强力推荐。</li></ul></li>
</ul>



<h3 id="332-r">3.3.2 R</h3>

<p>R最大的优势是开源社区，聚集了非常多功能强大可直接使用的包，绝大多数的机器学习算法在R中都有完善的包可直接使用，同时文档也非常齐全。常见的package包括：RGtk2, pmml, colorspace, ada, amap, arules, biclust, cba, descr, doBy, e1071, ellipse等等。另外，值得一提的是R的可视化效果做得非常不错，而这对于机器学习是非常有帮助的。</p>



<h3 id="333-其他语言">3.3.3 其他语言</h3>

<p>相应资深程序员GG的要求，再补充一下java和C++相关机器学习package。</p>

<ul>
<li>Java系列 <br />
<ul><li><a href="http://machinelearningmastery.com/what-is-the-weka-machine-learning-workbench/">WEKA Machine Learning Workbench</a> 相当于java中的scikit-learn</li>
<li>其他的工具如<a href="http://moa.cms.waikato.ac.nz/">Massive Online Analysis（MOA）</a>、<a href="http://meka.sourceforge.net/">MEKA </a>、 <a href="http://mallet.cs.umass.edu/">Mallet</a> 等也非常有名。</li>
<li>更多详细的应用请参考这篇文章<a href="http://www.csdn.net/article/2015-12-25/2826560">《25个Java机器学习工具&amp;库》</a></li></ul></li>
<li>C++系列 <br />
<ul><li><a href="http://www.mlpack.org/">mlpack</a>，高效同时可扩充性非常好的机器学习库。</li>
<li><a href="http://image.diku.dk/shark/sphinx_pages/build/html/rest_sources/downloads/downloads.html">Shark</a>：文档齐全的老牌C++机器学习库。</li></ul></li>
</ul>



<h3 id="334-大数据相关">3.3.4 大数据相关</h3>

<ul>
<li><a href="http://hadoop.apache.org/">Hadoop</a>：基本上是工业界的标配了。一般用来做特征清洗、特征处理的相关工作。</li>
<li><a href="http://blog.csdn.net/han_xiaoyang/rss/spark.apache.org">spark</a>：提供了<a href="http://blog.csdn.net/han_xiaoyang/rss/spark.apache.org/mllib/">MLlib</a>这样的大数据机器学习平台，实现了很多常用算法。但可靠性、稳定性上有待提高。</li>
</ul>



<h3 id="335-操作系统">3.3.5 操作系统</h3>

<ul>
<li>mac和linux会方便一些，而windows在开发中略显力不从心。所谓方便，主要是指的mac和linux在下载安装软件、配置环境更快捷。</li>
<li>对于只习惯windows的同学，推荐anaconda，一步到位安装完python的全品类数据科学工具包。</li>
</ul>



<h2 id="34-基本工作流程">3.4 基本工作流程</h2>

<p>以上我们基本具备了机器学习的必要条件，剩下的就是怎么运用它们去做一个完整的机器学习项目。其工作流程如下:</p>



<h3 id="341-抽象成数学问题">3.4.1 <strong>抽象成数学问题</strong></h3>

<ul>
<li><strong>明确问题是进行机器学习的第一步</strong>。机器学习的训练过程通常都是一件非常耗时的事情，胡乱尝试时间成本是非常高的。</li>
<li>这里的抽象成数学问题，指的我们明确我们可以获得什么样的数据，目标是一个分类还是回归或者是聚类的问题，如果都不是的话，如果划归为其中的某类问题。</li>
</ul>



<h3 id="342-获取数据">3.4.2 <strong>获取数据</strong></h3>

<ul>
<li><strong>数据决定了机器学习结果的上限，而算法只是尽可能逼近这个上限。</strong></li>
<li>数据要有<strong>代表性</strong>，否则必然会过拟合。</li>
<li>而且对于分类问题，<strong>数据偏斜不能过于严重</strong>，不同类别的数据数量不要有数个数量级的差距。</li>
<li>而且还要对<strong>数据的量级有一个评估</strong>，多少个样本，多少个特征，可以估算出其<strong>对内存的消耗程度</strong>，判断训练过程中内存是否能够放得下。如果放不下就得考虑改进算法或者使用一些降维的技巧了。如果数据量实在太大，那就要考虑分布式了。</li>
</ul>



<h3 id="343-特征预处理与特征选择">3.4.3 <strong>特征预处理与特征选择</strong></h3>

<ul>
<li>良好的数据要能够提取出<strong>良好的特征才能真正发挥效力</strong>。</li>
<li>特征预处理、数据清洗是很关键的步骤，往往能够使得算法的效果和性能得到显著提高。<strong>归一化、离散化、因子化、缺失值处理、去除共线性等</strong>，数据挖掘过程中很多时间就花在它们上面。这些工作简单可复制，收益稳定可预期，是机器学习的<strong>基础必备步骤</strong>。</li>
<li>筛选出显著特征、摒弃非显著特征，需要机器学习工程师<strong>反复理解业务</strong>。这对很多结果有决定性的影响。特征选择好了，非常简单的算法也能得出良好、稳定的结果。这需要运用<strong>特征有效性分析</strong>的相关技术，如<strong>相关系数、卡方检验、平均互信息、条件熵、后验概率、逻辑回归权重</strong>等方法。</li>
</ul>



<h3 id="344-训练模型与调优">3.4.4 <strong>训练模型与调优</strong></h3>

<ul>
<li>直到这一步才用到我们上面说的算法进行训练。现在很多算法都能够封装成黑盒供人使用。但是真正考验水平的是调整这些算法的（超）参数，使得结果变得更加优良。这需要我们对算法的原理有深入的理解。<strong>理解越深入，就越能发现问题的症结，提出良好的调优方案。</strong></li>
</ul>



<h3 id="345-模型诊断">3.4.5 <strong>模型诊断</strong></h3>

<p>如何确定模型调优的方向与思路呢？这就需要对模型进行诊断的技术。</p>

<ul>
<li><strong>过拟合、欠拟合</strong> 判断是模型诊断中至关重要的一步。常见的方法如<strong>交叉验证，绘制学习曲线</strong>等。过拟合的基本调优思路是<strong>增加数据量，降低模型复杂度</strong>。欠拟合的基本调优思路是<strong>提高特征数量和质量，增加模型复杂度</strong>。</li>
<li><strong>误差分析</strong> 也是机器学习至关重要的步骤。通过观察误差样本，全面分析误差产生误差的原因:<strong>是参数的问题还是算法选择的问题，是特征的问题还是数据本身的问题</strong>……</li>
<li>诊断后的模型需要进行调优，调优后的新模型需要重新进行诊断，<strong>这是一个反复迭代不断逼近的过程，需要不断地尝试，</strong> 进而达到最优状态。</li>
</ul>



<h3 id="346-模型融合">3.4.6 <strong>模型融合</strong></h3>

<ul>
<li>一般来说，<strong>模型融合后都能使得效果有一定提升</strong>。而且效果很好。</li>
<li><strong>工程上，主要提升算法准确度的方法是分别在模型的前端（特征清洗和预处理，不同的采样模式）与后端（模型融合）上下功夫</strong>。因为他们比较标准可复制，效果比较稳定。而直接调参的工作不会很多，毕竟大量数据训练起来太慢了，而且效果难以保证。</li>
</ul>



<h3 id="347-上线运行">3.4.7 <strong>上线运行</strong></h3>

<ul>
<li>这一部分内容主要跟<strong>工程实现</strong>的相关性比较大。工程上是结果导向，<strong>模型在线上运行的效果直接决定模型的成败。</strong> 不单纯包括其<strong>准确程度、误差</strong>等情况，还包括其运行的<strong>速度(时间复杂度)、资源消耗程度（空间复杂度）、稳定性</strong>是否可接受。</li>
</ul>

<p>这些工作流程主要是<strong>工程实践上总结出的一些经验。并不是每个项目都包含完整的一个流程。</strong>这里的部分只是一个指导性的说明，只有大家自己多实践，多积累项目经验，才会有自己更深刻的认识。</p>



<h2 id="35-关于积累项目经验">3.5 关于积累项目经验</h2>

<p>初学机器学习可能有一个误区，就是一上来就陷入到对各种高大上算法的追逐当中。动不动就我能不能用深度学习去解决这个问题啊？我是不是要用boosting算法做一些模型融合啊？我一直持有一个观点，<strong>『脱离业务和数据的算法讨论是毫无意义的』。</strong></p>

<p>实际上按我们的学习经验，<strong>从一个数据源开始，即使是用最传统，已经应用多年的机器学习算法，先完整地走完机器学习的整个工作流程，不断尝试各种算法深挖这些数据的价值，在运用过程中把数据、特征和算法搞透，真正积累出项目经验</strong> 才是最快、最靠谱的学习路径。</p>

<p>那如何获取数据和项目呢？一个捷径就是积极参加国内外各种数据挖掘竞赛，数据直接下载下来，按照竞赛的要求去不断优化，积累经验。国外的<a href="https://www.kaggle.com/">Kaggle</a>和国内的<a href="http://www.pkbigdata.com/">DataCastle</a> 以及<a href="https://tianchi.aliyun.com/">阿里天池比赛</a>都是很好的平台，你可以在上面获取真实的数据和数据科学家们一起学习和进行竞赛，尝试使用已经学过的所有知识来完成这个比赛本身也是一件很有乐趣的事情。和其他数据科学家的讨论能开阔视野，对机器学习算法有更深层次的认识。</p>

<p>有意思的是，有些平台，比如<a href="https://tianchi.aliyun.com/">阿里天池比赛</a>，甚至给出了从<strong>数据处理</strong>到<strong>模型训练</strong>到<strong>模型评估</strong>、<strong>可视化</strong>到<strong>模型融合增强</strong>的全部组件，你要做的事情只是参与比赛，获取数据，然后使用这些组件去实现自己的idea即可。具体内容可以参见<a href="https://help.aliyun.com/document_detail/shujia/machine-learning/pai-quickstart.html">阿里云机器学习文档</a>。</p>



<h2 id="36-自主学习能力">3.6 自主学习能力</h2>

<p>多几句嘴，这部分内容和机器学习本身没有关系，但是我们觉得<strong>这方面的能力对于任何一种新知识和技能的学习来说都是至关重要的。</strong> 自主学习能力提升后，意味着你能够跟据自己的情况，找到最合适的学习资料和最快学习成长路径。</p>



<h3 id="361-信息检索过滤与整合能力">3.6.1 信息检索过滤与整合能力</h3>

<p>对于初学者，绝大部分需要的知识通过网络就可以找到了。</p>

<p><strong>google搜索引擎技巧</strong>——组合替换搜索关键词、站内搜索、学术文献搜索、PDF搜索等——都是必备的。</p>

<p>一个比较好的习惯是<strong>找到信息的原始出处</strong>，如个人站、公众号、博客、专业网站、书籍等等。这样就能够找到系统化、不失真的高质量信息。</p>

<p>百度搜到的技术类信息不够好，建议只作为补充搜索来用。各种搜索引擎都可以交叉着使用效果更好。</p>

<p>学会去<strong>常见的高质量信息源中搜索东西</strong>:stackoverflow（程序相关）、quora（高质量回答）、wikipedia（系统化知识，比某某百科不知道好太多）、知乎（中文、有料）、网盘搜索（免费资源一大把）等。</p>

<p>将搜集到的网页放到分类齐全的云端收藏夹里，并经常整理。这样无论在公司还是在家里，在电脑前还是在手机上，都能够找到自己喜欢的东西。</p>

<p>搜集到的文件、代码、电子书等等也放到云端网盘里，并经常整理。</p>



<h3 id="362-提炼与总结能力">3.6.2 提炼与总结能力</h3>

<p>经常<strong>作笔记，并总结</strong>自己学到的知识是成长的不二法门。其实主要的困难是懒，但是坚持之后总能发现知识的共性，就能少记一些东西，掌握得更多。</p>

<p>笔记建议放到<strong>云端笔记</strong>里，印象笔记、为知笔记都还不错。这样在坐地铁、排队等零碎的时间都能看到笔记并继续思考。</p>



<h3 id="363-提问与求助能力">3.6.3 提问与求助能力</h3>

<p>机器学习的相关QQ群、论坛、社区一大堆。总有人知道你问题的答案。</p>

<p>但是大多数同学都很忙，没法像家庭教师那样手把手告诉你怎么做。</p>

<p>为了让回答者最快明白你的问题，最好该<strong>学会正确的问问题的方式:陈述清楚你的业务场景和业务需求是什么，有什么已知条件，在哪个具体的节点上遇到困难了，并做过哪些努力。</strong></p>

<p>有一篇经典的文章<strong>告诉你怎样通过提问获得帮助：<a href="https://github.com/FredWe/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md">《提问的智慧》</a>，强力推荐。</strong> 话锋犀利了些，但里面的干货还是很好的。</p>

<p>别人帮助你的可能性与你提问题的具体程度和重要性呈指数相关。</p>



<h3 id="364-分享的习惯">3.6.4 分享的习惯</h3>

<p>我们深信：<strong>“证明自己真的透彻理解一个知识，最好的方法，是给一个想了解这个内容的人，讲清楚这个内容。”</strong> 分享能够最充分地提升自己的学习水平。这也是我们坚持长期分享最重要的原因。</p>

<p>分享还有一个副产品，就是自己在求助的时候能够获得更多的帮助机会，这也非常重要。</p>



<h1 id="4-相关资源推荐">4. 相关资源推荐</h1>

<p>文章的最后部分，我们继续放送干货。其实机器学习的优质资源非常多。博主也是翻遍浏览器收藏夹，也问同事取了取经，整合了一部分资源罗列如下：</p>



<h2 id="41-入门资源">4.1 入门资源</h2>

<p>首先<a href="https://www.coursera.org">coursera</a> 是一个非常好的学习网站，集中了全球的精品课程。上述知识学习的过程都可以在上面找到合适的课程。也有很多其他的课程网站，这里我们就需要学习的数学和机器学习算法推荐一些课程(有一些课程有中文字幕，有一些只有英文字幕，有一些甚至没有字幕，大家根据自己的情况调整，如果不习惯英文，基础部分有很多国内的课程也非常优质)：</p>

<ul>
<li>微积分相关</li>
</ul>

<blockquote>
  <p><a href="https://www.coursera.org/learn/single-variable-calculus">Calculus: Single Variable</a> <br />
  <a href="http://ocw.mit.edu/courses/mathematics/18-02sc-multivariable-calculus-fall-2010/">Multivariable Calculus</a></p>
</blockquote>

<ul>
<li>线性代数</li>
</ul>

<blockquote>
  <p><a href="http://ocw.mit.edu/courses/mathematics/18-06-linear-algebra-spring-2010/">Linear Algebra</a></p>
</blockquote>

<ul>
<li>概率统计</li>
</ul>

<blockquote>
  <p><a href="https://www.edx.org/course/introduction-statistics-descriptive-uc-berkeleyx-stat2-1x">Introduction to Statistics: Descriptive Statistics</a> <br />
  <a href="http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-041-probabilistic-systems-analysis-and-applied-probability-fall-2010/">Probabilistic Systems Analysis and Applied Probability</a></p>
</blockquote>

<ul>
<li>编程语言</li>
</ul>

<blockquote>
  <p><a href="https://www.coursera.org/learn/python">Programming for Everybody</a>:Python <br />
  <a href="https://www.datacamp.com/">DataCamp: Learn R with R tutorials and coding challenges</a>:R</p>
</blockquote>

<ul>
<li>机器学习方法</li>
</ul>

<blockquote>
  <p><a href="https://lagunita.stanford.edu/courses/HumanitiesandScience/StatLearning/Winter2015/about">Statistical Learning(R)</a> <br />
  <a href="https://www.coursera.org/learn/machine-learning">machine learning</a>：强烈推荐，Andrew Ng老师的课程 <br />
  <a href="https://www.coursera.org/course/ntumlone">机器学习基石</a> <br />
  <a href="https://www.coursera.org/course/ntumltwo">机器学习技术</a>：林轩田老师的课相对更有深度一些，把作业做完会对提升对机器学习的认识。 <br />
  <a href="https://class.coursera.org/nlp/lecture">自然语言处理</a>:斯坦福大学课程</p>
</blockquote>

<ul>
<li>日常阅读的资源</li>
</ul>

<blockquote>
  <p><a href="http://weibo.com/fly51fly?from=myfollow_all">@爱可可-爱生活的微博</a> <br />
  <a href="http://ml.memect.com/">机器学习日报的邮件订阅</a> 等。</p>
</blockquote>



<h2 id="42-进阶资源">4.2 进阶资源</h2>

<ul>
<li>有源代码的教程</li>
</ul>

<blockquote>
  <p><a href="http://scikit-learn.org/stable/auto_examples/index.html">scikit-learn</a>中各个算法的例子 <br />
  《机器学习实战》 有中文版，并附有python源代码。 <br />
  <a href="http://book.douban.com/subject/3294335/">《The Elements of Statistical Learning (豆瓣)》</a> 这本书有对应的中文版：<a href="http://book.douban.com/subject/1152126/">《统计学习基础 (豆瓣)》</a>。书中配有R包。可以参照着代码学习算法。网盘中有中文版。 <br />
  <a href="http://book.douban.com/subject/3696989/">《Natural Language Processing with Python (豆瓣)》</a> NLP 经典，其实主要是讲 python的NLTK 这个包。网盘中有中文版。 <br />
  <a href="http://neuralnetworksanddeeplearning.com/">《Neural Networks and Deep Learning》</a>  Michael Nielsen的神经网络教材，浅显易懂。国内有部分翻译，不全，建议直接看原版。</p>
</blockquote>

<ul>
<li>图书与教材</li>
</ul>

<blockquote>
  <p>《数学之美》：入门读起来很不错。 <br />
  <a href="http://book.douban.com/subject/10590856/">《统计学习方法 (豆瓣) 》</a>：李航经典教材。 <br />
  <a href="http://book.douban.com/subject/2061116/">《Pattern Recognition And Machine Learning (豆瓣) 》</a>：经典中教材。 <br />
  《统计自然语言处理》自然语言处理经典教材 <br />
  《Applied predictive modeling》：英文版，注重工程实践的机器学习教材 <br />
  <a href="http://ufldl.stanford.edu/wiki/index.php/UFLDL%E6%95%99%E7%A8%8B">《UFLDL教程》</a>：神经网络经典教材 <br />
  <a href="http://www.deeplearningbook.org/">《deeplearningbook》</a>:深度学习经典教材。</p>
</blockquote>

<ul>
<li>工具书</li>
</ul>

<blockquote>
  <p><a href="http://book.douban.com/subject/10561724/">《SciPy and NumPy (豆瓣) 》</a> <br />
  <a href="http://book.douban.com/subject/10760444/">《Python for Data Analysis (豆瓣) 》</a>作者是Pandas这个包的作者</p>
</blockquote>

<ul>
<li>其他网络资料</li>
</ul>

<blockquote>
  <p><a href="http://blog.csdn.net/zhongwen7710/article/details/45331915">机器学习(Machine Learning)与深度学习(Deep Learning)资料汇总</a>: 作者太给力，量大干货多，有兴趣的同学可以看看，博主至今只看了一小部分。</p>
</blockquote>
            <div>
                作者：yaoqiang2011 发表于2016/2/28 11:54:10 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50759472">原文链接</a>
            </div>
            <div>
            阅读：24426 评论：6 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50759472#comments" target="_blank">查看评论</a>
            </div>
[原]ML学习分享系列(2)_计算广告小窥[中]
<p>原作：<a href="http://blog.csdn.net/breada">面包包包包包包</a> <br />
修改：<a href="http://blog.csdn.net/han_xiaoyang">寒小阳</a> &amp;&amp; <a href="http://blog.csdn.net/longxinchen_ml">龙心尘</a> <br />
时间：2016年2月  <br />
出处：<a href="http://blog.csdn.net/Breada/article/details/50697030">http://blog.csdn.net/Breada/article/details/50697030</a> <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50697074">http://blog.csdn.net/han_xiaoyang/article/details/50697074</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>



<h2 id="1-引言">1. 引言</h2>

<p>提笔写这篇博客，我的内心是惶恐的。原因很简单，作为一个资历尚浅的研究生，是没有资格对计算广告这样一个伟大的行业、领域和学科来评头论足的。之所以这么做，一是总结自己已掌握的知识，二是降低同学们的学习成本。本人能力有限，更缺乏实践经验，文章内容多为书籍和论文的读后感，若有不当或者错误之处，还望各位同学指出，我定悉心求教。在此，向编写《计算广告》的刘鹏和王超两位老师致谢，向各位paper作者致谢。</p>

<p>[关于ML学分计划]</p>

<ul>
<li>由<a href="http://blog.csdn.net/han_xiaoyang">寒小阳</a>和<a href="http://blog.csdn.net/longxinchen_ml">龙心尘</a>发起，一个互帮互助的机器学习知识共享平台。</li>
<li>我们是一群对机器学习感兴趣的小伙伴，对于神奇的机器学习经常有“一探究竟”的冲动，却因为孤身一人学习的寂寞、亦或繁忙考试工作之余的小小拖延症，而没有持续这份对知识的渴求和热情。</li>
<li>由于深感类似情况的小伙伴之多，我们希望建立一个“ML学分计划”——机器学习的学习和分享计划——来帮助我们一起更高效地学习、更集中地整理分享我们的知识和经验。因为我们也深信”证明自己真的透彻理解一个知识，最好的方法，是给一个不熟悉这个内容的人，讲清楚这个内容“。</li>
</ul>

<p>[关于原作@<a href="http://blog.csdn.net/breada">面包包包包包包</a>]</p>

<ul>
<li>海淀区明光村计算机职业技术学院，研二学生。</li>
<li>关注计算广告点击率预估和竞价算法，关注机器学习和深度学习，初学者。</li>
<li>机器学习QQ群：初学者439183906(已满)，373038809，行业同学和研究者472059892。</li>
</ul>

<h3 id="上中下全文目录">(上)(中)(下)全文目录</h3>

<ol>
<li><p><code>引言</code></p></li>
<li><p><code>广告=&gt;互联网广告</code>：“您好，了解一下”</p></li>
<li><p><code>互联网广告=&gt;计算广告</code>：指哪儿打哪儿！</p></li>
<li><p><code>计算广告四君子</code>：谁在弄潮？</p></li>
<li><p><code>计算广告关键技术</code>：这孙子怎么什么都知道？</p></li>
<li><p><code>广告系统架构</code>：要啥自行车，这里有宝马。</p></li>
<li><p><code>手把手系列之教你搭建一个最小广告系统</code>：mieSys</p></li>
</ol>

<hr />



<h2 id="5-计算广告关键技术这孙子怎么什么都知道">5. 计算广告关键技术：这孙子怎么什么都知道？</h2>

<blockquote>
  <p>一句话解释关键技术：没声音，再好的戏也出不来。</p>
</blockquote>

<p>广告作为一项商业活动，是需要资本来滋养的。作为整个产业链的金主，只有广告主花钱做广告，使资金流动起来，整个广告行业才能正常运转。所谓关键技术，就是那些能让广告主觉得“这钱花的值”，让媒体网站觉得“这钱挣的快”的技术。具体都有哪些呢？下面我们一一来表。</p>



<h3 id="51-合约广告关键技术受众定向">5.1 合约广告关键技术：受众定向</h3>

<p>计算广告发展到合约广告阶段，媒体网站依靠受众定向技术给用户打标签，在实现了媒体网站广告位的时分复用的同时，还提高了广告主的投入产出比，极大的激发了广告主在互联网上做广告的积极性。因此，受众定向是合约广告中的关键技术。</p>

<p>我们知道，只要描述物体的维度足够高，那么世间万物都是独一无二的。在广告系统中，标签就是描述用户的维度。媒体网站为了精准的刻画用户，标签的种类和数量自然也不会少。为了更加直观地了解受众定向技术，我们从用户、上下文和广告三个方面讨论打标签的思路和一般方法。</p>

<ul>
<li><p>用户标签：主要用性别、年龄、收入、地理位置、教育程度和用户行为等标签来刻画用户，从而回答<b>“你是谁”</b>的问题。</p></li>
<li><p>上下文标签：主要用网页的地域、主题和频道等标签来刻画用户当前所处的媒体网站环境，从而回答“<b>你在看啥</b>”的问题。</p></li>
<li><p>广告标签：主要用广告主、广告创意、广告计划和广告关键词等标签来刻画广告的相关内容，将广告内容与用户和上下文进行匹配后，从而回答“<b>你该看啥</b>”的问题。</p></li>
</ul>



<h3 id="511-用户标签关键技术">5.1.1 用户标签关键技术</h3>

<p>对一个用户来说，性别是不会轻易变的，但是用户的喜好和兴趣却是时刻都在变化的。根据标签属性的变化频率，我们这里私自将用户标签分为静态和动态两类。静态标签主要指年龄、性别、地理位置、收入和教育程度等这种不变或者很长时间之内都不变的标签，行话叫“人口属性”；动态标签则是指用户的浏览、搜索和点击等能够反映用户短时喜好和兴趣的行为标签，行话叫“行为定向(BT:Behaviroal Targeting)”。下面我们针对静态和动态这两类标签分别讨论。</p>

<blockquote>
  <p>一句话解释静态标签和动态标签的关系：价格围绕价值上下波动。</p>
</blockquote>

<ul>
<li>静态标签(人口属性)</li>
</ul>

<p>在<a href="http://blog.csdn.net/breada/article/details/50572914">《计算广告小窥[上]》</a>中，我们曾简要地提到过一种受众定向的方法：</p>

<blockquote>
  <p>通过对点击日志的分析，媒体网站发现点击过女性护肤品的用户又点击过媒体网站上其他女性品牌。在“女性用户对女性品牌可能更感兴趣”的合理假设下，判断这些用户的性别为女，男性用户同理。</p>
</blockquote>

<p>现在我们可以更加清楚的认识到，上述媒体网站所打的标签是静态标签中的“性别”，使用的是基于规则的方法，即：<b>满足了某种条件，就是某种人</b>。这种基于规则的方法简单并且易于实现，但也存在着致命的缺点：基于规则的方法对数据非常敏感，若数据本身存在噪音(如误点击)，那么标签的品质也将大打折扣。这可如何是好？简单的不行，那就来点复杂的嘛——用机器学习模型来实现(自带音效：当当当当，当当~~)。</p>

<p>假设我们已经知道一部分用户的真实性别，那么就可以用机器学习中有监督的二分类模型来预测用户性别。首先，我们需要对原始数据进行清洗，合理地处理缺失值和奇异值，并划分训练集、交叉验证集和测试集；其次，要在业务的指导下做特征工程，利用统计或模型的方法构造特征，并进行特征选择和特征组合；然后，我们要选择合适的模型(如SVM等)，设置合适的评价标准并进行模型的训练；最后，通过模型调参和模型融合，获得性别预测模型。</p>

<ul>
<li>动态标签(行为定向)</li>
</ul>

<blockquote>
  <p>一句话解释行为定向：唐伯虎喜欢如花多一些，还是凤姐多一些？</p>
</blockquote>

<p>“如果一定要比较一下，那唐伯虎是喜欢如花多一些，还是凤姐多一些？”这个看似荒谬的问题，正是行为定向要解决的。如果唐伯虎是异性恋，那他应该是喜欢凤姐多一些的，否则是如花。这也就告诉我们，在行为定向中，判断的标准至关重要。下面我们借助一个例子来分析该用户的动态标签究竟是什么。</p>

<p>有数据显示，某用户在过去的三个月时间中，点击广告的标签和次数如下表所示：</p>

<table>
<thead>
<tr>
  <th>标准</th>
  <th>单反爱好者</th>
  <th>跑鞋爱好者</th>
  <th>饮料爱好者</th>
  <th>护肤品爱好者</th>
  <th>…</th>
</tr>
</thead>
<tbody><tr>
  <td>点击</td>
  <td>25</td>
  <td>4</td>
  <td>2</td>
  <td>1</td>
  <td>…</td>
</tr>
</tbody></table>


<p>对上述数据进行分析，我们可以轻而易举的得到答案：该用户的标签应该是“单反爱好者”，因为他的点击行为集中在这个标签上。但是，这个答案是我们以用户的点击行为作为标准得来的，如果以用户的浏览和搜索行为做标准，答案也是“单反爱好者”吗？我们再来看一下相关数据。</p>

<table>
<thead>
<tr>
  <th>标准</th>
  <th>单反爱好者</th>
  <th>跑鞋爱好者</th>
  <th>饮料爱好者</th>
  <th>护肤品爱好者</th>
  <th>…</th>
</tr>
</thead>
<tbody><tr>
  <td>浏览</td>
  <td>15</td>
  <td>2</td>
  <td>0</td>
  <td>0</td>
  <td>…</td>
</tr>
</tbody></table>


<table>
<thead>
<tr>
  <th>标准</th>
  <th>单反爱好者</th>
  <th>跑鞋爱好者</th>
  <th>饮料爱好者</th>
  <th>护肤品爱好者</th>
  <th>…</th>
</tr>
</thead>
<tbody><tr>
  <td>搜索</td>
  <td>7</td>
  <td>16</td>
  <td>5</td>
  <td>3</td>
  <td>…</td>
</tr>
</tbody></table>


<p>是不是出问题了？以点击和浏览为标准，该用户标签应该是“单反爱好者”，但是以搜索为标准，标签应该是“跑鞋爱好者”。如果该用户的标签只能有一个，那该选哪一个呢？为了解决这个问题，我们从数学角度分析一下好了。嘿嘿，数学噢，前方高能预警！我会尽量让这个过程变得简单，大家跟上我的思路哈。</p>



<h4 id="step1-泊松分布">Step1. 泊松分布</h4>

<blockquote>
  <p>一句话解释泊松分布:猜猜我在哪儿~~~</p>
</blockquote>

<p>我们先来介绍下泊松分布。啊啊啊啊！一上来就是数学，我不听我不听我不听，泊松分布是什么鬼？咳咳，那，那就先不丢公式了，咱们看图解决问题好了，下面是泊松分布绘出的曲线图，实际工程中要解决的问题就是找到图中的最高点，如下图：</p>

<p></p><center><img alt="泊松分布概率图" src="http://7xqgba.com1.z0.glb.clouddn.com/29.jpg" title="" /></center><p></p>

<p>这个肉眼找最高点的过程不要太简单了！！！我们可以看到：<b>图中最高点的纵坐标大约为0.36，而对应的横坐标是1</b>。OK，你就算会用泊松分布了哦！那个，感兴趣的同学们，可以一起来看看对应上图的泊松分布的公式。</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 7.896em; display: inline-block;"><span style="display: inline-block; width: 6.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="msubsup" id="MathJax-Span-3"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-5" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-7" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-9" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-10"><span style="display: inline-block; width: 2.776em; height: 0px;"><span><span class="mrow" id="MathJax-Span-11"><span class="msubsup" id="MathJax-Span-12"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-13" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-14" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-15" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-16"><span style="display: inline-block; width: 1.709em; height: 0px;"><span><span class="mi" id="MathJax-Span-17" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="mo" id="MathJax-Span-20" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-21"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-22" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-23" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mrow" id="MathJax-Span-24"><span class="mi" id="MathJax-Span-25" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-26" style="font-family: STIXGeneral-Regular;">!</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>公式相对于图，是有那么点点复杂啦。不过，我们只需知道<b><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-27" style="width: 1.036em; display: inline-block;"><span style="display: inline-block; width: 0.778em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-28"><span class="msubsup" id="MathJax-Span-29"><span style="display: inline-block; width: 0.726em; height: 0px;"><span><span class="mi" id="MathJax-Span-30" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-31" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span></span></span></span>影响泊松分布的形状，一个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-32" style="width: 1.036em; display: inline-block;"><span style="display: inline-block; width: 0.778em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-33"><span class="msubsup" id="MathJax-Span-34"><span style="display: inline-block; width: 0.726em; height: 0px;"><span><span class="mi" id="MathJax-Span-35" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-36" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span></span></span></span>对应一个泊松分布就可以了</b>。这个场景下要做的事情就是找到对应泊松分布图像的最高点。</p>



<h4 id="step2-一个结论">Step2. 一个结论</h4>

<blockquote>
  <p>一句话解释这个结论：一个萝卜一个坑。</p>
</blockquote>

<p>我们先说一个结论：<b>在一个标准下，用户在所有标签上的概率分布是满足泊松分布的。</b>对于这个结论，有兴趣的同学可以参见<a href="https://web.stanford.edu/class/msande239/lectures-2011/Lecture%2007%20Targeting%202011.pdf">Stanford 《Introduction to Computational Advertising》讲义Page-81</a>，我们在这里就直接拿来用了。而所谓“标准”，就对应泊松分布公式中的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-37" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-38"><span class="msubsup" id="MathJax-Span-39"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-41" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>，在我们这里的场景下与用户行为有关。我们有点击、浏览和搜索三种行为，也就对应三个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-42" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-43"><span class="msubsup" id="MathJax-Span-44"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-45" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-46" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>，绘出三条曲线如下。(此图为示例数据上绘出的图像，非实际数据)：</p>

<p></p><center><img alt="三种标准的概率分布" src="http://7xqgba.com1.z0.glb.clouddn.com/23.jpg" title="" /></center><p></p>

<p>我们可以清楚的看到，在以“点击”和“浏览”为标准时，图像最高点都出现在5号标签，用户标签应该是标签5；以“搜索”为标准时，图像最高点出现在6号标签，用户标签应该是标签6，标签发生了冲突。接下来，我们就要想办法用数学方法去解决标签冲突的问题，思路是这样的：先选出一个最佳标准，然后以此标准画正态分布，最后找最高点对应的标签即可。</p>



<h4 id="step3-最佳标准">Step3. 最佳标准</h4>

<blockquote>
  <p>一句话解释最佳标准：盲人摸象</p>
</blockquote>

<p>“盲人摸象”比喻以偏概全，现在我们想要知道大象全貌，把每个人摸到的拼起来便是了。在广告系统中，搜索、点击和浏览三种行为数据都只能从一个侧面反映用户的行为，要想完整的刻画一个用户，我们虚要将这三种行为融合起来之后找到一个最佳标准。提到融合，较为常用的方法是投票，我们可以写出下列公式：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-47" style="width: 23.363em; display: inline-block;"><span style="display: inline-block; width: 18.669em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-48"><span class="msubsup" id="MathJax-Span-49"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-50" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-51" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-52" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-53"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-54">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="texatom" id="MathJax-Span-55"><span class="mrow" id="MathJax-Span-56"><span class="mi" id="MathJax-Span-57" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-58" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-59" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-60" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-61"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-62" style="font-family: STIXGeneral-Italic;">ω</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-63" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-64" style="font-family: STIXGeneral-Regular;">∗</span><span class="msubsup" id="MathJax-Span-65"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-66" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-67" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-68" style="font-family: STIXGeneral-Regular;">&nbsp;<span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span>where t</span><span class="mo" id="MathJax-Span-69" style="font-family: STIXGeneral-Regular;">∈</span><span class="mtext" id="MathJax-Span-70" style="font-family: STIXGeneral-Regular;">(<span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">搜</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">索</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">击</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">浏</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">览</span>)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>简单解释一下：<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-71" style="width: 0.803em; display: inline-block;"><span style="display: inline-block; width: 0.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-72"><span class="msubsup" id="MathJax-Span-73"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-74" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-75" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是标准，分别代表了搜索、点击和浏览行为；<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-76" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-77"><span class="msubsup" id="MathJax-Span-78"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-79" style="font-family: STIXGeneral-Italic;">ω</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-80" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是标准的权重，即该标准对于完整描述用户行为的贡献。我们用机器学习中的广义线性模型对该问题进行建模，模型训练完成后可得各标准的权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-81" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-82"><span class="msubsup" id="MathJax-Span-83"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral-Italic;">ω</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-85" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>，从而预测出最佳标准<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-86" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-87"><span class="msubsup" id="MathJax-Span-88"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-89" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-90" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。</p>



<h4 id="step4-最终求解">Step4. 最终求解</h4>

<p>通过广义线性模型，我们找到了最佳标准<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-91" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-92"><span class="msubsup" id="MathJax-Span-93"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-94" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-95" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。现在，我们根据该<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-96" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-97"><span class="msubsup" id="MathJax-Span-98"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-99" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-100" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>画出相应泊松分布，如下图：</p>

<p></p><center><img alt="最佳标准泊松分布" src="http://7xqgba.com1.z0.glb.clouddn.com/33.jpg" title="" /></center><p></p>

<p>回顾Step2中的结论：<b>在一个标准下，用户在所有标签上的概率分布是满足泊松分布的。</b>现在最佳标准下的泊松分布我们已经画了出来，该用户在所有标签中的概率分布也应该符合这个分布的。还是老步骤，我们找最高点所对应的标签，即标签5，所以该用户的动态标签是标签5，问题完美解决。</p>

<p>在学习了泊松分布和机器学习之后，媒体网站终于完成了用户标签的工作，看着那圆圆的饼图，流下了激动了泪水，哽咽着说“嗯..终于..终于可以卖钱了..”没错，流量可以变现了，互联网广告一脚踏进合约广告时代。但是仅仅知道“你是谁”，粒度还是太粗，卖不了好价钱。“要是知道你正在干嘛就好了”媒体网站嘴里嘟囔着，突然脑海中灵光一闪，大叫一声：(图片来自网络)</p>

<p></p><center><img alt="我的天呐" src="http://7xqgba.com1.z0.glb.clouddn.com/37.jpg" title="" /></center><p></p>



<h3 id="512-上下文标签关键技术">5.1.2 上下文标签关键技术</h3>

<blockquote>
  <p>一句话解释上下文标签的做法：吃的是URL，挤的是标签。</p>
</blockquote>

<p>“我当然知道他在干嘛！我有日志啊！我有他正在访问页面的URL！啊哈哈哈哈哈！”有了用户标签的经验，媒体网站处理起上下文标签来就显得轻车熟路了，总共分两步：第一，根据用户当前页面的URL，抓取用户当前浏览的页面内容；第二，提取页面内容的关键词，作为当前页面的标签。</p>

<p>通过URL获得页面内容是一个典型的爬虫应用，与搜索引擎的爬虫不同的是，广告系统的爬虫只抓取用户请求的页面，而非全网页面。鉴于上述原因，广告系统使用“半在线抓取系统”，该系统有三个特点。第一，仅对用户发起请求的页面进行抓取，节省了时间和成本；第二，将<code>{URL:标签}</code>存储下来，当其他用户发起相同页面请求时，直接返回标签结果，避免重复抓取。第三，考虑到某些频道页面内容可能会更新(例如”旧浪体育”)，还可设置合适时间，周期地更新已存页面的标签。</p>

<p>在抓取到页面之后，如何提取标签也有几种常见方法。最简单的是利用规则，在URL层面上人为做映射，例如<code>sports.oldna.com</code>对应的页面标签就是”旧浪体育”。若用户是通过搜索发起的页面访问，还可以根据搜索词作为页面标签。当然，在广告系统使用范围较广的方法还是机器学习中的<b>主题模型</b>，得到页面内容在几个主题上的分布，从而判断页面标签。例如，<code>sports.oldna.com</code>页面内容在”体育”、”财经”和”游戏”三个主题上的概率分布分别为：</p>

<table>
<thead>
<tr>
  <th>体育</th>
  <th>财经</th>
  <th>游戏</th>
</tr>
</thead>
<tbody><tr>
  <td>0.85</td>
  <td>0.10</td>
  <td>0.05</td>
</tr>
</tbody></table>


<p>我们可以很容易的看出<code>sports.oldna.com</code>的标签是”体育”。这里值得注意的是，如果想要加工出”体育”、”财经”和”游戏”这种可解释的标签，通常需要采用有监督的主题模型。</p>

<p>能用的数据都用了，能打的标签也都打了，知道了“你是谁”和“你在看什么”之后，媒体网站这才感觉踏实了些。下面的工作就简单了许多，把标签卖给广告主就可以了，也算是一劳永逸，深藏功与名。至于用户会看到什么，那是广告主的地界，就不管媒体网站什么事儿了。</p>



<h3 id="513-广告标签关键技术">5.1.3 广告标签关键技术</h3>

<p>普通的广告标签就是广告本身的属性，如所属广告主、广告大小、广告类别和目标人群等，当广告和用户两两匹配时，该广告就会展示给用户。但是，这里我们想说的广告标签是在程序化交易中的“个性化标签”。在<a href="http://blog.csdn.net/breada/article/details/50572914">《计算广告小窥[上]》</a>中我们提到：“程序化交易是广告主为实现个性化营销举行的海天盛筵。”品尝过个性化营销的甜头之后，广告主就想：“既然这些人是回头客，那各方面表现和这些回头客很像的人，有没有可能也是我的回头客呢？世界那么大，我得去找找这种人。”</p>

<ul>
<li>look-alike</li>
</ul>

<blockquote>
  <p>一句话解释look-alike：比葫芦画瓢。</p>
</blockquote>

<p>这个技术的名字还挺洋气呢，英文的，“看起来像”？说白了就是比葫芦画瓢，找到那些看起来像回头客的新用户，行话叫“新客推荐”。这里一定要注意了，千万不能翻译成“看起来像”，那样显得逼格不够，就叫英文的，look-alike~</p>

<p>关于look-alike的具体实现，市面上没有统一的做法，毕竟我们正在经历。这样一来我的心也放下了，因为即便我下面都是胡扯也不一定是错的。</p>

<p>look-alike的核心是按着回头客的样子去找新用户。那简单呀，<b>看看回头客的标签是什么样子，对着去找相同的不就行了？</b>没错，这算一种方法，并且是一种基于规则的方法。但是直觉告诉我们这样做粒度太粗，没有充分考虑到广告主因素，同时经验也告诉我们，基于规则的不如基于模型的效果好，所以我们还可以得出一个基于模型的做法：<b>将某用户是否是潜在用户建模成一个机器学习中的二分类问题</b>，利用回头客数据训练模型，并在新用户上做预测，是就是1不是就是0，也挺好理解的。</p>

<p>受众定向关键技术我们就介绍到这里了，现在我们来回顾一下。为了更加精准的刻画用户，我们从用户标签、上下文标签和广告标签三个方面来介绍受众定向。虽说角度不同，但总的说来，不外乎两种方法：基于规则和基于模型。在受众定向技术的支持下，互联网广告进入合约广告时代。在经见了在线分配的大坑之后，媒体网站发现合约不可保，便使用竞价方式售卖流量，指定广告主。那在竞价广告中，又有什么关键技术呢？请看下一小节：竞价广告关键技术：点击率预估。</p>



<h3 id="52-竞价广告关键技术点击率预估">5.2 竞价广告关键技术：点击率预估</h3>

<blockquote>
  <p>郭德碗：聊(bi)了(bi)了这么久，想必衣食父母也都累了。 <br />
  于 兼：是有点儿。 <br />
  郭德碗：能坚持看到这儿的人不多。 <br />
  于 兼：东西太难。 <br />
  郭德碗：那就歇了吧，《计算广告小窥》到此结束！ <br />
  于 兼：给我回来！像话嘛这个！ <br />
  郭德碗：还想怎么着啊？ <br />
  于 兼：说好的点击率预估呢？大伙都冲这个来的。 <br />
  郭德碗：真有冲这个来的？ <br />
  (有！) <br />
  郭德碗：怎么不提钱跟我说呢？ <br />
  (吁~) <br />
  郭德碗：好了，玩笑归玩笑，驴鞭归于兼，下面呀，我.. <br />
  于 兼：您等会儿，那玩意儿归我干嘛呀？ <br />
  郭德碗：嘿嘿嘿。 <br />
  (吁~) <br />
  郭德碗：你们都懂？ <br />
  (吁~) <br />
  郭德碗：仁者见仁，污者见污哟。 <br />
  (下去吧~)</p>
</blockquote>

<p>我知道很多同学是冲着点击率预估来的，所以不能让你们白来不是，免费送您一小段儿，别跟我提钱哈哈。等最后聊到最小广告系统，帮我贡献几次点击就行，我也好收集一些高质量数据，训练模型自己玩儿。言归正传，下面我们将从“是什么”、“为什么”和“怎样做”三方面来介绍点击率预估。</p>



<h4 id="521-点击率预估是什么">5.2.1 点击率预估是什么</h4>

<ul>
<li>点击率</li>
</ul>

<blockquote>
  <p>一句话解释点击率：0.1%</p>
</blockquote>

<p>既然聊到点击率预估，那我们先来看看什么叫点击率。点击率这个概念我们是第一次提起，但其实我们早就知道它了。我们在<a href="http://blog.csdn.net/breada/article/details/50572914">《计算广告小窥[上]》</a>曾经提到：</p>

<blockquote>
  <p>“自从广告上了互联网，广告的面貌就焕然一新。造成行业巨变的原因，是因为互联网广告的效果可以被衡量。”</p>
</blockquote>

<p>如果接着往下说，以什么标准来衡量呢？没错，最常用的衡量标准就是点击率。点击率(CTR:Click-Through Rate)是指的是媒体网站上某个广告的<code>点击量/展示量</code>。之所以使用点击率来衡量广告效果是有原因的，先来看分母：分母是某广告的总展示量。在<a href="http://blog.csdn.net/breada/article/details/50572914">《计算广告小窥[上]》</a>中我们曰过，广告展示机会是广告主通过竞价获得的，展示机会越多，意味着广告主的出价越高，所以总展示量可以用来表征广告主的广告投入。再来看分子：分子是总点击量，而点击行为代表了用户的注意力，说明用户渴望进一步了解广告内容。<b>因此点击率越高，意味着广告主在相同投入的情况下，收获了更多的用户注意力</b>，完美诠释了广告主做广告的初衷，所以点击率是广告主和媒体网站常用来衡量广告效果的标准。我听过一个数字，广告平均点击率为千分之一，也就是每展示1000次广告才会收获1次点击，所以点击率预估中数据都是很稀疏的。</p>

<ul>
<li>点击率预估</li>
</ul>

<blockquote>
  <p>一句话解释点击率预估：80%</p>
</blockquote>

<p>了解了点击率，我们再来看看什么叫点击率预估。从字面上理解，点击率预估是预测媒体网站上某个广告的<code>点击量/展示量</code>，然而这样理解并不是很准确，我先给出我的理解：<b>点击率预估，是指预测特定用户点击特定广告的概率</b>，例如小明点击某信二手车广告的概率是80%。</p>

<p>为什么对媒体网站广告点击率(0.1%)的预测，会变成了对用户点击某广告概率(80%)的预测呢，接着往下看啦。</p>



<h4 id="522-为什么要做点击率预估">5.2.2 为什么要做点击率预估</h4>

<blockquote>
  <p>一句话解释为什么要做点击率预估：钱。</p>
</blockquote>

<p>在竞价广告阶段，广告主与媒体网站之间以按点击付费(CPC)的方式结算，因此我们可以用下列公式来表征媒体网站在某次广告活动中的收入：</p>

<p><code>媒体网站收入 = (点击率 * 展示量) * 单次点击价格 = 点击量 * 单次点击价格</code></p>

<p>我们知道，<code>展示量</code>和<code>单次点击价格</code>这两部分都是广告主参与竞价后才能决定的，与媒体网站无关，所以媒体网站的收入就与<code>点击率</code>直接挂钩。在收益最大化的驱使下，媒体网站有提高点击率的动力。点击率的定义是<code>点击量/展示量</code>，<code>展示量</code>又是广告主通过竞价决定的，因此媒体网站只能想方设法提高<code>点击量</code>。</p>

<p>对于媒体网站而言，他所拥有的资源就是页面上几个固定的广告位和海量的用户。为了提高点击量，一种简单明了的想法就是让展示的广告尽可能多的被点击，即“指哪儿打哪儿”。为了实现这个理想，亟需解决两个问题：首先需要知道用户感兴趣的广告有哪些，其次需要让用户尽可能多的点击这些广告。</p>

<p>第一个问题叫做“广告检索”，是指媒体网站根据用户的定向标签或其他方式检索出符合用户口味的广告候选集合。这部分内容是搜索引擎的核心，在这里我们就不展开讨论了。我们来看第二个问题，假设我们已经得到了一个符合用户口味的广告候选集合，如何能让用户更多的点击呢？很简单，<b>把用户最可能点击的广告放在最显眼的地方</b>，为了定量描述<b>用户最可能点击的广告</b>，这便引出了点击率预估的问题。因此我们说，点击率预估并不是来预估媒体网站上<code>点击量/展示量</code>，而是预测某个特定用户点击某个特定广告的概率。OK，那预估完干什么呢？刚才不是说了嘛，把最可能点击的广告放在最显眼的地方呀！</p>

<ul>
<li>最显眼的地方</li>
</ul>

<blockquote>
  <p>一句话解释最显眼的地方：你也是柳岩的球迷？</p>
</blockquote>

<p>为了较为直观地描述用户的注意力分布，我找了一张LinkdIn的用户注意力热力分布图。(图片来自网络)</p>

<p></p><center><img alt="热力分布图" src="http://7xqgba.com1.z0.glb.clouddn.com/40.jpg" title="" /></center><p></p>

<p>图中，颜色越红代表用户注意力越集中。可以看到，用户最关注的是页面的上半部分，其次是右半部分，最后是下半部分。这种注意力分布基本我们日常的浏览习惯，即如果能在页面靠前位置找到我们所需的信息，一般就不会再关注页面其他地方。了解了注意力分布，我们来看一下某度搜索页面上的广告位分布。</p>

<p></p><center><img alt="百度" src="http://7xqgba.com1.z0.glb.clouddn.com/39.png" title="" /></center><p></p>

<p>某度广告位主要分布在北区、东区和南区三部分，以LinkedIn页面中的用户注意力分布来推测，用户在某度页面上注意力分布从高到底分别是北区、东区和南区。假设某度共有10个广告位，那么将用户最可能点击的10个广告按照点击概率由高到低顺序分别排在北区、东区和南区。然后还干嘛？没有了，万事俱备，只欠点击。</p>

<p>不知道您听明白了没，我来帮您捋捋。为了提高媒体网站的收益，我们结合业务场景不断简化问题，从提高媒体网站点击率入手，到提高总点击量，再到获得广告候选集合，预测出了用户点击广告的概率。仅仅预测点击概率媒体网站还赚不着钱，因此媒体网站根据点击概率在页面广告位上对广告进行排序。所以为什么要做点击率预估呢？都是为了钱！都是为了钱！都是为了钱！</p>



<h4 id="523-点击率预估怎么做">5.2.3 点击率预估怎么做</h4>

<blockquote>
  <p>一句话解释点击率预估怎么做：使尽浑身解数，只为更懂你。</p>
</blockquote>

<p>自计算广告学诞生以来，点击率预估就是一个在学术界和工业界被广泛研究和实践的课题。剥去种种具体场景，点击率预估的本质其实还是一个机器学习中的二分类问题。一般来讲，媒体网站点击数据的数学分布是非线性的。为了拟合这种非线性关系，学术界侧重于模型的研究，工业界侧重于特征的构造，双方优势互补，已取得了相当丰硕的成果。下面我们将先介绍展示广告和搜索广告这两种互联网广告的主要形式，然后阐述二者在点击率预估问题上的不同之处，最后介绍一些点击率预估的方法。</p>

<ul>
<li>展示广告  </li>
</ul>

<p>展示广告(Display Advertising)是一种以“图片+文字”的方式进行广告宣传的互联网广告形式。从广告触发方式来看，展示广告是媒体网站根据用户<b>历史行为</b>所做的推荐，对用户而言广告是被动接收的，如下图。</p>

<p></p><center><img alt="展示广告" src="http://7xqgba.com1.z0.glb.clouddn.com/41.jpg" title="" /></center><p></p>

<ul>
<li>搜索广告</li>
</ul>

<p>搜索广告(Sponsored Search)是一种以“标题+超链接”的方式进行广告宣传的互联网广告形式。从广告触发方式来看，搜索广告是媒体网站针对用户<b>当前检索</b>所做的广告匹配，广告是用户主动发起的，如下图。</p>

<p></p><center><img alt="搜索广告" src="http://7xqgba.com1.z0.glb.clouddn.com/42.jpg" title="" /></center><p></p>

<p>根据上面我们对展示和搜索广告的描述，我们可以对两种广告形式的点击率预估有一个浅显并直观的认识：展示广告的点击率预估可以看作是一个推荐问题，根据历史记录推测用户对哪些广告更感兴趣；搜索广告的点击率预估可以看作是一个检索问题，根据用户当前的查询来做广告匹配。前者推荐后者检索，问题性质的不同也决定了点击率预估所采用方式的不同。</p>

<ul>
<li>点击率预估方法</li>
</ul>

<p>有关<strong>展示广告</strong>和<strong>搜索广告</strong>的实现算法和应用细节都是各家互联网公司的商业机密，由于场景的不同，各家对点击率的预估也是八仙过海各显神通。作为一个没有实战经验的小屁孩儿，想要较为流畅地阐述这个话题，还是力不从心，毕竟眼界太窄太年轻。为了保证文章结构的完整，这部分还必须要写，那么我就抛开业务场景，仅从机器学习角度来和大家聊一聊我所知道的内容。写的不好，还请各路大神多多指教，如有不当指出，请严厉指出，我定感激不尽！</p>

<p>上面我们提到过，从用户浏览网页到广告获得展示，要经过三个阶段：用户定向、广告检索和广告排序。用户定向和广告检索就不多说了，最终在广告库中可以找到符合你口味的广告，即“万里挑十”。在广告排序阶段，需要将这十个广告位放置在页面上，通常做法有两种，一个是基于规则，一个是基于机器学习。我们这里从机器学习的角度入手，但是各位千万不要忽视了规则的能力。聊到机器学习，主要就是两方面，特征和模型。下面我就根据我所了解的内容，重点介绍一下线性模型+海量特征的方法，然后简单介绍一下点击率预估的发展。</p>

<ul>
<li><b>&lt;1&gt;线性模型 + 海量特征</b></li>
</ul>

<p>用于点击率预估的数据主要是日志数据，一般会有点击行为(点击为1，没点为0)、广告信息(广告位、广告主id、广告标签和广告描述等)、用户信息(用户id和用户标签等)、上下文信息和时间戳等。有了这些原始数据之后，需要对数据进行清洗，然后利用统计或模型的方法构造特征，进而做特征选择和特征组合，最终特征的数量级大约在10亿-100亿维。完成了特征工作之后，在模型方面，较为经典的点击率预估模型是线性模型Logistic Regression，由于LR在通过sigmoid之前是一个[0,1]之间的浮点数，利用LR的特点，我们可以将这个浮点数作为用户点击该广告的概率，把广告按照这个概率从高到低放置在相应广告位上，就完成了广告排序。</p>

<p>为什么要造出维度这么高的特征向量呢？我的理解是这样的。对于点击数据来说，点击行为与其他特征之间的关系是非线性的，为了拟合这种非线性关系，我们依然可以从特征和模型两方面入手。通常来说，非线性模型的效果要更好一些，但是效率太低，不适合工业界的现实场景，所以快速简单的线性模型就成为了模型的首选。那线性模型如何拟合非线性关系呢？这就需要在特征层面做文章，利用特征工程的方法来构造出高阶特征，同样可以实现非线性。这个思路理解起来还是不难的，如下面两式对比：</p>

<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-101" style="width: 17.603em; display: inline-block;"><span style="display: inline-block; width: 14.083em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-102"><span class="mtext" id="MathJax-Span-103"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">工</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">程</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">前</span></span><span class="mtext" id="MathJax-Span-104"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">：</span></span><span class="msubsup" id="MathJax-Span-105"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-106" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-107" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-108" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-109"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-110" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-111" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-112"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-114" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-116"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-117" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-118" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-119"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-120" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-121" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-122" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-123" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-124" style="width: 26.883em; display: inline-block;"><span style="display: inline-block; width: 21.496em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-125"><span class="mtext" id="MathJax-Span-126"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">工</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">程</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span><span class="mtext" id="MathJax-Span-127"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">：</span></span><span class="msubsup" id="MathJax-Span-128"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-129" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-130" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-131" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-132"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-133" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-134" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-135"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-136" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-137" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-138" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-139" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-140"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-141" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-142" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-143"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-144" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-145" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-147"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-148" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-149" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-150"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-151" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-152" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-153" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-154"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-155" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-156" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-157"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-159" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-160"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-161" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-162" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-163" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-164" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<ul>
<li><b>&lt;2&gt;点击率预估的发展</b></li>
</ul>

<p>为了构造出维度如此巨大的特征向量，特征工程几乎占据了70%的项目时间，并且主要是靠努力的程序员人工来实现的。那有没有自动选择特征的方式呢？ADKDD’14有一篇Facebook的paper<a href="http://quinonero.net/Publications/predicting-clicks-facebook.pdf">《Practical Lessons from Predicting Clicks on Ads at Facebook》</a>提出了一种使用GBDT自动选择特征的方法，用每棵树上的叶子节点来表达特征，比如<code>{1:2, 2:3}</code>指的是第一棵树上第2个节点和第2棵树上第五个节点，根据每棵树的节点个数用one-hot表示即可。多说一句，GBDT选特征的方法已经经过实践验证，在<a href="https://www.kaggle.com/c/criteo-display-ad-challenge">Kaggle-Criteo点击率预估大赛</a>中，冠军的解决方案便是GBDT+FFM的方法获得的。</p>

<p>说到FFM，它是FM的一个变种。<a href="http://www.ismll.uni-hildesheim.de/pub/pdfs/Rendle2010FM.pdf">FM(Factorization Machine)：因式分解机</a>是最近比较火的一个模型，这个模型可以挖掘出特征间的非线性关系，并且可以在<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-165" style="width: 2.403em; display: inline-block;"><span style="display: inline-block; width: 1.923em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-166"><span class="mi" id="MathJax-Span-167" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-168" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-169" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-170" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的时间内完成计算，非常吸引人。</p>

<p>最后就是深度学习了，在视频、图像和语音领域有较为突出的成果。最新的听说MSRA出了一个152层的网络，OMG…国内在广告领域应用深度学习最早的应该是百度IDL，据说有三十多层，评价指标提升了三个百分点，看来DL的能力还是很强的。我自己也在探索阶段，期待能有好的结果，这里就不多说了。</p>

<p>点击率预估环节到这里就结束了，以上内容不知是否和您心意。部分内容可能需要一些机器学习背景，对此感兴趣的同学可以加入我们的QQ群(初学者373038809，行业同学和研究者472059892)，我们共同讨论。好累呀，卖个萌再往下面写吧。(图片来自网络)</p>

<p></p><center><img alt="卖个萌" src="http://7xqgba.com1.z0.glb.clouddn.com/65.jpg" title="" /></center><p></p>



<h3 id="53-程序化交易关键技术出价策略">5.3 程序化交易关键技术：出价策略</h3>

<p>在上半部分中，我们曾经介绍过程序化交易中的参与者，除了用户外，主要还有代表媒体网站利益的SSP、代表广告主利益的DSP和小三ADX。通俗来讲，SSP是管仓库的，ADX是管传话的，DSP是管花钱的，现在我们要开始聊程序化交易中的关键技术，您觉得我们应该把目光放在谁上面呢？已经讲到现在了，我们要收起情怀，统一思想，当然是要重点关注DSP啦！你可能会想，花钱谁不会啊，这要啥技术？没错，花钱是没什么难的，但对于广告主而言，花钱做广告是一种投资，本质和风投股票文玩楼盘高利贷没什么区别，追求的就是高的投入产出比，真刀真枪的动起钱来，弄不好会走火入魔的。这钱，您还敢花吗？</p>



<h1 id="敢啊">敢啊！</h1>

<p>要是不敢我还怎么写博客嘛，哈哈哈哈哈~~~花钱不要紧，只要能挣就行了呀！那我们就来聊聊如何才能挣的比花的多吧。</p>



<h4 id="531-出价原则">5.3.1 出价原则</h4>

<p>上面我们提到，广告主花钱做广告实际上是一种投资行为，既然是投资，就要对风险进行评估。具体到DSP来说，“投资”是指广告主投钱给DSP，让其参与实时竞价，期望获得良好的广告效果(点击/购买/注册/下载等)；“风险”是指钱花了，但由于效果太差，没见着收益。为了规避风险，获取较高的投入产出比，DSP在出价时需要进行“风险评估”，即预估本次广告展示机会所能带来的收益，以此作为出价的参考。在出价时，要注意以下几点原则，可能并不全面，还请行业内的同学补充。</p>

<ul>
<li>预算限制：广告主一次就给这么多，超了算你的。</li>
<li>时间限制：到时间花不完就收回去了。</li>
<li>花钱为主：都说了是投资，能花了就别留着。</li>
<li>见好就上：出价与流量品质成正相关。</li>
</ul>

<p>这些出价原则理解起来没什么难的，但我想要着重说一下第四条<code>见好就上</code>，这才是最关键的部分。如何定义流量品质，又如何出价呢，好戏马上开始。</p>



<h4 id="532-如何定义流量品质">5.3.2 如何定义流量品质？</h4>

<p>所谓流量品质，就是在此时此刻此情此景，用户点击广告能为广告主带来的收益，主要分为两部分：一是点击率，二是点击价值。点击率的预估就不多说了，和媒体网站上点击率预估是类似的，只不过在实时的场景下要求会更高一些。点击价值是什么意思？刘鹏老师在《计算广告》中这样解释道：（有部分修改，括号内容为我的解释）</p>

<blockquote>
  <p>点击价值可以分解为到达率、转化率和转化单价三个量的乘积。到达率是指实际打开广告次数与点击次数的比例，这与广告主网站的页面你打开延迟关系最大，与媒体的属性、特别是误点情况也有一定关系；转化率指的是到达广告主页以后，有多少比例产生了广告主定义的转化行为(购买/注册/下载等)；转化单价是指广告主指定的转化费用(即DSP做一单能挣多少)。</p>
  
  <p>上述三个变量中，到达率和转化单价都是很好统计的，只有转化率的预估是比较困难的。转化率预估的方法可以参照点击率预估，但是由于转化数据要比点击数据少得多，除非是在有充足行业数据支持的情况下，否则用机器学习方法建模有较大困难。实践中比较可行的办法基本上都是简单统计与运营经验相结合来估算转化率。</p>
</blockquote>



<h4 id="533-如何出价">5.3.3 如何出价？</h4>

<p>终于进入到了最核心的出价环节。按照“见好就上”的原则，出价与流量品质成正相关。那到底是采用线性策略好，还是非线性策略好呢？我们来仔细分析一下。</p>

<ul>
<li>线性出价策略</li>
</ul>

<p>我们在CTR预估阶段提到过用户注意力，广告位这个物理因素对点击率的影响是十分显著的。我曾看到过一个数字，同样一个广告，把它放在第一位所获得点击率是放在第二位时的两倍。若采用线性出价策略，DSP在出价时就有必要出两倍于第二位的价格去参与竞价。这个思路很好理解，感兴趣的同学可以参照KDD’12的paper<a href="http://cwds.uw.edu/sites/default/files/p804.pdf">《Bid Optimizing and Inventory Scoring in Targeted Online Advertising》</a>。</p>

<ul>
<li>非线性出价策略</li>
</ul>

<p>非线性策略是我想说的重点，主要是想借着这个机会介绍一下限制条件下的优化问题以及其解法，这对于我们做科研或者工程项目都是很有帮助的，下面我们通过KDD’14<a href="http://www0.cs.ucl.ac.uk/staff/w.zhang/papers/ortb-kdd.pdf">《Optimal Real-Time Bidding for Display Advertising》</a>一文来了解一下非线性出价策略的来龙去脉。以下内容是我对这篇paper的个人理解，可能并不到位，既然写出来就不怕大家笑话啦，有错就改嘛嘿嘿。</p>

<p><b>&lt;1&gt;. 文章大意</b></p>

<p>实时竞价的场景中，在预算限制条件下如何设计出价策略是我们关注的焦点。为了实现这一目标，分为三步。第一，将现实问题用数学方法建模为限制条件下的优化问题，并通过拉格朗日乘子法，求得出价策略的数学表达式；第二，利用<a href="http://contest.ipinyou.com/rule.shtml">品友RTB出价算法大赛</a>的数据拟合出价策略中的参数；第三，验证结果，发现了一个有意思的结论：相比少量高品质的展示机会，那些大量低品质的展示机会同样可以具有较好的广告效果，值得出价。这个发现对于那些预算不够，同时又想做广告的小广告主来说，简直就是福音。</p>

<p><b>&lt;2&gt;. 建立模型</b></p>

<p>在一切开始之前，让我们先考虑清楚要解决的问题是什么，简单来说就一句话：<b>选择合适的出价策略，在预算的限制下实现广告效果最大化</b>，用数学语言描述就是下面这样：</p>

<p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-171" style="width: 27.043em; display: inline-block;"><span style="display: inline-block; width: 21.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-172"><span class="mi" id="MathJax-Span-173" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-174" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-175"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mo" id="MathJax-Span-176" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-177"><span class="mrow" id="MathJax-Span-178"><span class="mi" id="MathJax-Span-179" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-180" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-181" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-182" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-184" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-185" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-186" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-187" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-188" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-189"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-190" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-191"><span class="mrow" id="MathJax-Span-192"><span class="mi" id="MathJax-Span-193" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-194" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-195" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-196"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-197" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-198" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-199"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mo" id="MathJax-Span-200">∫<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.429em;"></span></span><span style="display: inline-block; width: 0px; height: 3.629em;"></span></span><span><span class="mi" id="MathJax-Span-201" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-202" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-204" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-205" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-206" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-208" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-209" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-210" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-211" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-212" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-213" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-214" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-215" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-216" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-217" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-218" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-219" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-220"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-221" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-222" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-223" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-224" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-225" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-226" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-227" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>

<p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-228" style="width: 24.376em; display: inline-block;"><span style="display: inline-block; width: 19.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-229"><span class="mtext" id="MathJax-Span-230" style="font-family: STIXGeneral-Regular;">subject to&nbsp;</span><span class="msubsup" id="MathJax-Span-231"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mtext" id="MathJax-Span-232" style="font-family: STIXGeneral-Regular;">N</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-233" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-234"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mo" id="MathJax-Span-235">∫<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.429em;"></span></span><span style="display: inline-block; width: 0px; height: 3.629em;"></span></span><span><span class="mi" id="MathJax-Span-236" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-237" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-238" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-239" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-240" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-241" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-242" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-243" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-244" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-245" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-246" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-247" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-248" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-249" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-250" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-251" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-252" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-253" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-254" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-255" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-256" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-257" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-258" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-259" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-260"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-261" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-262" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-263" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-264" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-265" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-266" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>

<p></p><center><img alt="我靠" src="http://7xqgba.com1.z0.glb.clouddn.com/48.gif" title="" /></center><p></p>

<p>我靠！这一堆是什么玩意儿！你TM在逗我？淡定。。看不懂就对了啊哈哈哈哈！下面我来做一下简化，告诉你这个模型在我眼中长什么样。</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-268" style="width: 14.883em; display: inline-block;"><span style="display: inline-block; width: 11.896em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-269"><span class="mi" id="MathJax-Span-270" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-271" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-272"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-274"><span class="mrow" id="MathJax-Span-275"><span class="mi" id="MathJax-Span-276" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-277" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-278" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-279" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-280" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-281" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-282" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-283" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-284" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-285" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-286"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-287" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-288"><span class="mrow" id="MathJax-Span-289"><span class="mi" id="MathJax-Span-290" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-291" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-292" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-293"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">大</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">坨</span><span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">&nbsp;</span></span><span class="mtext" id="MathJax-Span-294"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">！</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-295" style="width: 12.536em; display: inline-block;"><span style="display: inline-block; width: 10.029em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-296"><span class="mtext" id="MathJax-Span-297" style="font-family: STIXGeneral-Regular;">subject to<span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">　</span> <span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">又</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">大</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">坨</span>  !</span><span class="mtext" id="MathJax-Span-298" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-299" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>这下是不是好多了？反正我第一次看到这个模型就长这样，把积分部分当作一大坨，就很容易看懂了。这个模型一共有两个公式，我们一一来看。</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-300" style="width: 14.883em; display: inline-block;"><span style="display: inline-block; width: 11.896em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-301"><span class="mi" id="MathJax-Span-302" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-303" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-304"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mo" id="MathJax-Span-305" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-306"><span class="mrow" id="MathJax-Span-307"><span class="mi" id="MathJax-Span-308" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-309" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-310" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-311" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-312" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-313" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-314" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-315" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-316" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-317" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-318"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-319" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-320"><span class="mrow" id="MathJax-Span-321"><span class="mi" id="MathJax-Span-322" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-323" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-324" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-325"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">大</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">坨</span><span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">&nbsp;</span></span><span class="mtext" id="MathJax-Span-326"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">！</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>
</blockquote>

<p>第一个公式是一个等式，等号左边是我们想得到的出价策略函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-327" style="width: 3.896em; display: inline-block;"><span style="display: inline-block; width: 3.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-328"><span class="mi" id="MathJax-Span-329" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-330" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-331"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mo" id="MathJax-Span-332" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-333"><span class="mrow" id="MathJax-Span-334"><span class="mi" id="MathJax-Span-335" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-336" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-337" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-338" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，等号右边是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-339" style="width: 5.069em; display: inline-block;"><span style="display: inline-block; width: 4.056em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-340"><span class="mi" id="MathJax-Span-341" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-342" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-343" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-344" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-345" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-346"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-347" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-348"><span class="mrow" id="MathJax-Span-349"><span class="mi" id="MathJax-Span-350" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-351" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-352" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 跟上一大坨，这里<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-353" style="width: 5.069em; display: inline-block;"><span style="display: inline-block; width: 4.056em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-354"><span class="mi" id="MathJax-Span-355" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-356" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-357" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-358" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-359" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-360"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-361" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-362"><span class="mrow" id="MathJax-Span-363"><span class="mi" id="MathJax-Span-364" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-365" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-366" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的意思是：当后面一大坨取最大值时，返回在最大值情况下的那个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-367" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-368"><span class="mi" id="MathJax-Span-369" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-370" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-371" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。将等号左右两边连起来，这个等式所表达的意思就是：当后面一大坨取最大值时，返回在最大值情况下的那个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-372" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-373"><span class="mi" id="MathJax-Span-374" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-375" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-376" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>作为我们要求的出价策略<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-377" style="width: 3.896em; display: inline-block;"><span style="display: inline-block; width: 3.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-378"><span class="mi" id="MathJax-Span-379" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-380" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-381"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mo" id="MathJax-Span-382" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-383"><span class="mrow" id="MathJax-Span-384"><span class="mi" id="MathJax-Span-385" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-386" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-387" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-388" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。这个思路是不是有点眼熟？没错，在前面合约广告关键技术——受众定向中，讲到用户动态特征时我们对泊松分布的处理方式有些类似。综上所述，对于这个等式而言，我们要做的工作就一个：求最大值。</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-389" style="width: 12.536em; display: inline-block;"><span style="display: inline-block; width: 10.029em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-390"><span class="mtext" id="MathJax-Span-391" style="font-family: STIXGeneral-Regular;">subject to<span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">　</span> <span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">又</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">大</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">坨</span> !</span><span class="mtext" id="MathJax-Span-392" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-393" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>
</blockquote>

<p>第二个公式是一个不等式，subject to是“受限于”的意思。在这里，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-394" style="width: 6.403em; display: inline-block;"><span style="display: inline-block; width: 5.123em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-395"><span class="mtext" id="MathJax-Span-396"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">又</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">大</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">坨</span><span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;"> !</span></span><span class="mtext" id="MathJax-Span-397" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-398" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>想要表达的就是一个限制条件，在等式求最大时插上一脚。还记得我们在高中时学过的<a href="http://7xqgba.com1.z0.glb.clouddn.com/47.png">线性规划</a>吗，一样的道理。</p>

<p>现在我们的任务已经明确了：在限制条件下求等式最大值。那么这个数学任务和我们的实际问题：<b>选择合适的出价策略，在预算的限制下实现广告效果最大化</b>是怎么匹配上的呢？这就需要去看那两大坨了。那一大坨全都是各种符号，我们看不懂，所以需要一张符号对照表，如下图。为了方便，我再把模型公式再贴一次。</p>

<p></p><center><img alt="符号对照表" src="http://7xqgba.com1.z0.glb.clouddn.com/43.jpg" title="" /></center><p></p>

<p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-399" style="width: 27.043em; display: inline-block;"><span style="display: inline-block; width: 21.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-400"><span class="mi" id="MathJax-Span-401" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-402" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-403"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mo" id="MathJax-Span-404" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-405"><span class="mrow" id="MathJax-Span-406"><span class="mi" id="MathJax-Span-407" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-408" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-409" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-410" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-411" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-412" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-413" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-414" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-415" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-416" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-417"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-418" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-419"><span class="mrow" id="MathJax-Span-420"><span class="mi" id="MathJax-Span-421" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-422" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-423" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-424"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-425" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-426" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-427"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mo" id="MathJax-Span-428">∫<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.429em;"></span></span><span style="display: inline-block; width: 0px; height: 3.629em;"></span></span><span><span class="mi" id="MathJax-Span-429" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-430" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-431" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-432" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-433" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-434" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-435" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-436" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-437" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-438" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-439" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-440" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-441" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-443" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-444" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-445" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-446" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-447" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-448"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-449" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-450" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-451" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-452" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-453" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-454" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-455" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>

<p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-456" style="width: 24.376em; display: inline-block;"><span style="display: inline-block; width: 19.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-457"><span class="mtext" id="MathJax-Span-458" style="font-family: STIXGeneral-Regular;">subject to&nbsp;</span><span class="msubsup" id="MathJax-Span-459"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mtext" id="MathJax-Span-460" style="font-family: STIXGeneral-Regular;">N</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-461" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-462"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mo" id="MathJax-Span-463">∫<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.429em;"></span></span><span style="display: inline-block; width: 0px; height: 3.629em;"></span></span><span><span class="mi" id="MathJax-Span-464" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-465" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-466" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-467" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-468" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-469" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-470" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-472" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-473" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-474" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-476" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-477" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-478" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-479" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-480" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-481" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-482" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-483" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-484" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-485" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-486" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-487" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-488"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-489" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-491" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-492" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-493" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-494" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-495" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>

<p>有了符号定义和模型，我们开始聊(啃)一聊(啃)这两大坨吧。先看第一坨，我们从右往左看。</p>

<ul>
<li><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-496" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-497"><span class="mi" id="MathJax-Span-498" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-499" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>：x代表一次bid request，是ADX发给DSP的竞价请求“标识XXX,男性，20-25岁，跑鞋爱好者，广告位为首页”，即一次广告展示机会。之所以是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-500" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-501"><span class="mi" id="MathJax-Span-502" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-503" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>而不是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-504" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-505"><span class="mi" id="MathJax-Span-506" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，是因为我们关注的是整个广告推广计划中所有的竞价过程，而非某一次竞价。</p></li>
<li><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-507" style="width: 2.563em; display: inline-block;"><span style="display: inline-block; width: 2.029em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-508"><span class="msubsup" id="MathJax-Span-509"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-510" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-511" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-512" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-513" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-514" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>：广告展示机会的概率密度分布，我的理解是在全网所有的竞价中，满足我DSP要求的、或者是我能收到的bid request所占的比例。因此，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-515" style="width: 5.176em; display: inline-block;"><span style="display: inline-block; width: 4.109em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-516"><span class="msubsup" id="MathJax-Span-517"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-518" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-519" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-520" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-521" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-522" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-523" style="font-family: STIXGeneral-Regular;">∗</span><span class="mi" id="MathJax-Span-524" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-525" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的物理意义是“我能收到的展示机会”。</p></li>
<li><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-526" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-527"><span class="mi" id="MathJax-Span-528" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-529" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-530" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-531" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>：<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-37-Frame"><span class="math" id="MathJax-Span-532" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-533"><span class="mi" id="MathJax-Span-534" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是赢得此次竞价所能带来的收益(KPI)，本文用CTR来衡量，CTR越高，收益就越高。</p></li>
<li><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame"><span class="math" id="MathJax-Span-535" style="width: 4.643em; display: inline-block;"><span style="display: inline-block; width: 3.683em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-536"><span class="mi" id="MathJax-Span-537" style="font-family: STIXGeneral-Italic;">b</span><span class="texatom" id="MathJax-Span-538"><span class="mrow" id="MathJax-Span-539"><span class="mo" id="MathJax-Span-540" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-541" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-542" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-543" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-544" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-545" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-546" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-547" style="font-family: STIXGeneral-Regular;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>：对于此次展示机会，在能带来收益为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-39-Frame"><span class="math" id="MathJax-Span-548" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-549"><span class="mi" id="MathJax-Span-550" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-551" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-552" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-553" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的情况下，我所出的价格bid。</p></li>
<li><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-40-Frame"><span class="math" id="MathJax-Span-554" style="width: 7.469em; display: inline-block;"><span style="display: inline-block; width: 5.976em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-555"><span class="mi" id="MathJax-Span-556" style="font-family: STIXGeneral-Italic;">ω</span><span class="texatom" id="MathJax-Span-557"><span class="mrow" id="MathJax-Span-558"><span class="mo" id="MathJax-Span-559" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-560" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-561" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-562" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-563" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-564" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-565" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-566" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-567" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-568" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-569" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-570" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-571" style="font-family: STIXGeneral-Regular;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>：对于此次展示机会，在能带来收益为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-41-Frame"><span class="math" id="MathJax-Span-572" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-573"><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-575" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-576" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-577" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的情况下，我的出价bid能获胜的概率是多少。因此，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-42-Frame"><span class="math" id="MathJax-Span-578" style="width: 13.869em; display: inline-block;"><span style="display: inline-block; width: 11.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-579"><span class="mi" id="MathJax-Span-580" style="font-family: STIXGeneral-Italic;">ω</span><span class="texatom" id="MathJax-Span-581"><span class="mrow" id="MathJax-Span-582"><span class="mo" id="MathJax-Span-583" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-584" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-585" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-586" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-587" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-588" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-589" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-590" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-591" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-592" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-593" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-594" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-595" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-596" style="font-family: STIXGeneral-Regular;">∗</span><span class="msubsup" id="MathJax-Span-597"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-598" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-599" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-600" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-601" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-602" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-603" style="font-family: STIXGeneral-Regular;">∗</span><span class="mi" id="MathJax-Span-604" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-605" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的物理意义是“对于本次我所收到的这个展示机会来说，在该机会能带来收益为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-43-Frame"><span class="math" id="MathJax-Span-606" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-607"><span class="mi" id="MathJax-Span-608" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-609" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-610" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-611" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，我出价为bid的情况下，我能打败对手获得此次展示机会的概率”。</p></li>
<li><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-44-Frame"><span class="math" id="MathJax-Span-612" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-613"><span class="mi" id="MathJax-Span-614" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-615" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-616" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-617" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>：依然收益。所以<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-45-Frame"><span class="math" id="MathJax-Span-618" style="width: 17.229em; display: inline-block;"><span style="display: inline-block; width: 13.763em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-619"><span class="mi" id="MathJax-Span-620" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-621" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-622" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-623" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-624" style="font-family: STIXGeneral-Regular;">∗</span><span class="mi" id="MathJax-Span-625" style="font-family: STIXGeneral-Italic;">ω</span><span class="texatom" id="MathJax-Span-626"><span class="mrow" id="MathJax-Span-627"><span class="mo" id="MathJax-Span-628" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-629" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-630" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-631" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-632" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-633" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-634" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-635" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-636" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-637" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-638" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-639" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-640" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-641" style="font-family: STIXGeneral-Regular;">∗</span><span class="msubsup" id="MathJax-Span-642"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-643" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-644" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-645" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-646" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-647" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-648" style="font-family: STIXGeneral-Regular;">∗</span><span class="mi" id="MathJax-Span-649" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-650" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的物理含义是“我出价为bid，赢得这次展示机会后，所能获得的收益”。</p></li>
<li><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-46-Frame"><span class="math" id="MathJax-Span-651" style="width: 1.603em; display: inline-block;"><span style="display: inline-block; width: 1.283em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-652"><span class="msubsup" id="MathJax-Span-653"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-654" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-655" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>：一次广告推广活动中所有的bid request。</p></li>
</ul>

<p>有了上面的解释，我们可以很容易的得出第一坨的物理意义：对于一次广告推广活动中的所有竞价，我使用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-47-Frame"><span class="math" id="MathJax-Span-656" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-657"><span class="mi" id="MathJax-Span-658" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-659" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-660" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的出价策略所能获得的收益。和等式连起来，即：<b>对于一次广告推广活动中的所有竞价，我使用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-48-Frame"><span class="math" id="MathJax-Span-661" style="width: 1.553em; display: inline-block;"><span style="display: inline-block; width: 1.191em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-662"><span class="mi" id="MathJax-Span-663" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-664" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>的出价策略所能获得最大收益时所对应的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-49-Frame"><span class="math" id="MathJax-Span-666" style="width: 1.553em; display: inline-block;"><span style="display: inline-block; width: 1.191em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-667"><span class="mi" id="MathJax-Span-668" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-669" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-670" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>，就是我们想要的出价策略。</b></p>

<p>有了第一坨的经验，第二坨啃起来就容易多了。前面都不变，只有到最后把<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-50-Frame"><span class="math" id="MathJax-Span-671" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-672"><span class="mi" id="MathJax-Span-673" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-674" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-675" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-676" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>换成了<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-51-Frame"><span class="math" id="MathJax-Span-677" style="width: 4.643em; display: inline-block;"><span style="display: inline-block; width: 3.683em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-678"><span class="mi" id="MathJax-Span-679" style="font-family: STIXGeneral-Italic;">b</span><span class="texatom" id="MathJax-Span-680"><span class="mrow" id="MathJax-Span-681"><span class="mo" id="MathJax-Span-682" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-683" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-684" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-685" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-686" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-687" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-688" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-689" style="font-family: STIXGeneral-Regular;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，变为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-52-Frame"><span class="math" id="MathJax-Span-690" style="width: 19.736em; display: inline-block;"><span style="display: inline-block; width: 15.789em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-691"><span class="mi" id="MathJax-Span-692" style="font-family: STIXGeneral-Italic;">b</span><span class="texatom" id="MathJax-Span-693"><span class="mrow" id="MathJax-Span-694"><span class="mo" id="MathJax-Span-695" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-696" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-697" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-698" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-699" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-700" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-701" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-702" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-703" style="font-family: STIXGeneral-Regular;">∗</span><span class="mi" id="MathJax-Span-704" style="font-family: STIXGeneral-Italic;">ω</span><span class="texatom" id="MathJax-Span-705"><span class="mrow" id="MathJax-Span-706"><span class="mo" id="MathJax-Span-707" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-708" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-709" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-710" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-711" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-712" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-713" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-714" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-715" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-716" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-717" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-718" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-719" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-720" style="font-family: STIXGeneral-Regular;">∗</span><span class="msubsup" id="MathJax-Span-721"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-722" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-723" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-724" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-725" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-726" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-727" style="font-family: STIXGeneral-Regular;">∗</span><span class="mi" id="MathJax-Span-728" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-729" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，其物理意义为：对于这次广告展示机会，我出价为bid且赢得这次展示机会所花费的预算。所以对于整个广告推广活动而言，<b>所有的出价要小于预算</b>。就这样，我们顺利的将预算限制写进了数学模型里。</p>

<p>好了，分析完两大坨积分的含义之后，我们合起来解释一下该模型(ORTB)所表达的物理意义：<b>在整个广告推广活动中，在出价总和小于预算的限制条件下，当广告收益取得最大值时所对应的那个出价策略，就是我们梦寐以求的出价策略<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-53-Frame"><span class="math" id="MathJax-Span-730" style="width: 4.034em; display: inline-block;"><span style="display: inline-block; width: 3.103em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-731"><span class="mi" id="MathJax-Span-732" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-733" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-734"><span style="display: inline-block; width: 2.225em; height: 0px;"><span><span class="mo" id="MathJax-Span-735" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="texatom" id="MathJax-Span-736"><span class="mrow" id="MathJax-Span-737"><span class="mi" id="MathJax-Span-738" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-739" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-740" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-741" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span></b>。再来对照一下我们的任务：<b>选择合适的出价策略，在预算的限制下实现广告效果最大化</b>。这下匹配了吧！完美！(图片来自网络)</p>

<p></p><center><img alt="ORTB" src="http://7xqgba.com1.z0.glb.clouddn.com/50.jpg" title="" /></center><p></p>

<p><b>&lt;3&gt;. 模型求解</b></p>

<p>截止到目前，我们已经得到了模型表达式，由一个等式和一个不等式组成。接下来我们就要开始求解了：求最大值。最大值有什么好求的？让导数等于0之后带入极值点不就完了？你说的对，如果只有一个等式我们是这么求的，但问题是我们现在除了一个等式，还有一个不等式，这种情况下怎么来求最大值呢？用<a href="https://zh.wikipedia.org/wiki/%E6%8B%89%E6%A0%BC%E6%9C%97%E6%97%A5%E4%B9%98%E6%95%B0">拉格朗日乘子法</a>。</p>

<p>通过拉格朗日乘子法，我们可以将不等式乘一个参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-54-Frame"><span class="math" id="MathJax-Span-742" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-743"><span class="mi" id="MathJax-Span-744" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>后和等式写进一个公式里(化简过程已省略)，得到如下结果。</p>

<p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-55-Frame"><span class="math" id="MathJax-Span-745" style="width: 33.763em; display: inline-block;"><span style="display: inline-block; width: 26.989em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-746"><span class="mi" id="MathJax-Span-747" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-748" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-749" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-750" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-751" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-752" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-753" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-754" style="font-family: STIXGeneral-Italic;">λ</span><span class="mo" id="MathJax-Span-755" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-756" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-757"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mo" id="MathJax-Span-758" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∫<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-759" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-760" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-761" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-762" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-763" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-764" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-765" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-766" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-767" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-768"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-769" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-770" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-771" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-772" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-773" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-774" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-775" style="font-family: STIXGeneral-Italic;">λ</span><span class="msubsup" id="MathJax-Span-776"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mo" id="MathJax-Span-777" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∫<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-778" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-779" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-780" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-781" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-782" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-783" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-784" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-785" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-786" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-787" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-788" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-789" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-790"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-791" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-792" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-793" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-794" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-795" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-796" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-797" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-798" style="font-family: STIXGeneral-Regular;">+</span><span class="mfrac" id="MathJax-Span-799"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-800"><span class="mi" id="MathJax-Span-801" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">λ</span><span class="mi" id="MathJax-Span-802" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="msubsup" id="MathJax-Span-803"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-804" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-805" style="font-size: 50%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mtext" id="MathJax-Span-806" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-807" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-808" style="font-family: STIXGeneral-Regular;">(6</span><span class="mtext" id="MathJax-Span-809" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>

<p>有了这个公式，我们就可以对它进行求导等于0了，可得如下结果：</p>

<p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-56-Frame"><span class="math" id="MathJax-Span-810" style="width: 28.003em; display: inline-block;"><span style="display: inline-block; width: 22.403em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-811"><span class="mi" id="MathJax-Span-812" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="msubsup" id="MathJax-Span-813"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-814" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-815" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-816" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-817" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-818" style="font-family: STIXGeneral-Regular;">)</span><span class="mfrac" id="MathJax-Span-819"><span style="display: inline-block; width: 2.563em; height: 0px;"><span><span class="mrow" id="MathJax-Span-820"><span class="mi" id="MathJax-Span-821" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-822" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-823" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-824" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-825" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-826" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-827" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-828" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-829"><span class="mi" id="MathJax-Span-830" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-831" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-832" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-833" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-834" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-835" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-836" style="font-family: STIXGeneral-Italic;">λ</span><span class="msubsup" id="MathJax-Span-837"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-838" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-839" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-840" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-841" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-842" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-843" style="font-family: STIXGeneral-Regular;">[</span><span class="mi" id="MathJax-Span-844" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-845" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-846" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-847" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-848" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-849" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-850" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-851" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-852" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-853" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-854" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-855" style="font-family: STIXGeneral-Regular;">)</span><span class="mfrac" id="MathJax-Span-856"><span style="display: inline-block; width: 2.563em; height: 0px;"><span><span class="mrow" id="MathJax-Span-857"><span class="mi" id="MathJax-Span-858" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-859" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-860" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-861" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-862" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-863" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-864" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-865" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-866"><span class="mi" id="MathJax-Span-867" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-868" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-869" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-870" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-871" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-872" style="font-family: STIXGeneral-Regular;">]</span><span class="mo" id="MathJax-Span-873" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-874" style="font-family: STIXGeneral-Regular;">0</span><span class="mtext" id="MathJax-Span-875" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-876" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-877" style="font-family: STIXGeneral-Regular;">(7</span><span class="mtext" id="MathJax-Span-878" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>

<p>通过化简，可得出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-57-Frame"><span class="math" id="MathJax-Span-879" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-880"><span class="mi" id="MathJax-Span-881" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-882" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-883" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-58-Frame"><span class="math" id="MathJax-Span-884" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-885"><span class="mi" id="MathJax-Span-886" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-887" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-888" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的关系：</p>

<p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-59-Frame"><span class="math" id="MathJax-Span-889" style="width: 17.709em; display: inline-block;"><span style="display: inline-block; width: 14.136em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-890"><span class="mi" id="MathJax-Span-891" style="font-family: STIXGeneral-Italic;">λ</span><span class="mi" id="MathJax-Span-892" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-893" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-894" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-895" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-896" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-897" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-898" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-899" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-900" style="font-family: STIXGeneral-Regular;">[</span><span class="mi" id="MathJax-Span-901" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-902" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-903" style="font-family: STIXGeneral-Italic;">λ</span><span class="mi" id="MathJax-Span-904" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-905" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-906" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-907" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-908" style="font-family: STIXGeneral-Regular;">]</span><span class="mfrac" id="MathJax-Span-909"><span style="display: inline-block; width: 2.563em; height: 0px;"><span><span class="mrow" id="MathJax-Span-910"><span class="mi" id="MathJax-Span-911" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-912" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-913" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-914" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-915" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-916" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-917" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-918" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-919"><span class="mi" id="MathJax-Span-920" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-921" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-922" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-923" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-924" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mtext" id="MathJax-Span-925" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-926" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-927" style="font-family: STIXGeneral-Regular;">(8</span><span class="mtext" id="MathJax-Span-928" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>

<p>也就是说，我们想要的出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-60-Frame"><span class="math" id="MathJax-Span-929" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-930"><span class="mi" id="MathJax-Span-931" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-932" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-933" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-61-Frame"><span class="math" id="MathJax-Span-934" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-935"><span class="mi" id="MathJax-Span-936" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-937" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-938" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>有关，那我们就来看看他们之间到底有什么关系。通过对数据的统计，可以画出出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-62-Frame"><span class="math" id="MathJax-Span-939" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-940"><span class="mi" id="MathJax-Span-941" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-942" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-943" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-63-Frame"><span class="math" id="MathJax-Span-944" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-945"><span class="mi" id="MathJax-Span-946" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-947" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-948" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的关系图像：</p>

<p></p><center><img alt="w()-b()" src="http://7xqgba.com1.z0.glb.clouddn.com/54.jpg" title="" /></center><p></p>

<p>从图像中我们可以看出，出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-64-Frame"><span class="math" id="MathJax-Span-949" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-950"><span class="mi" id="MathJax-Span-951" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-952" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-953" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-65-Frame"><span class="math" id="MathJax-Span-954" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-955"><span class="mi" id="MathJax-Span-956" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-957" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-958" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的关系是非线性的，并且这个曲线的走势和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-66-Frame"><span class="math" id="MathJax-Span-959" style="width: 4.109em; display: inline-block;"><span style="display: inline-block; width: 3.256em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-960"><span class="mi" id="MathJax-Span-961" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-962" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-963"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-964" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-965"><span class="mi" id="MathJax-Span-966" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-967" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-968" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>很像，我们来对比一下，这里c=3。</p>

<p></p><center><img alt="x/c+x" src="http://7xqgba.com1.z0.glb.clouddn.com/55.jpg" title="" /></center><p></p>

<p>没错，的确很像。基于此，为了达到消元的目的，作者做了一个出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-67-Frame"><span class="math" id="MathJax-Span-969" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-970"><span class="mi" id="MathJax-Span-971" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-972" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-973" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-68-Frame"><span class="math" id="MathJax-Span-974" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-975"><span class="mi" id="MathJax-Span-976" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-977" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-978" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>之间的假设，仿照着<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-69-Frame"><span class="math" id="MathJax-Span-979" style="width: 4.109em; display: inline-block;"><span style="display: inline-block; width: 3.256em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-980"><span class="mi" id="MathJax-Span-981" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-982" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-983"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-984" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-985"><span class="mi" id="MathJax-Span-986" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-987" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-988" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>得到下面公式：</p>

<p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-70-Frame"><span class="math" id="MathJax-Span-989" style="width: 12.429em; display: inline-block;"><span style="display: inline-block; width: 9.923em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-990"><span class="mi" id="MathJax-Span-991" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-992" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-993" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-994" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-995" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-996" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-997" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-998" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-999"><span style="display: inline-block; width: 3.469em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1000"><span class="mi" id="MathJax-Span-1001" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-1002" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1003" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1004" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-1005"><span class="mi" id="MathJax-Span-1006" style="font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-1007" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1008" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-1009" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1010" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1011" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mtext" id="MathJax-Span-1012" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-1013" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-1014" style="font-family: STIXGeneral-Regular;">(9</span><span class="mtext" id="MathJax-Span-1015" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>

<p>将出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-71-Frame"><span class="math" id="MathJax-Span-1016" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1017"><span class="mi" id="MathJax-Span-1018" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-1019" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1020" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-72-Frame"><span class="math" id="MathJax-Span-1021" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1022"><span class="mi" id="MathJax-Span-1023" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-1024" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1025" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的9式关系带入到倒数为0的7式中，化简可得：</p>

<p></p><center><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-73-Frame"><span class="math" id="MathJax-Span-1026" style="width: 16.003em; display: inline-block;"><span style="display: inline-block; width: 12.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1027"><span class="msubsup" id="MathJax-Span-1028"><span style="display: inline-block; width: 3.576em; height: 0px;"><span><span class="mi" id="MathJax-Span-1029" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-1030"><span class="mrow" id="MathJax-Span-1031"><span class="mi" id="MathJax-Span-1032" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-1033" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-1034" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-1035" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span class="mn" id="MathJax-Span-1036" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1037" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1038" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1039" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1040" style="font-family: STIXGeneral-Regular;">=</span><span class="msqrt" id="MathJax-Span-1041"><span style="display: inline-block; width: 4.056em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1042"><span class="mfrac" id="MathJax-Span-1043"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-1044" style="font-family: STIXGeneral-Italic;">c</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1045" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-1046" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-1047"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1048" style="font-family: STIXGeneral-Italic;">c</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1049" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="display: inline-block; width: 2.936em; height: 0px;"><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="font-family: STIXSizeTwoSym;">√</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="mo" id="MathJax-Span-1050" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-1051" style="font-family: STIXGeneral-Italic;">c</span><span class="mtext" id="MathJax-Span-1052" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-1053" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mtext" id="MathJax-Span-1054" style="font-family: STIXGeneral-Regular;">(13</span><span class="mtext" id="MathJax-Span-1055" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></center><p></p>

<p>就这样，我们得到了我们的出价策略<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-74-Frame"><span class="math" id="MathJax-Span-1056" style="width: 3.683em; display: inline-block;"><span style="display: inline-block; width: 2.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1057"><span class="msubsup" id="MathJax-Span-1058"><span style="display: inline-block; width: 2.883em; height: 0px;"><span><span class="mi" id="MathJax-Span-1059" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-1060"><span class="mrow" id="MathJax-Span-1061"><span class="mi" id="MathJax-Span-1062" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-1063" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-1064" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-1065" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span class="mo" id="MathJax-Span-1066" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1067" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>的表达式(公式13)。我们来看看这个公式里有什么。这个公式是由<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-75-Frame"><span class="math" id="MathJax-Span-1068" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1069"><span class="mi" id="MathJax-Span-1070" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>， <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-76-Frame"><span class="math" id="MathJax-Span-1071" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1072"><span class="mi" id="MathJax-Span-1073" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-77-Frame"><span class="math" id="MathJax-Span-1074" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1075"><span class="mi" id="MathJax-Span-1076" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>组成的，其中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-78-Frame"><span class="math" id="MathJax-Span-1077" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1078"><span class="mi" id="MathJax-Span-1079" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-79-Frame"><span class="math" id="MathJax-Span-1080" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1081"><span class="mi" id="MathJax-Span-1082" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>都是常量，只有<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-80-Frame"><span class="math" id="MathJax-Span-1083" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1084"><span class="mi" id="MathJax-Span-1085" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>一个变量。<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-81-Frame"><span class="math" id="MathJax-Span-1086" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1087"><span class="mi" id="MathJax-Span-1088" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-82-Frame"><span class="math" id="MathJax-Span-1089" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1090"><span class="mi" id="MathJax-Span-1091" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-1092" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1093" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-83-Frame"><span class="math" id="MathJax-Span-1094" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1095"><span class="mi" id="MathJax-Span-1096" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-1097" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1098" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>之间的系数，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-84-Frame"><span class="math" id="MathJax-Span-1099" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1100"><span class="mi" id="MathJax-Span-1101" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是拉格朗日乘子，而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-85-Frame"><span class="math" id="MathJax-Span-1102" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1103"><span class="mi" id="MathJax-Span-1104" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是每次广告展示的收益，按CTR高低来评判。我们来验证一下：CTR越高，由该策略算出的出价也就越高，符合我们的预期，大功告成。</p>

<p>我们来梳理一下思路。在建模环节，我们已经得到了我们所需的模型：一个等式+一个不等式。我们的任务是要求等式的最大值，通常方法直接对等式求导等于0即可，由于我们这里是一个限制条件下的优化问题，所以需要用到拉格朗日乘子法，将限制条件写进等式中，构造出一个新的公式(公式6)。对于新的公式，我们就可以用求导等于0了(公式7)。在化简过程中，我们发现了出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-86-Frame"><span class="math" id="MathJax-Span-1105" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1106"><span class="mi" id="MathJax-Span-1107" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-1108" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1109" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-87-Frame"><span class="math" id="MathJax-Span-1110" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1111"><span class="mi" id="MathJax-Span-1112" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-1113" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1114" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>存在着数学关系(公式8)，为了消元，我们按照实际数据的分布构造出出价函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-88-Frame"><span class="math" id="MathJax-Span-1115" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1116"><span class="mi" id="MathJax-Span-1117" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-1118" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1119" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与胜率函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-89-Frame"><span class="math" id="MathJax-Span-1120" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1121"><span class="mi" id="MathJax-Span-1122" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-1123" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1124" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的表达式(公式9)，将公式9带入公式7，继续化简就得到了我们的出价策略：<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-90-Frame"><span class="math" id="MathJax-Span-1125" style="width: 3.683em; display: inline-block;"><span style="display: inline-block; width: 2.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1126"><span class="msubsup" id="MathJax-Span-1127"><span style="display: inline-block; width: 2.883em; height: 0px;"><span><span class="mi" id="MathJax-Span-1128" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-1129"><span class="mrow" id="MathJax-Span-1130"><span class="mi" id="MathJax-Span-1131" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-1132" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span class="mi" id="MathJax-Span-1133" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-1134" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span class="mo" id="MathJax-Span-1135" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1136" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>，剩下的工作就是根据数据去拟合<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-91-Frame"><span class="math" id="MathJax-Span-1137" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1138"><span class="mi" id="MathJax-Span-1139" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-92-Frame"><span class="math" id="MathJax-Span-1140" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1141"><span class="mi" id="MathJax-Span-1142" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>即可，这里就不多说了。这里需要强调的是，这种限制条件下的优化方法在统计与机器学习中是很常见的，例如SVM的推导过程，感兴趣的同学可以试一试，其实并不难。</p>

<p><b>&lt;4&gt;. 结果分析</b></p>

<p>既然有了公式，那我们就来看看ORTB的出价有什么特点吧。</p>

<p></p><center><img alt="线性vs非线性" src="http://7xqgba.com1.z0.glb.clouddn.com/60.jpg" title="" /></center><p></p>

<p>我们可以很直观的看出，我们所得到的出价策略是一个非线性的。横坐标<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-93-Frame"><span class="math" id="MathJax-Span-1143" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1144"><span class="mi" id="MathJax-Span-1145" style="font-family: STIXGeneral-Italic;">θ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>代表了广告展示计划的品质，ORTB会对低价值的展示机会出高价，这样的结果能为我们带来什么，谁会去要那些低价值的展示机会呢？我们来看下面这张图。</p>

<p></p><center><img alt="lambda" src="http://7xqgba.com1.z0.glb.clouddn.com/58.jpg" title="" /></center><p></p>

<p>在此图中，我们盯着一条曲线看，比如蓝色的(1/32)。随着<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-94-Frame"><span class="math" id="MathJax-Span-1146" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1147"><span class="mi" id="MathJax-Span-1148" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>增加，收获的点击量是增加的，意味着<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-95-Frame"><span class="math" id="MathJax-Span-1149" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1150"><span class="mi" id="MathJax-Span-1151" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>越高，我们的收益越高。对于我们获得的出价策略而言，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-96-Frame"><span class="math" id="MathJax-Span-1152" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1153"><span class="mi" id="MathJax-Span-1154" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>越高，我们的出价是越低的，也就意味着这次展示机会的价值是很低的。这样的结果值得我们深思，我们以为低价值的展示机会是不值钱的，但数据说明，这些看似不值钱的展示所能带来的回报还算不错。特别地，在<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-97-Frame"><span class="math" id="MathJax-Span-1155" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1156"><span class="mi" id="MathJax-Span-1157" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>=1e-05时三条曲线的几乎重合，而红色代表有钱的广告主，蓝色代表穷广告主，虽然预算差了16倍，但是获得的收益是相同的，这个结论对于预算有限的小广告主而言，是个天大的好消息：虽然我们钱不多，但只要我们出价合适，依然可以收获很好的广告效果，四两拨千斤，极大的调动了小广告主参加程序化交易的积极性。</p>

<p>我们知道，“二八原则”是客观存在的，在广告主中也不例外，如果能吸引这80%的小广告主参与程序化交易，玩家一多，需求自然更多。为了满足金主的需求，势必会推动相关计算技术的发展，这对于计算广告的未来而言，是一件好事。</p>

<p>讲完了非线性出价策略，程序化交易中的关键技术也接近尾声了。出价策略之所以重要，是因为就是DSP赖以生存的看家本领，没有这些真本事，DSP是走不了多远的。</p>

<p>到此，计算广告关键技术就讲完了，啥也不说了，给自己鼓个掌吧(图片来自网络)。</p>

<p></p><center><img alt="鼓掌" src="http://7xqgba.com1.z0.glb.clouddn.com/62.gif" title="" /></center><p></p>

<hr />

<p>历时大半个月，中间又加上过年，终于把这章给写完了，没想到这一章的内容要比上半部分全文都要多。在本篇《计算广告小窥[中]这孙子怎么什么都知道》中，我们从理论的角度探讨了计算广告各阶段的关键技术：在合约广告中，我们讨论了受众定向技术，从用户、上下文和广告主三个方面简单介绍了打标签的常用思路和方法，为计算广告实现精准营销打下了坚实的基础；在竞价广告中，我们讨论了点击率预估的来龙去脉，感受到了互联网人的智慧，为媒体网站流量变现提供了直接保障；在程序化交易广告中，我们通过学术论文了解了当下学术界领先的DSP出价策略，近距离地感受了一下科研的魅力。</p>

<p>曾有人叹息到“我们这一代最聪明的人竟然都在这里思考着怎样让人们去大量的点击广告，真衰。”我个人不认同这种说法，因为在计算广告这样复杂的场景下，相关技术和解决方案的水准必然是顶尖的，稍加修改即可解决其他场景下的疑难杂症，这恰似军工技术反哺民用，又恰似女生随手甩一个不要了的护肤品给男生，那可都是宝。</p>

<p>受篇幅所限，原定于本篇要完成的第五章和第六章只好放在《计算广告小窥[下]广告系统架构：要啥自行车，这里有宝马。》中来写了。在下篇中，我们将介绍一个通用的广告系统架构，在领略在线和离线过程的同时，还将见到时下工业界最火热的技术，譬如Nginx，Hadoop，Spark等在计算广告领域的位置与应用。</p>

<p>除了广告系统架构，我还将介绍一个我自己搭的最小广告系统mieSys，可以先放出来给大家玩一玩，链接是<a href="http://115.159.33.50/">http://115.159.33.50/</a>。使用方法：用户点击页面中广告，等一段时间后刷新页面，在页脚处会显示用户的兴趣标签和性别，在第一行五个广告位中会展示符合用户口味的广告。<b>需要注意的是，由于目前缺少点击数据，CTR模型并不准，为了保证演示效果，暂时只能用离线代替在线，所以您在点击过后预计要10分钟(用户多的话甚至更长)才能看到页面效果，我后期会进行优化，还望轻拍</b>，效果图如下，第一张为默认页面，第二张为结果页面。</p>

<p></p><center><img alt="默认页面" src="http://7xqgba.com1.z0.glb.clouddn.com/64.jpg" title="" /></center><p></p>

<p></p><center><img alt="结果页面" src="http://7xqgba.com1.z0.glb.clouddn.com/62.jpg" title="" /></center><p></p>

<p>这个系统是我用大概20天的时间搭成的，目前来说基本的功能都有，但还是太简单，并且算法没有优化，我会逐步的往上面添加模块和算法，目前思路已有，就差各位为我提供点击数据了[嘿嘿嘿嘿···]。如果您发现mieSys挂了，不是用户太多就是我在调程序，在系统成熟的时候我会选择开源，愿意与有兴趣的同学多交流。哦对了，至于为什么起名为mieSys，因为我女朋友属咩，呵呵哒~</p>

<p>好了，我们《计算广告小窥[下]》再见！</p>
            <div>
                作者：yaoqiang2011 发表于2016/2/19 12:11:37 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50697074">原文链接</a>
            </div>
            <div>
            阅读：15310 评论：2 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50697074#comments" target="_blank">查看评论</a>
            </div>
[原]NLP系列(5)_从朴素贝叶斯到N-gram语言模型
<p>作者： <a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a> &amp;&amp; <a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年2月。 <br />
出处：<a href="http://blog.csdn.net/longxinchen_ml/article/details/50646528">http://blog.csdn.net/longxinchen_ml/article/details/50646528</a> <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50646667">http://blog.csdn.net/han_xiaoyang/article/details/50646667</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-引言朴素贝叶斯的局限性">1. 引言：朴素贝叶斯的局限性</h2>

<p>我们在之前文章<a href="http://blog.csdn.net/longxinchen_ml/article/details/50597149">《NLP系列(2)_用朴素贝叶斯进行文本分类(上)》</a>探讨过，朴素贝叶斯的局限性来源于其条件独立假设，它将文本看成是词袋子模型，不考虑词语之间的顺序信息，就会把“武松打死了老虎”与“老虎打死了武松”认作是一个意思。那么有没有一种方法提高其对词语顺序的识别能力呢？有，就是本节要接到的N-gram语言模型。</p>



<h2 id="2-n-gram语言模型是啥">2. N-gram语言模型是啥？</h2>



<h3 id="21从假设性独立到联合概率链规则">2.1从假设性独立到联合概率链规则</h3>

<p>照抄我们前文垃圾邮件识别中的条件独立假设，长这个样子：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 28.003em; display: inline-block;"><span style="display: inline-block; width: 22.403em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span style="display: inline-block; width: 22.403em; height: 0px;"><span><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-5"><span class="mrow" id="MathJax-Span-6"><span class="mo" id="MathJax-Span-7"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-9"><span class="mrow" id="MathJax-Span-10"><span class="mo" id="MathJax-Span-11"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-12" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-13" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-14" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-15"><span class="mrow" id="MathJax-Span-16"><span class="mo" id="MathJax-Span-17"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-18" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-20" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-21"><span class="mrow" id="MathJax-Span-22"><span class="mo" id="MathJax-Span-23"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-24" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-25" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-26" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-27"><span class="mrow" id="MathJax-Span-28"><span class="mo" id="MathJax-Span-29"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-30"><span class="mrow" id="MathJax-Span-31"><span class="mo" id="MathJax-Span-32"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-33" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-34" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-35" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-36"><span class="mrow" id="MathJax-Span-37"><span class="mo" id="MathJax-Span-38"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-39"><span class="mrow" id="MathJax-Span-40"><span class="mo" id="MathJax-Span-41"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-42"><span class="mrow" id="MathJax-Span-43"><span class="mo" id="MathJax-Span-44"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-45"><span class="mrow" id="MathJax-Span-46"><span class="mo" id="MathJax-Span-47"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-48" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-49" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-50" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-51"><span class="mrow" id="MathJax-Span-52"><span class="mo" id="MathJax-Span-53"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-54"><span class="mrow" id="MathJax-Span-55"><span class="mo" id="MathJax-Span-56"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-58" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-59" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-60"><span class="mrow" id="MathJax-Span-61"><span class="mo" id="MathJax-Span-62"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-63"><span class="mrow" id="MathJax-Span-64"><span class="mo" id="MathJax-Span-65"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-66"><span class="mrow" id="MathJax-Span-67"><span class="mo" id="MathJax-Span-68"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-69" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-70" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-71" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-72"><span class="mrow" id="MathJax-Span-73"><span class="mo" id="MathJax-Span-74"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-75"><span class="mrow" id="MathJax-Span-76"><span class="mo" id="MathJax-Span-77"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-79" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-80" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-81"><span class="mrow" id="MathJax-Span-82"><span class="mo" id="MathJax-Span-83"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-84"><span class="mrow" id="MathJax-Span-85"><span class="mo" id="MathJax-Span-86"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-87" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-88" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-89" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-90"><span class="mrow" id="MathJax-Span-91"><span class="mo" id="MathJax-Span-92"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-93"><span class="mrow" id="MathJax-Span-94"><span class="mo" id="MathJax-Span-95"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-96" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-97" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-98"><span class="mrow" id="MathJax-Span-99"><span class="mo" id="MathJax-Span-100" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-101" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-102" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-103" style="width: 34.083em; display: inline-block;"><span style="display: inline-block; width: 27.256em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-104"><span class="mo" id="MathJax-Span-105" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-106" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-107" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-108" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-109"><span class="mrow" id="MathJax-Span-110"><span class="mo" id="MathJax-Span-111"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-112" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-113"><span class="mrow" id="MathJax-Span-114"><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-116" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-117" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-118" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-119" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-120" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-121" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-122"><span class="mrow" id="MathJax-Span-123"><span class="mo" id="MathJax-Span-124"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-125" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-126"><span class="mrow" id="MathJax-Span-127"><span class="mo" id="MathJax-Span-128" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-129" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-130" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-131" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-132" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-133" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-134" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-135"><span class="mrow" id="MathJax-Span-136"><span class="mo" id="MathJax-Span-137"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-138" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-139"><span class="mrow" id="MathJax-Span-140"><span class="mo" id="MathJax-Span-141" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-142" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-143" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-144" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-145" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-147" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-148"><span class="mrow" id="MathJax-Span-149"><span class="mo" id="MathJax-Span-150"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-151"><span class="mrow" id="MathJax-Span-152"><span class="mo" id="MathJax-Span-153"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-154" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-155"><span class="mrow" id="MathJax-Span-156"><span class="mo" id="MathJax-Span-157" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-159" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-160" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-161" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-162" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-163" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-164"><span class="mrow" id="MathJax-Span-165"><span class="mo" id="MathJax-Span-166"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-167"><span class="mrow" id="MathJax-Span-168"><span class="mo" id="MathJax-Span-169"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-170"><span class="mrow" id="MathJax-Span-171"><span class="mo" id="MathJax-Span-172"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-173"><span class="mrow" id="MathJax-Span-174"><span class="mo" id="MathJax-Span-175"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-176" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-177"><span class="mrow" id="MathJax-Span-178"><span class="mo" id="MathJax-Span-179" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-180" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-181" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-182" style="width: 25.229em; display: inline-block;"><span style="display: inline-block; width: 20.163em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-183"><span style="display: inline-block; width: 20.163em; height: 0px;"><span><span class="mo" id="MathJax-Span-184" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-185" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-186" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-187" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-188"><span class="mrow" id="MathJax-Span-189"><span class="mo" id="MathJax-Span-190"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-191"><span class="mrow" id="MathJax-Span-192"><span class="mo" id="MathJax-Span-193"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-195"><span class="mrow" id="MathJax-Span-196"><span class="mo" id="MathJax-Span-197" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-198" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-199" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-200" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-201" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-202" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-204"><span class="mrow" id="MathJax-Span-205"><span class="mo" id="MathJax-Span-206"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-207"><span class="mrow" id="MathJax-Span-208"><span class="mo" id="MathJax-Span-209"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-210"><span class="mrow" id="MathJax-Span-211"><span class="mo" id="MathJax-Span-212"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-213" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-214"><span class="mrow" id="MathJax-Span-215"><span class="mo" id="MathJax-Span-216" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-217" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-218" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-219" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-220" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-221" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-222" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-223"><span class="mrow" id="MathJax-Span-224"><span class="mo" id="MathJax-Span-225"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-226"><span class="mrow" id="MathJax-Span-227"><span class="mo" id="MathJax-Span-228"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-229" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-230"><span class="mrow" id="MathJax-Span-231"><span class="mo" id="MathJax-Span-232" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-233" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-234" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-235" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-236" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-237" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-238" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-239"><span class="mrow" id="MathJax-Span-240"><span class="mo" id="MathJax-Span-241"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-242"><span class="mrow" id="MathJax-Span-243"><span class="mo" id="MathJax-Span-244"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-245" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-246"><span class="mrow" id="MathJax-Span-247"><span class="mo" id="MathJax-Span-248" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-249" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-250" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-251" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-252" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-253" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-254" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-255"><span class="mrow" id="MathJax-Span-256"><span class="mo" id="MathJax-Span-257"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-258"><span class="mrow" id="MathJax-Span-259"><span class="mo" id="MathJax-Span-260"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-261" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-262"><span class="mrow" id="MathJax-Span-263"><span class="mo" id="MathJax-Span-264" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-265" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-266" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>为了简化起见，我们以字母<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-267" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-268"><span class="msubsup" id="MathJax-Span-269"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-270" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-271" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>表示每一个词语，并且先不考虑条件“S”。于是上式就变成了下面的独立性公式。</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-272" style="width: 18.669em; display: inline-block;"><span style="display: inline-block; width: 14.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-273"><span class="mi" id="MathJax-Span-274" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-275" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-276"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-277" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-278" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-279" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-280"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-281" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-282" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-283" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-284"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-285" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-286" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-287" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-288"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-289" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-290" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-291" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-292"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-293" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-294" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">5</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-295" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-296"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-297" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-298" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">6</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-299" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-300"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-301" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-302" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">7</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-303" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-304"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-305" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-306" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-307" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-308"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-309" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-310" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">9</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-311" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-312"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-313" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-314"><span class="mrow" id="MathJax-Span-315"><span class="mn" id="MathJax-Span-316" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-317" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-318" style="width: 29.069em; display: inline-block;"><span style="display: inline-block; width: 23.256em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-319"><span class="mo" id="MathJax-Span-320" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-321" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-322" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-323"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-324" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-325" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-326" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-327" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-328" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-329"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-330" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-331" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-332" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-333" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-334" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-335"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-336" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-337" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-338" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-339" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-340" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-341"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-342" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-343" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-344" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-345" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-346" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-347"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-348" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-349" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">5</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-350" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-351" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-352" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-353"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-354" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-355" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">6</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-356" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-357" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-358" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-359"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-360" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-361" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">7</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-362" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-363" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-364" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-365"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-366" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-367" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-368" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-369" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-370" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-371"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-372" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-373" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">9</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-374" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-375" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-376" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-377"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-378" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-379"><span class="mrow" id="MathJax-Span-380"><span class="mn" id="MathJax-Span-381" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-382" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-383" style="width: 23.576em; display: inline-block;"><span style="display: inline-block; width: 18.829em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-384"><span class="mo" id="MathJax-Span-385" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-386" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-387" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-388" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-389"><span class="mrow" id="MathJax-Span-390"><span class="mo" id="MathJax-Span-391"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-392" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-393" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-394" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-395" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-396" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-397"><span class="mrow" id="MathJax-Span-398"><span class="mo" id="MathJax-Span-399"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-400" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-401" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-402" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-403" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-404" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-405"><span class="mrow" id="MathJax-Span-406"><span class="mo" id="MathJax-Span-407"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-408" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-409" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-410" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-411" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-412" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-413"><span class="mrow" id="MathJax-Span-414"><span class="mo" id="MathJax-Span-415"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-416"><span class="mrow" id="MathJax-Span-417"><span class="mo" id="MathJax-Span-418"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-419" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-420" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-421" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-422" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-423" style="font-family: STIXGeneral-Regular;">.</span><span class="mi" id="MathJax-Span-424" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-425" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-426" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-427"><span class="mrow" id="MathJax-Span-428"><span class="mo" id="MathJax-Span-429"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-430"><span class="mrow" id="MathJax-Span-431"><span class="mo" id="MathJax-Span-432"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-433" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-434" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p><strong>如果不满足独立性假设，上面的等号就不成立。</strong> 那么有没有一个<strong>不依赖于任何其他的假设，而能够原原本本地把所有的语序信息都考虑进来的恒等式</strong>呢？有，它就是<strong>联合概率链规则(chain rule)</strong> ：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-435" style="width: 13.443em; display: inline-block;"><span style="display: inline-block; width: 10.723em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-436"><span class="mi" id="MathJax-Span-437" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-438" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-439"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-440" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-441" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-443"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-444" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-445" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-446" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-447"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-448" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-449" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-450" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-451"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-452" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-453" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-454" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-455"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-456" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-457" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">5</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-458" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-459" style="font-family: STIXGeneral-Regular;">…</span><span class="mo" id="MathJax-Span-460" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-461"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-462" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-463" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-464" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-465" style="width: 26.616em; display: inline-block;"><span style="display: inline-block; width: 21.283em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-466"><span class="mo" id="MathJax-Span-467" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-468" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-469" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-470"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-471" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-472" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-473" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-474" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-476"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-477" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-478" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-479"><span class="mrow" id="MathJax-Span-480"><span class="mo" id="MathJax-Span-481" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-482"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-483" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-484" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-485" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-486" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-487" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-488"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-489" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-491"><span class="mrow" id="MathJax-Span-492"><span class="mo" id="MathJax-Span-493" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-494"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-495" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-496" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-497" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-498"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-499" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-500" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-501" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-502" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-503" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-504" style="font-family: STIXGeneral-Regular;">.</span><span class="mi" id="MathJax-Span-505" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-506" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-507"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-508" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-509" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-510"><span class="mrow" id="MathJax-Span-511"><span class="mo" id="MathJax-Span-512" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-513"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-514" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-515" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-516" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-517"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-518" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-519" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-520" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-521" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-522" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-523" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-524" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-525"><span style="display: inline-block; width: 1.763em; height: 0px;"><span><span class="mi" id="MathJax-Span-526" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-527"><span class="mrow" id="MathJax-Span-528"><span class="mi" id="MathJax-Span-529" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-530" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-531" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-532" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>



<h3 id="22-从联合概率链规则到n-gram语言模型">2.2 从联合概率链规则到n-gram语言模型</h3>

<p>上面的联合概率链规则公式<strong>虽然考虑到了所有的词和词之间的依赖关系，但是非常复杂，在实际生活中几乎没办法使用</strong>，于是我们就想了很多办法去近似这个公式，效果又要求比独立性假设好。比如我们要讲到的语言模型n-gram就是一个这样的简化。</p>

<p>如果我们考虑一个词语对上一个词语的依赖关系，公式就简化成了如下形式，我们把它叫做二元语法（bigram，2-gram）:</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-533" style="width: 18.669em; display: inline-block;"><span style="display: inline-block; width: 14.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-534"><span class="mi" id="MathJax-Span-535" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-536" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-537"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-538" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-539" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-540" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-541"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-542" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-543" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-544" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-545"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-546" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-547" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-548" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-549"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-550" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-551" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-552" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-553"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-554" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-555" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">5</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-556" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-557"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-558" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-559" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">6</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-560" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-561"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-562" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-563" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">7</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-564" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-565"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-566" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-567" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-568" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-569"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-570" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-571" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">9</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-572" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-573"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-575"><span class="mrow" id="MathJax-Span-576"><span class="mn" id="MathJax-Span-577" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-578" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-579" style="width: 22.136em; display: inline-block;"><span style="display: inline-block; width: 17.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-580"><span class="mo" id="MathJax-Span-581" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-582" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-583" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-584"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-585" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-586" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-587" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-588" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-589" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-590"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-591" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-592" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-593"><span class="mrow" id="MathJax-Span-594"><span class="mo" id="MathJax-Span-595" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-596"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-597" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-598" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-599" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-600" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-601" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-602"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-603" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-604" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-605"><span class="mrow" id="MathJax-Span-606"><span class="mo" id="MathJax-Span-607" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-608"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-609" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-610" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-611" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-612" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-613" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-614"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-615" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-616" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-617"><span class="mrow" id="MathJax-Span-618"><span class="mo" id="MathJax-Span-619" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-620"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-621" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-622" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-623" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-624" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-625" style="font-family: STIXGeneral-Regular;">.</span><span class="mi" id="MathJax-Span-626" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-627" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-628"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-629" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-630"><span class="mrow" id="MathJax-Span-631"><span class="mn" id="MathJax-Span-632" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-633"><span class="mrow" id="MathJax-Span-634"><span class="mo" id="MathJax-Span-635" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-636"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-637" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-638" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">9</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-639" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-640" style="width: 34.029em; display: inline-block;"><span style="display: inline-block; width: 27.203em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-641"><span class="mo" id="MathJax-Span-642" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-643" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-644" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-645" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-646"><span class="mrow" id="MathJax-Span-647"><span class="mo" id="MathJax-Span-648"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-649" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-650" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-651" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-652" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-653" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-654"><span class="mrow" id="MathJax-Span-655"><span class="mo" id="MathJax-Span-656"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-657" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-658"><span class="mrow" id="MathJax-Span-659"><span class="mo" id="MathJax-Span-660" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-661" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-662"><span class="mrow" id="MathJax-Span-663"><span class="mo" id="MathJax-Span-664"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-666" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-667" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-668" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-669" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-670"><span class="mrow" id="MathJax-Span-671"><span class="mo" id="MathJax-Span-672"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-673" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-674"><span class="mrow" id="MathJax-Span-675"><span class="mo" id="MathJax-Span-676" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-677" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-678"><span class="mrow" id="MathJax-Span-679"><span class="mo" id="MathJax-Span-680"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-681" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-682" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-683" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-684" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-685" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-686"><span class="mrow" id="MathJax-Span-687"><span class="mo" id="MathJax-Span-688"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-689"><span class="mrow" id="MathJax-Span-690"><span class="mo" id="MathJax-Span-691"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-692" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-693"><span class="mrow" id="MathJax-Span-694"><span class="mo" id="MathJax-Span-695" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-696" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-697"><span class="mrow" id="MathJax-Span-698"><span class="mo" id="MathJax-Span-699"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-700" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-701" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-702" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-703" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-704" style="font-family: STIXGeneral-Regular;">.</span><span class="mi" id="MathJax-Span-705" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-706" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-707" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-708"><span class="mrow" id="MathJax-Span-709"><span class="mo" id="MathJax-Span-710"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-711"><span class="mrow" id="MathJax-Span-712"><span class="mo" id="MathJax-Span-713"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-714" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-715"><span class="mrow" id="MathJax-Span-716"><span class="mo" id="MathJax-Span-717" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-718" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-719"><span class="mrow" id="MathJax-Span-720"><span class="mo" id="MathJax-Span-721"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-722"><span class="mrow" id="MathJax-Span-723"><span class="mo" id="MathJax-Span-724"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-725" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-726" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>如果把依赖词长度再拉长一点，考虑一个词对前两个词的依赖关系，就叫做三元语法（trigram，3-gram），公式如下:</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-727" style="width: 18.669em; display: inline-block;"><span style="display: inline-block; width: 14.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-728"><span class="mi" id="MathJax-Span-729" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-730" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-731"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-732" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-733" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-734" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-735"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-736" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-737" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-738" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-739"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-740" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-741" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-742" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-743"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-744" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-745" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-746" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-747"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-748" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-749" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">5</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-750" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-751"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-752" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-753" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">6</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-754" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-755"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-756" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-757" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">7</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-758" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-759"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-760" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-761" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-762" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-763"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-764" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-765" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">9</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-766" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-767"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-768" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-769"><span class="mrow" id="MathJax-Span-770"><span class="mn" id="MathJax-Span-771" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-772" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-773" style="width: 29.443em; display: inline-block;"><span style="display: inline-block; width: 23.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-774"><span class="mo" id="MathJax-Span-775" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-776" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-777" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-778"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-779" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-780" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-781" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-782" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-783" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-784"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-785" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-786" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-787"><span class="mrow" id="MathJax-Span-788"><span class="mo" id="MathJax-Span-789" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-790"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-791" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-792" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-793" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-794" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-795" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-796"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-797" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-798" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-799"><span class="mrow" id="MathJax-Span-800"><span class="mo" id="MathJax-Span-801" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-802"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-803" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-804" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-805" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-806"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-807" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-808" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-809" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-810" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-811" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-812"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-813" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-814" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-815"><span class="mrow" id="MathJax-Span-816"><span class="mo" id="MathJax-Span-817" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-818"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-819" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-820" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-821" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-822"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-823" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-824" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-825" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-826" style="font-family: STIXGeneral-Regular;">×</span><span class="mo" id="MathJax-Span-827" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-828" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-829" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-830" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-831" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-832" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-833"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-834" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-835"><span class="mrow" id="MathJax-Span-836"><span class="mn" id="MathJax-Span-837" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-838"><span class="mrow" id="MathJax-Span-839"><span class="mo" id="MathJax-Span-840" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-841"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-842" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-843" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-844" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-845"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-846" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-847" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">9</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-848" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-849" style="width: 26.669em; display: inline-block;"><span style="display: inline-block; width: 21.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-850"><span style="display: inline-block; width: 21.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-851" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-852" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-853" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-854" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-855"><span class="mrow" id="MathJax-Span-856"><span class="mo" id="MathJax-Span-857"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-858" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-859" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-860" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-861" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-862" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-863"><span class="mrow" id="MathJax-Span-864"><span class="mo" id="MathJax-Span-865"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-866" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-867"><span class="mrow" id="MathJax-Span-868"><span class="mo" id="MathJax-Span-869" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-870" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-871"><span class="mrow" id="MathJax-Span-872"><span class="mo" id="MathJax-Span-873"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-874" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-875" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-876" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-877" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-878" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-879"><span class="mrow" id="MathJax-Span-880"><span class="mo" id="MathJax-Span-881"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-882" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-883"><span class="mrow" id="MathJax-Span-884"><span class="mo" id="MathJax-Span-885" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-886" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-887"><span class="mrow" id="MathJax-Span-888"><span class="mo" id="MathJax-Span-889"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-890" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-891" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-892" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-893"><span class="mrow" id="MathJax-Span-894"><span class="mo" id="MathJax-Span-895"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-896" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-897" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-898" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-899" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-900" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-901"><span class="mrow" id="MathJax-Span-902"><span class="mo" id="MathJax-Span-903"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-904"><span class="mrow" id="MathJax-Span-905"><span class="mo" id="MathJax-Span-906"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-907" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-908"><span class="mrow" id="MathJax-Span-909"><span class="mo" id="MathJax-Span-910" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-911" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-912"><span class="mrow" id="MathJax-Span-913"><span class="mo" id="MathJax-Span-914"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-915" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-916" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-917" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-918"><span class="mrow" id="MathJax-Span-919"><span class="mo" id="MathJax-Span-920"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-921" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-922" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-923" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-924" style="font-family: STIXGeneral-Regular;">.</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-925" style="font-family: STIXGeneral-Regular;">.</span><span class="mi" id="MathJax-Span-926" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-927" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-928" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-929"><span class="mrow" id="MathJax-Span-930"><span class="mo" id="MathJax-Span-931"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-932"><span class="mrow" id="MathJax-Span-933"><span class="mo" id="MathJax-Span-934"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-935" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-936"><span class="mrow" id="MathJax-Span-937"><span class="mo" id="MathJax-Span-938" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-939" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-940"><span class="mrow" id="MathJax-Span-941"><span class="mo" id="MathJax-Span-942"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-943"><span class="mrow" id="MathJax-Span-944"><span class="mo" id="MathJax-Span-945"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-946" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-947" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-948" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-949"><span class="mrow" id="MathJax-Span-950"><span class="mo" id="MathJax-Span-951"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-952"><span class="mrow" id="MathJax-Span-953"><span class="mo" id="MathJax-Span-954"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-955" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-956" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>如果我们再考虑长一点，考虑n个词语之间的关系，恩恩，这就是n-gram的由来。歪果仁果然取名字简单粗暴又好记…</p>

<p>其实以上几个简化后的公式，就是著名的<strong>马尔科夫假设（Markov Assumption）：下一个词的出现仅依赖于它前面的一个或几个词</strong>。这相对于联合概率链规则，其实是一个有点粗糙的简化，不过很好地体现了就近思路，离得较远和关系比较弱的词语就被简化和省略了。<strong>实际应用中，这些简化后的n-gram语法比独立性假设还是强很多的</strong>。其实可以把独立性假设理解成为1-gram。</p>



<h3 id="23-怎样选择依赖词的个数n">2.3 怎样选择依赖词的个数“n”？</h3>

<p>选择依赖词的个数“n”主要与计算条件概率有关。<strong>理论上，只要有足够大的语料，n越大越好，毕竟这样考虑的信息更多嘛</strong>。条件概率很好算，统计一下各个元组出现的次数就可以，比如:</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-957" style="width: 26.669em; display: inline-block;"><span style="display: inline-block; width: 21.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-958"><span class="mi" id="MathJax-Span-959" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-960" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-961" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-962"><span class="mrow" id="MathJax-Span-963"><span class="mo" id="MathJax-Span-964"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-965"><span class="mrow" id="MathJax-Span-966"><span class="mo" id="MathJax-Span-967"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-968" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-969"><span class="mrow" id="MathJax-Span-970"><span class="mo" id="MathJax-Span-971" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-972" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-973"><span class="mrow" id="MathJax-Span-974"><span class="mo" id="MathJax-Span-975"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-976"><span class="mrow" id="MathJax-Span-977"><span class="mo" id="MathJax-Span-978"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-979" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-980" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-981" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-982"><span class="mrow" id="MathJax-Span-983"><span class="mo" id="MathJax-Span-984"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-985"><span class="mrow" id="MathJax-Span-986"><span class="mo" id="MathJax-Span-987"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-988" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-989" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-990" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-991"><span style="display: inline-block; width: 10.349em; height: 0px;"><span><span class="mrow" id="MathJax-Span-992"><span class="mo" id="MathJax-Span-993" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-994" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-995"><span class="mrow" id="MathJax-Span-996"><span class="mo" id="MathJax-Span-997" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-998"><span class="mrow" id="MathJax-Span-999"><span class="mo" id="MathJax-Span-1000" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1001" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1002" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1003" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1004"><span class="mrow" id="MathJax-Span-1005"><span class="mo" id="MathJax-Span-1006" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1007"><span class="mrow" id="MathJax-Span-1008"><span class="mo" id="MathJax-Span-1009" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1010" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1011"><span class="mrow" id="MathJax-Span-1012"><span class="mo" id="MathJax-Span-1013" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1014" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1015"><span class="mrow" id="MathJax-Span-1016"><span class="mo" id="MathJax-Span-1017" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1018"><span class="mrow" id="MathJax-Span-1019"><span class="mo" id="MathJax-Span-1020" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1021" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1022" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1023"><span class="mrow" id="MathJax-Span-1024"><span class="mo" id="MathJax-Span-1025" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-1026"><span class="mrow" id="MathJax-Span-1027"><span class="mo" id="MathJax-Span-1028" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-1029"><span class="mrow" id="MathJax-Span-1030"><span class="mo" id="MathJax-Span-1031" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1032"><span class="mrow" id="MathJax-Span-1033"><span class="mo" id="MathJax-Span-1034" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1035"><span class="mrow" id="MathJax-Span-1036"><span class="mo" id="MathJax-Span-1037" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1038"><span class="mo" id="MathJax-Span-1039" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1040" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1041"><span class="mrow" id="MathJax-Span-1042"><span class="mo" id="MathJax-Span-1043" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1044"><span class="mrow" id="MathJax-Span-1045"><span class="mo" id="MathJax-Span-1046" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1047" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1048" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1049" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1050"><span class="mrow" id="MathJax-Span-1051"><span class="mo" id="MathJax-Span-1052" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1053"><span class="mrow" id="MathJax-Span-1054"><span class="mo" id="MathJax-Span-1055" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1056" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1057" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1058"><span class="mrow" id="MathJax-Span-1059"><span class="mo" id="MathJax-Span-1060" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-1061"><span class="mrow" id="MathJax-Span-1062"><span class="mo" id="MathJax-Span-1063" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-1064"><span class="mrow" id="MathJax-Span-1065"><span class="mo" id="MathJax-Span-1066" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1067"><span class="mrow" id="MathJax-Span-1068"><span class="mo" id="MathJax-Span-1069" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1070"><span class="mrow" id="MathJax-Span-1071"><span class="mo" id="MathJax-Span-1072" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>但我们实际情况往往是<strong>训练语料很有限，很容易产生数据稀疏</strong>，不满足大数定律，算出来的概率失真。比如(“发票”,“点数”，“优惠”)在训练集中竟没有出现，就会导致零概率问题。</p>

<p>又比如在英文语料库IBM, Brown中，三四百兆的语料，其测试语料14.7%的trigram和2.2%的bigram在训练语料中竟未出现！</p>

<p>另一方面，如果n很大，<strong>参数空间过大，产生维数灾难，也无法实用</strong>。假设词表的大小为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-1073" style="width: 4.376em; display: inline-block;"><span style="display: inline-block; width: 3.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1074"><span class="mn" id="MathJax-Span-1075" style="font-family: STIXGeneral-Regular;">100</span><span class="mo" id="MathJax-Span-1076" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1077" style="font-family: STIXGeneral-Regular;">000</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，那么n-gram模型的参数数量为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-1078" style="width: 4.963em; display: inline-block;"><span style="display: inline-block; width: 3.949em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1079"><span class="mn" id="MathJax-Span-1080" style="font-family: STIXGeneral-Regular;">100</span><span class="mo" id="MathJax-Span-1081" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-1082"><span style="display: inline-block; width: 1.976em; height: 0px;"><span><span class="mn" id="MathJax-Span-1083" style="font-family: STIXGeneral-Regular;">000</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1084" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。这么多的参数，估计内存就不够放了。</p>

<p>那么，如何选择依赖词的个数n呢？从前人的经验来看：</p>

<ul>
<li>经验上，trigram用的最多。尽管如此，原则上，能用bigram解决，绝不使用trigram。n取≥4的情况较少。</li>
<li>当ｎ更大时：对下一个词出现的约束信息更多，具有更大的<strong>辨别力</strong>；</li>
<li>当ｎ更小时：在训练语料库中出现的次数更多，具有更可靠的统计信息，具有更高的<strong>可靠性、实用性</strong>。</li>
</ul>



<h2 id="3-n-gram实际应用举例">3. N-gram实际应用举例</h2>

<p>说了这么N-gram语言模型的背景知识，咱们再来看看N-gram语言模型在自然语言处理中有哪些常见应用。</p>

<p>PS：此部分以原理介绍为多，具体的技术实现细节请参考文中链接或者google。</p>



<h3 id="31-词性标注">3.1 词性标注</h3>

<p><strong>词性标注是一个典型的多分类问题</strong>。常见的词性包括名词、动词、形容词、副词等。而一个词可能属于多种词性。如“爱”，可能是动词，可能是形容词，也可能是名词。但是一般来说，<strong>“爱”作为动词还是比较常见的。所以可以统一给“爱”分配为“动词”</strong>。这种最简单粗暴的思想非常好实现，如果准确率要求不高则也比较常用。<strong>它只需要基于词性标注语料库做一个统计就够了，连贝叶斯方法、最大似然法都不要用</strong>。词性标注语料库一般是由专业人员搜集好了的，长下面这个样子。其中斜线后面的字母表示一种词性，词性越多说明语料库分得越细： <br />
</p><center> <br />
<img alt="图" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_02032971-d9dab327d7f9ff69.jpg" title="" /> <br />
</center><p></p>

<p>需要比较以下各概率的大小，选择概率最大的词性即可：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-1085" style="width: 24.376em; display: inline-block;"><span style="display: inline-block; width: 19.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1086"><span class="mi" id="MathJax-Span-1087" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1088" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-1089"><span class="mrow" id="MathJax-Span-1090"><span class="mo" id="MathJax-Span-1091"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="msubsup" id="MathJax-Span-1092"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="texatom" id="MathJax-Span-1093"><span class="mrow" id="MathJax-Span-1094"><span class="mo" id="MathJax-Span-1095"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">性</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span><span><span class="mi" id="MathJax-Span-1096" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1097"><span class="mrow" id="MathJax-Span-1098"><span class="mo" id="MathJax-Span-1099" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1100" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1101"><span class="mrow" id="MathJax-Span-1102"><span class="mo" id="MathJax-Span-1103"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">爱</span></span></span></span><span class="mo" id="MathJax-Span-1104" style="font-family: STIXGeneral-Regular;">"</span><span class="mo" id="MathJax-Span-1105" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1106" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-1107"><span style="display: inline-block; width: 6.776em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1108"><span class="mo" id="MathJax-Span-1109" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1110"><span class="mrow" id="MathJax-Span-1111"><span class="mo" id="MathJax-Span-1112" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">爱</span></span></span></span><span class="mo" id="MathJax-Span-1113" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1114"><span class="mrow" id="MathJax-Span-1115"><span class="mo" id="MathJax-Span-1116" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">作</span></span></span></span><span class="texatom" id="MathJax-Span-1117"><span class="mrow" id="MathJax-Span-1118"><span class="mo" id="MathJax-Span-1119" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">为</span></span></span></span><span class="mo" id="MathJax-Span-1120" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1121"><span class="mrow" id="MathJax-Span-1122"><span class="mo" id="MathJax-Span-1123" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="msubsup" id="MathJax-Span-1124"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="texatom" id="MathJax-Span-1125"><span class="mrow" id="MathJax-Span-1126"><span class="mo" id="MathJax-Span-1127" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">性</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mi" id="MathJax-Span-1128" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-1129" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1130"><span class="mrow" id="MathJax-Span-1131"><span class="mo" id="MathJax-Span-1132" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1133"><span class="mrow" id="MathJax-Span-1134"><span class="mo" id="MathJax-Span-1135" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1136"><span class="mrow" id="MathJax-Span-1137"><span class="mo" id="MathJax-Span-1138" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1139"><span class="mo" id="MathJax-Span-1140" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1141"><span class="mrow" id="MathJax-Span-1142"><span class="mo" id="MathJax-Span-1143" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">爱</span></span></span></span><span class="mo" id="MathJax-Span-1144" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1145"><span class="mrow" id="MathJax-Span-1146"><span class="mo" id="MathJax-Span-1147" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-1148"><span class="mrow" id="MathJax-Span-1149"><span class="mo" id="MathJax-Span-1150" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-1151"><span class="mrow" id="MathJax-Span-1152"><span class="mo" id="MathJax-Span-1153" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1154"><span class="mrow" id="MathJax-Span-1155"><span class="mo" id="MathJax-Span-1156" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1157"><span class="mrow" id="MathJax-Span-1158"><span class="mo" id="MathJax-Span-1159" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1160"><span class="mrow" id="MathJax-Span-1161"><span class="mo" id="MathJax-Span-1162"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-1163" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1164" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1165" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1166" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1167" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-1168" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1169" style="font-family: STIXGeneral-Regular;">3...</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p><strong>但这种方法没有考虑上下文的信息。而一般来说，形容词后面接名词居多，而不接动词，副词后面才接动词，而不接名词。</strong> 考虑到词性会受前面一两个词的词性的影响，<strong>可以引入2-gram模型提升匹配的精确度。</strong> 我们匹配以下这句话（已被空格分好词）中“爱”的词性：</p>

<blockquote>
  <p>“闷骚的 李雷 很 爱 韩梅梅”</p>
</blockquote>

<p>将公式进行以下改造，比较各概率的大小，选择概率最大的词性：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-1170" style="width: 30.296em; display: inline-block;"><span style="display: inline-block; width: 24.216em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1171"><span style="display: inline-block; width: 24.216em; height: 0px;"><span><span class="mi" id="MathJax-Span-1172" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1173" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-1174"><span class="mrow" id="MathJax-Span-1175"><span class="mo" id="MathJax-Span-1176"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="msubsup" id="MathJax-Span-1177"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="texatom" id="MathJax-Span-1178"><span class="mrow" id="MathJax-Span-1179"><span class="mo" id="MathJax-Span-1180"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">性</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span><span><span class="mi" id="MathJax-Span-1181" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1182"><span class="mrow" id="MathJax-Span-1183"><span class="mo" id="MathJax-Span-1184" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1185" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1186"><span class="mrow" id="MathJax-Span-1187"><span class="mo" id="MathJax-Span-1188"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">很</span></span></span></span><span class="mo" id="MathJax-Span-1189" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1190"><span class="mrow" id="MathJax-Span-1191"><span class="mo" id="MathJax-Span-1192"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1193"><span class="mrow" id="MathJax-Span-1194"><span class="mo" id="MathJax-Span-1195"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-1196"><span class="mrow" id="MathJax-Span-1197"><span class="mo" id="MathJax-Span-1198"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">性</span></span></span></span><span class="texatom" id="MathJax-Span-1199"><span class="mrow" id="MathJax-Span-1200"><span class="mo" id="MathJax-Span-1201"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-1202"><span class="mrow" id="MathJax-Span-1203"><span class="mo" id="MathJax-Span-1204"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">副</span></span></span></span><span class="texatom" id="MathJax-Span-1205"><span class="mrow" id="MathJax-Span-1206"><span class="mo" id="MathJax-Span-1207"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-1208"><span class="mrow" id="MathJax-Span-1209"><span class="mo" id="MathJax-Span-1210"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="texatom" id="MathJax-Span-1211"><span class="mrow" id="MathJax-Span-1212"><span class="mo" id="MathJax-Span-1213"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1214" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1215"><span class="mrow" id="MathJax-Span-1216"><span class="mo" id="MathJax-Span-1217"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">爱</span></span></span></span><span class="mo" id="MathJax-Span-1218" style="font-family: STIXGeneral-Regular;">"</span><span class="mo" id="MathJax-Span-1219" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1220" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-1221"><span style="display: inline-block; width: 12.483em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1222"><span class="texatom" id="MathJax-Span-1223"><span class="mrow" id="MathJax-Span-1224"><span class="mo" id="MathJax-Span-1225" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">前</span></span></span></span><span class="texatom" id="MathJax-Span-1226"><span class="mrow" id="MathJax-Span-1227"><span class="mo" id="MathJax-Span-1228" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">面</span></span></span></span><span class="texatom" id="MathJax-Span-1229"><span class="mrow" id="MathJax-Span-1230"><span class="mo" id="MathJax-Span-1231" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="mo" id="MathJax-Span-1232" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1233"><span class="mrow" id="MathJax-Span-1234"><span class="mo" id="MathJax-Span-1235" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">副</span></span></span></span><span class="texatom" id="MathJax-Span-1236"><span class="mrow" id="MathJax-Span-1237"><span class="mo" id="MathJax-Span-1238" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mo" id="MathJax-Span-1239" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1240"><span class="mrow" id="MathJax-Span-1241"><span class="mo" id="MathJax-Span-1242" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">修</span></span></span></span><span class="texatom" id="MathJax-Span-1243"><span class="mrow" id="MathJax-Span-1244"><span class="mo" id="MathJax-Span-1245" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">饰</span></span></span></span><span class="texatom" id="MathJax-Span-1246"><span class="mrow" id="MathJax-Span-1247"><span class="mo" id="MathJax-Span-1248" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="mo" id="MathJax-Span-1249" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1250"><span class="mrow" id="MathJax-Span-1251"><span class="mo" id="MathJax-Span-1252" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">爱</span></span></span></span><span class="mo" id="MathJax-Span-1253" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1254"><span class="mrow" id="MathJax-Span-1255"><span class="mo" id="MathJax-Span-1256" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">作</span></span></span></span><span class="texatom" id="MathJax-Span-1257"><span class="mrow" id="MathJax-Span-1258"><span class="mo" id="MathJax-Span-1259" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">为</span></span></span></span><span class="mo" id="MathJax-Span-1260" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1261"><span class="mrow" id="MathJax-Span-1262"><span class="mo" id="MathJax-Span-1263" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="msubsup" id="MathJax-Span-1264"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="texatom" id="MathJax-Span-1265"><span class="mrow" id="MathJax-Span-1266"><span class="mo" id="MathJax-Span-1267" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">性</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mi" id="MathJax-Span-1268" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-1269" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1270"><span class="mrow" id="MathJax-Span-1271"><span class="mo" id="MathJax-Span-1272" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1273"><span class="mrow" id="MathJax-Span-1274"><span class="mo" id="MathJax-Span-1275" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1276"><span class="mrow" id="MathJax-Span-1277"><span class="mo" id="MathJax-Span-1278" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1279"><span class="texatom" id="MathJax-Span-1280"><span class="mrow" id="MathJax-Span-1281"><span class="mo" id="MathJax-Span-1282" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">前</span></span></span></span><span class="texatom" id="MathJax-Span-1283"><span class="mrow" id="MathJax-Span-1284"><span class="mo" id="MathJax-Span-1285" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">面</span></span></span></span><span class="texatom" id="MathJax-Span-1286"><span class="mrow" id="MathJax-Span-1287"><span class="mo" id="MathJax-Span-1288" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="mo" id="MathJax-Span-1289" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1290"><span class="mrow" id="MathJax-Span-1291"><span class="mo" id="MathJax-Span-1292" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">副</span></span></span></span><span class="texatom" id="MathJax-Span-1293"><span class="mrow" id="MathJax-Span-1294"><span class="mo" id="MathJax-Span-1295" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mo" id="MathJax-Span-1296" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1297"><span class="mrow" id="MathJax-Span-1298"><span class="mo" id="MathJax-Span-1299" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">修</span></span></span></span><span class="texatom" id="MathJax-Span-1300"><span class="mrow" id="MathJax-Span-1301"><span class="mo" id="MathJax-Span-1302" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">饰</span></span></span></span><span class="texatom" id="MathJax-Span-1303"><span class="mrow" id="MathJax-Span-1304"><span class="mo" id="MathJax-Span-1305" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="mo" id="MathJax-Span-1306" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1307"><span class="mrow" id="MathJax-Span-1308"><span class="mo" id="MathJax-Span-1309" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">爱</span></span></span></span><span class="mo" id="MathJax-Span-1310" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1311"><span class="mrow" id="MathJax-Span-1312"><span class="mo" id="MathJax-Span-1313" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-1314"><span class="mrow" id="MathJax-Span-1315"><span class="mo" id="MathJax-Span-1316" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-1317"><span class="mrow" id="MathJax-Span-1318"><span class="mo" id="MathJax-Span-1319" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1320"><span class="mrow" id="MathJax-Span-1321"><span class="mo" id="MathJax-Span-1322" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1323"><span class="mrow" id="MathJax-Span-1324"><span class="mo" id="MathJax-Span-1325" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="texatom" id="MathJax-Span-1326"><span class="mrow" id="MathJax-Span-1327"><span class="mo" id="MathJax-Span-1328"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-1329" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1330" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1331" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1332" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1333" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-1334" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1335" style="font-family: STIXGeneral-Regular;">3...</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.269em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>计算这个概率需要对语料库进行统计。但前提是你得先判断好“很”的词性，因为采用2-gram模型，进而就需要提前判断“李雷”的词性，需要判断“闷骚的”词性。但是“闷骚的”作为第一个词语，已经找不比它更靠前的词语了。这时就可以考虑用之前最简单粗暴的方法判断“闷骚的”的词性，统一判断为形容词即可。</p>

<p>PS:词性标注是自然语言处理中的一项基础性工作，有其细节实现远比我们介绍地更加丰富。感兴趣的同学可以看看这篇文章<a href="https://superangevil.wordpress.com/2009/10/20/nltk5/">《NLTK读书笔记 — 分类与标注》</a></p>



<h3 id="32-垃圾邮件识别">3.2 垃圾邮件识别</h3>

<p>是的，亲，你！没！看！错！可以用N-gram进行垃圾邮件识别，而且是朴素贝叶斯方法的进化版。<strong>下面我们用直观的例子探讨一下其在分类问题上是怎么发挥作用的</strong>。一个可行的思路如下：</p>

<ul>
<li>先对邮件文本进行断句，以句尾标点符号（“。” “!” “？”等）为分隔符将邮件内容拆分成不同的句子。</li>
<li>用N-gram分类器(马上提到)判断每个句子是否为垃圾邮件中的敏感句子。</li>
<li>当被判断为敏感句子的数量超过一定数量（比如3个）的时候，认为整个邮件就是垃圾邮件。</li>
</ul>

<p>咳咳，有同学问N-gram分类器是什么鬼，这个分类器靠谱么。N-gram分类器是结合贝叶斯方法和语言模型的分类器。这里用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-1336" style="width: 3.149em; display: inline-block;"><span style="display: inline-block; width: 2.509em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1337"><span class="msubsup" id="MathJax-Span-1338"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1339" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1340" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1341" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-1342"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1343" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1344" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>分别表示这垃圾邮件和正常邮件，用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-1345" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1346"><span class="mi" id="MathJax-Span-1347" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>表示被判断的邮件的句子。根据贝叶斯公式有：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-1348" style="width: 16.696em; display: inline-block;"><span style="display: inline-block; width: 13.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1349"><span class="mi" id="MathJax-Span-1350" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1351" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1352"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1353" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1354" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1355"><span class="mrow" id="MathJax-Span-1356"><span class="mo" id="MathJax-Span-1357" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1358" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1359" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1360" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-1361" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1362" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1363" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1364"><span class="mrow" id="MathJax-Span-1365"><span class="mo" id="MathJax-Span-1366" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1367"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1368" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1369" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1370" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1371" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1372" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1373"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1374" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1375" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1376" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1377"><span class="mrow" id="MathJax-Span-1378"><span class="mo" id="MathJax-Span-1379"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-1380" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1381" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1382" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1383" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1384" style="font-family: STIXGeneral-Regular;">2</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>比较i=1和2时两个概率值的大小即可得到<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-1385" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1386"><span class="mi" id="MathJax-Span-1387" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>所属的分类。对于句子（“我”,“司”,“可”,“办理”,“正规发票”,“保真”,“增值税”,“发票”,“点数”,“优惠”)用字母<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-1388" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1389"><span class="mi" id="MathJax-Span-1390" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>代表，每一个词语用字母<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-1391" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1392"><span class="msubsup" id="MathJax-Span-1393"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-1394" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1395" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>表示。<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-1396" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1397"><span class="mi" id="MathJax-Span-1398" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>就可以写成一个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-1399" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1400"><span class="msubsup" id="MathJax-Span-1401"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-1402" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1403" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>组成的向量，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-1404" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1405"><span class="msubsup" id="MathJax-Span-1406"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-1407" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1408" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>就是这向量中某个维度的特征。<strong>对<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-1409" style="width: 3.879em; display: inline-block;"><span style="display: inline-block; width: 3em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1410"><span class="mi" id="MathJax-Span-1411" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1412" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1413" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="texatom" id="MathJax-Span-1414"><span class="mrow" id="MathJax-Span-1415"><span class="mo" id="MathJax-Span-1416" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1417"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-1418" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-1419" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-1420" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span> 套用2-gram模型。</strong> 则上式化简为：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-1421" style="width: 16.696em; display: inline-block;"><span style="display: inline-block; width: 13.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1422"><span class="mi" id="MathJax-Span-1423" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1424" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1425"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1426" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1427" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1428"><span class="mrow" id="MathJax-Span-1429"><span class="mo" id="MathJax-Span-1430" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1431" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1432" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1433" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-1434" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1435" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1436" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1437"><span class="mrow" id="MathJax-Span-1438"><span class="mo" id="MathJax-Span-1439" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1440"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1441" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1442" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1443" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1444" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1445" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1446"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1447" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1448" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1449" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1450"><span class="mrow" id="MathJax-Span-1451"><span class="mo" id="MathJax-Span-1452"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-1453" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1454" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1455" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1456" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1457" style="font-family: STIXGeneral-Regular;">2</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-1458" style="width: 28.749em; display: inline-block;"><span style="display: inline-block; width: 22.989em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1459"><span class="mo" id="MathJax-Span-1460" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-1461" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1462" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1463"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1464" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1465" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1466"><span class="mrow" id="MathJax-Span-1467"><span class="mo" id="MathJax-Span-1468" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1469"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1470" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1471" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1472" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1473" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1474" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1475"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1476" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1477" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1478"><span class="mrow" id="MathJax-Span-1479"><span class="mo" id="MathJax-Span-1480" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1481"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1482" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1483" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1484"><span class="mrow" id="MathJax-Span-1485"><span class="mo" id="MathJax-Span-1486"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-1487"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1488" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1489" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1490" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1491" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1492" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1493"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1494" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1495" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1496"><span class="mrow" id="MathJax-Span-1497"><span class="mo" id="MathJax-Span-1498" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1499"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1500" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1501" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1502"><span class="mrow" id="MathJax-Span-1503"><span class="mo" id="MathJax-Span-1504"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-1505"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1506" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1507" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1508" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1509" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1510" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1511" style="font-family: STIXGeneral-Regular;">.</span><span class="mi" id="MathJax-Span-1512" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1513" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1514"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-1515" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-1516"><span class="mrow" id="MathJax-Span-1517"><span class="mn" id="MathJax-Span-1518" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1519"><span class="mrow" id="MathJax-Span-1520"><span class="mo" id="MathJax-Span-1521" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1522"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1523" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1524" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">9</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1525"><span class="mrow" id="MathJax-Span-1526"><span class="mo" id="MathJax-Span-1527"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-1528"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1529" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1530" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1531" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1532" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1533" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1534"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1535" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1536" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1537" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-1538" style="width: 20.803em; display: inline-block;"><span style="display: inline-block; width: 16.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1539"><span style="display: inline-block; width: 16.643em; height: 0px;"><span><span class="mo" id="MathJax-Span-1540" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-1541" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1542" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1543" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1544"><span class="mrow" id="MathJax-Span-1545"><span class="mo" id="MathJax-Span-1546"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1547" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1548"><span class="mrow" id="MathJax-Span-1549"><span class="mo" id="MathJax-Span-1550" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1551"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1552" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1553" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1554" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1555" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1556" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1557" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1558"><span class="mrow" id="MathJax-Span-1559"><span class="mo" id="MathJax-Span-1560"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1561" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1562"><span class="mrow" id="MathJax-Span-1563"><span class="mo" id="MathJax-Span-1564" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1565" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1566"><span class="mrow" id="MathJax-Span-1567"><span class="mo" id="MathJax-Span-1568"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1569" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1570"><span class="mrow" id="MathJax-Span-1571"><span class="mo" id="MathJax-Span-1572"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-1573"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1574" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1575" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1576" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1577" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1578" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1579" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1580"><span class="mrow" id="MathJax-Span-1581"><span class="mo" id="MathJax-Span-1582"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1583" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1584"><span class="mrow" id="MathJax-Span-1585"><span class="mo" id="MathJax-Span-1586" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1587" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1588"><span class="mrow" id="MathJax-Span-1589"><span class="mo" id="MathJax-Span-1590"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1591" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1592"><span class="mrow" id="MathJax-Span-1593"><span class="mo" id="MathJax-Span-1594"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-1595"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1596" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1597" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1598" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1599" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1600" style="font-family: STIXGeneral-Regular;">.</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1601" style="font-family: STIXGeneral-Regular;">.</span><span class="mi" id="MathJax-Span-1602" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1603" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1604" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1605"><span class="mrow" id="MathJax-Span-1606"><span class="mo" id="MathJax-Span-1607"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1608"><span class="mrow" id="MathJax-Span-1609"><span class="mo" id="MathJax-Span-1610"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1611" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1612"><span class="mrow" id="MathJax-Span-1613"><span class="mo" id="MathJax-Span-1614" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1615" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1616"><span class="mrow" id="MathJax-Span-1617"><span class="mo" id="MathJax-Span-1618"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1619"><span class="mrow" id="MathJax-Span-1620"><span class="mo" id="MathJax-Span-1621"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1622" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1623"><span class="mrow" id="MathJax-Span-1624"><span class="mo" id="MathJax-Span-1625"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-1626"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1627" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1628" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1629" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1630" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1631" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1632"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1633" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1634" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1635" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>公式中的条件概率也比较好求，举个例子：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-1636" style="width: 27.309em; display: inline-block;"><span style="display: inline-block; width: 21.816em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1637"><span class="mi" id="MathJax-Span-1638" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1639" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1640" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1641"><span class="mrow" id="MathJax-Span-1642"><span class="mo" id="MathJax-Span-1643"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1644"><span class="mrow" id="MathJax-Span-1645"><span class="mo" id="MathJax-Span-1646"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1647" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1648"><span class="mrow" id="MathJax-Span-1649"><span class="mo" id="MathJax-Span-1650" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1651" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1652"><span class="mrow" id="MathJax-Span-1653"><span class="mo" id="MathJax-Span-1654"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1655"><span class="mrow" id="MathJax-Span-1656"><span class="mo" id="MathJax-Span-1657"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1658" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1659"><span class="mrow" id="MathJax-Span-1660"><span class="mo" id="MathJax-Span-1661"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-1662"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1663" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1664" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1665" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1666" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-1667"><span style="display: inline-block; width: 12.163em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1668"><span class="texatom" id="MathJax-Span-1669"><span class="mrow" id="MathJax-Span-1670"><span class="mo" id="MathJax-Span-1671" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">在</span></span></span></span><span class="texatom" id="MathJax-Span-1672"><span class="mrow" id="MathJax-Span-1673"><span class="mo" id="MathJax-Span-1674" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="texatom" id="MathJax-Span-1675"><span class="mrow" id="MathJax-Span-1676"><span class="mo" id="MathJax-Span-1677" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">别</span></span></span></span><span class="msubsup" id="MathJax-Span-1678"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-1679" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-1680" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1681"><span class="mrow" id="MathJax-Span-1682"><span class="mo" id="MathJax-Span-1683" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-1684"><span class="mrow" id="MathJax-Span-1685"><span class="mo" id="MathJax-Span-1686" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1687" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1688" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1689"><span class="mrow" id="MathJax-Span-1690"><span class="mo" id="MathJax-Span-1691" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1692"><span class="mrow" id="MathJax-Span-1693"><span class="mo" id="MathJax-Span-1694" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1695" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1696"><span class="mrow" id="MathJax-Span-1697"><span class="mo" id="MathJax-Span-1698" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1699" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1700"><span class="mrow" id="MathJax-Span-1701"><span class="mo" id="MathJax-Span-1702" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1703"><span class="mrow" id="MathJax-Span-1704"><span class="mo" id="MathJax-Span-1705" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1706" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1707" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1708"><span class="mrow" id="MathJax-Span-1709"><span class="mo" id="MathJax-Span-1710" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-1711"><span class="mrow" id="MathJax-Span-1712"><span class="mo" id="MathJax-Span-1713" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-1714"><span class="mrow" id="MathJax-Span-1715"><span class="mo" id="MathJax-Span-1716" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1717"><span class="mrow" id="MathJax-Span-1718"><span class="mo" id="MathJax-Span-1719" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1720"><span class="mrow" id="MathJax-Span-1721"><span class="mo" id="MathJax-Span-1722" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1723"><span class="texatom" id="MathJax-Span-1724"><span class="mrow" id="MathJax-Span-1725"><span class="mo" id="MathJax-Span-1726" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">在</span></span></span></span><span class="texatom" id="MathJax-Span-1727"><span class="mrow" id="MathJax-Span-1728"><span class="mo" id="MathJax-Span-1729" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="texatom" id="MathJax-Span-1730"><span class="mrow" id="MathJax-Span-1731"><span class="mo" id="MathJax-Span-1732" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">别</span></span></span></span><span class="msubsup" id="MathJax-Span-1733"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-1734" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-1735" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1736"><span class="mrow" id="MathJax-Span-1737"><span class="mo" id="MathJax-Span-1738" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-1739"><span class="mrow" id="MathJax-Span-1740"><span class="mo" id="MathJax-Span-1741" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1742" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1743"><span class="mrow" id="MathJax-Span-1744"><span class="mo" id="MathJax-Span-1745" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1746"><span class="mrow" id="MathJax-Span-1747"><span class="mo" id="MathJax-Span-1748" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1749" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1750"><span class="mrow" id="MathJax-Span-1751"><span class="mo" id="MathJax-Span-1752" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-1753"><span class="mrow" id="MathJax-Span-1754"><span class="mo" id="MathJax-Span-1755" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-1756"><span class="mrow" id="MathJax-Span-1757"><span class="mo" id="MathJax-Span-1758" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-1759"><span class="mrow" id="MathJax-Span-1760"><span class="mo" id="MathJax-Span-1761" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-1762"><span class="mrow" id="MathJax-Span-1763"><span class="mo" id="MathJax-Span-1764" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>剩下的就需要在语料库中间做一个的统计就是了。<strong>因为这种方法考虑到了词语前面的一个词语的信息，同时也考虑到了部分语序信息，因此区分效果会比单纯用朴素贝叶斯方法更好。</strong></p>

<p>多提几句，N-gram方法在实际应用中有一些tricks需要注意：</p>

<ul>
<li>3-gram方法的公式与上面类似。此处省略。从区分度来看，3-gram方法更好些。</li>
<li>句子开头的词，比如本例中的“我”，<strong>因为要考虑其本身作为开头的特征，可以考虑在其前面再添加一个句子起始符号如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-1765" style="width: 4.292em; display: inline-block;"><span style="display: inline-block; width: 3.31em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1766"><span class="mo" id="MathJax-Span-1767" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-1768" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-1769" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-1770" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-1771" style="font-family: STIXGeneral-Regular;">”</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span><s>，这样我们就不必单独计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-1772" style="width: 5.171em; display: inline-block;"><span style="display: inline-block; width: 3.982em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1773"><span class="mi" id="MathJax-Span-1774" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1775" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1776" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1777"><span class="mrow" id="MathJax-Span-1778"><span class="mo" id="MathJax-Span-1779"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1780" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1781"><span class="mrow" id="MathJax-Span-1782"><span class="mo" id="MathJax-Span-1783" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1784"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-1785" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-1786" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-1787" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>，而是替换为计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-37-Frame"><span class="math" id="MathJax-Span-1788" style="width: 9.977em; display: inline-block;"><span style="display: inline-block; width: 7.703em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1789"><span class="mi" id="MathJax-Span-1790" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1791" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1792" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1793"><span class="mrow" id="MathJax-Span-1794"><span class="mo" id="MathJax-Span-1795"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1796" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1797"><span class="mrow" id="MathJax-Span-1798"><span class="mo" id="MathJax-Span-1799" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1800" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-1801" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-1802" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-1803" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-1804" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1805" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-1806"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-1807" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-1808" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-1809" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span><s>。形式上与2-gram统一。</strong> 这样统计和预测起来都比较方便。</li>
<li>一般地，<strong>如果采用N-gram模型，可以在文本开头加入n-1个虚拟的开始符号</strong>，这样在所有情况下预测下一个词的可依赖词数都是一致的。</li>
<li>与朴素贝叶斯方法一样，<strong>N-gram模型也会发生零概率问题，也需要平滑技术。</strong> 别着急，下面马上讨论到。</li>
</ul>



<h3 id="33-中文分词">3.3 中文分词</h3>

<p>之前说过，中文分词技术是“中文NLP中，最最最重要的技术之一”，重要到某搜索引擎厂有专门的team在集中精力优化这一项工作，重要到能影响双语翻译10%的准确度，能影响某些query下搜索引擎几分之一的广告收入。不过简单的分词实现方式中，包含的原理其实也非常易懂。</p>

<p>说起来，<strong>中文分词也可以理解成一个多分类的问题。</strong> 这里用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame"><span class="math" id="MathJax-Span-1810" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1811"><span class="mi" id="MathJax-Span-1812" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>表示被分词的句子“我司可办理正规发票”， <strong>用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-39-Frame"><span class="math" id="MathJax-Span-1813" style="width: 1.14em; display: inline-block;"><span style="display: inline-block; width: 0.881em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1814"><span class="msubsup" id="MathJax-Span-1815"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-1816" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-1817" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span></span></span></span>表示该句子的一个分词方案。</strong> 咱们继续套用贝叶斯公式：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-40-Frame"><span class="math" id="MathJax-Span-1818" style="width: 18.829em; display: inline-block;"><span style="display: inline-block; width: 15.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1819"><span class="mi" id="MathJax-Span-1820" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1821" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1822"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1823" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1824" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1825"><span class="mrow" id="MathJax-Span-1826"><span class="mo" id="MathJax-Span-1827" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1828" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1829" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1830" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-1831" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1832" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1833" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1834"><span class="mrow" id="MathJax-Span-1835"><span class="mo" id="MathJax-Span-1836" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1837"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1838" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1839" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1840" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1841" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1842" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1843"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1844" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1845" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1846" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1847"><span class="mrow" id="MathJax-Span-1848"><span class="mo" id="MathJax-Span-1849"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-1850" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1851" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1852" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1853" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1854" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-1855" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1856" style="font-family: STIXGeneral-Regular;">3...</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>比较这些概率的大小，找出使得<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-41-Frame"><span class="math" id="MathJax-Span-1857" style="width: 3.843em; display: inline-block;"><span style="display: inline-block; width: 3.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1858"><span class="mi" id="MathJax-Span-1859" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1860" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1861"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1862" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1863" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1864"><span class="mrow" id="MathJax-Span-1865"><span class="mo" id="MathJax-Span-1866" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1867" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1868" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 最大的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-42-Frame"><span class="math" id="MathJax-Span-1869" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1870"><span class="msubsup" id="MathJax-Span-1871"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1872" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1873" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>即可得到<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-43-Frame"><span class="math" id="MathJax-Span-1874" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1875"><span class="mi" id="MathJax-Span-1876" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 所属的分类(分词方案)了。</p>

<p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-44-Frame"><span class="math" id="MathJax-Span-1877" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1878"><span class="msubsup" id="MathJax-Span-1879"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1880" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1881" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>作为分词方案，其实就是个词串，比如（“我司”，“可”，“办理”，“正规发票”）或者（“我”，“司可办”，“理正规”，“发票”），也<strong>就是一个向量</strong>了。</p>

<p>而上面贝叶斯公式中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-45-Frame"><span class="math" id="MathJax-Span-1882" style="width: 3.843em; display: inline-block;"><span style="display: inline-block; width: 3.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1883"><span class="mi" id="MathJax-Span-1884" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1885" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1886" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1887"><span class="mrow" id="MathJax-Span-1888"><span class="mo" id="MathJax-Span-1889" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1890"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1891" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1892" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1893" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 项的意思就是在分类方案 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-46-Frame"><span class="math" id="MathJax-Span-1894" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1895"><span class="msubsup" id="MathJax-Span-1896"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1897" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1898" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span> 的前提下，其对应句子为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-47-Frame"><span class="math" id="MathJax-Span-1899" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1900"><span class="mi" id="MathJax-Span-1901" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 的概率。而无论分词方案是（“我司”，“可”，“办理”，“正规发票”）还是（“我”，“司可办”，“理正规”，“发票”），或者其他什么方案，其对应的句子都是“我司可办理正规发票”。也就是说<strong>任意假想的一种分词方式之下生成的句子总是唯一的</strong>（只需把分词之间的分界符号扔掉剩下的内容都一样）。于是<strong>可以将 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-48-Frame"><span class="math" id="MathJax-Span-1902" style="width: 3.879em; display: inline-block;"><span style="display: inline-block; width: 3em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1903"><span class="mi" id="MathJax-Span-1904" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1905" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1906" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="texatom" id="MathJax-Span-1907"><span class="mrow" id="MathJax-Span-1908"><span class="mo" id="MathJax-Span-1909" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1910"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-1911" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-1912" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-1913" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span> 看作是恒等于1</strong>的。这样贝叶斯公式又进一步化简成为：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-49-Frame"><span class="math" id="MathJax-Span-1914" style="width: 15.096em; display: inline-block;"><span style="display: inline-block; width: 12.056em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1915"><span class="mi" id="MathJax-Span-1916" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1917" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1918"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1919" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1920" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1921"><span class="mrow" id="MathJax-Span-1922"><span class="mo" id="MathJax-Span-1923" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1924" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1925" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1926" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-1927" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1928" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1929"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1930" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1931" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1932" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1933"><span class="mrow" id="MathJax-Span-1934"><span class="mo" id="MathJax-Span-1935"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-1936" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-1937" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1938" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1939" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1940" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-1941" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1942" style="font-family: STIXGeneral-Regular;">3...</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>也就是说我们只要取最大化的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-50-Frame"><span class="math" id="MathJax-Span-1943" style="width: 2.669em; display: inline-block;"><span style="display: inline-block; width: 2.136em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1944"><span class="mi" id="MathJax-Span-1945" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1946" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1947"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1948" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1949" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1950" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 就成了。而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-51-Frame"><span class="math" id="MathJax-Span-1951" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1952"><span class="msubsup" id="MathJax-Span-1953"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-1954" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1955" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>就是一个词串，也就是一个向量，可以直接套用我们上面的N-gram语言模型。这里采用2-gram。于是有：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-52-Frame"><span class="math" id="MathJax-Span-1956" style="width: 22.616em; display: inline-block;"><span style="display: inline-block; width: 18.083em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1957"><span class="mi" id="MathJax-Span-1958" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1959" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1960"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1961" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1962" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1963" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1964" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-1965" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1966" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1967" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1968"><span class="mrow" id="MathJax-Span-1969"><span class="mo" id="MathJax-Span-1970"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="texatom" id="MathJax-Span-1971"><span class="mrow" id="MathJax-Span-1972"><span class="mo" id="MathJax-Span-1973"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1974" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1975"><span class="mrow" id="MathJax-Span-1976"><span class="mo" id="MathJax-Span-1977"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1978" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1979"><span class="mrow" id="MathJax-Span-1980"><span class="mo" id="MathJax-Span-1981"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1982" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1983"><span class="mrow" id="MathJax-Span-1984"><span class="mo" id="MathJax-Span-1985"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1986" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1987"><span class="mrow" id="MathJax-Span-1988"><span class="mo" id="MathJax-Span-1989"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1990"><span class="mrow" id="MathJax-Span-1991"><span class="mo" id="MathJax-Span-1992"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1993" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1994"><span class="mrow" id="MathJax-Span-1995"><span class="mo" id="MathJax-Span-1996"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-1997" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1998"><span class="mrow" id="MathJax-Span-1999"><span class="mo" id="MathJax-Span-2000"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2001"><span class="mrow" id="MathJax-Span-2002"><span class="mo" id="MathJax-Span-2003"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-2004"><span class="mrow" id="MathJax-Span-2005"><span class="mo" id="MathJax-Span-2006"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2007"><span class="mrow" id="MathJax-Span-2008"><span class="mo" id="MathJax-Span-2009"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2010" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2011" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-53-Frame"><span class="math" id="MathJax-Span-2012" style="width: 30.776em; display: inline-block;"><span style="display: inline-block; width: 24.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2013"><span class="mo" id="MathJax-Span-2014" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2015" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2016" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2017" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2018"><span class="mrow" id="MathJax-Span-2019"><span class="mo" id="MathJax-Span-2020"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="texatom" id="MathJax-Span-2021"><span class="mrow" id="MathJax-Span-2022"><span class="mo" id="MathJax-Span-2023"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-2024" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2025" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2026" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2027" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2028" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2029"><span class="mrow" id="MathJax-Span-2030"><span class="mo" id="MathJax-Span-2031"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-2032" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2033"><span class="mrow" id="MathJax-Span-2034"><span class="mo" id="MathJax-Span-2035" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-2036" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2037"><span class="mrow" id="MathJax-Span-2038"><span class="mo" id="MathJax-Span-2039"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="texatom" id="MathJax-Span-2040"><span class="mrow" id="MathJax-Span-2041"><span class="mo" id="MathJax-Span-2042"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-2043" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2044" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2045" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2046" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2047" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2048"><span class="mrow" id="MathJax-Span-2049"><span class="mo" id="MathJax-Span-2050"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-2051"><span class="mrow" id="MathJax-Span-2052"><span class="mo" id="MathJax-Span-2053"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-2054" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2055"><span class="mrow" id="MathJax-Span-2056"><span class="mo" id="MathJax-Span-2057" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-2058" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2059"><span class="mrow" id="MathJax-Span-2060"><span class="mo" id="MathJax-Span-2061"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-2062" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2063" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2064" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2065" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2066" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2067"><span class="mrow" id="MathJax-Span-2068"><span class="mo" id="MathJax-Span-2069"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2070"><span class="mrow" id="MathJax-Span-2071"><span class="mo" id="MathJax-Span-2072"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-2073"><span class="mrow" id="MathJax-Span-2074"><span class="mo" id="MathJax-Span-2075"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2076"><span class="mrow" id="MathJax-Span-2077"><span class="mo" id="MathJax-Span-2078"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2079" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2080"><span class="mrow" id="MathJax-Span-2081"><span class="mo" id="MathJax-Span-2082" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-2083" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2084"><span class="mrow" id="MathJax-Span-2085"><span class="mo" id="MathJax-Span-2086"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-2087"><span class="mrow" id="MathJax-Span-2088"><span class="mo" id="MathJax-Span-2089"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-2090" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2091"><span class="mrow" id="MathJax-Span-2092"><span class="mo" id="MathJax-Span-2093"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>第二种分词方案的概率为：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-54-Frame"><span class="math" id="MathJax-Span-2094" style="width: 22.616em; display: inline-block;"><span style="display: inline-block; width: 18.083em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2095"><span class="mi" id="MathJax-Span-2096" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2097" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2098"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2099" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2100" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2101" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2102" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2103" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2104" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2105" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2106"><span class="mrow" id="MathJax-Span-2107"><span class="mo" id="MathJax-Span-2108"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2109" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2110"><span class="mrow" id="MathJax-Span-2111"><span class="mo" id="MathJax-Span-2112"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-2113" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2114"><span class="mrow" id="MathJax-Span-2115"><span class="mo" id="MathJax-Span-2116"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="texatom" id="MathJax-Span-2117"><span class="mrow" id="MathJax-Span-2118"><span class="mo" id="MathJax-Span-2119"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="texatom" id="MathJax-Span-2120"><span class="mrow" id="MathJax-Span-2121"><span class="mo" id="MathJax-Span-2122"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="mo" id="MathJax-Span-2123" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2124"><span class="mrow" id="MathJax-Span-2125"><span class="mo" id="MathJax-Span-2126"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-2127" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2128"><span class="mrow" id="MathJax-Span-2129"><span class="mo" id="MathJax-Span-2130"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="texatom" id="MathJax-Span-2131"><span class="mrow" id="MathJax-Span-2132"><span class="mo" id="MathJax-Span-2133"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2134"><span class="mrow" id="MathJax-Span-2135"><span class="mo" id="MathJax-Span-2136"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-2137" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2138"><span class="mrow" id="MathJax-Span-2139"><span class="mo" id="MathJax-Span-2140"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-2141" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2142"><span class="mrow" id="MathJax-Span-2143"><span class="mo" id="MathJax-Span-2144"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2145"><span class="mrow" id="MathJax-Span-2146"><span class="mo" id="MathJax-Span-2147"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2148" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2149" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-55-Frame"><span class="math" id="MathJax-Span-2150" style="width: 32.749em; display: inline-block;"><span style="display: inline-block; width: 26.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2151"><span class="mo" id="MathJax-Span-2152" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2153" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2154" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2155" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2156"><span class="mrow" id="MathJax-Span-2157"><span class="mo" id="MathJax-Span-2158"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2159" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2160" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2161" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2162" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2163" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2164"><span class="mrow" id="MathJax-Span-2165"><span class="mo" id="MathJax-Span-2166"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="texatom" id="MathJax-Span-2167"><span class="mrow" id="MathJax-Span-2168"><span class="mo" id="MathJax-Span-2169"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="texatom" id="MathJax-Span-2170"><span class="mrow" id="MathJax-Span-2171"><span class="mo" id="MathJax-Span-2172"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="mo" id="MathJax-Span-2173" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2174"><span class="mrow" id="MathJax-Span-2175"><span class="mo" id="MathJax-Span-2176" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-2177" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2178"><span class="mrow" id="MathJax-Span-2179"><span class="mo" id="MathJax-Span-2180"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2181" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2182" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2183" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2184" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2185" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2186"><span class="mrow" id="MathJax-Span-2187"><span class="mo" id="MathJax-Span-2188"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="texatom" id="MathJax-Span-2189"><span class="mrow" id="MathJax-Span-2190"><span class="mo" id="MathJax-Span-2191"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2192"><span class="mrow" id="MathJax-Span-2193"><span class="mo" id="MathJax-Span-2194"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-2195" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2196"><span class="mrow" id="MathJax-Span-2197"><span class="mo" id="MathJax-Span-2198" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-2199" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2200"><span class="mrow" id="MathJax-Span-2201"><span class="mo" id="MathJax-Span-2202"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="texatom" id="MathJax-Span-2203"><span class="mrow" id="MathJax-Span-2204"><span class="mo" id="MathJax-Span-2205"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="texatom" id="MathJax-Span-2206"><span class="mrow" id="MathJax-Span-2207"><span class="mo" id="MathJax-Span-2208"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="mo" id="MathJax-Span-2209" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2210" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2211" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2212" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2213" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2214"><span class="mrow" id="MathJax-Span-2215"><span class="mo" id="MathJax-Span-2216"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2217"><span class="mrow" id="MathJax-Span-2218"><span class="mo" id="MathJax-Span-2219"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2220" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2221"><span class="mrow" id="MathJax-Span-2222"><span class="mo" id="MathJax-Span-2223" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-2224" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2225"><span class="mrow" id="MathJax-Span-2226"><span class="mo" id="MathJax-Span-2227"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="texatom" id="MathJax-Span-2228"><span class="mrow" id="MathJax-Span-2229"><span class="mo" id="MathJax-Span-2230"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2231"><span class="mrow" id="MathJax-Span-2232"><span class="mo" id="MathJax-Span-2233"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-2234" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2235"><span class="mrow" id="MathJax-Span-2236"><span class="mo" id="MathJax-Span-2237"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>由于在语料库中“司可办”与“理正规”一起连续出现的概率为0，于是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-56-Frame"><span class="math" id="MathJax-Span-2238" style="width: 5.229em; display: inline-block;"><span style="display: inline-block; width: 4.163em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2239"><span class="mi" id="MathJax-Span-2240" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2241" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2242"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2243" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2244" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2245" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2246" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2247" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> ,<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-57-Frame"><span class="math" id="MathJax-Span-2248" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; width: 2.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2249"><span class="mi" id="MathJax-Span-2250" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2251" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2252"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2253" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2254" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2255" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 的概率更高，优先选择<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-58-Frame"><span class="math" id="MathJax-Span-2256" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; width: 1.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2257"><span class="msubsup" id="MathJax-Span-2258"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2259" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2260" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>的分词方案。</p>



<h3 id="34-机器翻译与语音识别">3.4 机器翻译与语音识别</h3>

<p>除了上述说到的应用，N-gram语言模型在机器翻译和语音识别等顶级NLP应用中也有很大的用途。</p>

<p>当然，机器翻译和语音识别是非常复杂的过程，N-gram语言模型只是其中的一部分，但是缺少它整个过程却进行不下去。对于这两个应用我们不打算罗列大量的公式，而只是举些例子，让大家了解一下语言模型是怎么发挥作用的。</p>

<p>对于机器翻译而言，比如中译英，我们对于同一句话『李雷出现在电视上』，得到的三个译文：</p>

<ul>
<li>LiLei appeared in TV</li>
<li>In LiLei appeared TV</li>
<li>LiLei appeared on TV</li>
</ul>

<p>其对应短语的翻译概率是一致的，从短语翻译的角度我们无法评定哪句才是正确的翻译结果。这时候，如果我们再使用语言模型(比如机器翻译里面最常见的是3-gram)，我们计算会得到最后一句话的概率：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-100-Frame"><span class="math" id="MathJax-Span-3488" style="width: 29.709em; display: inline-block;"><span style="display: inline-block; width: 23.736em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3489"><span style="display: inline-block; width: 23.736em; height: 0px;"><span><span class="mi" id="MathJax-Span-3490" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3491" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3492" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3493" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3494" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3495" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3496" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3497" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3498" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3499"><span class="mrow" id="MathJax-Span-3500"><span class="mo" id="MathJax-Span-3501" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3502" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3503" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3504" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3505" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3506" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3507" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3508" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3509" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3510" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3511" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3512" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3513" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3514" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3515" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3516" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3517" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3518" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3519" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3520" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3521" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3522" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3523" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3524" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3525" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3526"><span class="mrow" id="MathJax-Span-3527"><span class="mo" id="MathJax-Span-3528" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3529" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3530" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3531" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3532" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3533" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3534" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3535" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3536" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3537" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3538" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3539" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3540" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3541" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3542" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3543" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3544" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3545" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3546" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-3547" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-3548" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3549"><span class="mrow" id="MathJax-Span-3550"><span class="mo" id="MathJax-Span-3551" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3552" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3553" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3554" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3555" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3556" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3557" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3558" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3559" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3560" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3561" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3562" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3563" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3564" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3565" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3566" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3567" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3568" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3569" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3570" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3571" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3572" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3573" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3574" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-3575" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3576" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3577"><span class="mrow" id="MathJax-Span-3578"><span class="mo" id="MathJax-Span-3579" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3580" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3581" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3582" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3583" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3584" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3585" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3586" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3587" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3588" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3589" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3590" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3591" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3592" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-3593" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-3594" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3595" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.589em;"></span></span></span><span></span></span></span><s><s><s></p>
</blockquote>

<p>它高于第一句和第二句的概率：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-101-Frame"><span class="math" id="MathJax-Span-3596" style="width: 29.443em; display: inline-block;"><span style="display: inline-block; width: 23.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3597"><span style="display: inline-block; width: 23.523em; height: 0px;"><span><span class="mi" id="MathJax-Span-3598" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3599" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3600" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3601" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3602" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3603" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3604" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3605" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3606" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3607"><span class="mrow" id="MathJax-Span-3608"><span class="mo" id="MathJax-Span-3609" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3610" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3611" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3612" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3613" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3614" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3615" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3616" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3617" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3618" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3619" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3620" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3621" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3622" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3623" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3624" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3625" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3626" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3627" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3628" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3629" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3630" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3631" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3632" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3633" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3634"><span class="mrow" id="MathJax-Span-3635"><span class="mo" id="MathJax-Span-3636" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3637" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3638" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3639" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3640" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3641" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3642" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3643" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3644" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3645" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3646" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3647" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3648" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3649" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3650" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3651" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3652" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3653" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3654" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3655" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-3656" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3657"><span class="mrow" id="MathJax-Span-3658"><span class="mo" id="MathJax-Span-3659" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3660" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3661" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3662" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3663" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3664" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3665" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3666" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3667" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3668" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3669" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3670" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3671" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3672" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3673" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3674" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3675" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3676" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3677" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3678" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3679" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3680" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3681" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3682" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-3683" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3684" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3685"><span class="mrow" id="MathJax-Span-3686"><span class="mo" id="MathJax-Span-3687" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3688" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3689" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3690" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3691" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3692" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3693" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3694" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3695" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3696" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3697" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3698" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3699" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3700" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3701" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-3702" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3703" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.589em;"></span></span></span><span></span></span></span><s><s><s> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-102-Frame"><span class="math" id="MathJax-Span-3704" style="width: 29.443em; display: inline-block;"><span style="display: inline-block; width: 23.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3705"><span style="display: inline-block; width: 23.523em; height: 0px;"><span><span class="mi" id="MathJax-Span-3706" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3707" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3708" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3709" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3710" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-3711" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3712"><span class="mrow" id="MathJax-Span-3713"><span class="mo" id="MathJax-Span-3714" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3715" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3716" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3717" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3718" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3719" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3720" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3721" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3722" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3723" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3724" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3725" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3726" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3727" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3728" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3729" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3730" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3731" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3732" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3733" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3734" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3735" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3736"><span class="mrow" id="MathJax-Span-3737"><span class="mo" id="MathJax-Span-3738" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3739" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3740" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3741" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-3742" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3743" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3744" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3745" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3746" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3747" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3748" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3749" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3750" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3751" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3752" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3753" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3754" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3755" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3756" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3758" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3759" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3760" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3761" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3762"><span class="mrow" id="MathJax-Span-3763"><span class="mo" id="MathJax-Span-3764" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3765" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3766" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3767" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3768" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3769" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3770" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3771" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3772" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3773" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3774" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3775" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-3776" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3777" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3778" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3779" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3780" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3781" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-3782" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3783" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3784"><span class="mrow" id="MathJax-Span-3785"><span class="mo" id="MathJax-Span-3786" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3787" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3788" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3789" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3790" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3791" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3792" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3793" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3794" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3795" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3796" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3797" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3798" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3799" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3800" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3801" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3802" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3803" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3804" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3805" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3806" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3807" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3808" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.589em;"></span></span></span><span></span></span></span><s><s><s></p>
</blockquote>

<p>因此我们选择第三句作为正确的答案。这也表明大量语料上的语言模型能够在一定程度上，体现出我们表达某种语言时候的说话习惯。</p>

<p>对应到语音识别问题中，我们也会遇到相同的问题，对于以下的2个句子：</p>

<ul>
<li>I went to a party</li>
<li>Eye went two a bar tea</li>
</ul>

<p>或者对应下述2个句子：</p>

<ul>
<li>你现在在干什么？</li>
<li>你西安载感什么？</li>
</ul>

<p>其对应的发音是完全一致的，这时如果我们借助于语言模型，我们会算出这句话的概率：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-103-Frame"><span class="math" id="MathJax-Span-3809" style="width: 29.336em; display: inline-block;"><span style="display: inline-block; width: 23.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3810"><span style="display: inline-block; width: 23.469em; height: 0px;"><span><span class="mi" id="MathJax-Span-3811" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3812" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3813" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3814" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3815" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3816"><span class="mrow" id="MathJax-Span-3817"><span class="mo" id="MathJax-Span-3818" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3819" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3820" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3821" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3822" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3823" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3824" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3825" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3826" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3827" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3828" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3829" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3830" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3831" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3832" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3833" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3834" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-3835" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3836" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3837" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3838" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3839"><span class="mrow" id="MathJax-Span-3840"><span class="mo" id="MathJax-Span-3841" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3842" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3843" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3844" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3845" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3846" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3847" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3848" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3849" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3850" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3851" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3852" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3853" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3854" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3855" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3856" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-3857" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3858"><span class="mrow" id="MathJax-Span-3859"><span class="mo" id="MathJax-Span-3860" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3861" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3862" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3863" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3864" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3865" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3866" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-3867" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3868" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3869" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3870" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3871" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span><s><s><s> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-104-Frame"><span class="math" id="MathJax-Span-3872" style="width: 20.536em; display: inline-block;"><span style="display: inline-block; width: 16.429em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3873"><span class="mo" id="MathJax-Span-3874" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-3875" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3876" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3877" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3878" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-3879" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3880"><span class="mrow" id="MathJax-Span-3881"><span class="mo" id="MathJax-Span-3882" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3883" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3884" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-3885" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3886" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3887" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3888" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3889" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3890" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3891" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3892" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-3893" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3894" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3895" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3896" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3897" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3898" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-3899" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3900" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3901" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3902" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-3903" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3904"><span class="mrow" id="MathJax-Span-3905"><span class="mo" id="MathJax-Span-3906" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3907" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3908" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3909" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-3910" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3911" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3912" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3913" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-3914" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3915" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>它大于:</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-105-Frame"><span class="math" id="MathJax-Span-3916" style="width: 21.976em; display: inline-block;"><span style="display: inline-block; width: 17.549em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3917"><span style="display: inline-block; width: 17.549em; height: 0px;"><span><span class="mi" id="MathJax-Span-3918" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3919" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3920" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3921" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3922" style="font-family: STIXGeneral-Italic;">y</span><span class="mi" id="MathJax-Span-3923" style="font-family: STIXGeneral-Italic;">e</span><span class="mo" id="MathJax-Span-3924" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3925"><span class="mrow" id="MathJax-Span-3926"><span class="mo" id="MathJax-Span-3927" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3928" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3929" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3930" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3931" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3932" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3933" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3934" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3935" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3936" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3937" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3938" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3939" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3940" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3941" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3942" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3943" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-3944" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3945" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3946" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3947" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3948"><span class="mrow" id="MathJax-Span-3949"><span class="mo" id="MathJax-Span-3950" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3951" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3952" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3953" style="font-family: STIXGeneral-Italic;">y</span><span class="mi" id="MathJax-Span-3954" style="font-family: STIXGeneral-Italic;">e</span><span class="mo" id="MathJax-Span-3955" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3956" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3957" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-3958" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-3959" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-3960" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-3961" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3962" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3963" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3964" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3965" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3966" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3967" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-3968" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-3969" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3970"><span class="mrow" id="MathJax-Span-3971"><span class="mo" id="MathJax-Span-3972" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3973" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3974" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3975" style="font-family: STIXGeneral-Italic;">y</span><span class="mi" id="MathJax-Span-3976" style="font-family: STIXGeneral-Italic;">e</span><span class="mo" id="MathJax-Span-3977" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3978" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3979" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3980" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-3981" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3982" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3983" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3984" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3985" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span><s><s><s> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-106-Frame"><span class="math" id="MathJax-Span-3986" style="width: 27.576em; display: inline-block;"><span style="display: inline-block; width: 22.029em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3987"><span style="display: inline-block; width: 22.029em; height: 0px;"><span><span class="mo" id="MathJax-Span-3988" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-3989" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3990" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3991" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3992" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-3993" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3994"><span class="mrow" id="MathJax-Span-3995"><span class="mo" id="MathJax-Span-3996" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3997" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-3998" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-3999" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-4000" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-4001" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-4002" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4003" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4004" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-4005" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-4006" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-4007" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-4008" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4009" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4010" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4011" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4012" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-4013" style="font-family: STIXGeneral-Italic;">b</span><span class="mi" id="MathJax-Span-4014" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-4015" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-4016" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4017"><span class="mrow" id="MathJax-Span-4018"><span class="mo" id="MathJax-Span-4019" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4020" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-4021" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-4022" style="font-family: STIXGeneral-Italic;">w</span><span class="mi" id="MathJax-Span-4023" style="font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-4024" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4025" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4026" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-4027" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-4028" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4029" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4030" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4031" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4032" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-4033" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-4034" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-4035" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-4036" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4037"><span class="mrow" id="MathJax-Span-4038"><span class="mo" id="MathJax-Span-4039" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4040" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-4041" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-4042" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4043" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-4044" style="font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-4045" style="font-family: STIXGeneral-Italic;">b</span><span class="mi" id="MathJax-Span-4046" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-4047" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-4048" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4049" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span>，</p>
</blockquote>

<p>而这句话的概率：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-107-Frame"><span class="math" id="MathJax-Span-4050" style="width: 28.269em; display: inline-block;"><span style="display: inline-block; width: 22.616em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-4051"><span style="display: inline-block; width: 22.616em; height: 0px;"><span><span class="mi" id="MathJax-Span-4052" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4053" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4054" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4055"><span class="mrow" id="MathJax-Span-4056"><span class="mo" id="MathJax-Span-4057"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">你</span></span></span></span><span class="mo" id="MathJax-Span-4058" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4059"><span class="mrow" id="MathJax-Span-4060"><span class="mo" id="MathJax-Span-4061" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4062" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-4063" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-4064" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-4065" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-4066" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4067" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4068" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-4069" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-4070" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-4071" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-4072" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4073" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4074" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4075" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4076" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4077"><span class="mrow" id="MathJax-Span-4078"><span class="mo" id="MathJax-Span-4079"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-4080"><span class="mrow" id="MathJax-Span-4081"><span class="mo" id="MathJax-Span-4082"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">在</span></span></span></span><span class="mo" id="MathJax-Span-4083" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4084"><span class="mrow" id="MathJax-Span-4085"><span class="mo" id="MathJax-Span-4086" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4087" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4088"><span class="mrow" id="MathJax-Span-4089"><span class="mo" id="MathJax-Span-4090"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">你</span></span></span></span><span class="mo" id="MathJax-Span-4091" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4092" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4093" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-4094" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-4095" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-4096" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-4097" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4098" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4099" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4100" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4101" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4102"><span class="mrow" id="MathJax-Span-4103"><span class="mo" id="MathJax-Span-4104"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">在</span></span></span></span><span class="mo" id="MathJax-Span-4105" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4106"><span class="mrow" id="MathJax-Span-4107"><span class="mo" id="MathJax-Span-4108" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4109" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4110"><span class="mrow" id="MathJax-Span-4111"><span class="mo" id="MathJax-Span-4112"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">你</span></span></span></span><span class="mo" id="MathJax-Span-4113" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4114" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-4115" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4116"><span class="mrow" id="MathJax-Span-4117"><span class="mo" id="MathJax-Span-4118"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-4119"><span class="mrow" id="MathJax-Span-4120"><span class="mo" id="MathJax-Span-4121"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">在</span></span></span></span><span class="mo" id="MathJax-Span-4122" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4123" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4124" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4125" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4126" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4127"><span class="mrow" id="MathJax-Span-4128"><span class="mo" id="MathJax-Span-4129"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">干</span></span></span></span><span class="texatom" id="MathJax-Span-4130"><span class="mrow" id="MathJax-Span-4131"><span class="mo" id="MathJax-Span-4132"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">什</span></span></span></span><span class="texatom" id="MathJax-Span-4133"><span class="mrow" id="MathJax-Span-4134"><span class="mo" id="MathJax-Span-4135"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">么</span></span></span></span><span class="mo" id="MathJax-Span-4136" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4137"><span class="mrow" id="MathJax-Span-4138"><span class="mo" id="MathJax-Span-4139" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4140" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4141"><span class="mrow" id="MathJax-Span-4142"><span class="mo" id="MathJax-Span-4143"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">在</span></span></span></span><span class="mo" id="MathJax-Span-4144" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4145" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4146" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4147"><span class="mrow" id="MathJax-Span-4148"><span class="mo" id="MathJax-Span-4149"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-4150"><span class="mrow" id="MathJax-Span-4151"><span class="mo" id="MathJax-Span-4152"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">在</span></span></span></span><span class="mo" id="MathJax-Span-4153" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4154" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span><s><s><s></p>
</blockquote>

<p>它远大于</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-108-Frame"><span class="math" id="MathJax-Span-4155" style="width: 28.909em; display: inline-block;"><span style="display: inline-block; width: 23.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-4156"><span style="display: inline-block; width: 23.096em; height: 0px;"><span><span class="mi" id="MathJax-Span-4157" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4158" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4159" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4160"><span class="mrow" id="MathJax-Span-4161"><span class="mo" id="MathJax-Span-4162"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">你</span></span></span></span><span class="mo" id="MathJax-Span-4163" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4164"><span class="mrow" id="MathJax-Span-4165"><span class="mo" id="MathJax-Span-4166" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4167" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-4168" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-4169" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-4170" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-4171" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4172" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4173" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-4174" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-4175" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-4176" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-4177" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4178" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4179" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4180" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4181" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4182"><span class="mrow" id="MathJax-Span-4183"><span class="mo" id="MathJax-Span-4184"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">西</span></span></span></span><span class="texatom" id="MathJax-Span-4185"><span class="mrow" id="MathJax-Span-4186"><span class="mo" id="MathJax-Span-4187"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">安</span></span></span></span><span class="mo" id="MathJax-Span-4188" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4189"><span class="mrow" id="MathJax-Span-4190"><span class="mo" id="MathJax-Span-4191" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4192" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4193"><span class="mrow" id="MathJax-Span-4194"><span class="mo" id="MathJax-Span-4195"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">你</span></span></span></span><span class="mo" id="MathJax-Span-4196" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4197" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4198" style="font-family: STIXGeneral-Regular;">“</span><span class="mo" id="MathJax-Span-4199" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-4200" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-4201" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mo" id="MathJax-Span-4202" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4203" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4204" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4205" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4206" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4207"><span class="mrow" id="MathJax-Span-4208"><span class="mo" id="MathJax-Span-4209"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">载</span></span></span></span><span class="mo" id="MathJax-Span-4210" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4211"><span class="mrow" id="MathJax-Span-4212"><span class="mo" id="MathJax-Span-4213" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4214" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4215"><span class="mrow" id="MathJax-Span-4216"><span class="mo" id="MathJax-Span-4217"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">西</span></span></span></span><span class="texatom" id="MathJax-Span-4218"><span class="mrow" id="MathJax-Span-4219"><span class="mo" id="MathJax-Span-4220"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">安</span></span></span></span><span class="mo" id="MathJax-Span-4221" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4222" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-4223" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4224"><span class="mrow" id="MathJax-Span-4225"><span class="mo" id="MathJax-Span-4226"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">你</span></span></span></span><span class="mo" id="MathJax-Span-4227" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4228" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4229" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4230" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4231" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4232"><span class="mrow" id="MathJax-Span-4233"><span class="mo" id="MathJax-Span-4234"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">感</span></span></span></span><span class="mo" id="MathJax-Span-4235" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4236"><span class="mrow" id="MathJax-Span-4237"><span class="mo" id="MathJax-Span-4238" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4239" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4240"><span class="mrow" id="MathJax-Span-4241"><span class="mo" id="MathJax-Span-4242"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">西</span></span></span></span><span class="texatom" id="MathJax-Span-4243"><span class="mrow" id="MathJax-Span-4244"><span class="mo" id="MathJax-Span-4245"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">安</span></span></span></span><span class="mo" id="MathJax-Span-4246" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4247" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4248" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4249"><span class="mrow" id="MathJax-Span-4250"><span class="mo" id="MathJax-Span-4251"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">载</span></span></span></span><span class="mo" id="MathJax-Span-4252" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4253" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-4254" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4255" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-4256" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4257"><span class="mrow" id="MathJax-Span-4258"><span class="mo" id="MathJax-Span-4259"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">什</span></span></span></span><span class="texatom" id="MathJax-Span-4260"><span class="mrow" id="MathJax-Span-4261"><span class="mo" id="MathJax-Span-4262"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">么</span></span></span></span><span class="mo" id="MathJax-Span-4263" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-4264"><span class="mrow" id="MathJax-Span-4265"><span class="mo" id="MathJax-Span-4266" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4267" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4268"><span class="mrow" id="MathJax-Span-4269"><span class="mo" id="MathJax-Span-4270"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">感</span></span></span></span><span class="mo" id="MathJax-Span-4271" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4272" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-4273" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-4274"><span class="mrow" id="MathJax-Span-4275"><span class="mo" id="MathJax-Span-4276"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">载</span></span></span></span><span class="mo" id="MathJax-Span-4277" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-4278" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span><s><s><s></p>
</blockquote>

<p>因此我们会选择<strong>I went to a party</strong> 和 <strong>你现在在干什么</strong>作为正确的语音识别结果。</p>

<p>上面只是简单的举例，但是大家应该看出来了，在机器翻译和语音识别中，N-gram语言模型有着至关重要的地位。同样在现在最顶级的计算机视觉任务『图片内容表述』中，语言模型也发挥着至关重要的作用。语言模型的重要性可见一斑。</p>

<h2 id="4-平滑技术">4. 平滑技术</h2>

<p>现在我们可以比较专门探讨平滑技术了。为了解决零概率问题呢，我们需要给 <strong>“未出现的n-gram条件概率分布一个非零估计值，相应得需要降低已出现n-gram条件概率分布，且经数据平滑后一定保证概率和为1”</strong>。这就是平滑技术的基本思想。</p>



<h3 id="41-拉普拉斯平滑">4.1 拉普拉斯平滑</h3>

<p>这是最古老的一种平滑方法，又称加一平滑法，其<strong>保证每个n-gram在训练语料中至少出现1次</strong>。以计算概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-68-Frame"><span class="math" id="MathJax-Span-3052" style="width: 11.843em; display: inline-block;"><span style="display: inline-block; width: 9.443em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3053"><span class="mi" id="MathJax-Span-3054" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3055" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3056" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3057"><span class="mrow" id="MathJax-Span-3058"><span class="mo" id="MathJax-Span-3059"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-3060"><span class="mrow" id="MathJax-Span-3061"><span class="mo" id="MathJax-Span-3062"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-3063" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3064"><span class="mrow" id="MathJax-Span-3065"><span class="mo" id="MathJax-Span-3066" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3067" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3068"><span class="mrow" id="MathJax-Span-3069"><span class="mo" id="MathJax-Span-3070"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3071"><span class="mrow" id="MathJax-Span-3072"><span class="mo" id="MathJax-Span-3073"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3074" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3075" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3076" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3077"><span class="mrow" id="MathJax-Span-3078"><span class="mo" id="MathJax-Span-3079"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-3080"><span class="mrow" id="MathJax-Span-3081"><span class="mo" id="MathJax-Span-3082"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-3083" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3084" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 为例，公式如下：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-69-Frame"><span class="math" id="MathJax-Span-3085" style="width: 21.549em; display: inline-block;"><span style="display: inline-block; width: 17.229em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3086"><span style="display: inline-block; width: 17.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-3087" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3088" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3089" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3090"><span class="mrow" id="MathJax-Span-3091"><span class="mo" id="MathJax-Span-3092"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-3093"><span class="mrow" id="MathJax-Span-3094"><span class="mo" id="MathJax-Span-3095"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-3096" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3097"><span class="mrow" id="MathJax-Span-3098"><span class="mo" id="MathJax-Span-3099" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3100" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3101"><span class="mrow" id="MathJax-Span-3102"><span class="mo" id="MathJax-Span-3103"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3104"><span class="mrow" id="MathJax-Span-3105"><span class="mo" id="MathJax-Span-3106"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3107" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3108" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3109" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3110"><span class="mrow" id="MathJax-Span-3111"><span class="mo" id="MathJax-Span-3112"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-3113"><span class="mrow" id="MathJax-Span-3114"><span class="mo" id="MathJax-Span-3115"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-3116" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3117" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3118" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-3119"><span style="display: inline-block; width: 15.949em; height: 0px;"><span><span class="mrow" id="MathJax-Span-3120"><span class="mo" id="MathJax-Span-3121" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3122" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3123"><span class="mrow" id="MathJax-Span-3124"><span class="mo" id="MathJax-Span-3125" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3126"><span class="mrow" id="MathJax-Span-3127"><span class="mo" id="MathJax-Span-3128" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3129" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3130" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3131" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3132"><span class="mrow" id="MathJax-Span-3133"><span class="mo" id="MathJax-Span-3134" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-3135"><span class="mrow" id="MathJax-Span-3136"><span class="mo" id="MathJax-Span-3137" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-3138" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3139"><span class="mrow" id="MathJax-Span-3140"><span class="mo" id="MathJax-Span-3141" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mo" id="MathJax-Span-3142" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3143"><span class="mrow" id="MathJax-Span-3144"><span class="mo" id="MathJax-Span-3145" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-3146"><span class="mrow" id="MathJax-Span-3147"><span class="mo" id="MathJax-Span-3148" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-3149" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3150" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3151"><span class="mrow" id="MathJax-Span-3152"><span class="mo" id="MathJax-Span-3153" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3154"><span class="mrow" id="MathJax-Span-3155"><span class="mo" id="MathJax-Span-3156" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-3157"><span class="mrow" id="MathJax-Span-3158"><span class="mo" id="MathJax-Span-3159" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3160"><span class="mrow" id="MathJax-Span-3161"><span class="mo" id="MathJax-Span-3162" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3163"><span class="mrow" id="MathJax-Span-3164"><span class="mo" id="MathJax-Span-3165" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-3166" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3167" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-3168"><span class="mo" id="MathJax-Span-3169" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3170" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3171"><span class="mrow" id="MathJax-Span-3172"><span class="mo" id="MathJax-Span-3173" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3174"><span class="mrow" id="MathJax-Span-3175"><span class="mo" id="MathJax-Span-3176" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3177" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3178" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3179" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3180"><span class="mrow" id="MathJax-Span-3181"><span class="mo" id="MathJax-Span-3182" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-3183"><span class="mrow" id="MathJax-Span-3184"><span class="mo" id="MathJax-Span-3185" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-3186" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3187" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3188"><span class="mrow" id="MathJax-Span-3189"><span class="mo" id="MathJax-Span-3190" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3191"><span class="mrow" id="MathJax-Span-3192"><span class="mo" id="MathJax-Span-3193" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-3194"><span class="mrow" id="MathJax-Span-3195"><span class="mo" id="MathJax-Span-3196" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3197"><span class="mrow" id="MathJax-Span-3198"><span class="mo" id="MathJax-Span-3199" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3200"><span class="mrow" id="MathJax-Span-3201"><span class="mo" id="MathJax-Span-3202" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-3203" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="texatom" id="MathJax-Span-3204"><span class="mrow" id="MathJax-Span-3205"><span class="mo" id="MathJax-Span-3206" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-3207"><span class="mrow" id="MathJax-Span-3208"><span class="mo" id="MathJax-Span-3209" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-3210"><span class="mrow" id="MathJax-Span-3211"><span class="mo" id="MathJax-Span-3212" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-3213"><span class="mrow" id="MathJax-Span-3214"><span class="mo" id="MathJax-Span-3215" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">重</span></span></span></span><span class="texatom" id="MathJax-Span-3216"><span class="mrow" id="MathJax-Span-3217"><span class="mo" id="MathJax-Span-3218" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">复</span></span></span></span><span class="texatom" id="MathJax-Span-3219"><span class="mrow" id="MathJax-Span-3220"><span class="mo" id="MathJax-Span-3221" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3222"><span class="mrow" id="MathJax-Span-3223"><span class="mo" id="MathJax-Span-3224" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">三</span></span></span></span><span class="texatom" id="MathJax-Span-3225"><span class="mrow" id="MathJax-Span-3226"><span class="mo" id="MathJax-Span-3227" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">元</span></span></span></span><span class="texatom" id="MathJax-Span-3228"><span class="mrow" id="MathJax-Span-3229"><span class="mo" id="MathJax-Span-3230" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">组</span></span></span></span><span class="texatom" id="MathJax-Span-3231"><span class="mrow" id="MathJax-Span-3232"><span class="mo" id="MathJax-Span-3233" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3234"><span class="mrow" id="MathJax-Span-3235"><span class="mo" id="MathJax-Span-3236" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">个</span></span></span></span><span class="texatom" id="MathJax-Span-3237"><span class="mrow" id="MathJax-Span-3238"><span class="mo" id="MathJax-Span-3239" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.216em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>在所有不重复的三元组的个数远大于(“发票”,“点数”)出现的次数时，即训练语料库中绝大部分n-gram都是未出现的情况（一般都是如此），<strong>拉普拉斯平滑有“喧宾夺主”的现象，效果不佳。</strong></p>



<h3 id="42-古德图灵good-turing平滑">4.2 古德图灵(Good Turing)平滑</h3>

<p>通过对语料库的统计，我们能够知道出现<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-70-Frame"><span class="math" id="MathJax-Span-3240" style="width: 0.536em; display: inline-block;"><span style="display: inline-block; width: 0.429em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3241"><span class="mi" id="MathJax-Span-3242" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>次 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-71-Frame"><span class="math" id="MathJax-Span-3243" style="width: 4.803em; display: inline-block;"><span style="display: inline-block; width: 3.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3244"><span class="texatom" id="MathJax-Span-3245"><span class="mrow" id="MathJax-Span-3246"><span class="mo" id="MathJax-Span-3247"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-3248" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3249" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mn" id="MathJax-Span-3250" style="font-family: STIXGeneral-Regular;">0</span><span class="texatom" id="MathJax-Span-3251"><span class="mrow" id="MathJax-Span-3252"><span class="mo" id="MathJax-Span-3253"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 的n元组的个数为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-72-Frame"><span class="math" id="MathJax-Span-3254" style="width: 1.443em; display: inline-block;"><span style="display: inline-block; width: 1.123em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3255"><span class="msubsup" id="MathJax-Span-3256"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mi" id="MathJax-Span-3257" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3258" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。可以令从未出现的n元组的个数为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-73-Frame"><span class="math" id="MathJax-Span-3259" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3260"><span class="msubsup" id="MathJax-Span-3261"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-3262" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-3263" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。古德图灵平滑的思想是:</p>

<ul>
<li><strong>出现0次的n元组也不能认为其是0次，应该给它一个比较小的估计值</strong>，比如为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-74-Frame"><span class="math" id="MathJax-Span-3264" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; width: 1.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3265"><span class="msubsup" id="MathJax-Span-3266"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-3267" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-3268" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>次。</li>
<li>为了保证总共的（出现和未出现的）n元组的次数不变，<strong>其他所有已出现的n元组的次数r应该打一个折扣</strong>，比如为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-75-Frame"><span class="math" id="MathJax-Span-3269" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3270"><span class="msubsup" id="MathJax-Span-3271"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-3272" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3273" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>次。</li>
<li>然后再<strong>用新的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-76-Frame"><span class="math" id="MathJax-Span-3274" style="width: 1.295em; display: inline-block;"><span style="display: inline-block; width: 0.984em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-3275"><span class="msubsup" id="MathJax-Span-3276"><span style="display: inline-block; width: 0.933em; height: 0px;"><span><span class="mi" id="MathJax-Span-3277" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-3278" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span></span></span></span>去计算各个条件概率。</strong></li>
</ul>

<p>所以问题的关键是计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-77-Frame"><span class="math" id="MathJax-Span-3279" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3280"><span class="msubsup" id="MathJax-Span-3281"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-3282" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3283" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。<strong>为了保证平滑前后n元组的总共出现次数不变</strong>，有：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-78-Frame"><span class="math" id="MathJax-Span-3284" style="width: 16.643em; display: inline-block;"><span style="display: inline-block; width: 13.283em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3285"><span class="munderover" id="MathJax-Span-3286"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-3287">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="texatom" id="MathJax-Span-3288"><span class="mrow" id="MathJax-Span-3289"><span class="mi" id="MathJax-Span-3290" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3291" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-3292" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-3293" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3294"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-3295" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3296" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3297" style="font-family: STIXGeneral-Regular;">×</span><span class="msubsup" id="MathJax-Span-3298"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mi" id="MathJax-Span-3299" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3300" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3301" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-3302"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-3303">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="texatom" id="MathJax-Span-3304"><span class="mrow" id="MathJax-Span-3305"><span class="mi" id="MathJax-Span-3306" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3307" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-3308" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-3309" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3310" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3311" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3312" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3313" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3314" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-3315" style="font-family: STIXGeneral-Regular;">×</span><span class="msubsup" id="MathJax-Span-3316"><span style="display: inline-block; width: 1.869em; height: 0px;"><span><span class="mi" id="MathJax-Span-3317" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-3318"><span class="mrow" id="MathJax-Span-3319"><span class="mi" id="MathJax-Span-3320" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3321" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3322" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>
</blockquote>

<p>所以干脆令：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-79-Frame"><span class="math" id="MathJax-Span-3323" style="width: 20.109em; display: inline-block;"><span style="display: inline-block; width: 16.056em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3324"><span class="msubsup" id="MathJax-Span-3325"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-3326" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3327" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3328" style="font-family: STIXGeneral-Regular;">×</span><span class="msubsup" id="MathJax-Span-3329"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mi" id="MathJax-Span-3330" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3331" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3332" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-3333" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3334" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3335" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3336" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3337" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-3338" style="font-family: STIXGeneral-Regular;">×</span><span class="msubsup" id="MathJax-Span-3339"><span style="display: inline-block; width: 1.869em; height: 0px;"><span><span class="mi" id="MathJax-Span-3340" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-3341"><span class="mrow" id="MathJax-Span-3342"><span class="mi" id="MathJax-Span-3343" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3344" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3345" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3346"><span class="mrow" id="MathJax-Span-3347"><span class="mo" id="MathJax-Span-3348"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-3349" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3350" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-3351" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-3352" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-3353" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3354" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-3355" style="font-family: STIXGeneral-Regular;">2...</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>这样就可以求出<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-80-Frame"><span class="math" id="MathJax-Span-3356" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3357"><span class="msubsup" id="MathJax-Span-3358"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-3359" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3360" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>了。但是，当<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-81-Frame"><span class="math" id="MathJax-Span-3361" style="width: 5.336em; display: inline-block;"><span style="display: inline-block; width: 4.269em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3362"><span class="msubsup" id="MathJax-Span-3363"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mi" id="MathJax-Span-3364" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3365" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3366" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="msubsup" id="MathJax-Span-3367"><span style="display: inline-block; width: 1.869em; height: 0px;"><span><span class="mi" id="MathJax-Span-3368" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-3369"><span class="mrow" id="MathJax-Span-3370"><span class="mi" id="MathJax-Span-3371" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3372" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3373" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 时，使得模型质量变差，如下图所示： <br />
</p><center> <br />
<img alt="图" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0203gt.jpg" title="" /> <br />
</center> <br />
直接的改进策略就是 <strong>“对出现次数超过某个阈值的n元组，不进行平滑，阈值一般取8~10”</strong>，其他方法请参见<a href="http://faculty.cs.byu.edu/~ringger/CS479/papers/Gale-SimpleGoodTuring.pdf">“Simple Good-Turing”</a>。<p></p>



<h3 id="43-组合估计平滑">4.3 组合估计平滑</h3>

<p><strong>不管是拉普拉斯平滑，还是古德图灵平滑技术，对于未出现的n元组都一视同仁，而这难免存在不合理。</strong> 因为哪怕是未发生的事件，相互之间真实的概率也会存在差别。</p>

<p>另一方面，一个n元组可能未出现，但是其(n-1)元组或者(n-2)元组是出现过的，这些信息如果不利用就直接浪费掉了。<strong>在没有足够的数据对高元n-gram模型进行概率估计时，低元n-gram模型通常可以提供有用的信息。</strong> 因此可以利用利用低元n-gram模型的信息对高元n-gram模型进行估计：</p>

<ul>
<li>如果低元n-gram模型的概率本来就很低，那么就给高元n-gram模型一个较低的估计值；</li>
<li>如果低元n-gram模型有一个中等的概率，那么就给高元n-gram模型一个较高的估计值。</li>
</ul>

<p>常用的组合估计算法有<strong>线性差值法</strong>和<strong>Katz回退法</strong>。具体公式比较复杂，这里就不列了。感兴趣的同学可参考 Christopher D. Manning 的<a href="http://book.douban.com/subject/1224802/">《统计自然语言处理基础》</a></p>



<h2 id="5-从n-gram谈回贝叶斯方法">5. 从N-gram谈回贝叶斯方法</h2>

<p>聊了这么多N-gram语言模型，我们再回到贝叶斯方法，从实际应用中看看他们的关联。 <br />
最原始的用贝叶斯方法进行分类的公式其实非常简单：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-82-Frame"><span class="math" id="MathJax-Span-3374" style="width: 18.829em; display: inline-block;"><span style="display: inline-block; width: 15.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3375"><span class="mi" id="MathJax-Span-3376" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3377" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-3378"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3379" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3380" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3381"><span class="mrow" id="MathJax-Span-3382"><span class="mo" id="MathJax-Span-3383" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3384" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-3385" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-3386" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-3387" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3388" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3389" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-3390"><span class="mrow" id="MathJax-Span-3391"><span class="mo" id="MathJax-Span-3392" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-3393"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3394" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3395" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3396" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3397" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3398" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-3399"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3400" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3401" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3402" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3403"><span class="mrow" id="MathJax-Span-3404"><span class="mo" id="MathJax-Span-3405"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-3406" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3407" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-3408" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3409" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-3410" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-3411" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-3412" style="font-family: STIXGeneral-Regular;">3...</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>具体到不同应用中，它就可以演化出多种玩法：</p>

<ul>
<li>对于<strong>拼写纠错（非词错误）</strong> ，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-83-Frame"><span class="math" id="MathJax-Span-3413" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3414"><span class="mi" id="MathJax-Span-3415" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是错误的词语，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-84-Frame"><span class="math" id="MathJax-Span-3416" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3417"><span class="msubsup" id="MathJax-Span-3418"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3419" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3420" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是候选的改正词语，二者都是标量。 <br />
<ul><li>如果考虑先验概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-85-Frame"><span class="math" id="MathJax-Span-3421" style="width: 2.669em; display: inline-block;"><span style="display: inline-block; width: 2.136em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3422"><span class="mi" id="MathJax-Span-3423" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3424" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-3425"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3426" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3427" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3428" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>,就是贝叶斯方法</li>
<li>如果不考虑先验概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-86-Frame"><span class="math" id="MathJax-Span-3429" style="width: 2.669em; display: inline-block;"><span style="display: inline-block; width: 2.136em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3430"><span class="mi" id="MathJax-Span-3431" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3432" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-3433"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3434" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3435" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-3436" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>,就是最大似然法</li></ul></li>
<li>对于<strong>垃圾邮件识别</strong>，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-87-Frame"><span class="math" id="MathJax-Span-3437" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3438"><span class="mi" id="MathJax-Span-3439" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是邮件中的句子，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-88-Frame"><span class="math" id="MathJax-Span-3440" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3441"><span class="msubsup" id="MathJax-Span-3442"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3443" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3444" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是备选的邮件类别。<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-89-Frame"><span class="math" id="MathJax-Span-3445" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3446"><span class="mi" id="MathJax-Span-3447" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>可以处理成向量，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-90-Frame"><span class="math" id="MathJax-Span-3448" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3449"><span class="msubsup" id="MathJax-Span-3450"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3451" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3452" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>还是标量。 <br />
<ul><li>如果对向量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-91-Frame"><span class="math" id="MathJax-Span-3453" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3454"><span class="mi" id="MathJax-Span-3455" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>采用条件独立假设，就是朴素贝叶斯方法。</li>
<li>如果对向量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-92-Frame"><span class="math" id="MathJax-Span-3456" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3457"><span class="mi" id="MathJax-Span-3458" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>采用马尔科夫假设，就是N-gram语言模型。</li></ul></li>
<li>对于<strong>中文分词</strong>，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-93-Frame"><span class="math" id="MathJax-Span-3459" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3460"><span class="mi" id="MathJax-Span-3461" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是被分词的句子，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-94-Frame"><span class="math" id="MathJax-Span-3462" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3463"><span class="msubsup" id="MathJax-Span-3464"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3465" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3466" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是备选的分词方案（词串）。这里把<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-95-Frame"><span class="math" id="MathJax-Span-3467" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3468"><span class="mi" id="MathJax-Span-3469" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>看成是一个整体，所以可以理解成标量。而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-96-Frame"><span class="math" id="MathJax-Span-3470" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3471"><span class="msubsup" id="MathJax-Span-3472"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3473" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3474" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>则是向量。这里对向量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-97-Frame"><span class="math" id="MathJax-Span-3475" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3476"><span class="msubsup" id="MathJax-Span-3477"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3478" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3479" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>采用马尔科夫假设，也是N-gram语言模型。</li>
</ul>

<p>那么有没有一种模型处理的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-98-Frame"><span class="math" id="MathJax-Span-3480" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3481"><span class="mi" id="MathJax-Span-3482" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-99-Frame"><span class="math" id="MathJax-Span-3483" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3484"><span class="msubsup" id="MathJax-Span-3485"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-3486" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-3487" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>都是向量呢？有的，这就是传说中的隐马尔科夫模型(HMM)。我们将在接下来的文章中进行探讨。敬请期待。</p>
            <div>
                作者：yaoqiang2011 发表于2016/2/9 13:10:58 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50646667">原文链接</a>
            </div>
            <div>
            阅读：11563 评论：0 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50646667#comments" target="_blank">查看评论</a>
            </div>
[原]NLP系列(4)_朴素贝叶斯实战与进阶
<p>作者： <a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> &amp;&amp;  <a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a> <br />
时间：2016年2月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50629608">http://blog.csdn.net/han_xiaoyang/article/details/50629608</a> <br />
<a href="http://blog.csdn.net/longxinchen_ml/article/details/50629613">http://blog.csdn.net/longxinchen_ml/article/details/50629613</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>



<h2 id="1引言">1.引言</h2>

<p>前两篇博文介绍了朴素贝叶斯这个名字读着”萌蠢”但实际上简单直接高效的方法，我们也介绍了一下贝叶斯方法的一些细节。按照老规矩，『锄头』给你了，得负责教教怎么用和注意事项，也顺便带大家去除除草对吧。恩，此节作为更贴近实际应用的部分，将介绍贝叶斯方法的优缺点、常见适用场景和可优化点，然后找点实际场景撸点例子练练手，看看工具怎么用。</p>

<p><strong>PS：本文所有的python代码和ipython notebook已整理至<a href="https://github.com/HanXiaoyang/naive_bayes">github相应页面</a>，欢迎下载和尝试。</strong></p>

<h2 id="2贝叶斯方法优缺点">2.贝叶斯方法优缺点</h2>

<p>既然讲的是朴素贝叶斯，那博主保持和它一致的风格，简单直接高效地丢干货了：</p>

<ul>
<li>优点</li>
</ul>

<blockquote>
  <ol>
  <li>对待预测样本进行预测，<strong>过程简单速度快</strong>(想想邮件分类的问题，预测就是分词后进行概率乘积，在log域直接做加法更快)。</li>
  <li><strong>对于多分类问题也同样很有效</strong>，复杂度也不会有大程度上升。</li>
  <li><strong>在分布独立这个假设成立的情况下</strong>，贝叶斯分类器<strong>效果奇好</strong>，会略胜于逻辑回归，同时我们<strong>需要的样本量也更少一点</strong>。</li>
  <li>对于类别类的输入特征变量，效果非常好。对于数值型变量特征，我们是默认它符合正态分布的。</li>
  </ol>
</blockquote>

<ul>
<li>缺点</li>
</ul>

<blockquote>
  <ol>
  <li>对于测试集中的一个类别变量特征，如果在训练集里没见过，直接算的话概率就是0了，预测功能就失效了。当然，我们前面的文章提过我们有一种技术叫做<strong>『平滑』操作</strong>，可以缓解这个问题，最常见的平滑技术是拉普拉斯估测。</li>
  <li>那个…咳咳，朴素贝叶斯算出的概率结果，比较大小还凑合，实际物理含义…恩，别太当真。</li>
  <li>朴素贝叶斯有分布独立的假设前提，而<strong>现实生活中这些predictor很难是完全独立的</strong>。</li>
  </ol>
</blockquote>



<h2 id="3最常见应用场景">3.最常见应用场景</h2>

<ul>
<li><strong>文本分类/垃圾文本过滤/情感判别</strong>：这大概会朴素贝叶斯应用做多的地方了，即使在现在这种分类器层出不穷的年代，在文本分类场景中，朴素贝叶斯依旧坚挺地占据着一席之地。原因嘛，大家知道的，因为多分类很简单，同时在文本数据中，分布独立这个假设基本是成立的。而垃圾文本过滤(比如垃圾邮件识别)和情感分析(微博上的褒贬情绪)用朴素贝叶斯也通常能取得很好的效果。</li>
<li><strong>多分类实时预测</strong>：这个是不是不能叫做场景？对于文本相关的多分类实时预测，它因为上面提到的优点，被广泛应用，简单又高效。</li>
<li><strong>推荐系统</strong>：是的，你没听错，是用在推荐系统里！！朴素贝叶斯和协同过滤(<a href="https://en.wikipedia.org/wiki/Collaborative_filtering">Collaborative Filtering</a>)是一对好搭档，协同过滤是强相关性，但是泛化能力略弱，朴素贝叶斯和协同过滤一起，能增强推荐的覆盖度和效果。</li>
</ul>



<h2 id="4朴素贝叶斯注意点">4.朴素贝叶斯注意点</h2>

<p>这个部分的内容，本来应该在最后说的，不过为了把干货集中放在代码示例之前，先搁这儿了，大家也可以看完朴素贝叶斯的各种例子之后，回来再看看这些tips。</p>

<ul>
<li>大家也知道，很多特征是连续数值型的，但是它们不一定服从正态分布，<strong>一定要想办法把它们变换调整成满足正态分布！！</strong></li>
<li>对测试数据中的0频次项，<strong>一定要记得平滑</strong>，简单一点可以用『拉普拉斯平滑』。</li>
<li>先处理处理特征，<strong>把相关特征去掉</strong>，因为高相关度的2个特征在模型中相当于发挥了2次作用。</li>
<li>朴素贝叶斯分类器一般可调参数比较少，比如<a href="http://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.MultinomialNB.html#sklearn.naive_bayes.MultinomialNB">scikit-learn中的朴素贝叶斯</a>只有拉普拉斯平滑因子alpha，类别先验概率class_prior和预算数据类别先验fit_prior。模型端可做的事情不如其他模型多，因此我们还是集中精力进行数据的预处理，以及特征的选择吧。</li>
<li>那个，一般其他的模型(像logistic regression，SVM等)做完之后，我们都可以尝试一下bagging和boosting等融合增强方法。咳咳，很可惜，对朴素贝叶斯里这些方法都没啥用。原因？原因是这些融合方法本质上是减少过拟合，减少variance的。朴素贝叶斯是没有variance可以减小。</li>
</ul>



<h2 id="5-朴素贝叶斯训练建模">5. 朴素贝叶斯训练/建模</h2>

<p>理论干货和注意点都说完了，来提提怎么快速用朴素贝叶斯训练模型吧。博主一直提倡要站在巨人的肩膀上编程(其实就是懒…同时一直很担忧写出来的代码的健壮性…)，咳咳，我们又很自然地把scikit-learn拿过来了。scikit-learn里面有3种不同类型的朴素贝叶斯：</p>

<ul>
<li><strong><a href="http://scikit-learn.org/stable/modules/naive_bayes.html#gaussian-naive-bayes">高斯分布型</a></strong>：用于classification问题，假定属性/特征是服从正态分布的。</li>
<li><strong><a href="http://scikit-learn.org/stable/modules/naive_bayes.html#multinomial-naive-bayes">多项式型</a></strong>：用于离散值模型里。比如文本分类问题里面我们提到过，我们不光看词语是否在文本中出现，也得看出现的次数。如果总词数为n，出现词数为m的话，说起来有点像掷骰子n次出现m次这个词的场景。</li>
<li><strong><a href="http://scikit-learn.org/stable/modules/naive_bayes.html#bernoulli-naive-bayes">伯努利型</a></strong>：这种情况下，就如之前博文里提到的bag of words处理方式一样，最后得到的特征只有0(没出现)和1(出现过)。</li>
</ul>

<p>根据你的数据集，可以选择scikit-learn中以上任意一种朴素贝叶斯，我们直接举个简单的例子，用高斯分布型朴素贝叶斯建模：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 我们直接取iris数据集，这个数据集有名到都不想介绍了...</span>
<span class="hljs-comment"># 其实就是根据花的各种数据特征，判定是什么花</span>
<span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets
iris = datasets.load_iris()
iris.data[:<span class="hljs-number">5</span>]
<span class="hljs-comment">#array([[ 5.1,  3.5,  1.4,  0.2],</span>
<span class="hljs-comment">#       [ 4.9,  3. ,  1.4,  0.2],</span>
<span class="hljs-comment">#       [ 4.7,  3.2,  1.3,  0.2],</span>
<span class="hljs-comment">#       [ 4.6,  3.1,  1.5,  0.2],</span>
<span class="hljs-comment">#       [ 5. ,  3.6,  1.4,  0.2]])</span>

<span class="hljs-comment">#我们假定sepal length, sepal width, petal length, petal width 4个量独立且服从高斯分布，用贝叶斯分类器建模</span>
<span class="hljs-keyword">from</span> sklearn.naive_bayes <span class="hljs-keyword">import</span> GaussianNB
gnb = GaussianNB()
y_pred = gnb.fit(iris.data, iris.target).predict(iris.data)
right_num = (iris.target == y_pred).sum()
print(<span class="hljs-string">"Total testing num :%d , naive bayes accuracy :%f"</span> %(iris.data.shape[<span class="hljs-number">0</span>], float(right_num)/iris.data.shape[<span class="hljs-number">0</span>]))
<span class="hljs-comment"># Total testing num :150 , naive bayes accuracy :0.960000</span></code></pre>

<p>你看，朴素贝叶斯分类器，简单直接高效，在150个测试样本上，准确率为96%。</p>



<h2 id="6朴素贝叶斯之文本主题分类器">6.朴素贝叶斯之文本主题分类器</h2>

<p>这是朴素贝叶斯最擅长的应用场景之一，对于不同主题的文本，我们可以用朴素贝叶斯训练一个分类器，然后将其应用在新数据上，预测主题类型。</p>



<h3 id="61-新闻数据分类">6.1 新闻数据分类</h3>

<p>我们使用<a href="http://www.sogou.com/labs/dl/cs.html">搜狐新闻数据</a>来实验朴素贝叶斯分类器，这部分新闻数据包括it、汽车、财经、健康等9个类别，简洁版数据解压缩后总共16289条新闻，一篇新闻一个txt，我们把数据合并到一个大文件中，一行一篇文章，同时将新闻id(指明新闻的类别)放在文章之前，然后用ICTCLAS(python的话你也可以用<a href="https://github.com/fxsjy/jieba">结巴分词</a>)进行分词，得到以下的文本内容： <br />
</p><center> <br />
<img alt="分词后内容" src="http://7xo0y8.com1.z0.glb.clouddn.com/Image_retrievaltext.png?imageView/2/w/600/q/100" title="" /> <br />
</center> <br />
我们随机选取3/5的数据作为训练集，2/5的数据作为测试集，采用互信息对文本特征进行提取，提取出1000个左右的特征词。然后用朴素贝叶斯分类器进行训练，实际训练过程就是对于特征词，统计在训练集和各个类别出现的次数，测试阶段做预测也是扫描一遍测试集，计算相应的概率。因此整个过程非常高效，完整的运行代码如下：<p></p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 这部分代码基本纯手撸的...没有调用开源库...大家看看就好...</span>
<span class="hljs-comment">#!encoding=utf-8</span>
<span class="hljs-keyword">import</span> sys, math, random, collections

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shuffle</span><span class="hljs-params">(inFile)</span>:</span>
    <span class="hljs-string">'''
        简单的乱序操作，用于生成训练集和测试集
    '''</span>
    textLines = [line.strip() <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> open(inFile)]
    <span class="hljs-keyword">print</span> <span class="hljs-string">"正在准备训练和测试数据，请稍后..."</span>
    random.shuffle(textLines)
    num = len(textLines)
    trainText = textLines[:<span class="hljs-number">3</span>*num/<span class="hljs-number">5</span>]
    testText = textLines[<span class="hljs-number">3</span>*num/<span class="hljs-number">5</span>:]
    <span class="hljs-keyword">print</span> <span class="hljs-string">"准备训练和测试数据准备完毕，下一步..."</span>
    <span class="hljs-keyword">return</span> trainText, testText

<span class="hljs-comment">#总共有9种新闻类别，我们给每个类别一个编号</span>
lables = [<span class="hljs-string">'A'</span>,<span class="hljs-string">'B'</span>,<span class="hljs-string">'C'</span>,<span class="hljs-string">'D'</span>,<span class="hljs-string">'E'</span>,<span class="hljs-string">'F'</span>,<span class="hljs-string">'G'</span>,<span class="hljs-string">'H'</span>,<span class="hljs-string">'I'</span>]
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lable2id</span><span class="hljs-params">(lable)</span>:</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(len(lables)):
        <span class="hljs-keyword">if</span> lable == lables[i]:
            <span class="hljs-keyword">return</span> i
    <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">'Error lable %s'</span> % (lable))

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">doc_dict</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">'''
        构造和类别数等长的0向量
    '''</span>
    <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span>]*len(lables)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mutual_info</span><span class="hljs-params">(N,Nij,Ni_,N_j)</span>:</span>
    <span class="hljs-string">'''
        计算互信息，这里log的底取为2
    '''</span>
    <span class="hljs-keyword">return</span> Nij * <span class="hljs-number">1.0</span> / N * math.log(N * (Nij+<span class="hljs-number">1</span>)*<span class="hljs-number">1.0</span>/(Ni_*N_j))/ math.log(<span class="hljs-number">2</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count_for_cates</span><span class="hljs-params">(trainText, featureFile)</span>:</span>
    <span class="hljs-string">'''
        遍历文件，统计每个词在每个类别出现的次数，和每类的文档数
        并写入结果特征文件
    '''</span>
    docCount = [<span class="hljs-number">0</span>] * len(lables)
    wordCount = collections.defaultdict(doc_dict())
    <span class="hljs-comment">#扫描文件和计数  </span>
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> trainText:
        lable,text = line.strip().split(<span class="hljs-string">' '</span>,<span class="hljs-number">1</span>)
        index = lable2id(lable[<span class="hljs-number">0</span>])        
        words = text.split(<span class="hljs-string">' '</span>)
        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words:
            wordCount[word][index] += <span class="hljs-number">1</span>
            docCount[index] += <span class="hljs-number">1</span>
    <span class="hljs-comment">#计算互信息值</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"计算互信息，提取关键/特征词中，请稍后..."</span>
    miDict = collections.defaultdict(doc_dict())
    N = sum(docCount)
    <span class="hljs-keyword">for</span> k,vs <span class="hljs-keyword">in</span> wordCount.items():
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(len(vs)):
            N11 = vs[i]
            N10 = sum(vs) - N11
            N01 = docCount[i] - N11
            N00 = N - N11 - N10 - N01
            mi = mutual_info(N,N11,N10+N11,N01+N11) + mutual_info(N,N10,N10+N11,N00+N10)+ mutual_info(N,N01,N01+N11,N01+N00)+ mutual_info(N,N00,N00+N10,N00+N01)
            miDict[k][i] = mi
    fWords = set()
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(len(docCount)):
        keyf = <span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">1</span>][i]
        sortedDict = sorted(miDict.items(),key=keyf,reverse=<span class="hljs-keyword">True</span>)
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">100</span>):
            fWords.add(sortedDict[j][<span class="hljs-number">0</span>])
    out = open(featureFile, <span class="hljs-string">'w'</span>)
    <span class="hljs-comment">#输出各个类的文档数目</span>
    out.write(str(docCount)+<span class="hljs-string">"\n"</span>)
    <span class="hljs-comment">#输出互信息最高的词作为特征词</span>
    <span class="hljs-keyword">for</span> fword <span class="hljs-keyword">in</span> fWords:
        out.write(fword+<span class="hljs-string">"\n"</span>)
    <span class="hljs-keyword">print</span> <span class="hljs-string">"特征词写入完毕..."</span>
    out.close()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_feature_words</span><span class="hljs-params">(featureFile)</span>:</span>
    <span class="hljs-string">'''
        从特征文件导入特征词
    '''</span>
    f = open(featureFile)
    <span class="hljs-comment">#各个类的文档数目</span>
    docCounts = eval(f.readline())
    features = set()
    <span class="hljs-comment">#读取特征词</span>
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:
        features.add(line.strip())
    f.close()
    <span class="hljs-keyword">return</span> docCounts,features

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">train_bayes</span><span class="hljs-params">(featureFile, textFile, modelFile)</span>:</span>
    <span class="hljs-string">'''
        训练贝叶斯模型，实际上计算每个类中特征词的出现次数
    '''</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"使用朴素贝叶斯训练中..."</span>
    docCounts,features = load_feature_words(featureFile)
    wordCount = collections.defaultdict(doc_dict())
    <span class="hljs-comment">#每类文档特征词出现的次数</span>
    tCount = [<span class="hljs-number">0</span>]*len(docCounts)
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> open(textFile):
        lable,text = line.strip().split(<span class="hljs-string">' '</span>,<span class="hljs-number">1</span>)
        index = lable2id(lable[<span class="hljs-number">0</span>])        
        words = text.split(<span class="hljs-string">' '</span>)
        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words:
            <span class="hljs-keyword">if</span> word <span class="hljs-keyword">in</span> features:
                tCount[index] += <span class="hljs-number">1</span>
                wordCount[word][index] += <span class="hljs-number">1</span>
    outModel = open(modelFile, <span class="hljs-string">'w'</span>)
    <span class="hljs-comment">#拉普拉斯平滑</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"训练完毕，写入模型..."</span>
    <span class="hljs-keyword">for</span> k,v <span class="hljs-keyword">in</span> wordCount.items():
        scores = [(v[i]+<span class="hljs-number">1</span>) * <span class="hljs-number">1.0</span> / (tCount[i]+len(wordCount)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(len(v))]
        outModel.write(k+<span class="hljs-string">"\t"</span>+scores+<span class="hljs-string">"\n"</span>)
    outModel.close()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_model</span><span class="hljs-params">(modelFile)</span>:</span>
    <span class="hljs-string">'''
        从模型文件中导入计算好的贝叶斯模型
    '''</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"加载模型中..."</span>
    f = open(modelFile)
    scores = {}
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:
        word,counts = line.strip().rsplit(<span class="hljs-string">'\t'</span>,<span class="hljs-number">1</span>)    
        scores[word] = eval(counts)
    f.close()
    <span class="hljs-keyword">return</span> scores

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">predict</span><span class="hljs-params">(featureFile, modelFile, testText)</span>:</span>
    <span class="hljs-string">'''
        预测文档的类标，标准输入每一行为一个文档
    '''</span>
    docCounts,features = load_feature_words()    
    docScores = [math.log(count * <span class="hljs-number">1.0</span> /sum(docCounts)) <span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> docCounts]
    scores = load_model(modelFile)
    rCount = <span class="hljs-number">0</span>
    docCount = <span class="hljs-number">0</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"正在使用测试数据验证模型效果..."</span>
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> testText:
        lable,text = line.strip().split(<span class="hljs-string">' '</span>,<span class="hljs-number">1</span>)
        index = lable2id(lable[<span class="hljs-number">0</span>])        
        words = text.split(<span class="hljs-string">' '</span>)
        preValues = list(docScores)
        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words:
            <span class="hljs-keyword">if</span> word <span class="hljs-keyword">in</span> features:                
                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(len(preValues)):
                    preValues[i]+=math.log(scores[word][i])
        m = max(preValues)
        pIndex = preValues.index(m)
        <span class="hljs-keyword">if</span> pIndex == index:
            rCount += <span class="hljs-number">1</span>
        <span class="hljs-comment">#print lable,lables[pIndex],text</span>
        docCount += <span class="hljs-number">1</span>
    print(<span class="hljs-string">"总共测试文本量: %d , 预测正确的类别量: %d, 朴素贝叶斯分类器准确度:%f"</span> %(rCount,docCount,rCount * <span class="hljs-number">1.0</span> / docCount))       


<span class="hljs-keyword">if</span> __name__==<span class="hljs-string">"__main__"</span>:
    <span class="hljs-keyword">if</span> len(sys.argv) != <span class="hljs-number">4</span>:
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Usage: python naive_bayes_text_classifier.py sougou_news.txt feature_file.out model_file.out"</span>
    sys.exit()

    inFile = sys.argv[<span class="hljs-number">1</span>]
    featureFile = sys.argv[<span class="hljs-number">2</span>]
    modelFile = sys.argv[<span class="hljs-number">3</span>]

    trainText, testText = shuffle(inFile)
    count_for_cates(trainText, featureFile)
    train_bayes(featureFile, trainText, modelFile)
    predict(featureFile, modelFile, testText)</code></pre>



<h3 id="62-分类结果">6.2 分类结果</h3>

<p>运行结果如下，在6515条数据上，9个类别的新闻上，有84.1%的准确度： <br />
</p><center> <br />
<img alt="朴素贝叶斯分类器结果" src="http://7xo0y8.com1.z0.glb.clouddn.com/Image_retrievalnaive_bayes_result.png?imageView/2/w/600/q/100" title="" /> <br />
</center><p></p>



<h2 id="7-kaggle比赛之旧金山犯罪分类预测">7. Kaggle比赛之『旧金山犯罪分类预测』</h2>



<h3 id="71-旧金山犯罪分类预测问题">7.1 旧金山犯罪分类预测问题</h3>

<p>没过瘾对吧，确实每次学完一个机器学习算法，不在实际数据上倒腾倒腾，总感觉不那么踏实(想起来高中各种理科科目都要找点题来做的感觉)。好，我们继续去Kaggle扒点场景和数据来练练手。正巧之前<a href="https://www.kaggle.com/">Kaggle</a>上有一个分类问题，场景和数据也都比较简单，我们拿来用朴素贝叶斯试试水。问题请戳<a href="https://www.kaggle.com/c/sf-crime">这里</a>。</p>



<h3 id="72-背景介绍">7.2 背景介绍</h3>

<p>我们大致介绍一下，说的是『水深火热』的大米国，在旧金山这个地方，一度犯罪率还挺高的，然后很多人都经历过大到暴力案件，小到东西被偷，车被划的事情。当地警方也是努力地去总结和想办法降低犯罪率，一个挑战是在给出犯罪的地点和时间的之后，要第一时间确定这可能是一个什么样的犯罪类型，以确定警力等等。后来干脆一不做二不休，直接把12年内旧金山城内的犯罪报告都丢带Kaggle上，说『大家折腾折腾吧，看看谁能帮忙第一时间预测一下犯罪类型』。犯罪报告里面包括<code>日期</code>，<code>描述</code>，<code>星期几</code>，<code>所属警区</code>，<code>处理结果</code>，<code>地址</code>，<code>GPS定位</code>等信息。当然，分类问题有很多分类器可以选择，我们既然刚讲过朴素贝叶斯，刚好就拿来练练手好了。</p>



<h3 id="73-数据一瞥">7.3 数据一瞥</h3>

<p>数据可以在<a href="https://www.kaggle.com/c/sf-crime/data">Kaggle比赛数据页面</a>下载到，大家也可以在博主提供的<a href="http://pan.baidu.com/s/1o6Wgch8">百度网盘地址</a>中下载到。我们依旧用pandas载入数据，先看看数据内容。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment">#用pandas载入csv训练数据，并解析第一列为日期格式</span>
train=pd.read_csv(<span class="hljs-string">'/Users/Hanxiaoyang/sf_crime_data/train.csv'</span>, parse_dates = [<span class="hljs-string">'Dates'</span>])
test=pd.read_csv(<span class="hljs-string">'/Users/Hanxiaoyang/sf_crime_data/test.csv'</span>, parse_dates = [<span class="hljs-string">'Dates'</span>])
train</code></pre>

<p>得到如下的结果： <br />
</p><center> <br />
<img alt="旧金山犯罪类型图" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsf_crime_1.png" title="" /> <br />
</center> <br />
我们依次解释一下每一列的含义：<p></p>

<ul>
<li>Date: 日期</li>
<li>Category: 犯罪类型，比如 Larceny/盗窃罪 等.</li>
<li>Descript: 对于犯罪更详细的描述</li>
<li>DayOfWeek: 星期几</li>
<li>PdDistrict: 所属警区</li>
<li>Resolution: 处理结果，比如说『逮捕』『逃了』</li>
<li>Address: 发生街区位置</li>
<li>X and Y: GPS坐标</li>
</ul>

<p>train.csv中的数据时间跨度为12年，包含了90w+的记录。另外，这部分数据，大家从上图上也可以看出来，大部分都是『类别』型，比如犯罪类型，比如星期几。</p>



<h3 id="74-特征预处理">7.4 特征预处理</h3>

<p>上述数据中类别和文本型非常多，我们要进行特征预处理，对于特征预处理的部分，我们在前面的博文<a href="http://blog.csdn.net/han_xiaoyang/article/details/49797143">机器学习系列(3)<em>逻辑回归应用之Kaggle泰坦尼克之灾</em></a>和<a href="http://blog.csdn.net/han_xiaoyang/article/details/50503115">机器学习系列(6)从白富美相亲看特征预处理与选择(下)</a>都有较细的介绍。对于类别特征，我们用最常见的因子化操作将其转成数值型，比如我们把犯罪类型用因子化进行encode，也就是说生成如下的向量：</p>



<pre class="prettyprint"><code class="language-python hljs ">星期一/Monday = <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,...
星期二/Tuesday = <span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,...
星期三/Wednesday = <span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,...
...</code></pre>

<p>我们之前也提到过，用pandas的<a href="http://pandas.pydata.org/pandas-docs/version/0.13.1/generated/pandas.get_dummies.html">get_dummies()</a>可以直接拿到这样的一个二值化的01向量。Pandas里面还有一个很有用的方法<a href="http://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.LabelEncoder.html">LabelEncoder</a>可以用于对类别编号。对于已有的数据特征，我们打算做下面的粗略变换：</p>

<ul>
<li>用LabelEncoder**对犯罪类型做编号**；</li>
<li>处理时间，在我看来，也许犯罪发生的时间点(小时)是非常重要的，因此我们会用Pandas把这部分数据抽出来；</li>
<li>对<code>街区</code>，<code>星期几</code>，<code>时间点</code>用get_dummies()因子化；</li>
<li>做一些组合特征，比如把上述三个feature拼在一起，再因子化一下；</li>
</ul>

<p>具体的数据和特征处理如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> sklearn.cross_validation <span class="hljs-keyword">import</span> train_test_split
<span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing

<span class="hljs-comment">#用LabelEncoder对不同的犯罪类型编号</span>
leCrime = preprocessing.LabelEncoder()
crime = leCrime.fit_transform(train.Category)

<span class="hljs-comment">#因子化星期几，街区，小时等特征</span>
days = pd.get_dummies(train.DayOfWeek)
district = pd.get_dummies(train.PdDistrict)
hour = train.Dates.dt.hour
hour = pd.get_dummies(hour) 

<span class="hljs-comment">#组合特征</span>
trainData = pd.concat([hour, days, district], axis=<span class="hljs-number">1</span>)
trainData[<span class="hljs-string">'crime'</span>]=crime

<span class="hljs-comment">#对于测试数据做同样的处理</span>
days = pd.get_dummies(test.DayOfWeek)
district = pd.get_dummies(test.PdDistrict)

hour = test.Dates.dt.hour
hour = pd.get_dummies(hour) 

testData = pd.concat([hour, days, district], axis=<span class="hljs-number">1</span>)
trainData</code></pre>

<p>然后可以看到特征处理后的数据如下所示： <br />
<img alt="特征处理之后" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsf_crime_2.png" title="" /></p>



<h3 id="75-朴素贝叶斯-vs-逻辑回归">7.5 朴素贝叶斯 VS 逻辑回归</h3>

<p>拿到初步的特征了，下一步就可以开始建模了。</p>

<p>因为之前的博客<a href="http://blog.csdn.net/han_xiaoyang/article/details/49123419">机器学习系列(1)<em>逻辑回归初步</em></a>，<a href="http://blog.csdn.net/han_xiaoyang/article/details/49332321">机器学习系列(2)从初等数学视角解读逻辑回归</a>，<a href="http://blog.csdn.net/han_xiaoyang/article/details/49797143">机器学习系列(3)_逻辑回归应用之Kaggle泰坦尼克之灾</a>中提到过逻辑回归这种分类算法，我们这里打算一并拿来建模，做个比较。 <br />
还需要提到的一点是，大家参加Kaggle的比赛，一定要注意最后排名和评定好坏用的标准，比如说在现在这个多分类问题中，Kaggle的评定标准并不是precision，而是<a href="http://scikit-learn.org/stable/modules/generated/sklearn.metrics.log_loss.html">multi-class log_loss</a>，这个值越小，表示最后的效果越好。</p>

<p>我们可以快速地筛出一部分重要的特征，搭建一个baseline系统，再考虑步步优化。比如我们这里简单一点，就只取<code>星期几</code>和<code>街区</code>作为分类器输入特征，我们用scikit-learn中的<code>train_test_split</code>函数拿到训练集和交叉验证集，用朴素贝叶斯和逻辑回归都建立模型，对比一下它们的表现：</p>



<pre class="prettyprint"><code class="language-python hljs ">ffrom sklearn.cross_validation <span class="hljs-keyword">import</span> train_test_split
<span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> log_loss
<span class="hljs-keyword">from</span> sklearn.naive_bayes <span class="hljs-keyword">import</span> BernoulliNB
<span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># 只取星期几和街区作为分类器输入特征</span>
features = [<span class="hljs-string">'Monday'</span>, <span class="hljs-string">'Tuesday'</span>, <span class="hljs-string">'Wednesday'</span>, <span class="hljs-string">'Thursday'</span>, <span class="hljs-string">'Friday'</span>, <span class="hljs-string">'Saturday'</span>, <span class="hljs-string">'Sunday'</span>, <span class="hljs-string">'BAYVIEW'</span>, <span class="hljs-string">'CENTRAL'</span>, <span class="hljs-string">'INGLESIDE'</span>, <span class="hljs-string">'MISSION'</span>,
 <span class="hljs-string">'NORTHERN'</span>, <span class="hljs-string">'PARK'</span>, <span class="hljs-string">'RICHMOND'</span>, <span class="hljs-string">'SOUTHERN'</span>, <span class="hljs-string">'TARAVAL'</span>, <span class="hljs-string">'TENDERLOIN'</span>]

<span class="hljs-comment"># 分割训练集(3/5)和测试集(2/5)</span>
training, validation = train_test_split(trainData, train_size=<span class="hljs-number">.60</span>)

<span class="hljs-comment"># 朴素贝叶斯建模，计算log_loss</span>
model = BernoulliNB()
nbStart = time.time()
model.fit(training[features], training[<span class="hljs-string">'crime'</span>])
nbCostTime = time.time() - nbStart
predicted = np.array(model.predict_proba(validation[features]))
<span class="hljs-keyword">print</span> <span class="hljs-string">"朴素贝叶斯建模耗时 %f 秒"</span> %(nbCostTime)
<span class="hljs-keyword">print</span> <span class="hljs-string">"朴素贝叶斯log损失为 %f"</span> %(log_loss(validation[<span class="hljs-string">'crime'</span>], predicted))

<span class="hljs-comment">#逻辑回归建模，计算log_loss</span>
model = LogisticRegression(C=<span class="hljs-number">.01</span>)
lrStart= time.time()
model.fit(training[features], training[<span class="hljs-string">'crime'</span>])
lrCostTime = time.time() - lrStart
predicted = np.array(model.predict_proba(validation[features]))
log_loss(validation[<span class="hljs-string">'crime'</span>], predicted)
<span class="hljs-keyword">print</span> <span class="hljs-string">"逻辑回归建模耗时 %f 秒"</span> %(lrCostTime)
<span class="hljs-keyword">print</span> <span class="hljs-string">"逻辑回归log损失为 %f"</span> %(log_loss(validation[<span class="hljs-string">'crime'</span>], predicted)) </code></pre>

<p>实验的结果如下：</p>

<p></p><center> <br />
<img alt="nb vs lr" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsf_crime_3.png?imageView/2/w/600/q/100" title="" /> <br />
</center><p></p>

<p>我们可以看到目前的特征和参数设定下，朴素贝叶斯的log损失还低一些，另外我们可以明显看到，朴素贝叶斯建模消耗的时间0.640398秒远小于逻辑回归建模42.856376秒。</p>

<p>考虑到犯罪类型可能和犯罪事件发生的小时时间点相关，我们加入小时时间点特征再次建模，代码和结果如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn.cross_validation <span class="hljs-keyword">import</span> train_test_split
<span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> log_loss
<span class="hljs-keyword">from</span> sklearn.naive_bayes <span class="hljs-keyword">import</span> BernoulliNB
<span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># 添加犯罪的小时时间点作为特征</span>
features = [<span class="hljs-string">'Friday'</span>, <span class="hljs-string">'Monday'</span>, <span class="hljs-string">'Saturday'</span>, <span class="hljs-string">'Sunday'</span>, <span class="hljs-string">'Thursday'</span>, <span class="hljs-string">'Tuesday'</span>,
<span class="hljs-string">'Wednesday'</span>, <span class="hljs-string">'BAYVIEW'</span>, <span class="hljs-string">'CENTRAL'</span>, <span class="hljs-string">'INGLESIDE'</span>, <span class="hljs-string">'MISSION'</span>,
<span class="hljs-string">'NORTHERN'</span>, <span class="hljs-string">'PARK'</span>, <span class="hljs-string">'RICHMOND'</span>, <span class="hljs-string">'SOUTHERN'</span>, <span class="hljs-string">'TARAVAL'</span>, <span class="hljs-string">'TENDERLOIN'</span>]

hourFea = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">24</span>)]
features = features + hourFea

<span class="hljs-comment"># 分割训练集(3/5)和测试集(2/5)</span>
training, validation = train_test_split(trainData, train_size=<span class="hljs-number">.60</span>)

<span class="hljs-comment"># 朴素贝叶斯建模，计算log_loss</span>
model = BernoulliNB()
nbStart = time.time()
model.fit(training[features], training[<span class="hljs-string">'crime'</span>])
nbCostTime = time.time() - nbStart
predicted = np.array(model.predict_proba(validation[features]))
<span class="hljs-keyword">print</span> <span class="hljs-string">"朴素贝叶斯建模耗时 %f 秒"</span> %(nbCostTime)
<span class="hljs-keyword">print</span> <span class="hljs-string">"朴素贝叶斯log损失为 %f"</span> %(log_loss(validation[<span class="hljs-string">'crime'</span>], predicted))

<span class="hljs-comment">#逻辑回归建模，计算log_loss</span>
model = LogisticRegression(C=<span class="hljs-number">.01</span>)
lrStart= time.time()
model.fit(training[features], training[<span class="hljs-string">'crime'</span>])
lrCostTime = time.time() - lrStart
predicted = np.array(model.predict_proba(validation[features]))
log_loss(validation[<span class="hljs-string">'crime'</span>], predicted)
<span class="hljs-keyword">print</span> <span class="hljs-string">"逻辑回归建模耗时 %f 秒"</span> %(lrCostTime)
<span class="hljs-keyword">print</span> <span class="hljs-string">"逻辑回归log损失为 %f"</span> %(log_loss(validation[<span class="hljs-string">'crime'</span>], predicted))</code></pre>

<p></p><center> <br />
<img alt="添加小时时间点后的结果" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsf_crime_4.png?imageView/2/w/600/q/100" title="" /> <br />
</center><p></p>

<p>可以看到在这三个类别特征下，朴素贝叶斯相对于逻辑回归，依旧有一定的优势(log损失更小)，同时训练时间很短，这意味着模型虽然简单，但是效果依旧强大。顺便提一下，朴素贝叶斯1.13s训练出来的模型，预测的效果在Kaggle排行榜上已经能进入Top 35%了，如果进行一些优化，比如特征处理、特征组合等，结果会进一步提高。</p>



<h2 id="8-kaggle比赛之影评与观影者情感判定">8. Kaggle比赛之影评与观影者情感判定</h2>

<p>博主想了想，既然朴素贝叶斯最常见的应用场景就那么几个，干脆我们都一并覆盖得了。咳咳，对，还有一个非常重要的应用场景是情感分析(尤其是褒贬判定)，于是我又上Kaggle溜达了一圈，扒下来一个类似场景的比赛。比赛的名字叫做<a href="https://www.kaggle.com/c/word2vec-nlp-tutorial/"><strong>当词袋/Bag of words 遇上 爆米花/Bags of Popcorn</strong></a>，地址为<a href="https://www.kaggle.com/c/word2vec-nlp-tutorial/">https://www.kaggle.com/c/word2vec-nlp-tutorial/</a>，有兴趣的同学可以上去瞄一眼。</p>



<h3 id="81-背景介绍">8.1 背景介绍</h3>

<p>这个比赛的背景大概是：国外有一个类似<a href="http://movie.douban.com/">豆瓣电影</a>一样的<a href="http://www.imdb.com/">IMDB</a>，也是你看完电影，可以上去打个分，吐个槽的地方。然后大家就在想，有这么多数据，总得折腾点什么吧，于是乎，第一个想到的就是，赞的喷的内容都有了，咱们就来分分类，看看能不能根据内容分布褒贬。PS：很多同学表示，分个褒贬有毛线难的，咳咳，计算机比较笨，另外，语言这种东西，真心是博大精深的，我们随手从豆瓣上抓了几条《功夫熊猫3》影评下来，表示有些虽然我是能看懂，但是不处理直接给计算机看，它应该是一副『什么鬼』的表情。。。</p>

<p></p><center> <br />
<img alt="功夫熊猫3影评" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsentiment_analysis_1.png?imageView/2/w/600/q/100" title="" /> <br />
</center><p></p>

<p>多说一句，Kaggle原文引导里是用word2vec的方式将词转为词向量，后再用deep learning的方式做的。深度学习好归好，但是毕竟耗时耗力耗资源，我们用最最naive的朴素贝叶斯撸一把，说不定效果也能不错，不试试谁知道呢。另外，朴素贝叶斯建模真心速度快，很多场景下，快速建模快速迭代优化正是我们需要的嘛。</p>



<h3 id="82-数据一瞥">8.2 数据一瞥</h3>

<p>言归正传，回到Kaggle中这个问题上来，先瞄一眼数据。Kaggle数据页面地址为<a href="https://www.kaggle.com/c/word2vec-nlp-tutorial/data">https://www.kaggle.com/c/word2vec-nlp-tutorial/data</a>，大家也可以到博主的<a href="http://pan.baidu.com/s/1c1jX8nI">百度网盘</a>中下载。数据包如下图所示：</p>

<p></p><center> <br />
<img alt="Kaggle影评数据页面" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsentiment_analysis_2.png?imageView/2/w/600/q/100" title="" /> <br />
</center><p></p>

<p>其中包含有情绪标签的训练数据labeledTrainData，没有情绪标签的训练数据unlabeledTrainData，以及测试数据testData。labeledTrainData包括<strong>id</strong>，<strong>sentiment</strong>和**review**3个部分，分别指代用户id，情感标签，评论内容。</p>

<p>解压缩labeledTrainData后用vim打开，内容如下：</p>

<p></p><center> <br />
<img alt="训练数据内容" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsentiment_analysis_3.png" title="" /> <br />
</center><p></p>

<p>下面我们读取数据并做一些基本的预处理(比如说把评论部分的html标签去掉等等)：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> re  <span class="hljs-comment">#正则表达式</span>
<span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup  <span class="hljs-comment">#html标签处理</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">review_to_wordlist</span><span class="hljs-params">(review)</span>:</span>
    <span class="hljs-string">'''
    把IMDB的评论转成词序列
    '''</span>
    <span class="hljs-comment"># 去掉HTML标签，拿到内容</span>
    review_text = BeautifulSoup(review).get_text()
    <span class="hljs-comment"># 用正则表达式取出符合规范的部分</span>
    review_text = re.sub(<span class="hljs-string">"[^a-zA-Z]"</span>,<span class="hljs-string">" "</span>, review_text)
    <span class="hljs-comment"># 小写化所有的词，并转成词list</span>
    words = review_text.lower().split()
    <span class="hljs-comment"># 返回words</span>
    <span class="hljs-keyword">return</span> words

<span class="hljs-comment"># 使用pandas读入训练和测试csv文件</span>
train = pd.read_csv(<span class="hljs-string">'/Users/Hanxiaoyang/IMDB_sentiment_analysis_data/labeledTrainData.tsv'</span>, header=<span class="hljs-number">0</span>, delimiter=<span class="hljs-string">"\t"</span>, quoting=<span class="hljs-number">3</span>)
test = pd.read_csv(<span class="hljs-string">'/Users/Hanxiaoyang/IMDB_sentiment_analysis_data/testData.tsv'</span>, header=<span class="hljs-number">0</span>, delimiter=<span class="hljs-string">"\t"</span>, quoting=<span class="hljs-number">3</span> )
<span class="hljs-comment"># 取出情感标签，positive/褒 或者 negative/贬</span>
y_train = train[<span class="hljs-string">'sentiment'</span>]
<span class="hljs-comment"># 将训练和测试数据都转成词list</span>
train_data = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">0</span>,len(train[<span class="hljs-string">'review'</span>])):
    train_data.append(<span class="hljs-string">" "</span>.join(review_to_wordlist(train[<span class="hljs-string">'review'</span>][i])))
test_data = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">0</span>,len(test[<span class="hljs-string">'review'</span>])):
    test_data.append(<span class="hljs-string">" "</span>.join(review_to_wordlist(test[<span class="hljs-string">'review'</span>][i])))</code></pre>

<p>我们在ipython notebook里面看一眼，发现数据已经格式化了，如下： <br />
</p><center> <br />
<img alt="格式化后的数据" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fsentiment_analysis_4.png" title="" /> <br />
</center><p></p>



<h3 id="83-特征处理">8.3 特征处理</h3>

<p>紧接着又到了头疼的部分了，数据有了，我们得想办法从数据里面拿到有区分度的特征。比如说Kaggle该问题的引导页提供的word2vec就是一种文本到数值域的特征抽取方式，比如说我们在第6小节提到的用互信息提取关键字也是提取特征的一种。比如说在这里，我们打算用在文本检索系统中非常有效的一种特征：TF-IDF(term frequency-interdocument frequency)向量。每一个电影评论最后转化成一个TF-IDF向量。对了，对于TF-IDF不熟悉的同学们，我们稍加解释一下，<strong>TF-IDF是一种统计方法，用以评估一字词(或者n-gram)对于一个文件集或一个语料库中的其中一份文件的重要程度。字词的重要性随着它在文件中出现的次数成正比增加，但同时会随着它在语料库中出现的频率成反比下降</strong>。这是一个能很有效地判定对评论褒贬影响大的词或短语的方法。</p>

<p>那个…博主打算继续偷懒，把scikit-learn中TFIDF向量化方法直接拿来用，想详细了解的同学可以戳<a href="http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html">sklearn TFIDF向量类</a>。对了，再多说几句我的处理细节，停用词被我掐掉了，同时我在单词的级别上又拓展到2元语言模型(对这个不了解的同学别着急，后续的博客介绍马上就来)，恩，你可以再加3元4元语言模型…博主主要是单机内存不够了，先就2元上，凑活用吧…</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn.feature_extraction.text <span class="hljs-keyword">import</span> TfidfVectorizer <span class="hljs-keyword">as</span> TFIV
<span class="hljs-comment"># 初始化TFIV对象，去停用词，加2元语言模型</span>
tfv = TFIV(min_df=<span class="hljs-number">3</span>,  max_features=<span class="hljs-keyword">None</span>, strip_accents=<span class="hljs-string">'unicode'</span>, analyzer=<span class="hljs-string">'word'</span>,token_pattern=<span class="hljs-string">r'\w{1,}'</span>, ngram_range=(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), use_idf=<span class="hljs-number">1</span>,smooth_idf=<span class="hljs-number">1</span>,sublinear_tf=<span class="hljs-number">1</span>, stop_words = <span class="hljs-string">'english'</span>)
<span class="hljs-comment"># 合并训练和测试集以便进行TFIDF向量化操作</span>
X_all = train_data + test_data
len_train = len(train_data)

<span class="hljs-comment"># 这一步有点慢，去喝杯茶刷会儿微博知乎歇会儿...</span>
tfv.fit(X_all)
X_all = tfv.transform(X_all)
<span class="hljs-comment"># 恢复成训练集和测试集部分</span>
X = X_all[:len_train] 
X_test = X_all[len_train:]</code></pre>



<h3 id="84-朴素贝叶斯-vs-逻辑回归">8.4 朴素贝叶斯 vs 逻辑回归</h3>

<p>特征现在我们拿到手了，该建模了，好吧，博主折腾劲又上来了，那个…咳咳…我们还是朴素贝叶斯和逻辑回归都建个分类器吧，然后也可以比较比较，恩。 <br />
『talk is cheap, I’ll show you the code』，直接放码过来了哈。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 多项式朴素贝叶斯</span>
<span class="hljs-keyword">from</span> sklearn.naive_bayes <span class="hljs-keyword">import</span> MultinomialNB <span class="hljs-keyword">as</span> MNB

model_NB = MNB()
model_NB.fit(X, y_train) <span class="hljs-comment">#特征数据直接灌进来</span>
MNB(alpha=<span class="hljs-number">1.0</span>, class_prior=<span class="hljs-keyword">None</span>, fit_prior=<span class="hljs-keyword">True</span>)

<span class="hljs-keyword">from</span> sklearn.cross_validation <span class="hljs-keyword">import</span> cross_val_score
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-keyword">print</span> <span class="hljs-string">"多项式贝叶斯分类器20折交叉验证得分: "</span>, np.mean(cross_val_score(model_NB, X, y_train, cv=<span class="hljs-number">20</span>, scoring=<span class="hljs-string">'roc_auc'</span>))
<span class="hljs-comment"># 多项式贝叶斯分类器20折交叉验证得分: 0.950837239</span></code></pre>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 折腾一下逻辑回归，恩</span>
<span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression <span class="hljs-keyword">as</span> LR
<span class="hljs-keyword">from</span> sklearn.grid_search <span class="hljs-keyword">import</span> GridSearchCV

<span class="hljs-comment"># 设定grid search的参数</span>
grid_values = {<span class="hljs-string">'C'</span>:[<span class="hljs-number">30</span>]}  
<span class="hljs-comment"># 设定打分为roc_auc</span>
model_LR = GridSearchCV(LR(penalty = <span class="hljs-string">'L2'</span>, dual = <span class="hljs-keyword">True</span>, random_state = <span class="hljs-number">0</span>), grid_values, scoring = <span class="hljs-string">'roc_auc'</span>, cv = <span class="hljs-number">20</span>) 
<span class="hljs-comment"># 数据灌进来</span>
model_LR.fit(X,y_train)
<span class="hljs-comment"># 20折交叉验证，开始漫长的等待...</span>
GridSearchCV(cv=<span class="hljs-number">20</span>, estimator=LogisticRegression(C=<span class="hljs-number">1.0</span>, class_weight=<span class="hljs-keyword">None</span>, dual=<span class="hljs-keyword">True</span>, 
             fit_intercept=<span class="hljs-keyword">True</span>, intercept_scaling=<span class="hljs-number">1</span>, penalty=<span class="hljs-string">'L2'</span>, random_state=<span class="hljs-number">0</span>, tol=<span class="hljs-number">0.0001</span>),
        fit_params={}, iid=<span class="hljs-keyword">True</span>, loss_func=<span class="hljs-keyword">None</span>, n_jobs=<span class="hljs-number">1</span>,
        param_grid={<span class="hljs-string">'C'</span>: [<span class="hljs-number">30</span>]}, pre_dispatch=<span class="hljs-string">'2*n_jobs'</span>, refit=<span class="hljs-keyword">True</span>,
        score_func=<span class="hljs-keyword">None</span>, scoring=<span class="hljs-string">'roc_auc'</span>, verbose=<span class="hljs-number">0</span>)
<span class="hljs-comment">#输出结果</span>
<span class="hljs-keyword">print</span> model_LR.grid_scores_</code></pre>

<p>最后逻辑回归的结果是<code>[mean: 0.96459, std: 0.00489, params: {'C': 30}]</code></p>

<p>咳咳…看似逻辑回归在这个问题中，TF-IDF特征下表现要稍强一些…不过同学们自己跑一下就知道，这2个模型的训练时长真心不在一个数量级，逻辑回归在数据量大的情况下，要等到睡着…另外，要提到的一点是，因为我这里只用了2元语言模型(2-gram)，加到3-gram和4-gram，最后两者的结果还会提高，而且朴素贝叶斯说不定会提升更快一点，内存够的同学们自己动手试试吧^_^</p>



<h2 id="9-总结">9. 总结</h2>

<p>本文为朴素贝叶斯的实践和进阶篇，先丢了点干货，总结了贝叶斯方法的优缺点，应用场景，注意点和一般建模方法。紧接着对它最常见的应用场景，抓了几个例子，又来了一遍手把手系列，不管是对于文本主题分类、多分类问题(犯罪类型分类) 还是 情感分析/分类，朴素贝叶斯都是一个简单直接高效的方法。尤其是在和逻辑回归的对比中可以看出，在这些问题中，朴素贝叶斯能取得和逻辑回归相近的成绩，但是训练速度远快于逻辑回归，真正的直接和高效。</p>
            <div>
                作者：yaoqiang2011 发表于2016/2/3 15:07:54 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50629608">原文链接</a>
            </div>
            <div>
            阅读：14784 评论：0 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50629608#comments" target="_blank">查看评论</a>
            </div>
[原]NLP系列(3)_用朴素贝叶斯进行文本分类(下)
<p>作者： <a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a> &amp;&amp; <a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年2月。 <br />
出处：<a href="http://blog.csdn.net/longxinchen_ml/article/details/50629110">http://blog.csdn.net/longxinchen_ml/article/details/50629110</a> <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50629587">http://blog.csdn.net/han_xiaoyang/article/details/50629587</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-引言">1. 引言</h2>

<p>上一篇文章我们主要从理论上梳理了朴素贝叶斯方法进行文本分类的基本思路。这篇文章我们主要从实践上探讨一些应用过程中的tricks，并进一步分析贝叶斯方法，最后以情绪褒贬分析和拼写纠错为例展示这种简单强大的方法在自然语言处理问题上的具体应用。</p>



<h2 id="2-为什么不直接匹配关键词来识别垃圾邮件">2. 为什么不直接匹配关键词来识别垃圾邮件？</h2>

<p>看了上一篇文章的一些同学可能会问：“何必费这么大劲算那么多词的概率？直接看邮件中有没有‘代开发票’、‘转售发票’之类的关键词不就得了？如果关键词比较多就认为是垃圾邮件呗。”</p>

<p>咳咳，其实关键词匹配的方法如果有效的话真不必用朴素贝叶斯。毕竟这种方法简单嘛，<strong>就是一个字符串匹配</strong>。从历史来看，之前没有贝叶斯方法的时候主要也是用关键词匹配。<strong>但是这种方法准确率太低</strong>。我们在工作项目中也尝试过用关键词匹配的方法去进行文本分类，发现大量误报。感觉就像扔到垃圾箱的邮件99%都是正常的！这样的效果不忍直视。而加一个朴素贝叶斯方法就可能把误报率拉低近一个数量级，体验好得不要不要的。</p>

<p><strong>另一个原因是词语会随着时间不断变化</strong>。发垃圾邮件的人也不傻，当他们发现自己的邮件被大量屏蔽之后，也会考虑采用新的方式，<strong>如变换文字、词语、句式、颜色等方式来绕过反垃圾邮件系统</strong>。比如对于垃圾邮件“我司可办理正规发票，17%增值税发票点数优惠”,他们采用火星文：<strong>“涐司岢办理㊣規髮票，17%增値稅髮票嚸數優蕙”</strong>，那么字符串匹配的方法又要重新找出这些火星文，一个一个找出关键词，重新写一些匹配规则。更可怕的是，这些规则可能相互之间的耦合关系异常复杂，要把它们梳理清楚又是大一个数量级的工作量。等这些规则失效了又要手动更新新的规则……<strong>无穷无尽猫鼠游戏最终会把猫给累死</strong>。</p>

<p>而朴素贝叶斯方法却显示出无比的优势。因为它是<strong>基于统计方法</strong>的，只要训练样本中有更新的垃圾邮件的新词语，哪怕它们是火星文，<strong>都能自动地把哪些更敏感的词语（如“髮”、“㊣”等）给凸显出来，并根据统计意义上的敏感性给他们分配适当的权重</strong> ，这样就不需要什么人工了，非常省事。<strong>你只需要时不时地拿一些最新的样本扔到训练集中，重新训练一次即可</strong>。</p>

<p>小补充一下，对于火星文、同音字等替代语言，一般的分词技术可能会分得不准，最终可能只把一个一个字给分出来，成为“分字”。当然也可以用过n-gram之类的语言模型(后续博客马上提到，尽请关注)，拿到最常见短语。对于英文等天生自带空格来间隔单词的语言，分词则不是什么问题，使用朴素贝叶斯方法将会更加顺畅。</p>



<h2 id="3工程上的一些tricks">3.工程上的一些tricks</h2>

<p>应用朴素贝叶斯方法的过程中，一些tricks能显著帮助工程解决问题。我们毕竟经验有限，无法将它们全都罗列出来，只能就所知的一点点经验与大家分享，欢迎批评指正。</p>



<h3 id="31-trick1取对数">3.1 trick1：取对数</h3>

<p>我们上一篇文章用来识别垃圾邮件的方法是比较以下两个概率的大小（字母S表示“垃圾邮件”,字母H表示“正常邮件”）：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 29.443em; display: inline-block;"><span style="display: inline-block; width: 23.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-5" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-7" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-8"><span class="mrow" id="MathJax-Span-9"><span class="mo" id="MathJax-Span-10"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-11" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-12"><span class="mrow" id="MathJax-Span-13"><span class="mo" id="MathJax-Span-14" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-15" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-16" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-17" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-18" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-20"><span class="mrow" id="MathJax-Span-21"><span class="mo" id="MathJax-Span-22"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-23" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-24"><span class="mrow" id="MathJax-Span-25"><span class="mo" id="MathJax-Span-26" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-27" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-28" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-29" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-30" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-31" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-32"><span class="mrow" id="MathJax-Span-33"><span class="mo" id="MathJax-Span-34"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-35" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-36"><span class="mrow" id="MathJax-Span-37"><span class="mo" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-39" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-40" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-41" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-42" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-43" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-44"><span class="mrow" id="MathJax-Span-45"><span class="mo" id="MathJax-Span-46"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-47"><span class="mrow" id="MathJax-Span-48"><span class="mo" id="MathJax-Span-49"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-50" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-51"><span class="mrow" id="MathJax-Span-52"><span class="mo" id="MathJax-Span-53" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-55" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-56" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-58" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-59"><span class="mrow" id="MathJax-Span-60"><span class="mo" id="MathJax-Span-61"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-62"><span class="mrow" id="MathJax-Span-63"><span class="mo" id="MathJax-Span-64"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-65"><span class="mrow" id="MathJax-Span-66"><span class="mo" id="MathJax-Span-67"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-68"><span class="mrow" id="MathJax-Span-69"><span class="mo" id="MathJax-Span-70"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-71" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-72"><span class="mrow" id="MathJax-Span-73"><span class="mo" id="MathJax-Span-74" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-75" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-76" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-77" style="width: 36.483em; display: inline-block;"><span style="display: inline-block; width: 29.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-78"><span class="mo" id="MathJax-Span-79" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-80" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-81" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-82" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-83"><span class="mrow" id="MathJax-Span-84"><span class="mo" id="MathJax-Span-85"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-86"><span class="mrow" id="MathJax-Span-87"><span class="mo" id="MathJax-Span-88"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-89" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-90"><span class="mrow" id="MathJax-Span-91"><span class="mo" id="MathJax-Span-92" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-93" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-94" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-95" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-96" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-97" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-98"><span class="mrow" id="MathJax-Span-99"><span class="mo" id="MathJax-Span-100"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-101"><span class="mrow" id="MathJax-Span-102"><span class="mo" id="MathJax-Span-103"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-104"><span class="mrow" id="MathJax-Span-105"><span class="mo" id="MathJax-Span-106"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-107" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-108"><span class="mrow" id="MathJax-Span-109"><span class="mo" id="MathJax-Span-110" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-111" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-112" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-114" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-116"><span class="mrow" id="MathJax-Span-117"><span class="mo" id="MathJax-Span-118"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-119"><span class="mrow" id="MathJax-Span-120"><span class="mo" id="MathJax-Span-121"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-122" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-123"><span class="mrow" id="MathJax-Span-124"><span class="mo" id="MathJax-Span-125" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-126" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-127" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-128" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-129" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-130" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-131"><span class="mrow" id="MathJax-Span-132"><span class="mo" id="MathJax-Span-133"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-134"><span class="mrow" id="MathJax-Span-135"><span class="mo" id="MathJax-Span-136"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-137" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-138"><span class="mrow" id="MathJax-Span-139"><span class="mo" id="MathJax-Span-140" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-141" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-142" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-143" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-144" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-145" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-146"><span class="mrow" id="MathJax-Span-147"><span class="mo" id="MathJax-Span-148"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-149"><span class="mrow" id="MathJax-Span-150"><span class="mo" id="MathJax-Span-151"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-152" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-153"><span class="mrow" id="MathJax-Span-154"><span class="mo" id="MathJax-Span-155" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-157" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-159" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-160" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-161"><span class="mrow" id="MathJax-Span-162"><span class="mo" id="MathJax-Span-163"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-164"><span class="mrow" id="MathJax-Span-165"><span class="mo" id="MathJax-Span-166"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-167"><span class="mrow" id="MathJax-Span-168"><span class="mo" id="MathJax-Span-169"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-170"><span class="mrow" id="MathJax-Span-171"><span class="mo" id="MathJax-Span-172"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-173" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-174" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-175" style="width: 31.309em; display: inline-block;"><span style="display: inline-block; width: 25.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-176"><span class="munderover" id="MathJax-Span-177"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-178" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-179"><span style="display: inline-block; width: 0.696em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-180" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-181" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-182" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-184"><span class="mrow" id="MathJax-Span-185"><span class="mo" id="MathJax-Span-186"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-187" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-188"><span class="mrow" id="MathJax-Span-189"><span class="mo" id="MathJax-Span-190" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-191" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-193" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-196"><span class="mrow" id="MathJax-Span-197"><span class="mo" id="MathJax-Span-198"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-199" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-200"><span class="mrow" id="MathJax-Span-201"><span class="mo" id="MathJax-Span-202" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-203" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-204" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-205" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-206" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-208"><span class="mrow" id="MathJax-Span-209"><span class="mo" id="MathJax-Span-210"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-211" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-212"><span class="mrow" id="MathJax-Span-213"><span class="mo" id="MathJax-Span-214" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-215" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-216" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-217" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-218" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-219" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-220"><span class="mrow" id="MathJax-Span-221"><span class="mo" id="MathJax-Span-222"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-223"><span class="mrow" id="MathJax-Span-224"><span class="mo" id="MathJax-Span-225"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-226" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-227"><span class="mrow" id="MathJax-Span-228"><span class="mo" id="MathJax-Span-229" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-230" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-231" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-232" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-233" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-234" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-235"><span class="mrow" id="MathJax-Span-236"><span class="mo" id="MathJax-Span-237"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-238"><span class="mrow" id="MathJax-Span-239"><span class="mo" id="MathJax-Span-240"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-241"><span class="mrow" id="MathJax-Span-242"><span class="mo" id="MathJax-Span-243"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-244"><span class="mrow" id="MathJax-Span-245"><span class="mo" id="MathJax-Span-246"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-247" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-248"><span class="mrow" id="MathJax-Span-249"><span class="mo" id="MathJax-Span-250" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-251" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-252" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-253" style="width: 30.883em; display: inline-block;"><span style="display: inline-block; width: 24.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-254"><span style="display: inline-block; width: 24.696em; height: 0px;"><span><span class="mo" id="MathJax-Span-255" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-256" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-257" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-258" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-259"><span class="mrow" id="MathJax-Span-260"><span class="mo" id="MathJax-Span-261"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-262"><span class="mrow" id="MathJax-Span-263"><span class="mo" id="MathJax-Span-264"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-265" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-266"><span class="mrow" id="MathJax-Span-267"><span class="mo" id="MathJax-Span-268" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-269" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-270" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-271" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-272" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-274"><span class="mrow" id="MathJax-Span-275"><span class="mo" id="MathJax-Span-276"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-277"><span class="mrow" id="MathJax-Span-278"><span class="mo" id="MathJax-Span-279"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-280"><span class="mrow" id="MathJax-Span-281"><span class="mo" id="MathJax-Span-282"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-283" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-284"><span class="mrow" id="MathJax-Span-285"><span class="mo" id="MathJax-Span-286" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-287" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-288" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-289" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-290" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-291" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-292"><span class="mrow" id="MathJax-Span-293"><span class="mo" id="MathJax-Span-294"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-295"><span class="mrow" id="MathJax-Span-296"><span class="mo" id="MathJax-Span-297"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-298" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-299"><span class="mrow" id="MathJax-Span-300"><span class="mo" id="MathJax-Span-301" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-302" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-303" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-304" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-305" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-306" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-307"><span class="mrow" id="MathJax-Span-308"><span class="mo" id="MathJax-Span-309"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-310"><span class="mrow" id="MathJax-Span-311"><span class="mo" id="MathJax-Span-312"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-313" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-314"><span class="mrow" id="MathJax-Span-315"><span class="mo" id="MathJax-Span-316" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-317" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-318" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-319" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-320" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-321" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-322"><span class="mrow" id="MathJax-Span-323"><span class="mo" id="MathJax-Span-324"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-325"><span class="mrow" id="MathJax-Span-326"><span class="mo" id="MathJax-Span-327"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-328" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-329"><span class="mrow" id="MathJax-Span-330"><span class="mo" id="MathJax-Span-331" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-332" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-333" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-334" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-335" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-336" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-337"><span class="mrow" id="MathJax-Span-338"><span class="mo" id="MathJax-Span-339"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-340"><span class="mrow" id="MathJax-Span-341"><span class="mo" id="MathJax-Span-342"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-343"><span class="mrow" id="MathJax-Span-344"><span class="mo" id="MathJax-Span-345"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="texatom" id="MathJax-Span-346"><span class="mrow" id="MathJax-Span-347"><span class="mo" id="MathJax-Span-348"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-349" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-350" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>但这里进行了<strong>很多乘法运算，计算的时间开销比较大</strong>。尤其是对于篇幅比较长的邮件，几万个数相乘起来还是非常花时间的。如果能<strong>把这些乘法变成加法则方便得多</strong>。刚好数学中的对数函数log就可以实现这样的功能。两边同时取对数（本文统一取底数为2），则上面的公式变为：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-351" style="width: 24.643em; display: inline-block;"><span style="display: inline-block; width: 19.683em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-352"><span style="display: inline-block; width: 19.683em; height: 0px;"><span><span class="mi" id="MathJax-Span-353" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-354" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-355" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-356"><span class="mrow" id="MathJax-Span-357"><span class="mi" id="MathJax-Span-358" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="mo" id="MathJax-Span-359" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-360" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-361" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-362" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-363"><span class="mrow" id="MathJax-Span-364"><span class="mi" id="MathJax-Span-365" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-366" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-367" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-368"><span class="mrow" id="MathJax-Span-369"><span class="mo" id="MathJax-Span-370"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-371" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-372"><span class="mrow" id="MathJax-Span-373"><span class="mo" id="MathJax-Span-374" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-375" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-376" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-377" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-378" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-379" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-380" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-381"><span class="mrow" id="MathJax-Span-382"><span class="mi" id="MathJax-Span-383" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-384" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-385" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-386"><span class="mrow" id="MathJax-Span-387"><span class="mo" id="MathJax-Span-388"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-389" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-390"><span class="mrow" id="MathJax-Span-391"><span class="mo" id="MathJax-Span-392" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-393" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-394" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-395" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-396" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-397" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-398" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-399"><span class="mrow" id="MathJax-Span-400"><span class="mi" id="MathJax-Span-401" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-402" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-403" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-404"><span class="mrow" id="MathJax-Span-405"><span class="mo" id="MathJax-Span-406"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-407" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-408"><span class="mrow" id="MathJax-Span-409"><span class="mo" id="MathJax-Span-410" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-411" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-412" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-413" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-414" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-415" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-416" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-417"><span class="mrow" id="MathJax-Span-418"><span class="mi" id="MathJax-Span-419" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-420" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-421" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-422"><span class="mrow" id="MathJax-Span-423"><span class="mo" id="MathJax-Span-424"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-425"><span class="mrow" id="MathJax-Span-426"><span class="mo" id="MathJax-Span-427"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-428" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-429"><span class="mrow" id="MathJax-Span-430"><span class="mo" id="MathJax-Span-431" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-432" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-433" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-434" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-435" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-436" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-437" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-438"><span class="mrow" id="MathJax-Span-439"><span class="mi" id="MathJax-Span-440" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-441" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-443"><span class="mrow" id="MathJax-Span-444"><span class="mo" id="MathJax-Span-445"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-446"><span class="mrow" id="MathJax-Span-447"><span class="mo" id="MathJax-Span-448"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-449"><span class="mrow" id="MathJax-Span-450"><span class="mo" id="MathJax-Span-451"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-452"><span class="mrow" id="MathJax-Span-453"><span class="mo" id="MathJax-Span-454"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-455" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-456"><span class="mrow" id="MathJax-Span-457"><span class="mo" id="MathJax-Span-458" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-459" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-460" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-461" style="width: 23.949em; display: inline-block;"><span style="display: inline-block; width: 19.149em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-462"><span style="display: inline-block; width: 19.149em; height: 0px;"><span><span class="mo" id="MathJax-Span-463" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-464" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-465" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-466" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-467"><span class="mrow" id="MathJax-Span-468"><span class="mi" id="MathJax-Span-469" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-470" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-472"><span class="mrow" id="MathJax-Span-473"><span class="mo" id="MathJax-Span-474"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-475"><span class="mrow" id="MathJax-Span-476"><span class="mo" id="MathJax-Span-477"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-478" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-479"><span class="mrow" id="MathJax-Span-480"><span class="mo" id="MathJax-Span-481" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-482" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-483" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-484" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-485" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-486" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-487" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-488"><span class="mrow" id="MathJax-Span-489"><span class="mi" id="MathJax-Span-490" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-491" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-492" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-493"><span class="mrow" id="MathJax-Span-494"><span class="mo" id="MathJax-Span-495"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-496"><span class="mrow" id="MathJax-Span-497"><span class="mo" id="MathJax-Span-498"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-499"><span class="mrow" id="MathJax-Span-500"><span class="mo" id="MathJax-Span-501"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-502" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-503"><span class="mrow" id="MathJax-Span-504"><span class="mo" id="MathJax-Span-505" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-506" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-507" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-508" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-509" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-510" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-511" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-512"><span class="mrow" id="MathJax-Span-513"><span class="mi" id="MathJax-Span-514" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-515" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-516" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-517"><span class="mrow" id="MathJax-Span-518"><span class="mo" id="MathJax-Span-519"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-520"><span class="mrow" id="MathJax-Span-521"><span class="mo" id="MathJax-Span-522"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-523" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-524"><span class="mrow" id="MathJax-Span-525"><span class="mo" id="MathJax-Span-526" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-527" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-528" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-529" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-530" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-531" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-532" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-533"><span class="mrow" id="MathJax-Span-534"><span class="mi" id="MathJax-Span-535" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-536" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-537" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-538"><span class="mrow" id="MathJax-Span-539"><span class="mo" id="MathJax-Span-540"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-541"><span class="mrow" id="MathJax-Span-542"><span class="mo" id="MathJax-Span-543"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-544" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-545"><span class="mrow" id="MathJax-Span-546"><span class="mo" id="MathJax-Span-547" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-548" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-549" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-550" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-551" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-552" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-553" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-554"><span class="mrow" id="MathJax-Span-555"><span class="mi" id="MathJax-Span-556" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-557" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-558" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-559"><span class="mrow" id="MathJax-Span-560"><span class="mo" id="MathJax-Span-561"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-562"><span class="mrow" id="MathJax-Span-563"><span class="mo" id="MathJax-Span-564"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-565" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-566"><span class="mrow" id="MathJax-Span-567"><span class="mo" id="MathJax-Span-568" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-569" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-570" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-571" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-572" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-573" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-575"><span class="mrow" id="MathJax-Span-576"><span class="mi" id="MathJax-Span-577" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-578" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-579" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-580"><span class="mrow" id="MathJax-Span-581"><span class="mo" id="MathJax-Span-582"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-583"><span class="mrow" id="MathJax-Span-584"><span class="mo" id="MathJax-Span-585"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-586"><span class="mrow" id="MathJax-Span-587"><span class="mo" id="MathJax-Span-588"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-589"><span class="mrow" id="MathJax-Span-590"><span class="mo" id="MathJax-Span-591"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-592" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-593" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-594" style="width: 25.709em; display: inline-block;"><span style="display: inline-block; width: 20.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-595"><span style="display: inline-block; width: 20.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-596" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-597" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-598" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-599"><span class="mrow" id="MathJax-Span-600"><span class="munderover" id="MathJax-Span-601"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-602" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-603"><span style="display: inline-block; width: 0.696em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-604" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-605" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-606" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-607" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-608"><span class="mrow" id="MathJax-Span-609"><span class="mi" id="MathJax-Span-610" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-611" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-612" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-613"><span class="mrow" id="MathJax-Span-614"><span class="mo" id="MathJax-Span-615"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-616" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-617"><span class="mrow" id="MathJax-Span-618"><span class="mo" id="MathJax-Span-619" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-620" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-621" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-622" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-623" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-624" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-625" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-626"><span class="mrow" id="MathJax-Span-627"><span class="mi" id="MathJax-Span-628" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-629" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-630" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-631"><span class="mrow" id="MathJax-Span-632"><span class="mo" id="MathJax-Span-633"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-634" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-635"><span class="mrow" id="MathJax-Span-636"><span class="mo" id="MathJax-Span-637" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-638" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-639" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-640" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-641" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-642" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-643" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-644"><span class="mrow" id="MathJax-Span-645"><span class="mi" id="MathJax-Span-646" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-647" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-648" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-649"><span class="mrow" id="MathJax-Span-650"><span class="mo" id="MathJax-Span-651"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-652" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-653"><span class="mrow" id="MathJax-Span-654"><span class="mo" id="MathJax-Span-655" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-656" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-657" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-658" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-659" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-660" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-661" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-662"><span class="mrow" id="MathJax-Span-663"><span class="mi" id="MathJax-Span-664" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-666" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-667"><span class="mrow" id="MathJax-Span-668"><span class="mo" id="MathJax-Span-669"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-670"><span class="mrow" id="MathJax-Span-671"><span class="mo" id="MathJax-Span-672"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-673" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-674"><span class="mrow" id="MathJax-Span-675"><span class="mo" id="MathJax-Span-676" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-677" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-678" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-679" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-680" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-681" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-682" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-683"><span class="mrow" id="MathJax-Span-684"><span class="mi" id="MathJax-Span-685" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-686" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-687" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-688"><span class="mrow" id="MathJax-Span-689"><span class="mo" id="MathJax-Span-690"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-691"><span class="mrow" id="MathJax-Span-692"><span class="mo" id="MathJax-Span-693"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-694"><span class="mrow" id="MathJax-Span-695"><span class="mo" id="MathJax-Span-696"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-697"><span class="mrow" id="MathJax-Span-698"><span class="mo" id="MathJax-Span-699"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-700" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-701"><span class="mrow" id="MathJax-Span-702"><span class="mo" id="MathJax-Span-703" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-704" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-705" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-706" style="width: 24.909em; display: inline-block;"><span style="display: inline-block; width: 19.896em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-707"><span style="display: inline-block; width: 19.896em; height: 0px;"><span><span class="mo" id="MathJax-Span-708" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-709" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-710" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-711" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-712"><span class="mrow" id="MathJax-Span-713"><span class="mi" id="MathJax-Span-714" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-715" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-716" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-717"><span class="mrow" id="MathJax-Span-718"><span class="mo" id="MathJax-Span-719"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-720"><span class="mrow" id="MathJax-Span-721"><span class="mo" id="MathJax-Span-722"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-723" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-724"><span class="mrow" id="MathJax-Span-725"><span class="mo" id="MathJax-Span-726" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-727" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-728" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-729" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-730" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-731" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-732" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-733"><span class="mrow" id="MathJax-Span-734"><span class="mi" id="MathJax-Span-735" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-736" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-737" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-738"><span class="mrow" id="MathJax-Span-739"><span class="mo" id="MathJax-Span-740"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-741"><span class="mrow" id="MathJax-Span-742"><span class="mo" id="MathJax-Span-743"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-744"><span class="mrow" id="MathJax-Span-745"><span class="mo" id="MathJax-Span-746"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-747" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-748"><span class="mrow" id="MathJax-Span-749"><span class="mo" id="MathJax-Span-750" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-751" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-752" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-753" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-754" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-755" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-756" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-757"><span class="mrow" id="MathJax-Span-758"><span class="mi" id="MathJax-Span-759" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-760" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-761" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-762"><span class="mrow" id="MathJax-Span-763"><span class="mo" id="MathJax-Span-764"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-765"><span class="mrow" id="MathJax-Span-766"><span class="mo" id="MathJax-Span-767"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-768" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-769"><span class="mrow" id="MathJax-Span-770"><span class="mo" id="MathJax-Span-771" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-772" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-773" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-774" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-775" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-776" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-777" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-778"><span class="mrow" id="MathJax-Span-779"><span class="mi" id="MathJax-Span-780" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-781" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-782" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-783"><span class="mrow" id="MathJax-Span-784"><span class="mo" id="MathJax-Span-785"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-786"><span class="mrow" id="MathJax-Span-787"><span class="mo" id="MathJax-Span-788"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-789" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-790"><span class="mrow" id="MathJax-Span-791"><span class="mo" id="MathJax-Span-792" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-793" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-794" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-795" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-796" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-797" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-798" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-799"><span class="mrow" id="MathJax-Span-800"><span class="mi" id="MathJax-Span-801" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-802" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-803" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-804"><span class="mrow" id="MathJax-Span-805"><span class="mo" id="MathJax-Span-806"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-807"><span class="mrow" id="MathJax-Span-808"><span class="mo" id="MathJax-Span-809"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-810" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-811"><span class="mrow" id="MathJax-Span-812"><span class="mo" id="MathJax-Span-813" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-814" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-815" style="font-family: STIXGeneral-Regular;">)</span></span></span><span class="mo" id="MathJax-Span-816" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-817" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-818" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-819" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-820"><span class="mrow" id="MathJax-Span-821"><span class="mi" id="MathJax-Span-822" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-823" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-824" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-825"><span class="mrow" id="MathJax-Span-826"><span class="mo" id="MathJax-Span-827"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-828"><span class="mrow" id="MathJax-Span-829"><span class="mo" id="MathJax-Span-830"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-831"><span class="mrow" id="MathJax-Span-832"><span class="mo" id="MathJax-Span-833"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-834"><span class="mrow" id="MathJax-Span-835"><span class="mo" id="MathJax-Span-836"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-837" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-838" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>有同学可能要叫了：“做对数运算岂不会也很花时间？”的确如此，但是可以在训练阶段直接计算 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-839" style="width: 2.403em; display: inline-block;"><span style="display: inline-block; width: 1.923em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-840"><span class="mi" id="MathJax-Span-841" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-842" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-843" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-844"><span class="mrow" id="MathJax-Span-845"><span class="mi" id="MathJax-Span-846" style="font-family: STIXGeneral-Italic;">P</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> ，然后把他们存在一张大的hash表里。<strong>在判断的时候直接提取hash表中已经计算好的对数概率，然后相加即可。这样使得判断所需要的计算时间被转移到了训练阶段</strong>，实时运行的时候速度就比之前快得多，这可不止几个数量级的提升。</p>



<h3 id="32-trick2转换为权重">3.2 trick2：转换为权重</h3>

<p>对于二分类，我们还可以继续提高判断的速度。既然要比较<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-847" style="width: 2.509em; display: inline-block;"><span style="display: inline-block; width: 1.976em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-848"><span class="mi" id="MathJax-Span-849" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-850" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-851" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-852"><span class="mrow" id="MathJax-Span-853"><span class="mi" id="MathJax-Span-854" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-855" style="width: 2.616em; display: inline-block;"><span style="display: inline-block; width: 2.083em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-856"><span class="mi" id="MathJax-Span-857" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-858" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-859" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-860"><span class="mrow" id="MathJax-Span-861"><span class="munderover" id="MathJax-Span-862"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-863" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-864"><span style="display: inline-block; width: 0.696em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 的大小，那就可以直接将上下两式相减，并继续化简：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-865" style="width: 24.429em; display: inline-block;"><span style="display: inline-block; width: 19.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-866"><span style="display: inline-block; width: 19.523em; height: 0px;"><span><span class="mi" id="MathJax-Span-867" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-868" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-869" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-870"><span class="mrow" id="MathJax-Span-871"><span class="mfrac" id="MathJax-Span-872"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-873" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="munderover" id="MathJax-Span-874"><span style="display: inline-block; width: 0.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-875" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-876"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-877" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-878" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-879" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-880" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-881"><span class="mrow" id="MathJax-Span-882"><span class="mfrac" id="MathJax-Span-883"><span style="display: inline-block; width: 2.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-884"><span class="mi" id="MathJax-Span-885" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-886" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-887" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-888"><span class="mrow" id="MathJax-Span-889"><span class="mo" id="MathJax-Span-890" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-891" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-892"><span class="mrow" id="MathJax-Span-893"><span class="mo" id="MathJax-Span-894" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-895" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-896" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-897"><span class="mi" id="MathJax-Span-898" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-899" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-900" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-901"><span class="mrow" id="MathJax-Span-902"><span class="mo" id="MathJax-Span-903" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-904" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-905"><span class="mrow" id="MathJax-Span-906"><span class="mo" id="MathJax-Span-907" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-908" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-909" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-910" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-911" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-912" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-913" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-914"><span class="mrow" id="MathJax-Span-915"><span class="mfrac" id="MathJax-Span-916"><span style="display: inline-block; width: 2.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-917"><span class="mi" id="MathJax-Span-918" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-919" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-920" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-921"><span class="mrow" id="MathJax-Span-922"><span class="mo" id="MathJax-Span-923" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-924" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-925"><span class="mrow" id="MathJax-Span-926"><span class="mo" id="MathJax-Span-927" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-928" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-929" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-930"><span class="mi" id="MathJax-Span-931" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-932" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-933" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-934"><span class="mrow" id="MathJax-Span-935"><span class="mo" id="MathJax-Span-936" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-937" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-938"><span class="mrow" id="MathJax-Span-939"><span class="mo" id="MathJax-Span-940" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-941" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-942" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-943" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-944" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-945" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-946" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-947"><span class="mrow" id="MathJax-Span-948"><span class="mfrac" id="MathJax-Span-949"><span style="display: inline-block; width: 2.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-950"><span class="mi" id="MathJax-Span-951" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-952" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-953" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-954"><span class="mrow" id="MathJax-Span-955"><span class="mo" id="MathJax-Span-956" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-957" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-958"><span class="mrow" id="MathJax-Span-959"><span class="mo" id="MathJax-Span-960" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-961" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-962" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-963"><span class="mi" id="MathJax-Span-964" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-965" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-966" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-967"><span class="mrow" id="MathJax-Span-968"><span class="mo" id="MathJax-Span-969" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-970" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-971"><span class="mrow" id="MathJax-Span-972"><span class="mo" id="MathJax-Span-973" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-974" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-975" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-976" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-977" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-978" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-979" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-980"><span class="mrow" id="MathJax-Span-981"><span class="mfrac" id="MathJax-Span-982"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-983"><span class="mi" id="MathJax-Span-984" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-985" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-986" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-987"><span class="mrow" id="MathJax-Span-988"><span class="mo" id="MathJax-Span-989" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-990"><span class="mrow" id="MathJax-Span-991"><span class="mo" id="MathJax-Span-992" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-993" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-994"><span class="mrow" id="MathJax-Span-995"><span class="mo" id="MathJax-Span-996" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-997" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-998" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-999"><span class="mi" id="MathJax-Span-1000" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1001" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1002" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1003"><span class="mrow" id="MathJax-Span-1004"><span class="mo" id="MathJax-Span-1005" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1006"><span class="mrow" id="MathJax-Span-1007"><span class="mo" id="MathJax-Span-1008" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1009" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1010"><span class="mrow" id="MathJax-Span-1011"><span class="mo" id="MathJax-Span-1012" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1013" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1014" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1015" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1016" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1017" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1018" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1019"><span class="mrow" id="MathJax-Span-1020"><span class="mfrac" id="MathJax-Span-1021"><span style="display: inline-block; width: 4.909em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1022"><span class="mi" id="MathJax-Span-1023" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1024" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1025" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1026"><span class="mrow" id="MathJax-Span-1027"><span class="mo" id="MathJax-Span-1028" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1029"><span class="mrow" id="MathJax-Span-1030"><span class="mo" id="MathJax-Span-1031" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1032"><span class="mrow" id="MathJax-Span-1033"><span class="mo" id="MathJax-Span-1034" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1035"><span class="mrow" id="MathJax-Span-1036"><span class="mo" id="MathJax-Span-1037" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1038" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1039"><span class="mrow" id="MathJax-Span-1040"><span class="mo" id="MathJax-Span-1041" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1042" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1043" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1044"><span class="mi" id="MathJax-Span-1045" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1046" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1047" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1048"><span class="mrow" id="MathJax-Span-1049"><span class="mo" id="MathJax-Span-1050" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1051"><span class="mrow" id="MathJax-Span-1052"><span class="mo" id="MathJax-Span-1053" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1054"><span class="mrow" id="MathJax-Span-1055"><span class="mo" id="MathJax-Span-1056" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1057"><span class="mrow" id="MathJax-Span-1058"><span class="mo" id="MathJax-Span-1059" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1060" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1061"><span class="mrow" id="MathJax-Span-1062"><span class="mo" id="MathJax-Span-1063" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1064" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1065" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.016em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-1066" style="width: 24.963em; display: inline-block;"><span style="display: inline-block; width: 19.949em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1067"><span style="display: inline-block; width: 19.949em; height: 0px;"><span><span class="mo" id="MathJax-Span-1068" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1069" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1070" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1071" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1072"><span class="mrow" id="MathJax-Span-1073"><span class="mfrac" id="MathJax-Span-1074"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1075"><span class="mi" id="MathJax-Span-1076" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1077" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1078" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1079"><span class="mrow" id="MathJax-Span-1080"><span class="mo" id="MathJax-Span-1081" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1082"><span class="mrow" id="MathJax-Span-1083"><span class="mo" id="MathJax-Span-1084" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1085" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1086"><span class="mrow" id="MathJax-Span-1087"><span class="mo" id="MathJax-Span-1088" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1089" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1090" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1091"><span class="mi" id="MathJax-Span-1092" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1093" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1094" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1095"><span class="mrow" id="MathJax-Span-1096"><span class="mo" id="MathJax-Span-1097" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1098"><span class="mrow" id="MathJax-Span-1099"><span class="mo" id="MathJax-Span-1100" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1101" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1102"><span class="mrow" id="MathJax-Span-1103"><span class="mo" id="MathJax-Span-1104" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1105" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1106" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1107" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1108" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1109" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1110" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1111"><span class="mrow" id="MathJax-Span-1112"><span class="mfrac" id="MathJax-Span-1113"><span style="display: inline-block; width: 4.269em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1114"><span class="mi" id="MathJax-Span-1115" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1116" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1117" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1118"><span class="mrow" id="MathJax-Span-1119"><span class="mo" id="MathJax-Span-1120" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1121"><span class="mrow" id="MathJax-Span-1122"><span class="mo" id="MathJax-Span-1123" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1124"><span class="mrow" id="MathJax-Span-1125"><span class="mo" id="MathJax-Span-1126" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1127" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1128"><span class="mrow" id="MathJax-Span-1129"><span class="mo" id="MathJax-Span-1130" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1131" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1132" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1133"><span class="mi" id="MathJax-Span-1134" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1135" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1136" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1137"><span class="mrow" id="MathJax-Span-1138"><span class="mo" id="MathJax-Span-1139" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1140"><span class="mrow" id="MathJax-Span-1141"><span class="mo" id="MathJax-Span-1142" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1143"><span class="mrow" id="MathJax-Span-1144"><span class="mo" id="MathJax-Span-1145" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1146" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1147"><span class="mrow" id="MathJax-Span-1148"><span class="mo" id="MathJax-Span-1149" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1150" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1151" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1152" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1153" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1154" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1155" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1156"><span class="mrow" id="MathJax-Span-1157"><span class="mfrac" id="MathJax-Span-1158"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1159"><span class="mi" id="MathJax-Span-1160" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1161" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1162" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1163"><span class="mrow" id="MathJax-Span-1164"><span class="mo" id="MathJax-Span-1165" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1166"><span class="mrow" id="MathJax-Span-1167"><span class="mo" id="MathJax-Span-1168" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1169" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1170"><span class="mrow" id="MathJax-Span-1171"><span class="mo" id="MathJax-Span-1172" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1173" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1174" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1175"><span class="mi" id="MathJax-Span-1176" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1177" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1178" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1179"><span class="mrow" id="MathJax-Span-1180"><span class="mo" id="MathJax-Span-1181" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1182"><span class="mrow" id="MathJax-Span-1183"><span class="mo" id="MathJax-Span-1184" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1185" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1186"><span class="mrow" id="MathJax-Span-1187"><span class="mo" id="MathJax-Span-1188" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1189" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1190" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1191" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1192" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1193" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1194" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1195"><span class="mrow" id="MathJax-Span-1196"><span class="mfrac" id="MathJax-Span-1197"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1198"><span class="mi" id="MathJax-Span-1199" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1200" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1201" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1202"><span class="mrow" id="MathJax-Span-1203"><span class="mo" id="MathJax-Span-1204" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1205"><span class="mrow" id="MathJax-Span-1206"><span class="mo" id="MathJax-Span-1207" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1208" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1209"><span class="mrow" id="MathJax-Span-1210"><span class="mo" id="MathJax-Span-1211" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1212" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1213" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1214"><span class="mi" id="MathJax-Span-1215" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1216" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1217" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1218"><span class="mrow" id="MathJax-Span-1219"><span class="mo" id="MathJax-Span-1220" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1221"><span class="mrow" id="MathJax-Span-1222"><span class="mo" id="MathJax-Span-1223" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1224" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1225"><span class="mrow" id="MathJax-Span-1226"><span class="mo" id="MathJax-Span-1227" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1228" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1229" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1230" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1231" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1232" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1233" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1234"><span class="mrow" id="MathJax-Span-1235"><span class="mfrac" id="MathJax-Span-1236"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1237"><span class="mi" id="MathJax-Span-1238" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1239" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1240" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1241"><span class="mrow" id="MathJax-Span-1242"><span class="mo" id="MathJax-Span-1243" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1244"><span class="mrow" id="MathJax-Span-1245"><span class="mo" id="MathJax-Span-1246" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1247" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1248"><span class="mrow" id="MathJax-Span-1249"><span class="mo" id="MathJax-Span-1250" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1251" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1252" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1253"><span class="mi" id="MathJax-Span-1254" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1255" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1256" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1257"><span class="mrow" id="MathJax-Span-1258"><span class="mo" id="MathJax-Span-1259" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1260"><span class="mrow" id="MathJax-Span-1261"><span class="mo" id="MathJax-Span-1262" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1263" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1264"><span class="mrow" id="MathJax-Span-1265"><span class="mo" id="MathJax-Span-1266" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1267" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1268" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1269" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1270" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1271" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1272" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1273"><span class="mrow" id="MathJax-Span-1274"><span class="mfrac" id="MathJax-Span-1275"><span style="display: inline-block; width: 4.696em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1276"><span class="mi" id="MathJax-Span-1277" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1278" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1279" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1280"><span class="mrow" id="MathJax-Span-1281"><span class="mo" id="MathJax-Span-1282" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1283"><span class="mrow" id="MathJax-Span-1284"><span class="mo" id="MathJax-Span-1285" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-1286"><span class="mrow" id="MathJax-Span-1287"><span class="mo" id="MathJax-Span-1288" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1289"><span class="mrow" id="MathJax-Span-1290"><span class="mo" id="MathJax-Span-1291" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1292" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1293"><span class="mrow" id="MathJax-Span-1294"><span class="mo" id="MathJax-Span-1295" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1296" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1297" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1298"><span class="mi" id="MathJax-Span-1299" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1300" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1301" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1302"><span class="mrow" id="MathJax-Span-1303"><span class="mo" id="MathJax-Span-1304" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1305"><span class="mrow" id="MathJax-Span-1306"><span class="mo" id="MathJax-Span-1307" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-1308"><span class="mrow" id="MathJax-Span-1309"><span class="mo" id="MathJax-Span-1310" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1311"><span class="mrow" id="MathJax-Span-1312"><span class="mo" id="MathJax-Span-1313" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1314" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1315" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.963em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p><strong><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-1316" style="width: 2.845em; display: inline-block;"><span style="display: inline-block; width: 2.173em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1317"><span class="mi" id="MathJax-Span-1318" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1319" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1320" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1321"><span class="mrow" id="MathJax-Span-1322"><span class="mfrac" id="MathJax-Span-1323"><span style="display: inline-block; width: 0.674em; height: 0px;"><span><span class="mi" id="MathJax-Span-1324" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="munderover" id="MathJax-Span-1325"><span style="display: inline-block; width: 0.571em; height: 0px;"><span><span class="mi" id="MathJax-Span-1326" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mo" id="MathJax-Span-1327"><span style="display: inline-block; width: 0.519em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 3.982em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 3.982em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.982em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.088em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span> 如果大于0则属于垃圾邮件。我们可以把其中每一项作为其对应词语的权重</strong>，比如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-1328" style="width: 6.509em; display: inline-block;"><span style="display: inline-block; width: 5.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1329"><span class="mi" id="MathJax-Span-1330" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1331" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1332" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1333"><span class="mrow" id="MathJax-Span-1334"><span class="mfrac" id="MathJax-Span-1335"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1336"><span class="mi" id="MathJax-Span-1337" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1338" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1339" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1340"><span class="mrow" id="MathJax-Span-1341"><span class="mo" id="MathJax-Span-1342" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1343"><span class="mrow" id="MathJax-Span-1344"><span class="mo" id="MathJax-Span-1345" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1346" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1347"><span class="mrow" id="MathJax-Span-1348"><span class="mo" id="MathJax-Span-1349" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1350" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1351" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1352"><span class="mi" id="MathJax-Span-1353" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1354" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1355" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1356"><span class="mrow" id="MathJax-Span-1357"><span class="mo" id="MathJax-Span-1358" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1359"><span class="mrow" id="MathJax-Span-1360"><span class="mo" id="MathJax-Span-1361" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1362" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1363"><span class="mrow" id="MathJax-Span-1364"><span class="mo" id="MathJax-Span-1365" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1366" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1367" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 就可以作为词语“发票”的权重，权重越大就越说明“发票”更可能是与“垃圾邮件”相关的特征。<strong>这样可以根据权重的大小来评估和筛选显著的特征，比如关键词。而这些权重值可以直接提前计算好而存在hash表中</strong> 。判断的时候直接将权重求和即可。</p>

<p>关键词hash表的样子如下，左列是权重，右列是其对应的词语，权重越高的说明越“关键”： <br />
</p><center> <br />
<img alt="hash" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0203hash.jpg" title="" /> <br />
</center><p></p>



<h3 id="33-trick3选取topk的关键词">3.3 trick3：选取topk的关键词</h3>

<p>前文说过可以通过提前选取关键词来提高判断的速度。有一种方法可以省略提前选取关键词的步骤，<strong>就是直接选取一段文本中权重最高的K个词语，将其权重进行加和</strong>。比如Paul Graham 在《黑客与画家》中是选取邮件中权重最高的15个词语计算的。</p>

<p>通过权重hash表可知，如果是所有词语的权重，则权重有正有负。如果只选择权重最高的K个词语，则它们的权重基本都是正的。所以就不能像之前那样判断<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-1368" style="width: 2.776em; display: inline-block;"><span style="display: inline-block; width: 2.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1369"><span class="mi" id="MathJax-Span-1370" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1371" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1372" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1373"><span class="mrow" id="MathJax-Span-1374"><span class="mfrac" id="MathJax-Span-1375"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-1376" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="munderover" id="MathJax-Span-1377"><span style="display: inline-block; width: 0.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-1378" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1379"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 是否大于0来区分邮件了。而这<strong>需要依靠经验选定一个正数的阈值（门槛值）</strong> ，依据<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-1380" style="width: 2.776em; display: inline-block;"><span style="display: inline-block; width: 2.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1381"><span class="mi" id="MathJax-Span-1382" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1383" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1384" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1385"><span class="mrow" id="MathJax-Span-1386"><span class="mfrac" id="MathJax-Span-1387"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-1388" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="munderover" id="MathJax-Span-1389"><span style="display: inline-block; width: 0.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-1390" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1391"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 与该门槛值的大小来识别垃圾邮件。</p>

<p>如下图所示，蓝色点代表垃圾邮件，绿色点代表正常邮件，横坐标为计算出来的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-1392" style="width: 2.776em; display: inline-block;"><span style="display: inline-block; width: 2.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1393"><span class="mi" id="MathJax-Span-1394" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1395" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1396" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1397"><span class="mrow" id="MathJax-Span-1398"><span class="mfrac" id="MathJax-Span-1399"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-1400" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="munderover" id="MathJax-Span-1401"><span style="display: inline-block; width: 0.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-1402" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1403"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 值，中间的红线代表阈值。 <br />
</p><center> <br />
<img alt="权重" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0203%E5%9E%83%E5%9C%BE%E9%82%AE%E4%BB%B6%E5%8C%BA%E5%88%86.jpg" title="" /> <br />
</center><p></p>



<h3 id="34-trick4分割样本">3.4 trick4：分割样本</h3>

<p>选取topk个词语的方法对于篇幅变动不大的邮件样本比较有效。但是对篇幅过大或者过小的邮件则会有判断误差。</p>

<p>比如这个垃圾邮件的例子：（“我”,“司”,“可”,“办理”,“正规发票”,“保真”,“增值税”,“发票”,“点数”,“优惠”)。分词出了10个词语，其中有“正规发票”、“发票”2个关键词。关键词的密度还是蛮大的，应该算是敏感邮件。但因为采用最高15个词语的权重求和，并且相应的阈值是基于15个词的情况有效，可能算出来的结果还小于之前的阈值，这就造成漏判了。</p>

<p>类似的，如果一封税务主题的邮件有1000个词语，其中只有“正规发票”、“发票”、“避税方法”3个权重比较大的词语，它们只是在正文表述中顺带提到的内容。关键词的密度被较长的篇幅稀释了，应该算是正常邮件。但是却被阈值判断成敏感邮件，造成误判了。</p>

<p><strong>这两种情况都说明topk关键词的方法需要考虑篇幅的影响</strong>。这里有许多种处理方式，<strong>它们的基本思想都是选取词语的个数及对应的阈值要与篇幅的大小成正比</strong>，本文只介绍其中一种方方法： <br />
- 对于长篇幅邮件，按一定的大小，比如每500字，将其分割成小的文本段落，再对小文本段落采用topk关键词的方法。只要其中有一个小文本段落超过阈值就判断整封邮件是垃圾邮件。 <br />
- 对于超短篇幅邮件，比如50字，可以按篇幅与标准比较篇幅的比例来选取topk，以确定应该匹配关键词语的个数。比如选取 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-1404" style="width: 6.829em; display: inline-block;"><span style="display: inline-block; width: 5.443em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1405"><span class="mfrac" id="MathJax-Span-1406"><span style="display: inline-block; width: 1.176em; height: 0px;"><span><span class="mn" id="MathJax-Span-1407" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">50</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1408" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">500</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-1409" style="font-family: STIXGeneral-Regular;">×</span><span class="mn" id="MathJax-Span-1410" style="font-family: STIXGeneral-Regular;">15</span><span class="mo" id="MathJax-Span-1411" style="font-family: STIXGeneral-Regular;">≈</span><span class="mn" id="MathJax-Span-1412" style="font-family: STIXGeneral-Regular;">2</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 个词语进行匹配，相应的阈值可以是之前阈值的 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-1413" style="width: 1.443em; display: inline-block;"><span style="display: inline-block; width: 1.123em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1414"><span class="mfrac" id="MathJax-Span-1415"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mn" id="MathJax-Span-1416" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1417" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">15</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span> 。以此来判断则更合理。</p>



<h3 id="35-trick5位置权重">3.5 trick5：位置权重</h3>

<p>到目前为止，我们对词语权重求和的过程都没有考虑邮件篇章结构的因素。比如“正规发票”如果出现在标题中应该比它出现在正文中对判断整个邮件的影响更大；而出现在段首句中又比其出现在段落正文中对判断整个邮件的影响更大。<strong>所以可以根据词语出现的位置，对其权重再乘以一个放大系数，以扩大其对整封邮件的影响，提高识别准确度</strong>。</p>

<p>比如一封邮件其标题是“正规发票”（假设标题的放大系数为2），段首句是“发票”,“点数”,“优惠”（假设段首的放大系数为1.5），剩下的句子是（“我”,“司”,“可”,“办理”,“保真”）。则计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-1418" style="width: 2.776em; display: inline-block;"><span style="display: inline-block; width: 2.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1419"><span class="mi" id="MathJax-Span-1420" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1421" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1422" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1423"><span class="mrow" id="MathJax-Span-1424"><span class="mfrac" id="MathJax-Span-1425"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-1426" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="munderover" id="MathJax-Span-1427"><span style="display: inline-block; width: 0.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-1428" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1429"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 时的公式就可以调整为：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-1430" style="width: 28.696em; display: inline-block;"><span style="display: inline-block; width: 22.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1431"><span style="display: inline-block; width: 22.936em; height: 0px;"><span><span class="mi" id="MathJax-Span-1432" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1433" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1434" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1435"><span class="mrow" id="MathJax-Span-1436"><span class="mfrac" id="MathJax-Span-1437"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-1438" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="munderover" id="MathJax-Span-1439"><span style="display: inline-block; width: 0.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-1440" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1441"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1442" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-1443" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-1444" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1445" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1446" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1447" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1448"><span class="mrow" id="MathJax-Span-1449"><span class="mfrac" id="MathJax-Span-1450"><span style="display: inline-block; width: 4.909em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1451"><span class="mi" id="MathJax-Span-1452" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1453" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1454" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1455"><span class="mrow" id="MathJax-Span-1456"><span class="mo" id="MathJax-Span-1457" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1458"><span class="mrow" id="MathJax-Span-1459"><span class="mo" id="MathJax-Span-1460" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1461"><span class="mrow" id="MathJax-Span-1462"><span class="mo" id="MathJax-Span-1463" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1464"><span class="mrow" id="MathJax-Span-1465"><span class="mo" id="MathJax-Span-1466" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1467" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1468"><span class="mrow" id="MathJax-Span-1469"><span class="mo" id="MathJax-Span-1470" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1471" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1472" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1473"><span class="mi" id="MathJax-Span-1474" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1475" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1476" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1477"><span class="mrow" id="MathJax-Span-1478"><span class="mo" id="MathJax-Span-1479" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1480"><span class="mrow" id="MathJax-Span-1481"><span class="mo" id="MathJax-Span-1482" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1483"><span class="mrow" id="MathJax-Span-1484"><span class="mo" id="MathJax-Span-1485" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1486"><span class="mrow" id="MathJax-Span-1487"><span class="mo" id="MathJax-Span-1488" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1489" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1490"><span class="mrow" id="MathJax-Span-1491"><span class="mo" id="MathJax-Span-1492" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1493" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1494" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1495" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-1496" style="font-family: STIXGeneral-Regular;">1.5</span><span class="mo" id="MathJax-Span-1497" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1498" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1499" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1500" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1501"><span class="mrow" id="MathJax-Span-1502"><span class="mfrac" id="MathJax-Span-1503"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1504"><span class="mi" id="MathJax-Span-1505" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1506" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1507" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1508"><span class="mrow" id="MathJax-Span-1509"><span class="mo" id="MathJax-Span-1510" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1511"><span class="mrow" id="MathJax-Span-1512"><span class="mo" id="MathJax-Span-1513" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1514" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1515"><span class="mrow" id="MathJax-Span-1516"><span class="mo" id="MathJax-Span-1517" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1518" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1519" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1520"><span class="mi" id="MathJax-Span-1521" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1522" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1523" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1524"><span class="mrow" id="MathJax-Span-1525"><span class="mo" id="MathJax-Span-1526" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1527"><span class="mrow" id="MathJax-Span-1528"><span class="mo" id="MathJax-Span-1529" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1530" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1531"><span class="mrow" id="MathJax-Span-1532"><span class="mo" id="MathJax-Span-1533" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1534" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1535" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1536" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-1537" style="font-family: STIXGeneral-Regular;">1.5</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1538" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1539" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1540" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1541" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1542"><span class="mrow" id="MathJax-Span-1543"><span class="mfrac" id="MathJax-Span-1544"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1545"><span class="mi" id="MathJax-Span-1546" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1547" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1548" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1549"><span class="mrow" id="MathJax-Span-1550"><span class="mo" id="MathJax-Span-1551" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1552"><span class="mrow" id="MathJax-Span-1553"><span class="mo" id="MathJax-Span-1554" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1555" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1556"><span class="mrow" id="MathJax-Span-1557"><span class="mo" id="MathJax-Span-1558" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1559" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1560" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1561"><span class="mi" id="MathJax-Span-1562" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1563" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1564" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1565"><span class="mrow" id="MathJax-Span-1566"><span class="mo" id="MathJax-Span-1567" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1568"><span class="mrow" id="MathJax-Span-1569"><span class="mo" id="MathJax-Span-1570" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1571" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1572"><span class="mrow" id="MathJax-Span-1573"><span class="mo" id="MathJax-Span-1574" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1575" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1576" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1577" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-1578" style="font-family: STIXGeneral-Regular;">1.5</span><span class="mo" id="MathJax-Span-1579" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1580" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1581" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1582" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1583"><span class="mrow" id="MathJax-Span-1584"><span class="mfrac" id="MathJax-Span-1585"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1586"><span class="mi" id="MathJax-Span-1587" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1588" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1589" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1590"><span class="mrow" id="MathJax-Span-1591"><span class="mo" id="MathJax-Span-1592" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1593"><span class="mrow" id="MathJax-Span-1594"><span class="mo" id="MathJax-Span-1595" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1596" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1597"><span class="mrow" id="MathJax-Span-1598"><span class="mo" id="MathJax-Span-1599" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1600" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1601" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1602"><span class="mi" id="MathJax-Span-1603" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1604" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1605" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1606"><span class="mrow" id="MathJax-Span-1607"><span class="mo" id="MathJax-Span-1608" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1609"><span class="mrow" id="MathJax-Span-1610"><span class="mo" id="MathJax-Span-1611" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1612" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1613"><span class="mrow" id="MathJax-Span-1614"><span class="mo" id="MathJax-Span-1615" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1616" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1617" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.016em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-1618" style="width: 28.909em; display: inline-block;"><span style="display: inline-block; width: 23.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1619"><span style="display: inline-block; width: 23.096em; height: 0px;"><span><span class="mo" id="MathJax-Span-1620" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1621" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1622" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1623" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1624"><span class="mrow" id="MathJax-Span-1625"><span class="mfrac" id="MathJax-Span-1626"><span style="display: inline-block; width: 2.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1627"><span class="mi" id="MathJax-Span-1628" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1629" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1630" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1631"><span class="mrow" id="MathJax-Span-1632"><span class="mo" id="MathJax-Span-1633" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1634" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1635"><span class="mrow" id="MathJax-Span-1636"><span class="mo" id="MathJax-Span-1637" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1638" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1639" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1640"><span class="mi" id="MathJax-Span-1641" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1642" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1643" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1644"><span class="mrow" id="MathJax-Span-1645"><span class="mo" id="MathJax-Span-1646" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1647" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1648"><span class="mrow" id="MathJax-Span-1649"><span class="mo" id="MathJax-Span-1650" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1651" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1652" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1653" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1654" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1655" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1656" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1657"><span class="mrow" id="MathJax-Span-1658"><span class="mfrac" id="MathJax-Span-1659"><span style="display: inline-block; width: 2.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1660"><span class="mi" id="MathJax-Span-1661" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1662" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1663" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1664"><span class="mrow" id="MathJax-Span-1665"><span class="mo" id="MathJax-Span-1666" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1667" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1668"><span class="mrow" id="MathJax-Span-1669"><span class="mo" id="MathJax-Span-1670" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1671" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1672" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1673"><span class="mi" id="MathJax-Span-1674" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1675" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1676" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1677"><span class="mrow" id="MathJax-Span-1678"><span class="mo" id="MathJax-Span-1679" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1680" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1681"><span class="mrow" id="MathJax-Span-1682"><span class="mo" id="MathJax-Span-1683" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1684" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1685" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1686" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1687" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1688" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1689" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1690"><span class="mrow" id="MathJax-Span-1691"><span class="mfrac" id="MathJax-Span-1692"><span style="display: inline-block; width: 2.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1693"><span class="mi" id="MathJax-Span-1694" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1695" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1696" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1697"><span class="mrow" id="MathJax-Span-1698"><span class="mo" id="MathJax-Span-1699" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1700" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1701"><span class="mrow" id="MathJax-Span-1702"><span class="mo" id="MathJax-Span-1703" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1704" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1705" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1706"><span class="mi" id="MathJax-Span-1707" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1708" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1709" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1710"><span class="mrow" id="MathJax-Span-1711"><span class="mo" id="MathJax-Span-1712" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1713" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1714"><span class="mrow" id="MathJax-Span-1715"><span class="mo" id="MathJax-Span-1716" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1717" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1718" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1719" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1720" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1721" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1722" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1723"><span class="mrow" id="MathJax-Span-1724"><span class="mfrac" id="MathJax-Span-1725"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1726"><span class="mi" id="MathJax-Span-1727" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1728" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1729" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1730"><span class="mrow" id="MathJax-Span-1731"><span class="mo" id="MathJax-Span-1732" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1733"><span class="mrow" id="MathJax-Span-1734"><span class="mo" id="MathJax-Span-1735" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1736" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1737"><span class="mrow" id="MathJax-Span-1738"><span class="mo" id="MathJax-Span-1739" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1740" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1741" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1742"><span class="mi" id="MathJax-Span-1743" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1744" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1745" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1746"><span class="mrow" id="MathJax-Span-1747"><span class="mo" id="MathJax-Span-1748" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1749"><span class="mrow" id="MathJax-Span-1750"><span class="mo" id="MathJax-Span-1751" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1752" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1753"><span class="mrow" id="MathJax-Span-1754"><span class="mo" id="MathJax-Span-1755" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1757" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1758" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1759" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1760" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1761" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1762"><span class="mrow" id="MathJax-Span-1763"><span class="mfrac" id="MathJax-Span-1764"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1765"><span class="mi" id="MathJax-Span-1766" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1767" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1768" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1769"><span class="mrow" id="MathJax-Span-1770"><span class="mo" id="MathJax-Span-1771" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1772"><span class="mrow" id="MathJax-Span-1773"><span class="mo" id="MathJax-Span-1774" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1775" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1776"><span class="mrow" id="MathJax-Span-1777"><span class="mo" id="MathJax-Span-1778" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1779" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1780" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1781"><span class="mi" id="MathJax-Span-1782" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1783" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1784" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1785"><span class="mrow" id="MathJax-Span-1786"><span class="mo" id="MathJax-Span-1787" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1788"><span class="mrow" id="MathJax-Span-1789"><span class="mo" id="MathJax-Span-1790" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1791" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1792"><span class="mrow" id="MathJax-Span-1793"><span class="mo" id="MathJax-Span-1794" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1795" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1796" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1797" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1798" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1799" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1800" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1801"><span class="mrow" id="MathJax-Span-1802"><span class="mfrac" id="MathJax-Span-1803"><span style="display: inline-block; width: 4.696em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1804"><span class="mi" id="MathJax-Span-1805" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1806" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1807" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1808"><span class="mrow" id="MathJax-Span-1809"><span class="mo" id="MathJax-Span-1810" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1811"><span class="mrow" id="MathJax-Span-1812"><span class="mo" id="MathJax-Span-1813" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-1814"><span class="mrow" id="MathJax-Span-1815"><span class="mo" id="MathJax-Span-1816" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1817"><span class="mrow" id="MathJax-Span-1818"><span class="mo" id="MathJax-Span-1819" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1820" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1821"><span class="mrow" id="MathJax-Span-1822"><span class="mo" id="MathJax-Span-1823" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1824" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1825" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1826"><span class="mi" id="MathJax-Span-1827" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1828" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1829" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1830"><span class="mrow" id="MathJax-Span-1831"><span class="mo" id="MathJax-Span-1832" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1833"><span class="mrow" id="MathJax-Span-1834"><span class="mo" id="MathJax-Span-1835" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-1836"><span class="mrow" id="MathJax-Span-1837"><span class="mo" id="MathJax-Span-1838" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1839"><span class="mrow" id="MathJax-Span-1840"><span class="mo" id="MathJax-Span-1841" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1842" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1843" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.963em;"></span></span></span><span></span></span></span></p>
</blockquote>



<h3 id="36-trick6蜜罐">3.6 trick6：蜜罐</h3>

<p>我们通过辛辛苦苦的统计与计算，好不容易得到了不同词语的权重。然而这并不是一劳永逸的。我们我们之前交代过，<strong>词语及其权重会随着时间不断变化，需要时不时地用最新的样本来训练以更新词语及其权重</strong>。</p>

<p>而搜集最新垃圾邮件有一个技巧，就是随便注册一些邮箱，然后将它们公布在各大论坛上。接下来就坐等一个月，到时候收到的邮件就绝大部分都是垃圾邮件了（好奸诈）。再找一些正常的邮件，基本就能够训练了。这些用于自动搜集垃圾邮件的邮箱叫做“蜜罐”。<strong>“蜜罐”是网络安全领域常用的手段，因其原理类似诱捕昆虫的装有蜜的罐子而得名</strong>。比如杀毒软件公司会利用蜜罐来监视或获得计算机网络中的病毒样本、攻击行为等。</p>



<h2 id="4-贝叶斯方法的思维方式">4. 贝叶斯方法的思维方式</h2>

<p>讲了这么多tricks，但这些手段都是建立在贝叶斯方法基础之上的。因此有必要探讨一下贝叶斯方法的思维方式，以便更好地应用这种方法解决实际问题。</p>



<h3 id="41-逆概问题">4.1 逆概问题</h3>

<p>我们重新看一眼贝叶斯公式：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-1844" style="width: 9.709em; display: inline-block;"><span style="display: inline-block; width: 7.736em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1845"><span class="mi" id="MathJax-Span-1846" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1847" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1848" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1849"><span class="mrow" id="MathJax-Span-1850"><span class="mo" id="MathJax-Span-1851" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1852" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1853" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1854" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-1855"><span style="display: inline-block; width: 3.416em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1856"><span class="mi" id="MathJax-Span-1857" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1858" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1859" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1860"><span class="mrow" id="MathJax-Span-1861"><span class="mo" id="MathJax-Span-1862" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1863" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1864" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1865" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1866" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1867" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1868" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1869"><span class="mi" id="MathJax-Span-1870" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1871" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1872" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1873" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>先不考虑先验概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-1874" style="width: 5.816em; display: inline-block;"><span style="display: inline-block; width: 4.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1875"><span class="mi" id="MathJax-Span-1876" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1877" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1878" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1879" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1880"><span class="mrow" id="MathJax-Span-1881"><span class="mo" id="MathJax-Span-1882"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">与</span></span></span></span><span class="mi" id="MathJax-Span-1883" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1884" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1885" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1886" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，观察两个后验概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-1887" style="width: 7.949em; display: inline-block;"><span style="display: inline-block; width: 6.349em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1888"><span class="mi" id="MathJax-Span-1889" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1890" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1891" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1892"><span class="mrow" id="MathJax-Span-1893"><span class="mo" id="MathJax-Span-1894" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1895" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1896" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1897"><span class="mrow" id="MathJax-Span-1898"><span class="mo" id="MathJax-Span-1899"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">与</span></span></span></span><span class="mi" id="MathJax-Span-1900" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1901" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1902" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1903"><span class="mrow" id="MathJax-Span-1904"><span class="mo" id="MathJax-Span-1905" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1906" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1907" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，可见贝叶斯公式能够揭示<strong>两个相反方向的条件概率之间的转换关系</strong>。</p>

<p>从贝叶斯公式的发现历史来看，其就是为了处理所谓“逆概”问题而诞生的。比如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-1908" style="width: 3.469em; display: inline-block;"><span style="display: inline-block; width: 2.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1909"><span class="mi" id="MathJax-Span-1910" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1911" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1912" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1913"><span class="mrow" id="MathJax-Span-1914"><span class="mo" id="MathJax-Span-1915" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1916" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1917" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 不能通过直接观测来得到结果，而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-1918" style="width: 3.469em; display: inline-block;"><span style="display: inline-block; width: 2.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1919"><span class="mi" id="MathJax-Span-1920" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1921" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1922" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1923"><span class="mrow" id="MathJax-Span-1924"><span class="mo" id="MathJax-Span-1925" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1926" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1927" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 却容易通过直接观测得到结果，就可以通过贝叶斯公式<strong>从间接地观测对象去推断不可直接观测的对象的情况</strong>。</p>

<p>好吧，我们说人话。基于邮件的文本内容判断其属于垃圾邮件的概率不好求（不可通过直接观测、统计得到），但是基于已经搜集好的垃圾邮件样本，去统计（直接观测）其文本内部各个词语的概率却非常方便。这就可以用贝叶斯方法。</p>

<p>引申一步，基于样本特征去判断其所属标签的概率不好求，但是基于已经搜集好的打上标签的样本（有监督），却可以直接统计属于同一标签的样本内部各个特征的概率分布。因此贝叶斯方法的理论视角适用于一切分类问题的求解。</p>



<h3 id="42-处理多分类问题">4.2 处理多分类问题</h3>

<p>前面我们一直在探讨二分类（判断题）问题，现在可以引申到多分类（单选题）问题了。</p>

<p>还是用邮件分类的例子，这是现在不只要判断垃圾邮件，还要将正常邮件细分为私人邮件、工作邮件。现在有这3类邮件各1万封作为样本。需要训练出一个贝叶斯分类器。这里依次用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-1928" style="width: 5.016em; display: inline-block;"><span style="display: inline-block; width: 4.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1929"><span class="msubsup" id="MathJax-Span-1930"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1931" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1932" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1933" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-1934"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1935" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1936" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1937" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-1938"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1939" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1940" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>表示这三类邮件，用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-1941" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1942"><span class="mi" id="MathJax-Span-1943" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>表示被判断的邮件。套用贝叶斯公式有：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-1944" style="width: 11.149em; display: inline-block;"><span style="display: inline-block; width: 8.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1945"><span class="mi" id="MathJax-Span-1946" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1947" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1948"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1949" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1950" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1951"><span class="mrow" id="MathJax-Span-1952"><span class="mo" id="MathJax-Span-1953" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1954" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1955" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1956" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-1957"><span style="display: inline-block; width: 4.163em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1958"><span class="mi" id="MathJax-Span-1959" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1960" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1961" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1962"><span class="mrow" id="MathJax-Span-1963"><span class="mo" id="MathJax-Span-1964" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-1965"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-1966" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1967" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-1968" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1969" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1970" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1971"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-1972" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1973" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-1974" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1975"><span class="mi" id="MathJax-Span-1976" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1977" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1978" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1979" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
   <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-1980" style="width: 11.149em; display: inline-block;"><span style="display: inline-block; width: 8.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1981"><span class="mi" id="MathJax-Span-1982" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1983" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1984"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-1985" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1986" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1987"><span class="mrow" id="MathJax-Span-1988"><span class="mo" id="MathJax-Span-1989" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1990" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1991" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1992" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-1993"><span style="display: inline-block; width: 4.163em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1994"><span class="mi" id="MathJax-Span-1995" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1996" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1997" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-1998"><span class="mrow" id="MathJax-Span-1999"><span class="mo" id="MathJax-Span-2000" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-2001"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-2002" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-2003" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-2004" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2005" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2006" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2007"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-2008" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-2009" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-2010" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2011"><span class="mi" id="MathJax-Span-2012" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2013" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-2014" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2015" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
   <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-2016" style="width: 11.149em; display: inline-block;"><span style="display: inline-block; width: 8.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2017"><span class="mi" id="MathJax-Span-2018" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2019" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2020"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2021" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2022" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-2023"><span class="mrow" id="MathJax-Span-2024"><span class="mo" id="MathJax-Span-2025" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2026" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2027" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2028" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-2029"><span style="display: inline-block; width: 4.163em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2030"><span class="mi" id="MathJax-Span-2031" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2032" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-2033" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-2034"><span class="mrow" id="MathJax-Span-2035"><span class="mo" id="MathJax-Span-2036" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-2037"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-2038" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-2039" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-2040" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2041" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2042" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2043"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-2044" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-2045" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-2046" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2047"><span class="mi" id="MathJax-Span-2048" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2049" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-2050" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2051" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>通过比较3个概率值的大小即可得到<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-2052" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2053"><span class="mi" id="MathJax-Span-2054" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>所属的分类。发现三个式子的分母<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-2055" style="width: 2.509em; display: inline-block;"><span style="display: inline-block; width: 1.976em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2056"><span class="mi" id="MathJax-Span-2057" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2058" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-2059" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2060" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 一样，比较大小时可以忽略不计，于是就可以用下面这一个式子表达上面3式：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-2061" style="width: 17.869em; display: inline-block;"><span style="display: inline-block; width: 14.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2062"><span class="mi" id="MathJax-Span-2063" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2064" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2065"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2066" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2067" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-2068"><span class="mrow" id="MathJax-Span-2069"><span class="mo" id="MathJax-Span-2070" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2071" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2072" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2073" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-2074" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2075" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-2076" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-2077"><span class="mrow" id="MathJax-Span-2078"><span class="mo" id="MathJax-Span-2079" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-2080"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2081" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2082" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2083" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2084" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2085" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2086"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2087" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2088" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2089" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2090"><span class="mrow" id="MathJax-Span-2091"><span class="mo" id="MathJax-Span-2092"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-2093" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2094" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2095" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-2096" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-2097" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-2098" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-2099" style="font-family: STIXGeneral-Regular;">3</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>其中 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-37-Frame"><span class="math" id="MathJax-Span-2100" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2101"><span class="mo" id="MathJax-Span-2102" style="font-family: STIXGeneral-Regular;">∝</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 表示“正比于”。而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame"><span class="math" id="MathJax-Span-2103" style="width: 3.843em; display: inline-block;"><span style="display: inline-block; width: 3.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2104"><span class="mi" id="MathJax-Span-2105" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2106" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-2107" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-2108"><span class="mrow" id="MathJax-Span-2109"><span class="mo" id="MathJax-Span-2110" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-2111"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2112" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2113" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2114" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> 则有个特别高逼格的名字叫做“<strong>似然函数</strong>”。我们上大学的时候也被这个名字搞得晕晕乎乎的，其实它也是个概率，直接理解成<strong>“<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-39-Frame"><span class="math" id="MathJax-Span-2115" style="width: 3.879em; display: inline-block;"><span style="display: inline-block; width: 3em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-2116"><span class="mi" id="MathJax-Span-2117" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2118" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2119"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-2120" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-2121" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="texatom" id="MathJax-Span-2122"><span class="mrow" id="MathJax-Span-2123"><span class="mo" id="MathJax-Span-2124" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2125" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mo" id="MathJax-Span-2126" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span> 的逆反条件概率”</strong> 就方便了。</p>

<p>这里只是以垃圾邮件3分类问题举了个例子，<strong>对于任意多分类的问题都可以用这样的思路去理解。比如新闻分类、情感喜怒哀乐分类等等</strong>。</p>



<h3 id="43-先验概率的问题">4.3 先验概率的问题</h3>

<p>在垃圾邮件的例子中，先验概率都相等，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-40-Frame"><span class="math" id="MathJax-Span-2127" style="width: 23.469em; display: inline-block;"><span style="display: inline-block; width: 18.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2128"><span class="mi" id="MathJax-Span-2129" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2130" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2131"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2132" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2133" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2134" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2135" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2136" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2137" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2138"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2139" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2140" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2141" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2142" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2143" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2144" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2145"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2146" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2147" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2148" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2149" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2150" style="font-family: STIXGeneral-Regular;">10000</span><span class="texatom" id="MathJax-Span-2151"><span class="mrow" id="MathJax-Span-2152"><span class="mo" id="MathJax-Span-2153" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2154" style="font-family: STIXGeneral-Regular;">30000</span><span class="mo" id="MathJax-Span-2155" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2156" style="font-family: STIXGeneral-Regular;">1</span><span class="texatom" id="MathJax-Span-2157"><span class="mrow" id="MathJax-Span-2158"><span class="mo" id="MathJax-Span-2159" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2160" style="font-family: STIXGeneral-Regular;">3</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，所以上面是式子又可以进一步化简：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-41-Frame"><span class="math" id="MathJax-Span-2161" style="width: 15.203em; display: inline-block;"><span style="display: inline-block; width: 12.163em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2162"><span class="mi" id="MathJax-Span-2163" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2164" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2165"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2166" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2167" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-2168"><span class="mrow" id="MathJax-Span-2169"><span class="mo" id="MathJax-Span-2170" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2171" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2172" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2173" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-2174" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2175" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-2176" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-2177"><span class="mrow" id="MathJax-Span-2178"><span class="mo" id="MathJax-Span-2179" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-2180"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2181" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2182" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2183" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2184"><span class="mrow" id="MathJax-Span-2185"><span class="mo" id="MathJax-Span-2186"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-2187" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2188" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2189" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-2190" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-2191" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-2192" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-2193" style="font-family: STIXGeneral-Regular;">3</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>只需比较右边式子（也就是“似然函数”）的大小就可以了。这种方法就是传说中的<strong>最大似然法</strong>:不考虑先验概率而直接比较似然函数。</p>

<p>关于选出最佳分类<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-42-Frame"><span class="math" id="MathJax-Span-2194" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2195"><span class="msubsup" id="MathJax-Span-2196"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2197" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2198" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是否要考虑先验概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-43-Frame"><span class="math" id="MathJax-Span-2199" style="width: 2.669em; display: inline-block;"><span style="display: inline-block; width: 2.136em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2200"><span class="mi" id="MathJax-Span-2201" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2202" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2203"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-2204" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-2205" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2206" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的问题，曾经在频率学派和贝叶斯学派之间产生了激烈的教派冲突。统计学家（频率学派）说：我们让数据自己说话。言下之意就是要摒弃先验概率。而贝叶斯学派支持者则说：数据会有各种各样的偏差，而一个<strong>靠谱的先验概率</strong>则可以对这些随机噪音做到健壮。对此有兴趣的同学可以找更多资料进行了解，本文在此不做更多的引申，只基于垃圾邮件识别的例子进行探讨。</p>

<p>比如我们在采集垃圾邮件样本的时候，不小心delete掉了一半的数据，就剩下5000封邮件。则计算出来的先验概率为:</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-44-Frame"><span class="math" id="MathJax-Span-2207" style="width: 13.816em; display: inline-block;"><span style="display: inline-block; width: 11.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2208"><span class="mi" id="MathJax-Span-2209" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2210" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2211"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2212" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2213" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2214" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2215" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2216" style="font-family: STIXGeneral-Regular;">5000</span><span class="texatom" id="MathJax-Span-2217"><span class="mrow" id="MathJax-Span-2218"><span class="mo" id="MathJax-Span-2219" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2220" style="font-family: STIXGeneral-Regular;">25000</span><span class="mo" id="MathJax-Span-2221" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2222" style="font-family: STIXGeneral-Regular;">1</span><span class="texatom" id="MathJax-Span-2223"><span class="mrow" id="MathJax-Span-2224"><span class="mo" id="MathJax-Span-2225" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2226" style="font-family: STIXGeneral-Regular;">5</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>， <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-45-Frame"><span class="math" id="MathJax-Span-2227" style="width: 18.936em; display: inline-block;"><span style="display: inline-block; width: 15.149em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2228"><span class="mi" id="MathJax-Span-2229" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2230" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2231"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2232" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2233" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2234" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2235" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2236" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2237" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2238"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2239" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2240" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2241" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2242" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2243" style="font-family: STIXGeneral-Regular;">10000</span><span class="texatom" id="MathJax-Span-2244"><span class="mrow" id="MathJax-Span-2245"><span class="mo" id="MathJax-Span-2246" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2247" style="font-family: STIXGeneral-Regular;">25000</span><span class="mo" id="MathJax-Span-2248" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2249" style="font-family: STIXGeneral-Regular;">2</span><span class="texatom" id="MathJax-Span-2250"><span class="mrow" id="MathJax-Span-2251"><span class="mo" id="MathJax-Span-2252" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2253" style="font-family: STIXGeneral-Regular;">5</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>如果还用贝叶斯方法,就要在似然函数后面乘上先验概率。比如之前用最大似然法算出<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-46-Frame"><span class="math" id="MathJax-Span-2254" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; width: 1.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2255"><span class="msubsup" id="MathJax-Span-2256"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2257" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2258" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span> 垃圾邮件的概率大，但是因为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-47-Frame"><span class="math" id="MathJax-Span-2259" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; width: 2.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2260"><span class="mi" id="MathJax-Span-2261" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2262" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2263"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2264" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2265" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2266" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>特别小，用贝叶斯方法得出的结果是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-48-Frame"><span class="math" id="MathJax-Span-2267" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; width: 1.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2268"><span class="msubsup" id="MathJax-Span-2269"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2270" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2271" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span> 私人邮件的概率大。那相信哪个呢？其实，我们删掉了部分带标签的样本，从计算结果看<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-49-Frame"><span class="math" id="MathJax-Span-2272" style="width: 10.616em; display: inline-block;"><span style="display: inline-block; width: 8.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2273"><span class="mi" id="MathJax-Span-2274" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2275" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2276"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2277" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2278" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2279" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2280"><span class="mrow" id="MathJax-Span-2281"><span class="mo" id="MathJax-Span-2282"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mi" id="MathJax-Span-2283" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2284" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2285"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2286" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2287" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2288" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2289"><span class="mrow" id="MathJax-Span-2290"><span class="mo" id="MathJax-Span-2291"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mi" id="MathJax-Span-2292" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2293" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-2294"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-2295" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2296" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2297" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的概率分布变化了，但实际上<strong>这三个类别的真实分布应该是一个客观的状态，不应该因为我们的计算方法而发生变化</strong>。所以是我们计算出来的先验概率失真，应该放弃这样计算出来的先验概率，而用最大似然法。但即便我们不删掉一半垃圾邮件，这三类邮件的分布就真的是1:1:1那样平均吗？那也未必。<strong>我们只是按1:1:1这样的方式进行了抽样而已，真正在邮箱里收到的这三类邮件的分布可能并不是这样</strong>。也就是说，<strong>在我们对于先验概率一无所知时，只能假设每种猜测的先验概率是均等的（其实这也是人类经验的结果），这个时候就只有用最大似然了</strong>。在现实运用过程中如果发现最大似然法有偏差，可以考虑对不同的似然函数设定一些系数或者阈值，使其接近真实情况。</p>

<p>但是，<strong>如果我们有足够的自信，训练集中这三类的样本分布的确很接近真实的情况，这时就应该用贝叶斯方法</strong>。难怪前面的贝叶斯学派强调的是“靠谱的先验概率”。所以说<strong>贝叶斯学派的适用范围更广，关键要先验概率靠谱，而频率学派有效的前提也是他们的先验概率同样是经验统计的结果</strong>。</p>



<h2 id="5-朴素贝叶斯方法的常见应用">5. (朴素)贝叶斯方法的常见应用</h2>

<p>说了这么多理论的问题，咱们就可以探讨一下(朴素)贝叶斯方法在自然语言处理中的一些常见应用了。以下只是从原理上进行探讨，对于具体的技术细节顾及不多。</p>



<h3 id="51-褒贬分析">5.1 褒贬分析</h3>

<p>一个比较常见的应用场景是情感褒贬分析。比如你要统计微博上人们对一个新上映电影的褒贬程度评价：好片还是烂片。但是一条一条地看微博是根本看不过来，只能用自动化的方法。我们可以有一个很粗略的思路：</p>

<ul>
<li>首先是用爬虫将微博上提到这个电影名字的微博全都抓取下来，比如有10万条。</li>
<li>然后用训练好的朴素贝叶斯分类器分别判断这些微博对电影是好评还是差评。</li>
<li>最后统计出这些好评的影评占所有样本中的比例，就能形成微博网友对这个电影综合评价的大致估计。</li>
</ul>

<p>接下来的核心问题就是训练出一个靠谱的分类器。首先需要有打好标签的文本。这个好找，豆瓣影评上就有大量网友对之前电影的评价，并且对电影进行1星到5星的评价。我们可以认为3星以上的评论都是好评，3星以下的评论都是差评。这样就分别得到了好评差评两类的语料样本。剩下就可以用朴素贝叶斯方法进行训练了。基本思路如下：</p>

<ul>
<li>训练与测试样本：豆瓣影评的网友评论，用爬虫抓取下100万条。</li>
<li>标签：3星以上的是好评，3星以下的是差评。</li>
<li>特征：豆瓣评论分词后的词语。一个简单的方法是只选择其中的形容词，网上有大量的情绪词库可以为我们所用。</li>
<li>然后再用常规的朴素贝叶斯方法进行训练。</li>
</ul>

<p>但是由于自然语言的特点，在提取特征的过程当中，有一些tricks需要注意：</p>

<ul>
<li><strong>对否定句进行特别的处理</strong>。比如这句话“我不是很喜欢部电影，因为它让我开心不起来。”其中两个形容词“喜欢”、“开心”都是褒义词，但是因为句子的否定句，所以整体是贬义的。有一种比较简单粗暴的处理方式，就是<strong>“对否定词（“不”、“非”、“没”等）与句尾标点之间的所有形容词都采用其否定形式”</strong> 。则这句话中提取出来的形容词就应该是“不喜欢”和“不开心”。</li>
<li>一般说来，最相关的情感词在一些文本片段中仅仅出现一次，词频模型起得作用有限，甚至是负作用，<strong>则使用伯努利模型代替多项式模型</strong>。这种情况在微博这样的小篇幅文本中似乎不太明显，但是在博客、空间、论坛之类允许长篇幅文本出现的平台中需要注意。</li>
<li>其实，副词对情感的评价有一定影响。“不很喜欢”与“很不喜欢”的程度就有很大差异。但如果是朴素贝叶斯方法的话比较难处理这样的情况。我们可以考虑用语言模型或者加入词性标注的信息进行综合判断。这些内容我们将在之后的文章进行探讨。</li>
</ul>

<p>当然经过以上的处理，情感分析还是会有一部分误判。这里涉及到许多问题，都是情感分析的难点：</p>

<ul>
<li><strong>情绪表达的含蓄微妙</strong>：“导演你出来，我保证不打死你。”你让机器怎么判断是褒还是贬？</li>
<li><strong>转折性表达</strong>：“我非常喜欢这些大牌演员，非常崇拜这个导演，非常赞赏这个剧本，非常欣赏他们的预告片，我甚至为了这部影片整整期待了一年，最后进了电影院发现这是个噩梦。” 五个褒义的形容词、副词对一个不那么贬义的词。机器自然判断成褒义，但这句话是妥妥的贬义。</li>
</ul>



<h3 id="52-拼写纠错">5.2 拼写纠错</h3>

<p>拼写纠错本质上也是一个分类问题。但按照错误类型不同，又分为两种情况：</p>

<ul>
<li>非词错误（Non-word Errors）：指那些拼写错误后的词本身就不合法，如将“wifi”写成“wify”；</li>
<li>真词错误（Real-word Errors）：指那些拼写错误后的词仍然是合法的情况，如将“wifi”写成“wife”。</li>
</ul>

<p>真词错误复杂一些，我们将在接下来的文章中进行探讨。而对于非词错误，就可以直接采用贝叶斯方法，其基本思路如下：</p>

<ul>
<li>标签：通过计算错误词语的最小编辑距离（之前咱们提到过的），获取最相似的候选词，每个候选词作为一个分类。</li>
<li>特征：拼写错误的词本身。因为它就一个特征，所以没有什么条件独立性假设、朴素贝叶斯啥的。它就是纯而又纯的贝叶斯方法。</li>
<li><p>判别公式:</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-50-Frame"><span class="math" id="MathJax-Span-2298" style="width: 31.149em; display: inline-block;"><span style="display: inline-block; width: 24.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2299"><span class="mi" id="MathJax-Span-2300" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2301" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2302"><span class="mrow" id="MathJax-Span-2303"><span class="mo" id="MathJax-Span-2304"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2305"><span class="mrow" id="MathJax-Span-2306"><span class="mo" id="MathJax-Span-2307"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2308"><span class="mrow" id="MathJax-Span-2309"><span class="mo" id="MathJax-Span-2310"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2311" style="font-family: STIXGeneral-Italic;">i</span><span class="texatom" id="MathJax-Span-2312"><span class="mrow" id="MathJax-Span-2313"><span class="mo" id="MathJax-Span-2314" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-2315"><span class="mrow" id="MathJax-Span-2316"><span class="mo" id="MathJax-Span-2317"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">错</span></span></span></span><span class="texatom" id="MathJax-Span-2318"><span class="mrow" id="MathJax-Span-2319"><span class="mo" id="MathJax-Span-2320"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">误</span></span></span></span><span class="texatom" id="MathJax-Span-2321"><span class="mrow" id="MathJax-Span-2322"><span class="mo" id="MathJax-Span-2323"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mo" id="MathJax-Span-2324" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2325" style="font-family: STIXGeneral-Regular;">∝</span><span class="mi" id="MathJax-Span-2326" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2327" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2328"><span class="mrow" id="MathJax-Span-2329"><span class="mo" id="MathJax-Span-2330"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">错</span></span></span></span><span class="texatom" id="MathJax-Span-2331"><span class="mrow" id="MathJax-Span-2332"><span class="mo" id="MathJax-Span-2333"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">误</span></span></span></span><span class="texatom" id="MathJax-Span-2334"><span class="mrow" id="MathJax-Span-2335"><span class="mo" id="MathJax-Span-2336"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2337"><span class="mrow" id="MathJax-Span-2338"><span class="mo" id="MathJax-Span-2339" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-2340"><span class="mrow" id="MathJax-Span-2341"><span class="mo" id="MathJax-Span-2342"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2343"><span class="mrow" id="MathJax-Span-2344"><span class="mo" id="MathJax-Span-2345"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2346"><span class="mrow" id="MathJax-Span-2347"><span class="mo" id="MathJax-Span-2348"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2349" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2350" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2351" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2352" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2353"><span class="mrow" id="MathJax-Span-2354"><span class="mo" id="MathJax-Span-2355"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2356"><span class="mrow" id="MathJax-Span-2357"><span class="mo" id="MathJax-Span-2358"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2359"><span class="mrow" id="MathJax-Span-2360"><span class="mo" id="MathJax-Span-2361"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2362" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2363" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2364"><span class="mrow" id="MathJax-Span-2365"><span class="mo" id="MathJax-Span-2366"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">；</span></span></span></span><span class="mi" id="MathJax-Span-2367" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2368" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-2369" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-2370" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-2371" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-2372" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-2373" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-2374" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2375" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-2376" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-2377" style="font-family: STIXGeneral-Regular;">.</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote></li>
<li><p>训练样本1：该场景下的正常用词语料库，用于计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-51-Frame"><span class="math" id="MathJax-Span-2378" style="width: 5.016em; display: inline-block;"><span style="display: inline-block; width: 4.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2379"><span class="mi" id="MathJax-Span-2380" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2381" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2382"><span class="mrow" id="MathJax-Span-2383"><span class="mo" id="MathJax-Span-2384"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2385"><span class="mrow" id="MathJax-Span-2386"><span class="mo" id="MathJax-Span-2387"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2388"><span class="mrow" id="MathJax-Span-2389"><span class="mo" id="MathJax-Span-2390"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2391" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2392" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-52-Frame"><span class="math" id="MathJax-Span-2393" style="width: 13.496em; display: inline-block;"><span style="display: inline-block; width: 10.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2394"><span class="mi" id="MathJax-Span-2395" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2396" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2397"><span class="mrow" id="MathJax-Span-2398"><span class="mo" id="MathJax-Span-2399"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2400"><span class="mrow" id="MathJax-Span-2401"><span class="mo" id="MathJax-Span-2402"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2403"><span class="mrow" id="MathJax-Span-2404"><span class="mo" id="MathJax-Span-2405"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2406" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2407" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2408" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-2409"><span style="display: inline-block; width: 5.229em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2410"><span class="texatom" id="MathJax-Span-2411"><span class="mrow" id="MathJax-Span-2412"><span class="mo" id="MathJax-Span-2413" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2414"><span class="mrow" id="MathJax-Span-2415"><span class="mo" id="MathJax-Span-2416" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2417"><span class="mrow" id="MathJax-Span-2418"><span class="mo" id="MathJax-Span-2419" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2420"><span class="mrow" id="MathJax-Span-2421"><span class="mo" id="MathJax-Span-2422" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2423"><span class="mrow" id="MathJax-Span-2424"><span class="mo" id="MathJax-Span-2425" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2426"><span class="mrow" id="MathJax-Span-2427"><span class="mo" id="MathJax-Span-2428" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2429"><span class="mrow" id="MathJax-Span-2430"><span class="mo" id="MathJax-Span-2431" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2432"><span class="mrow" id="MathJax-Span-2433"><span class="mo" id="MathJax-Span-2434" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mrow" id="MathJax-Span-2435"><span class="texatom" id="MathJax-Span-2436"><span class="mrow" id="MathJax-Span-2437"><span class="mo" id="MathJax-Span-2438" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-2439"><span class="mrow" id="MathJax-Span-2440"><span class="mo" id="MathJax-Span-2441" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-2442"><span class="mrow" id="MathJax-Span-2443"><span class="mo" id="MathJax-Span-2444" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2445"><span class="mrow" id="MathJax-Span-2446"><span class="mo" id="MathJax-Span-2447" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2448"><span class="mrow" id="MathJax-Span-2449"><span class="mo" id="MathJax-Span-2450" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2451"><span class="mrow" id="MathJax-Span-2452"><span class="mo" id="MathJax-Span-2453" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2454"><span class="mrow" id="MathJax-Span-2455"><span class="mo" id="MathJax-Span-2456" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2457"><span class="mrow" id="MathJax-Span-2458"><span class="mo" id="MathJax-Span-2459" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote></li>
<li><p>训练样本2：该场景下错误词与正确词对应关系的语料库，用于计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-53-Frame"><span class="math" id="MathJax-Span-2460" style="width: 8.216em; display: inline-block;"><span style="display: inline-block; width: 6.563em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2461"><span class="mi" id="MathJax-Span-2462" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2463" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2464"><span class="mrow" id="MathJax-Span-2465"><span class="mo" id="MathJax-Span-2466"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">错</span></span></span></span><span class="texatom" id="MathJax-Span-2467"><span class="mrow" id="MathJax-Span-2468"><span class="mo" id="MathJax-Span-2469"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">误</span></span></span></span><span class="texatom" id="MathJax-Span-2470"><span class="mrow" id="MathJax-Span-2471"><span class="mo" id="MathJax-Span-2472"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2473"><span class="mrow" id="MathJax-Span-2474"><span class="mo" id="MathJax-Span-2475" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-2476"><span class="mrow" id="MathJax-Span-2477"><span class="mo" id="MathJax-Span-2478"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2479"><span class="mrow" id="MathJax-Span-2480"><span class="mo" id="MathJax-Span-2481"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2482"><span class="mrow" id="MathJax-Span-2483"><span class="mo" id="MathJax-Span-2484"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2485" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2486" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-54-Frame"><span class="math" id="MathJax-Span-2487" style="width: 22.296em; display: inline-block;"><span style="display: inline-block; width: 17.816em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2488"><span class="mi" id="MathJax-Span-2489" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2490" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2491"><span class="mrow" id="MathJax-Span-2492"><span class="mo" id="MathJax-Span-2493"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">错</span></span></span></span><span class="texatom" id="MathJax-Span-2494"><span class="mrow" id="MathJax-Span-2495"><span class="mo" id="MathJax-Span-2496"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">误</span></span></span></span><span class="texatom" id="MathJax-Span-2497"><span class="mrow" id="MathJax-Span-2498"><span class="mo" id="MathJax-Span-2499"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2500"><span class="mrow" id="MathJax-Span-2501"><span class="mo" id="MathJax-Span-2502" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-2503"><span class="mrow" id="MathJax-Span-2504"><span class="mo" id="MathJax-Span-2505"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2506"><span class="mrow" id="MathJax-Span-2507"><span class="mo" id="MathJax-Span-2508"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2509"><span class="mrow" id="MathJax-Span-2510"><span class="mo" id="MathJax-Span-2511"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2512" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2513" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2514" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-2515"><span style="display: inline-block; width: 9.709em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2516"><span class="texatom" id="MathJax-Span-2517"><span class="mrow" id="MathJax-Span-2518"><span class="mo" id="MathJax-Span-2519" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2520"><span class="mrow" id="MathJax-Span-2521"><span class="mo" id="MathJax-Span-2522" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2523"><span class="mrow" id="MathJax-Span-2524"><span class="mo" id="MathJax-Span-2525" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2526"><span class="mrow" id="MathJax-Span-2527"><span class="mo" id="MathJax-Span-2528" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="texatom" id="MathJax-Span-2529"><span class="mrow" id="MathJax-Span-2530"><span class="mo" id="MathJax-Span-2531" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">拼</span></span></span></span><span class="texatom" id="MathJax-Span-2532"><span class="mrow" id="MathJax-Span-2533"><span class="mo" id="MathJax-Span-2534" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">写</span></span></span></span><span class="texatom" id="MathJax-Span-2535"><span class="mrow" id="MathJax-Span-2536"><span class="mo" id="MathJax-Span-2537" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">成</span></span></span></span><span class="texatom" id="MathJax-Span-2538"><span class="mrow" id="MathJax-Span-2539"><span class="mo" id="MathJax-Span-2540" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">该</span></span></span></span><span class="mo" id="MathJax-Span-2541" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2542"><span class="mrow" id="MathJax-Span-2543"><span class="mo" id="MathJax-Span-2544" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">错</span></span></span></span><span class="texatom" id="MathJax-Span-2545"><span class="mrow" id="MathJax-Span-2546"><span class="mo" id="MathJax-Span-2547" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">误</span></span></span></span><span class="texatom" id="MathJax-Span-2548"><span class="mrow" id="MathJax-Span-2549"><span class="mo" id="MathJax-Span-2550" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mo" id="MathJax-Span-2551" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2552"><span class="mrow" id="MathJax-Span-2553"><span class="mo" id="MathJax-Span-2554" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2555"><span class="mrow" id="MathJax-Span-2556"><span class="mo" id="MathJax-Span-2557" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2558"><span class="mrow" id="MathJax-Span-2559"><span class="mo" id="MathJax-Span-2560" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2561"><span class="texatom" id="MathJax-Span-2562"><span class="mrow" id="MathJax-Span-2563"><span class="mo" id="MathJax-Span-2564" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2565"><span class="mrow" id="MathJax-Span-2566"><span class="mo" id="MathJax-Span-2567" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2568"><span class="mrow" id="MathJax-Span-2569"><span class="mo" id="MathJax-Span-2570" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2571"><span class="mrow" id="MathJax-Span-2572"><span class="mo" id="MathJax-Span-2573" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2574"><span class="mrow" id="MathJax-Span-2575"><span class="mo" id="MathJax-Span-2576" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2577"><span class="mrow" id="MathJax-Span-2578"><span class="mo" id="MathJax-Span-2579" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2580"><span class="mrow" id="MathJax-Span-2581"><span class="mo" id="MathJax-Span-2582" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2583"><span class="mrow" id="MathJax-Span-2584"><span class="mo" id="MathJax-Span-2585" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote></li>
</ul>

<p>由于自然语言的特点，有一些tricks需要注意：</p>

<ul>
<li>据统计，80%的拼写错误编辑距离为1，几乎所有的拼写错误编辑距离小于等于2。我们<strong>只选择编辑距离为1或2的词作为候选词，这样就可以减少大量不必要的计算</strong>。</li>
<li><p>由于我们只选择编辑距离为1或2的词，其差别只是一两个字母级别差别。因此计算似然函数的时候，<strong>可以只统计字母层面的编辑错误，这样搜集的样本更多，更满足大数定律，也更简单</strong>。对于编辑距离为1的似然函数计算公式可以进化为：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-55-Frame"><span class="math" id="MathJax-Span-2586" style="width: 22.509em; display: inline-block;"><span style="display: inline-block; width: 17.976em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2587"><span class="mi" id="MathJax-Span-2588" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2589" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2590"><span class="mrow" id="MathJax-Span-2591"><span class="mo" id="MathJax-Span-2592"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">错</span></span></span></span><span class="texatom" id="MathJax-Span-2593"><span class="mrow" id="MathJax-Span-2594"><span class="mo" id="MathJax-Span-2595"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">误</span></span></span></span><span class="texatom" id="MathJax-Span-2596"><span class="mrow" id="MathJax-Span-2597"><span class="mo" id="MathJax-Span-2598"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2599"><span class="mrow" id="MathJax-Span-2600"><span class="mo" id="MathJax-Span-2601" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-2602"><span class="mrow" id="MathJax-Span-2603"><span class="mo" id="MathJax-Span-2604"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">候</span></span></span></span><span class="texatom" id="MathJax-Span-2605"><span class="mrow" id="MathJax-Span-2606"><span class="mo" id="MathJax-Span-2607"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">选</span></span></span></span><span class="texatom" id="MathJax-Span-2608"><span class="mrow" id="MathJax-Span-2609"><span class="mo" id="MathJax-Span-2610"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="mi" id="MathJax-Span-2611" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-2612" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-2613" style="font-family: STIXGeneral-Regular;">=</span><span class="mrow" id="MathJax-Span-2614"><span class="mo" id="MathJax-Span-2615" style="vertical-align: 4.056em;"><span style="display: inline-block; width: 0.643em; height: 0px;"><span>⎧<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="font-family: STIXSizeOneSym;">⎩<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="font-family: STIXSizeOneSym;">⎨<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="font-family: STIXSizeOneSym;">⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="font-family: STIXSizeOneSym;">⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="font-family: STIXSizeOneSym;">⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="mtable" id="MathJax-Span-2616"><span style="display: inline-block; width: 8.803em; height: 0px;"><span><span style="display: inline-block; width: 8.803em; height: 0px;"><span><span class="mtd" id="MathJax-Span-2617"><span class="mrow" id="MathJax-Span-2618"><span class="mfrac" id="MathJax-Span-2619"><span style="display: inline-block; width: 8.109em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2620"><span class="texatom" id="MathJax-Span-2621"><span class="mrow" id="MathJax-Span-2622"><span class="mo" id="MathJax-Span-2623" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2624"><span class="mrow" id="MathJax-Span-2625"><span class="mo" id="MathJax-Span-2626" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2627" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2628" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-2629" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-2630" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2631"><span class="mrow" id="MathJax-Span-2632"><span class="mo" id="MathJax-Span-2633" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="texatom" id="MathJax-Span-2634"><span class="mrow" id="MathJax-Span-2635"><span class="mo" id="MathJax-Span-2636" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">拼</span></span></span></span><span class="texatom" id="MathJax-Span-2637"><span class="mrow" id="MathJax-Span-2638"><span class="mo" id="MathJax-Span-2639" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">写</span></span></span></span><span class="texatom" id="MathJax-Span-2640"><span class="mrow" id="MathJax-Span-2641"><span class="mo" id="MathJax-Span-2642" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">成</span></span></span></span><span class="mo" id="MathJax-Span-2643" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2644" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-2645" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2646"><span class="mrow" id="MathJax-Span-2647"><span class="mo" id="MathJax-Span-2648" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2649"><span class="mrow" id="MathJax-Span-2650"><span class="mo" id="MathJax-Span-2651" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2652"><span class="mrow" id="MathJax-Span-2653"><span class="mo" id="MathJax-Span-2654" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2655"><span class="texatom" id="MathJax-Span-2656"><span class="mrow" id="MathJax-Span-2657"><span class="mo" id="MathJax-Span-2658" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2659"><span class="mrow" id="MathJax-Span-2660"><span class="mo" id="MathJax-Span-2661" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2662" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2663" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-2664" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-2665" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2666"><span class="mrow" id="MathJax-Span-2667"><span class="mo" id="MathJax-Span-2668" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2669"><span class="mrow" id="MathJax-Span-2670"><span class="mo" id="MathJax-Span-2671" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2672"><span class="mrow" id="MathJax-Span-2673"><span class="mo" id="MathJax-Span-2674" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2675"><span class="mrow" id="MathJax-Span-2676"><span class="mo" id="MathJax-Span-2677" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2678"><span class="mrow" id="MathJax-Span-2679"><span class="mo" id="MathJax-Span-2680" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-2681" style="font-family: STIXGeneral-Regular;">,</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-2682"><span class="mrow" id="MathJax-Span-2683"><span class="mfrac" id="MathJax-Span-2684"><span style="display: inline-block; width: 8.109em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2685"><span class="texatom" id="MathJax-Span-2686"><span class="mrow" id="MathJax-Span-2687"><span class="mo" id="MathJax-Span-2688" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2689"><span class="mrow" id="MathJax-Span-2690"><span class="mo" id="MathJax-Span-2691" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2692" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2693" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2694" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2695"><span class="mrow" id="MathJax-Span-2696"><span class="mo" id="MathJax-Span-2697" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="texatom" id="MathJax-Span-2698"><span class="mrow" id="MathJax-Span-2699"><span class="mo" id="MathJax-Span-2700" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">拼</span></span></span></span><span class="texatom" id="MathJax-Span-2701"><span class="mrow" id="MathJax-Span-2702"><span class="mo" id="MathJax-Span-2703" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">写</span></span></span></span><span class="texatom" id="MathJax-Span-2704"><span class="mrow" id="MathJax-Span-2705"><span class="mo" id="MathJax-Span-2706" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">成</span></span></span></span><span class="mo" id="MathJax-Span-2707" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2708" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-2709" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-2710" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2711"><span class="mrow" id="MathJax-Span-2712"><span class="mo" id="MathJax-Span-2713" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2714"><span class="mrow" id="MathJax-Span-2715"><span class="mo" id="MathJax-Span-2716" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2717"><span class="mrow" id="MathJax-Span-2718"><span class="mo" id="MathJax-Span-2719" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2720"><span class="texatom" id="MathJax-Span-2721"><span class="mrow" id="MathJax-Span-2722"><span class="mo" id="MathJax-Span-2723" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2724"><span class="mrow" id="MathJax-Span-2725"><span class="mo" id="MathJax-Span-2726" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2727" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2728" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2729" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2730"><span class="mrow" id="MathJax-Span-2731"><span class="mo" id="MathJax-Span-2732" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2733"><span class="mrow" id="MathJax-Span-2734"><span class="mo" id="MathJax-Span-2735" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2736"><span class="mrow" id="MathJax-Span-2737"><span class="mo" id="MathJax-Span-2738" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2739"><span class="mrow" id="MathJax-Span-2740"><span class="mo" id="MathJax-Span-2741" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2742"><span class="mrow" id="MathJax-Span-2743"><span class="mo" id="MathJax-Span-2744" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-2745" style="font-family: STIXGeneral-Regular;">,</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-2746"><span class="mrow" id="MathJax-Span-2747"><span class="mfrac" id="MathJax-Span-2748"><span style="display: inline-block; width: 7.789em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2749"><span class="texatom" id="MathJax-Span-2750"><span class="mrow" id="MathJax-Span-2751"><span class="mo" id="MathJax-Span-2752" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2753"><span class="mrow" id="MathJax-Span-2754"><span class="mo" id="MathJax-Span-2755" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2756" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2758" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2759"><span class="mrow" id="MathJax-Span-2760"><span class="mo" id="MathJax-Span-2761" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="texatom" id="MathJax-Span-2762"><span class="mrow" id="MathJax-Span-2763"><span class="mo" id="MathJax-Span-2764" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">拼</span></span></span></span><span class="texatom" id="MathJax-Span-2765"><span class="mrow" id="MathJax-Span-2766"><span class="mo" id="MathJax-Span-2767" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">写</span></span></span></span><span class="texatom" id="MathJax-Span-2768"><span class="mrow" id="MathJax-Span-2769"><span class="mo" id="MathJax-Span-2770" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">成</span></span></span></span><span class="mo" id="MathJax-Span-2771" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2772" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-2773" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2774"><span class="mrow" id="MathJax-Span-2775"><span class="mo" id="MathJax-Span-2776" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2777"><span class="mrow" id="MathJax-Span-2778"><span class="mo" id="MathJax-Span-2779" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2780"><span class="mrow" id="MathJax-Span-2781"><span class="mo" id="MathJax-Span-2782" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2783"><span class="texatom" id="MathJax-Span-2784"><span class="mrow" id="MathJax-Span-2785"><span class="mo" id="MathJax-Span-2786" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2787"><span class="mrow" id="MathJax-Span-2788"><span class="mo" id="MathJax-Span-2789" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2790" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2791" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2792" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2793"><span class="mrow" id="MathJax-Span-2794"><span class="mo" id="MathJax-Span-2795" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2796"><span class="mrow" id="MathJax-Span-2797"><span class="mo" id="MathJax-Span-2798" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2799"><span class="mrow" id="MathJax-Span-2800"><span class="mo" id="MathJax-Span-2801" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2802"><span class="mrow" id="MathJax-Span-2803"><span class="mo" id="MathJax-Span-2804" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2805"><span class="mrow" id="MathJax-Span-2806"><span class="mo" id="MathJax-Span-2807" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-2808" style="font-family: STIXGeneral-Regular;">,</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-2809"><span class="mrow" id="MathJax-Span-2810"><span class="mfrac" id="MathJax-Span-2811"><span style="display: inline-block; width: 8.109em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2812"><span class="texatom" id="MathJax-Span-2813"><span class="mrow" id="MathJax-Span-2814"><span class="mo" id="MathJax-Span-2815" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2816"><span class="mrow" id="MathJax-Span-2817"><span class="mo" id="MathJax-Span-2818" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2819" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2820" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-2821" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-2822" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2823"><span class="mrow" id="MathJax-Span-2824"><span class="mo" id="MathJax-Span-2825" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="texatom" id="MathJax-Span-2826"><span class="mrow" id="MathJax-Span-2827"><span class="mo" id="MathJax-Span-2828" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">拼</span></span></span></span><span class="texatom" id="MathJax-Span-2829"><span class="mrow" id="MathJax-Span-2830"><span class="mo" id="MathJax-Span-2831" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">写</span></span></span></span><span class="texatom" id="MathJax-Span-2832"><span class="mrow" id="MathJax-Span-2833"><span class="mo" id="MathJax-Span-2834" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">成</span></span></span></span><span class="mo" id="MathJax-Span-2835" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2836" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mi" id="MathJax-Span-2837" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-2838"><span class="mrow" id="MathJax-Span-2839"><span class="mo" id="MathJax-Span-2840" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2841"><span class="mrow" id="MathJax-Span-2842"><span class="mo" id="MathJax-Span-2843" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2844"><span class="mrow" id="MathJax-Span-2845"><span class="mo" id="MathJax-Span-2846" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2847"><span class="texatom" id="MathJax-Span-2848"><span class="mrow" id="MathJax-Span-2849"><span class="mo" id="MathJax-Span-2850" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">字</span></span></span></span><span class="texatom" id="MathJax-Span-2851"><span class="mrow" id="MathJax-Span-2852"><span class="mo" id="MathJax-Span-2853" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="mo" id="MathJax-Span-2854" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="mi" id="MathJax-Span-2855" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-2856" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-2857" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2858"><span class="mrow" id="MathJax-Span-2859"><span class="mo" id="MathJax-Span-2860" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2861"><span class="mrow" id="MathJax-Span-2862"><span class="mo" id="MathJax-Span-2863" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2864"><span class="mrow" id="MathJax-Span-2865"><span class="mo" id="MathJax-Span-2866" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2867"><span class="mrow" id="MathJax-Span-2868"><span class="mo" id="MathJax-Span-2869" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2870"><span class="mrow" id="MathJax-Span-2871"><span class="mo" id="MathJax-Span-2872" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-2873" style="font-family: STIXGeneral-Regular;">,</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="display: inline-block; width: 0px; height: 8.643em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 6.616em;"></span></span></span><span></span></span></span></div></p>
</blockquote></li>
<li><p><strong>键盘上临近的按键更容易拼写错误，据此可以对上面这个条件概率进行加权</strong>。 <br />
</p><center> <br />
<img alt="[键盘]" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0203keyboard.jpg?imageView/2/w/350/q/100" title="" /> <br />
</center><p></p></li>
</ul>



<h2 id="6-小结">6. 小结</h2>

<p>从这两篇文章大家基本可以看出，工程应用不同于学术理论，有许多tricks需要考虑，而理论本质就是翻来倒去折腾贝叶斯公式，都快玩出花来了。但是如果只用朴素贝叶斯，很多情况还是无法应付，需要我们在贝叶斯公式上再折腾出一些花样。详细内容，请听下回分解。</p>
            <div>
                作者：yaoqiang2011 发表于2016/2/3 15:02:55 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50629587">原文链接</a>
            </div>
            <div>
            阅读：16915 评论：2 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50629587#comments" target="_blank">查看评论</a>
            </div>
[原]NLP系列(2)_用朴素贝叶斯进行文本分类(上)
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> &amp;&amp; <a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a>  <br />
时间：2016年1月。 <br />
出处：<a href="http://blog.csdn.net/longxinchen_ml/article/details/50597149">http://blog.csdn.net/longxinchen_ml/article/details/50597149</a> <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50616559">http://blog.csdn.net/han_xiaoyang/article/details/50616559</a>  <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-引言">1. 引言</h2>

<p>贝叶斯方法是一个历史悠久，有着坚实的理论基础的方法，同时处理很多问题时直接而又高效，很多高级自然语言处理模型也可以从它演化而来。因此，学习贝叶斯方法，是研究自然语言处理问题的一个非常好的切入口。</p>



<h2 id="2-贝叶斯公式">2. 贝叶斯公式</h2>

<p>贝叶斯公式就一行：</p>

<blockquote>
  <p></p><center> <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 9.709em; display: inline-block;"><span style="display: inline-block; width: 7.736em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-5" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-6"><span class="mrow" id="MathJax-Span-7"><span class="mo" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-10" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-11" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-12"><span style="display: inline-block; width: 3.416em; height: 0px;"><span><span class="mrow" id="MathJax-Span-13"><span class="mi" id="MathJax-Span-14" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-15" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-16" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-17"><span class="mrow" id="MathJax-Span-18"><span class="mo" id="MathJax-Span-19" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-20" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-21" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-22" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-23" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-24" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-25" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-26"><span class="mi" id="MathJax-Span-27" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-28" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-29" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-30" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> </center><p></p>
</blockquote>

<p>而它其实是由以下的联合概率公式推导出来：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-31" style="width: 18.829em; display: inline-block;"><span style="display: inline-block; width: 15.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-32"><span class="mi" id="MathJax-Span-33" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-34" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-35" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-36" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-37" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-39" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-41" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-42" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-43"><span class="mrow" id="MathJax-Span-44"><span class="mo" id="MathJax-Span-45" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-46" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-47" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-48" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-49" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-50" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-51" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-52" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-53" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-54" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-55" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-56"><span class="mrow" id="MathJax-Span-57"><span class="mo" id="MathJax-Span-58" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-59" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-61" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-62" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-63" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-64" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>
</blockquote>

<p>其中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-65" style="width: 2.403em; display: inline-block;"><span style="display: inline-block; width: 1.923em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-66"><span class="mi" id="MathJax-Span-67" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-68" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-69" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-70" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>叫做先验概率，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-71" style="width: 3.469em; display: inline-block;"><span style="display: inline-block; width: 2.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-72"><span class="mi" id="MathJax-Span-73" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-74" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-75" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-76"><span class="mrow" id="MathJax-Span-77"><span class="mo" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-79" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-80" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>叫做后验概率，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-81" style="width: 3.843em; display: inline-block;"><span style="display: inline-block; width: 3.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-82"><span class="mi" id="MathJax-Span-83" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-84" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-85" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-86" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-87" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-88" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>叫做联合概率。</p>

<p>额，恩，没了，贝叶斯最核心的公式就这么些。</p>



<h2 id="3-用机器学习的视角理解贝叶斯公式">3. 用机器学习的视角理解贝叶斯公式</h2>

<p>在机器学习的视角下，我们把<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-89" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-90"><span class="mi" id="MathJax-Span-91" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>理解成<strong>“具有某特征”</strong>，把<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-92" style="width: 0.803em; display: inline-block;"><span style="display: inline-block; width: 0.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-93"><span class="mi" id="MathJax-Span-94" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>理解成<strong>“类别标签”</strong>(一般机器学习问题中都是<code>X=&gt;特征</code>, <code>Y=&gt;结果</code>对吧)。在最简单的二分类问题(<code>是</code>与<code>否</code>判定)下，我们将<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-95" style="width: 0.803em; display: inline-block;"><span style="display: inline-block; width: 0.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-96"><span class="mi" id="MathJax-Span-97" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>理解成<strong>“属于某类</strong>”的标签。于是贝叶斯公式就变形成了下面的样子:</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-98" style="width: 30.349em; display: inline-block;"><span style="display: inline-block; width: 24.269em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-99"><span class="mi" id="MathJax-Span-100" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-101" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-102" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-103"><span class="mrow" id="MathJax-Span-104"><span class="mo" id="MathJax-Span-105"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">属</span></span></span></span><span class="texatom" id="MathJax-Span-106"><span class="mrow" id="MathJax-Span-107"><span class="mo" id="MathJax-Span-108"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">于</span></span></span></span><span class="texatom" id="MathJax-Span-109"><span class="mrow" id="MathJax-Span-110"><span class="mo" id="MathJax-Span-111"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-112"><span class="mrow" id="MathJax-Span-113"><span class="mo" id="MathJax-Span-114"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-116"><span class="mrow" id="MathJax-Span-117"><span class="mo" id="MathJax-Span-118" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-119" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-120"><span class="mrow" id="MathJax-Span-121"><span class="mo" id="MathJax-Span-122"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-123"><span class="mrow" id="MathJax-Span-124"><span class="mo" id="MathJax-Span-125"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-126"><span class="mrow" id="MathJax-Span-127"><span class="mo" id="MathJax-Span-128"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-129"><span class="mrow" id="MathJax-Span-130"><span class="mo" id="MathJax-Span-131"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-132"><span class="mrow" id="MathJax-Span-133"><span class="mo" id="MathJax-Span-134"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-135" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-136" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-137" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-138"><span style="display: inline-block; width: 12.269em; height: 0px;"><span><span class="mrow" id="MathJax-Span-139"><span class="mi" id="MathJax-Span-140" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-141" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-142" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-143"><span class="mrow" id="MathJax-Span-144"><span class="mo" id="MathJax-Span-145" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-146"><span class="mrow" id="MathJax-Span-147"><span class="mo" id="MathJax-Span-148" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-149"><span class="mrow" id="MathJax-Span-150"><span class="mo" id="MathJax-Span-151" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-152"><span class="mrow" id="MathJax-Span-153"><span class="mo" id="MathJax-Span-154" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-155"><span class="mrow" id="MathJax-Span-156"><span class="mo" id="MathJax-Span-157" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-158" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-159"><span class="mrow" id="MathJax-Span-160"><span class="mo" id="MathJax-Span-161" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-162" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-163"><span class="mrow" id="MathJax-Span-164"><span class="mo" id="MathJax-Span-165" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">属</span></span></span></span><span class="texatom" id="MathJax-Span-166"><span class="mrow" id="MathJax-Span-167"><span class="mo" id="MathJax-Span-168" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">于</span></span></span></span><span class="texatom" id="MathJax-Span-169"><span class="mrow" id="MathJax-Span-170"><span class="mo" id="MathJax-Span-171" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-172"><span class="mrow" id="MathJax-Span-173"><span class="mo" id="MathJax-Span-174" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="mo" id="MathJax-Span-175" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-176" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-177" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-178" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-179" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-180"><span class="mrow" id="MathJax-Span-181"><span class="mo" id="MathJax-Span-182" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">属</span></span></span></span><span class="texatom" id="MathJax-Span-183"><span class="mrow" id="MathJax-Span-184"><span class="mo" id="MathJax-Span-185" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">于</span></span></span></span><span class="texatom" id="MathJax-Span-186"><span class="mrow" id="MathJax-Span-187"><span class="mo" id="MathJax-Span-188" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-189"><span class="mrow" id="MathJax-Span-190"><span class="mo" id="MathJax-Span-191" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="mo" id="MathJax-Span-192" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-193" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-194"><span class="mi" id="MathJax-Span-195" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-196" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-197" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-198"><span class="mrow" id="MathJax-Span-199"><span class="mo" id="MathJax-Span-200" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-201"><span class="mrow" id="MathJax-Span-202"><span class="mo" id="MathJax-Span-203" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-204"><span class="mrow" id="MathJax-Span-205"><span class="mo" id="MathJax-Span-206" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-207"><span class="mrow" id="MathJax-Span-208"><span class="mo" id="MathJax-Span-209" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-210"><span class="mrow" id="MathJax-Span-211"><span class="mo" id="MathJax-Span-212" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-213" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-214" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> </p>
</blockquote>

<p>我们尝试更口(shuo)语(ren)化(hua)的方式解释一下上述公式：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-215" style="width: 14.349em; display: inline-block;"><span style="display: inline-block; width: 11.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-216"><span class="mi" id="MathJax-Span-217" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-218" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-219" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-220"><span class="mrow" id="MathJax-Span-221"><span class="mo" id="MathJax-Span-222"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">属</span></span></span></span><span class="texatom" id="MathJax-Span-223"><span class="mrow" id="MathJax-Span-224"><span class="mo" id="MathJax-Span-225"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">于</span></span></span></span><span class="texatom" id="MathJax-Span-226"><span class="mrow" id="MathJax-Span-227"><span class="mo" id="MathJax-Span-228"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-229"><span class="mrow" id="MathJax-Span-230"><span class="mo" id="MathJax-Span-231"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="mo" id="MathJax-Span-232" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-233"><span class="mrow" id="MathJax-Span-234"><span class="mo" id="MathJax-Span-235" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-236" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-237"><span class="mrow" id="MathJax-Span-238"><span class="mo" id="MathJax-Span-239"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-240"><span class="mrow" id="MathJax-Span-241"><span class="mo" id="MathJax-Span-242"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-243"><span class="mrow" id="MathJax-Span-244"><span class="mo" id="MathJax-Span-245"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-246"><span class="mrow" id="MathJax-Span-247"><span class="mo" id="MathJax-Span-248"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-249"><span class="mrow" id="MathJax-Span-250"><span class="mo" id="MathJax-Span-251"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-252" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-253" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-254" style="font-family: STIXGeneral-Regular;">=</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>在已知某样本“具有某特征”的条件下，该样本“属于某类”的概率。所以叫做<strong>『后验概率』</strong>。 <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-255" style="width: 14.349em; display: inline-block;"><span style="display: inline-block; width: 11.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-256"><span class="mi" id="MathJax-Span-257" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-258" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-259" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-260"><span class="mrow" id="MathJax-Span-261"><span class="mo" id="MathJax-Span-262"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-263"><span class="mrow" id="MathJax-Span-264"><span class="mo" id="MathJax-Span-265"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-266"><span class="mrow" id="MathJax-Span-267"><span class="mo" id="MathJax-Span-268"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-269"><span class="mrow" id="MathJax-Span-270"><span class="mo" id="MathJax-Span-271"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-272"><span class="mrow" id="MathJax-Span-273"><span class="mo" id="MathJax-Span-274"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-275" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-276"><span class="mrow" id="MathJax-Span-277"><span class="mo" id="MathJax-Span-278" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-279" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-280"><span class="mrow" id="MathJax-Span-281"><span class="mo" id="MathJax-Span-282"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">属</span></span></span></span><span class="texatom" id="MathJax-Span-283"><span class="mrow" id="MathJax-Span-284"><span class="mo" id="MathJax-Span-285"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">于</span></span></span></span><span class="texatom" id="MathJax-Span-286"><span class="mrow" id="MathJax-Span-287"><span class="mo" id="MathJax-Span-288"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-289"><span class="mrow" id="MathJax-Span-290"><span class="mo" id="MathJax-Span-291"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="mo" id="MathJax-Span-292" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-293" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-294" style="font-family: STIXGeneral-Regular;">=</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>在已知某样本“属于某类”的条件下，该样本“具有某特征”的概率。  <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-295" style="width: 8.003em; display: inline-block;"><span style="display: inline-block; width: 6.403em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-296"><span class="mi" id="MathJax-Span-297" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-298" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-299" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-300"><span class="mrow" id="MathJax-Span-301"><span class="mo" id="MathJax-Span-302"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">属</span></span></span></span><span class="texatom" id="MathJax-Span-303"><span class="mrow" id="MathJax-Span-304"><span class="mo" id="MathJax-Span-305"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">于</span></span></span></span><span class="texatom" id="MathJax-Span-306"><span class="mrow" id="MathJax-Span-307"><span class="mo" id="MathJax-Span-308"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-309"><span class="mrow" id="MathJax-Span-310"><span class="mo" id="MathJax-Span-311"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="mo" id="MathJax-Span-312" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-313" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-314" style="font-family: STIXGeneral-Regular;">=</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>（在未知某样本具有该“具有某特征”的条件下，）该样本“属于某类”的概率。所以叫做<strong>『先验概率』</strong>。 <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-315" style="width: 9.016em; display: inline-block;"><span style="display: inline-block; width: 7.203em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-316"><span class="mi" id="MathJax-Span-317" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-318" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-319" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-320"><span class="mrow" id="MathJax-Span-321"><span class="mo" id="MathJax-Span-322"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-323"><span class="mrow" id="MathJax-Span-324"><span class="mo" id="MathJax-Span-325"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-326"><span class="mrow" id="MathJax-Span-327"><span class="mo" id="MathJax-Span-328"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-329"><span class="mrow" id="MathJax-Span-330"><span class="mo" id="MathJax-Span-331"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-332"><span class="mrow" id="MathJax-Span-333"><span class="mo" id="MathJax-Span-334"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-335" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-336" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-337" style="font-family: STIXGeneral-Regular;">=</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>(在未知某样本“属于某类”的条件下，)该样本“具有某特征”的概率。</p>
</blockquote>

<p>而我们二分类问题的最终目的就是要<strong>判断<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-338" style="width: 13.284em; display: inline-block;"><span style="display: inline-block; width: 10.287em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-339"><span class="mi" id="MathJax-Span-340" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-341" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-342" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-343"><span class="mrow" id="MathJax-Span-344"><span class="mo" id="MathJax-Span-345"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">属</span></span></span></span><span class="texatom" id="MathJax-Span-346"><span class="mrow" id="MathJax-Span-347"><span class="mo" id="MathJax-Span-348"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">于</span></span></span></span><span class="texatom" id="MathJax-Span-349"><span class="mrow" id="MathJax-Span-350"><span class="mo" id="MathJax-Span-351"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-352"><span class="mrow" id="MathJax-Span-353"><span class="mo" id="MathJax-Span-354"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">类</span></span></span></span><span class="mo" id="MathJax-Span-355" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-356"><span class="mrow" id="MathJax-Span-357"><span class="mo" id="MathJax-Span-358" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-359" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-360"><span class="mrow" id="MathJax-Span-361"><span class="mo" id="MathJax-Span-362"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-363"><span class="mrow" id="MathJax-Span-364"><span class="mo" id="MathJax-Span-365"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-366"><span class="mrow" id="MathJax-Span-367"><span class="mo" id="MathJax-Span-368"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-369"><span class="mrow" id="MathJax-Span-370"><span class="mo" id="MathJax-Span-371"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-372"><span class="mrow" id="MathJax-Span-373"><span class="mo" id="MathJax-Span-374"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-375" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-376" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>是否大于1/2</strong>就够了。贝叶斯方法把计算<strong>“具有某特征的条件下属于某类”</strong>的概率转换成需要计算<strong>“属于某类的条件下具有某特征”</strong>的概率，而后者获取方法就简单多了，我们只需要找到一些包含已知特征标签的样本，即可进行训练。而样本的类别标签都是明确的，所以贝叶斯方法在机器学习里属于有监督学习方法。</p>

<p>这里再补充一下，一般<strong>『先验概率』、『后验概率』是相对</strong>出现的，比如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-377" style="width: 2.403em; display: inline-block;"><span style="display: inline-block; width: 1.923em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-378"><span class="mi" id="MathJax-Span-379" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-380" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-381" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-382" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-383" style="width: 3.469em; display: inline-block;"><span style="display: inline-block; width: 2.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-384"><span class="mi" id="MathJax-Span-385" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-386" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-387" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-388"><span class="mrow" id="MathJax-Span-389"><span class="mo" id="MathJax-Span-390" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-391" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-392" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是关于<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-393" style="width: 0.803em; display: inline-block;"><span style="display: inline-block; width: 0.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-394"><span class="mi" id="MathJax-Span-395" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的先验概率与后验概率，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-396" style="width: 2.509em; display: inline-block;"><span style="display: inline-block; width: 1.976em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-397"><span class="mi" id="MathJax-Span-398" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-399" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-400" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-401" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>与<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-402" style="width: 3.469em; display: inline-block;"><span style="display: inline-block; width: 2.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-403"><span class="mi" id="MathJax-Span-404" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-405" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-406" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-407"><span class="mrow" id="MathJax-Span-408"><span class="mo" id="MathJax-Span-409" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-410" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-411" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是关于<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-412" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-413"><span class="mi" id="MathJax-Span-414" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的先验概率与后验概率。</p>



<h2 id="4-垃圾邮件识别">4. 垃圾邮件识别</h2>

<p>举个例子好啦，我们现在要对邮件进行分类，识别垃圾邮件和普通邮件，如果我们选择使用朴素贝叶斯分类器，那目标就是<strong>判断<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-415" style="width: 13.284em; display: inline-block;"><span style="display: inline-block; width: 10.287em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-416"><span class="mi" id="MathJax-Span-417" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-418" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-419" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-420"><span class="mrow" id="MathJax-Span-421"><span class="mo" id="MathJax-Span-422"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-423"><span class="mrow" id="MathJax-Span-424"><span class="mo" id="MathJax-Span-425"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-426"><span class="mrow" id="MathJax-Span-427"><span class="mo" id="MathJax-Span-428"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-429"><span class="mrow" id="MathJax-Span-430"><span class="mo" id="MathJax-Span-431"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-432" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-433"><span class="mrow" id="MathJax-Span-434"><span class="mo" id="MathJax-Span-435" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-436" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-437"><span class="mrow" id="MathJax-Span-438"><span class="mo" id="MathJax-Span-439"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">具</span></span></span></span><span class="texatom" id="MathJax-Span-440"><span class="mrow" id="MathJax-Span-441"><span class="mo" id="MathJax-Span-442"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-443"><span class="mrow" id="MathJax-Span-444"><span class="mo" id="MathJax-Span-445"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">某</span></span></span></span><span class="texatom" id="MathJax-Span-446"><span class="mrow" id="MathJax-Span-447"><span class="mo" id="MathJax-Span-448"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-449"><span class="mrow" id="MathJax-Span-450"><span class="mo" id="MathJax-Span-451"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="mo" id="MathJax-Span-452" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-453" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>是否大于1/2</strong>。现在假设我们有垃圾邮件和正常邮件各1万封作为训练集。需要判断以下这个邮件是否属于垃圾邮件：</p>

<blockquote>
  <p>“我司可办理正规发票（保真）17%增值税发票点数优惠！”</p>
</blockquote>

<p>也就是<strong>判断概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-454" style="width: 33.594em; display: inline-block;"><span style="display: inline-block; width: 26.049em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-455"><span class="mi" id="MathJax-Span-456" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-457" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-458" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-459"><span class="mrow" id="MathJax-Span-460"><span class="mo" id="MathJax-Span-461"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-462"><span class="mrow" id="MathJax-Span-463"><span class="mo" id="MathJax-Span-464"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-465"><span class="mrow" id="MathJax-Span-466"><span class="mo" id="MathJax-Span-467"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-468"><span class="mrow" id="MathJax-Span-469"><span class="mo" id="MathJax-Span-470"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-472"><span class="mrow" id="MathJax-Span-473"><span class="mo" id="MathJax-Span-474" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-476"><span class="mrow" id="MathJax-Span-477"><span class="mo" id="MathJax-Span-478"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="texatom" id="MathJax-Span-479"><span class="mrow" id="MathJax-Span-480"><span class="mo" id="MathJax-Span-481"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="texatom" id="MathJax-Span-482"><span class="mrow" id="MathJax-Span-483"><span class="mo" id="MathJax-Span-484"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="texatom" id="MathJax-Span-485"><span class="mrow" id="MathJax-Span-486"><span class="mo" id="MathJax-Span-487"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-488"><span class="mrow" id="MathJax-Span-489"><span class="mo" id="MathJax-Span-490"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="texatom" id="MathJax-Span-491"><span class="mrow" id="MathJax-Span-492"><span class="mo" id="MathJax-Span-493"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-494"><span class="mrow" id="MathJax-Span-495"><span class="mo" id="MathJax-Span-496"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-497"><span class="mrow" id="MathJax-Span-498"><span class="mo" id="MathJax-Span-499"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-500"><span class="mrow" id="MathJax-Span-501"><span class="mo" id="MathJax-Span-502"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="texatom" id="MathJax-Span-503"><span class="mrow" id="MathJax-Span-504"><span class="mo" id="MathJax-Span-505"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-506"><span class="mrow" id="MathJax-Span-507"><span class="mo" id="MathJax-Span-508"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-509"><span class="mrow" id="MathJax-Span-510"><span class="mo" id="MathJax-Span-511"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="texatom" id="MathJax-Span-512"><span class="mrow" id="MathJax-Span-513"><span class="mo" id="MathJax-Span-514"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mn" id="MathJax-Span-515" style="font-family: STIXGeneral-Regular;">17</span><span class="mi" id="MathJax-Span-516" style="font-family: STIXGeneral-Regular;">%</span><span class="texatom" id="MathJax-Span-517"><span class="mrow" id="MathJax-Span-518"><span class="mo" id="MathJax-Span-519"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-520"><span class="mrow" id="MathJax-Span-521"><span class="mo" id="MathJax-Span-522"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-523"><span class="mrow" id="MathJax-Span-524"><span class="mo" id="MathJax-Span-525"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="texatom" id="MathJax-Span-526"><span class="mrow" id="MathJax-Span-527"><span class="mo" id="MathJax-Span-528"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-529"><span class="mrow" id="MathJax-Span-530"><span class="mo" id="MathJax-Span-531"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="texatom" id="MathJax-Span-532"><span class="mrow" id="MathJax-Span-533"><span class="mo" id="MathJax-Span-534"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-535"><span class="mrow" id="MathJax-Span-536"><span class="mo" id="MathJax-Span-537"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-538"><span class="mrow" id="MathJax-Span-539"><span class="mo" id="MathJax-Span-540"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-541"><span class="mrow" id="MathJax-Span-542"><span class="mo" id="MathJax-Span-543"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="texatom" id="MathJax-Span-544"><span class="mrow" id="MathJax-Span-545"><span class="mo" id="MathJax-Span-546"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">！</span></span></span></span><span class="mo" id="MathJax-Span-547" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-548" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>是否大于1/2</strong>。</p>

<p>咳咳，有木有发现，转换成的这个概率，计算的方法：就是写个计数器，然后+1 +1 +1统计出所有垃圾邮件和正常邮件中出现这句话的次数啊！！！好，具体点说：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-549" style="width: 33.283em; display: inline-block;"><span style="display: inline-block; width: 26.616em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-550"><span class="mi" id="MathJax-Span-551" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-552" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-553" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-554"><span class="mrow" id="MathJax-Span-555"><span class="mo" id="MathJax-Span-556"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-557"><span class="mrow" id="MathJax-Span-558"><span class="mo" id="MathJax-Span-559"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-560"><span class="mrow" id="MathJax-Span-561"><span class="mo" id="MathJax-Span-562"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-563"><span class="mrow" id="MathJax-Span-564"><span class="mo" id="MathJax-Span-565"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-566" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-567"><span class="mrow" id="MathJax-Span-568"><span class="mo" id="MathJax-Span-569" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-570" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-571"><span class="mrow" id="MathJax-Span-572"><span class="mo" id="MathJax-Span-573"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="texatom" id="MathJax-Span-574"><span class="mrow" id="MathJax-Span-575"><span class="mo" id="MathJax-Span-576"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="texatom" id="MathJax-Span-577"><span class="mrow" id="MathJax-Span-578"><span class="mo" id="MathJax-Span-579"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="texatom" id="MathJax-Span-580"><span class="mrow" id="MathJax-Span-581"><span class="mo" id="MathJax-Span-582"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-583"><span class="mrow" id="MathJax-Span-584"><span class="mo" id="MathJax-Span-585"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="texatom" id="MathJax-Span-586"><span class="mrow" id="MathJax-Span-587"><span class="mo" id="MathJax-Span-588"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-589"><span class="mrow" id="MathJax-Span-590"><span class="mo" id="MathJax-Span-591"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-592"><span class="mrow" id="MathJax-Span-593"><span class="mo" id="MathJax-Span-594"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-595"><span class="mrow" id="MathJax-Span-596"><span class="mo" id="MathJax-Span-597"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="texatom" id="MathJax-Span-598"><span class="mrow" id="MathJax-Span-599"><span class="mo" id="MathJax-Span-600"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-601"><span class="mrow" id="MathJax-Span-602"><span class="mo" id="MathJax-Span-603"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-604"><span class="mrow" id="MathJax-Span-605"><span class="mo" id="MathJax-Span-606"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="texatom" id="MathJax-Span-607"><span class="mrow" id="MathJax-Span-608"><span class="mo" id="MathJax-Span-609"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mn" id="MathJax-Span-610" style="font-family: STIXGeneral-Regular;">17</span><span class="mi" id="MathJax-Span-611" style="font-family: STIXGeneral-Regular;">%</span><span class="texatom" id="MathJax-Span-612"><span class="mrow" id="MathJax-Span-613"><span class="mo" id="MathJax-Span-614"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-615"><span class="mrow" id="MathJax-Span-616"><span class="mo" id="MathJax-Span-617"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-618"><span class="mrow" id="MathJax-Span-619"><span class="mo" id="MathJax-Span-620"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="texatom" id="MathJax-Span-621"><span class="mrow" id="MathJax-Span-622"><span class="mo" id="MathJax-Span-623"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-624"><span class="mrow" id="MathJax-Span-625"><span class="mo" id="MathJax-Span-626"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="texatom" id="MathJax-Span-627"><span class="mrow" id="MathJax-Span-628"><span class="mo" id="MathJax-Span-629"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-630"><span class="mrow" id="MathJax-Span-631"><span class="mo" id="MathJax-Span-632"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-633"><span class="mrow" id="MathJax-Span-634"><span class="mo" id="MathJax-Span-635"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-636"><span class="mrow" id="MathJax-Span-637"><span class="mo" id="MathJax-Span-638"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="texatom" id="MathJax-Span-639"><span class="mrow" id="MathJax-Span-640"><span class="mo" id="MathJax-Span-641"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">！</span></span></span></span><span class="mo" id="MathJax-Span-642" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-643" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-644" style="width: 23.149em; display: inline-block;"><span style="display: inline-block; width: 18.509em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-645"><span class="mo" id="MathJax-Span-646" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-647"><span style="display: inline-block; width: 17.283em; height: 0px;"><span><span class="mrow" id="MathJax-Span-648"><span class="texatom" id="MathJax-Span-649"><span class="mrow" id="MathJax-Span-650"><span class="mo" id="MathJax-Span-651" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-652"><span class="mrow" id="MathJax-Span-653"><span class="mo" id="MathJax-Span-654" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-655"><span class="mrow" id="MathJax-Span-656"><span class="mo" id="MathJax-Span-657" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-658"><span class="mrow" id="MathJax-Span-659"><span class="mo" id="MathJax-Span-660" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-661"><span class="mrow" id="MathJax-Span-662"><span class="mo" id="MathJax-Span-663" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-664"><span class="mrow" id="MathJax-Span-665"><span class="mo" id="MathJax-Span-666" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-667"><span class="mrow" id="MathJax-Span-668"><span class="mo" id="MathJax-Span-669" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-670"><span class="mrow" id="MathJax-Span-671"><span class="mo" id="MathJax-Span-672" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">这</span></span></span></span><span class="texatom" id="MathJax-Span-673"><span class="mrow" id="MathJax-Span-674"><span class="mo" id="MathJax-Span-675" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">句</span></span></span></span><span class="texatom" id="MathJax-Span-676"><span class="mrow" id="MathJax-Span-677"><span class="mo" id="MathJax-Span-678" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">话</span></span></span></span><span class="texatom" id="MathJax-Span-679"><span class="mrow" id="MathJax-Span-680"><span class="mo" id="MathJax-Span-681" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-682"><span class="mrow" id="MathJax-Span-683"><span class="mo" id="MathJax-Span-684" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-685"><span class="mrow" id="MathJax-Span-686"><span class="mo" id="MathJax-Span-687" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mrow" id="MathJax-Span-688"><span class="texatom" id="MathJax-Span-689"><span class="mrow" id="MathJax-Span-690"><span class="mo" id="MathJax-Span-691" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-692"><span class="mrow" id="MathJax-Span-693"><span class="mo" id="MathJax-Span-694" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-695"><span class="mrow" id="MathJax-Span-696"><span class="mo" id="MathJax-Span-697" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-698"><span class="mrow" id="MathJax-Span-699"><span class="mo" id="MathJax-Span-700" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-701"><span class="mrow" id="MathJax-Span-702"><span class="mo" id="MathJax-Span-703" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-704"><span class="mrow" id="MathJax-Span-705"><span class="mo" id="MathJax-Span-706" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-707"><span class="mrow" id="MathJax-Span-708"><span class="mo" id="MathJax-Span-709" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-710"><span class="mrow" id="MathJax-Span-711"><span class="mo" id="MathJax-Span-712" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">这</span></span></span></span><span class="texatom" id="MathJax-Span-713"><span class="mrow" id="MathJax-Span-714"><span class="mo" id="MathJax-Span-715" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">句</span></span></span></span><span class="texatom" id="MathJax-Span-716"><span class="mrow" id="MathJax-Span-717"><span class="mo" id="MathJax-Span-718" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">话</span></span></span></span><span class="texatom" id="MathJax-Span-719"><span class="mrow" id="MathJax-Span-720"><span class="mo" id="MathJax-Span-721" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-722"><span class="mrow" id="MathJax-Span-723"><span class="mo" id="MathJax-Span-724" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-725"><span class="mrow" id="MathJax-Span-726"><span class="mo" id="MathJax-Span-727" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-728" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="texatom" id="MathJax-Span-729"><span class="mrow" id="MathJax-Span-730"><span class="mo" id="MathJax-Span-731" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-732"><span class="mrow" id="MathJax-Span-733"><span class="mo" id="MathJax-Span-734" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-735"><span class="mrow" id="MathJax-Span-736"><span class="mo" id="MathJax-Span-737" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-738"><span class="mrow" id="MathJax-Span-739"><span class="mo" id="MathJax-Span-740" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-741"><span class="mrow" id="MathJax-Span-742"><span class="mo" id="MathJax-Span-743" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-744"><span class="mrow" id="MathJax-Span-745"><span class="mo" id="MathJax-Span-746" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-747"><span class="mrow" id="MathJax-Span-748"><span class="mo" id="MathJax-Span-749" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-750"><span class="mrow" id="MathJax-Span-751"><span class="mo" id="MathJax-Span-752" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">这</span></span></span></span><span class="texatom" id="MathJax-Span-753"><span class="mrow" id="MathJax-Span-754"><span class="mo" id="MathJax-Span-755" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">句</span></span></span></span><span class="texatom" id="MathJax-Span-756"><span class="mrow" id="MathJax-Span-757"><span class="mo" id="MathJax-Span-758" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">话</span></span></span></span><span class="texatom" id="MathJax-Span-759"><span class="mrow" id="MathJax-Span-760"><span class="mo" id="MathJax-Span-761" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-762"><span class="mrow" id="MathJax-Span-763"><span class="mo" id="MathJax-Span-764" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-765"><span class="mrow" id="MathJax-Span-766"><span class="mo" id="MathJax-Span-767" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> </p>
</blockquote>



<h2 id="5-分词">5. 分词</h2>

<p>然后同学们开始朝我扔烂白菜和臭鸡蛋，“骗纸！！误人子弟！！你以为发垃圾邮件的人智商都停留在20世纪吗！！你以为它们发邮件像抄作业一样不改内容吗！！哪来那么多相同的句子！！”。</p>

<p>咳咳，表闹，确实，在我们这样的样本容量下，『完全击中』的句子很少甚至没有（无法满足大数定律，），算出来的概率会很失真。一方面找到庞大的训练集是一件非常困难的事情，另一方面其实对于任何的训练集，我们都可以构造出一个从未在训练集中出现的句子作为垃圾邮件（真心的，之前看过朴素贝叶斯分类分错的邮件，我觉得大中华同胞创(zao)新(jia)的能力简直令人惊(fa)呀(zhi)）。</p>

<p>一个很悲哀但是很现实的结论： <br />
<strong>训练集是有限的，而句子的可能性则是无限的。所以覆盖所有句子可能性的训练集是不存在的。</strong></p>

<p>所以解决方法是？ <br />
对啦！<strong>句子的可能性无限，但是词语就那么些！！</strong>汉语常用字2500个，常用词语也就56000个(你终于明白小学语文老师的用心良苦了)。按人们的经验理解，两句话意思相近并不强求非得每个字、词语都一样。比如<strong>“我司可办理正规发票，17%增值税发票点数优惠！”</strong>，这句话就比之前那句话少了<strong>“（保真）”</strong>这个词，但是意思基本一样。如果把这些情况也考虑进来，那样本数量就会增加，这就方便我们计算了。</p>

<p>于是，我们可以不拿句子作为特征，而是拿句子里面的词语（组合）作为特征去考虑。比如<strong>“正规发票”</strong>可以作为一个单独的词语，<strong>“增值税”</strong>也可以作为一个单独的词语等等。</p>

<blockquote>
  <p>句子<strong>“我司可办理正规发票，17%增值税发票点数优惠！”就可以变成（“我”,“司”,“可”,“办理”,“正规发票”,“保真”,“增值税”,“发票”,“点数”,“优惠”)）</strong>。</p>
</blockquote>

<p>于是你接触到了中文NLP中，最最最重要的技术之一：<strong>分词</strong>！！！也就是<strong>把一整句话拆分成更细粒度的词语来进行表示</strong>。咳咳，另外，分词之后<strong>去除标点符号、数字甚至无关成分(停用词)是特征预处理中的一项技术</strong>。</p>

<p><strong>中文分词是一个专门的技术领域(我不会告诉你某搜索引擎厂码砖工有专门做分词的！！！)，我们将在下一篇文章探讨，这里先将其作为一个已知情况进行处理。具体细节请见下回分晓</strong></p>

<p>我们观察（“我”,“司”,“可”,“办理”,“正规发票”,“保真”,“增值税”,“发票”,“点数”,“优惠”)，<strong>这可以理解成一个向量：向量的每一维度都表示着该特征词在文本中的特定位置存在。这种将特征拆分成更小的单元，依据这些更灵活、更细粒度的特征进行判断的思维方式，在自然语言处理与机器学习中都是非常常见又有效的。</strong></p>

<p>因此贝叶斯公式就变成了：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-768" style="width: 28.963em; display: inline-block;"><span style="display: inline-block; width: 23.149em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-769"><span style="display: inline-block; width: 23.149em; height: 0px;"><span><span class="mi" id="MathJax-Span-770" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-771" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-772" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-773"><span class="mrow" id="MathJax-Span-774"><span class="mo" id="MathJax-Span-775"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-776"><span class="mrow" id="MathJax-Span-777"><span class="mo" id="MathJax-Span-778"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-779"><span class="mrow" id="MathJax-Span-780"><span class="mo" id="MathJax-Span-781"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-782"><span class="mrow" id="MathJax-Span-783"><span class="mo" id="MathJax-Span-784"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-785" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-786"><span class="mrow" id="MathJax-Span-787"><span class="mo" id="MathJax-Span-788" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-789"><span class="mrow" id="MathJax-Span-790"><span class="mo" id="MathJax-Span-791"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-792" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-793"><span class="mrow" id="MathJax-Span-794"><span class="mo" id="MathJax-Span-795"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-796" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-797" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-798" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-799"><span class="mrow" id="MathJax-Span-800"><span class="mo" id="MathJax-Span-801"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-802" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-803" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-804" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-805"><span class="mrow" id="MathJax-Span-806"><span class="mo" id="MathJax-Span-807"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-808" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-809" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-810" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-811"><span class="mrow" id="MathJax-Span-812"><span class="mo" id="MathJax-Span-813"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-814"><span class="mrow" id="MathJax-Span-815"><span class="mo" id="MathJax-Span-816"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-817" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-818" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-819" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-820"><span class="mrow" id="MathJax-Span-821"><span class="mo" id="MathJax-Span-822"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-823"><span class="mrow" id="MathJax-Span-824"><span class="mo" id="MathJax-Span-825"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-826"><span class="mrow" id="MathJax-Span-827"><span class="mo" id="MathJax-Span-828"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-829"><span class="mrow" id="MathJax-Span-830"><span class="mo" id="MathJax-Span-831"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-832" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-833" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-834" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-835"><span class="mrow" id="MathJax-Span-836"><span class="mo" id="MathJax-Span-837"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-838"><span class="mrow" id="MathJax-Span-839"><span class="mo" id="MathJax-Span-840"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-841" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-842" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-843" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-844"><span class="mrow" id="MathJax-Span-845"><span class="mo" id="MathJax-Span-846"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-847"><span class="mrow" id="MathJax-Span-848"><span class="mo" id="MathJax-Span-849"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-850"><span class="mrow" id="MathJax-Span-851"><span class="mo" id="MathJax-Span-852"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-853" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-854" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-855" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-856"><span class="mrow" id="MathJax-Span-857"><span class="mo" id="MathJax-Span-858"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-859"><span class="mrow" id="MathJax-Span-860"><span class="mo" id="MathJax-Span-861"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-862" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-863" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-864" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-865"><span class="mrow" id="MathJax-Span-866"><span class="mo" id="MathJax-Span-867"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-868"><span class="mrow" id="MathJax-Span-869"><span class="mo" id="MathJax-Span-870"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-871" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-872" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-873" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-874"><span class="mrow" id="MathJax-Span-875"><span class="mo" id="MathJax-Span-876"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-877"><span class="mrow" id="MathJax-Span-878"><span class="mo" id="MathJax-Span-879"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-880" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-881" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-882"><span class="mrow" id="MathJax-Span-883"><span class="mo" id="MathJax-Span-884"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-885" style="width: 39.576em; display: inline-block;"><span style="display: inline-block; width: 31.629em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-886"><span style="display: inline-block; width: 31.629em; height: 0px;"><span><span class="mo" id="MathJax-Span-887" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-888"><span style="display: inline-block; width: 30.349em; height: 0px;"><span><span class="mrow" id="MathJax-Span-889"><span class="mi" id="MathJax-Span-890" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-891" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-892"><span class="mrow" id="MathJax-Span-893"><span class="mo" id="MathJax-Span-894" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-895" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-896"><span class="mrow" id="MathJax-Span-897"><span class="mo" id="MathJax-Span-898" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-899" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-900" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-901" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-902"><span class="mrow" id="MathJax-Span-903"><span class="mo" id="MathJax-Span-904" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-905" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-906" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-907" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-908"><span class="mrow" id="MathJax-Span-909"><span class="mo" id="MathJax-Span-910" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-911" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-912" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-913" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-914"><span class="mrow" id="MathJax-Span-915"><span class="mo" id="MathJax-Span-916" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-917"><span class="mrow" id="MathJax-Span-918"><span class="mo" id="MathJax-Span-919" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-920" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-921" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-922" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-923"><span class="mrow" id="MathJax-Span-924"><span class="mo" id="MathJax-Span-925" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-926"><span class="mrow" id="MathJax-Span-927"><span class="mo" id="MathJax-Span-928" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-929"><span class="mrow" id="MathJax-Span-930"><span class="mo" id="MathJax-Span-931" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-932"><span class="mrow" id="MathJax-Span-933"><span class="mo" id="MathJax-Span-934" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-935" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-936" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-937" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-938"><span class="mrow" id="MathJax-Span-939"><span class="mo" id="MathJax-Span-940" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-941"><span class="mrow" id="MathJax-Span-942"><span class="mo" id="MathJax-Span-943" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-944" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-945" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-946" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-947"><span class="mrow" id="MathJax-Span-948"><span class="mo" id="MathJax-Span-949" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-950"><span class="mrow" id="MathJax-Span-951"><span class="mo" id="MathJax-Span-952" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-953"><span class="mrow" id="MathJax-Span-954"><span class="mo" id="MathJax-Span-955" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-956" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-957" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-958" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-959"><span class="mrow" id="MathJax-Span-960"><span class="mo" id="MathJax-Span-961" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-962"><span class="mrow" id="MathJax-Span-963"><span class="mo" id="MathJax-Span-964" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-965" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-966" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-967" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-968"><span class="mrow" id="MathJax-Span-969"><span class="mo" id="MathJax-Span-970" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-971"><span class="mrow" id="MathJax-Span-972"><span class="mo" id="MathJax-Span-973" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-974" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-975" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-976" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-977"><span class="mrow" id="MathJax-Span-978"><span class="mo" id="MathJax-Span-979" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-980"><span class="mrow" id="MathJax-Span-981"><span class="mo" id="MathJax-Span-982" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-983" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-984" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-985"><span class="mrow" id="MathJax-Span-986"><span class="mo" id="MathJax-Span-987" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-988" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-989"><span class="mrow" id="MathJax-Span-990"><span class="mo" id="MathJax-Span-991" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-992"><span class="mrow" id="MathJax-Span-993"><span class="mo" id="MathJax-Span-994" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-995"><span class="mrow" id="MathJax-Span-996"><span class="mo" id="MathJax-Span-997" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-998"><span class="mrow" id="MathJax-Span-999"><span class="mo" id="MathJax-Span-1000" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1001" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1002"><span class="mrow" id="MathJax-Span-1003"><span class="mo" id="MathJax-Span-1004" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mi" id="MathJax-Span-1005" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1006" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1007" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1008"><span class="mrow" id="MathJax-Span-1009"><span class="mo" id="MathJax-Span-1010" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-1011"><span class="mrow" id="MathJax-Span-1012"><span class="mo" id="MathJax-Span-1013" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-1014"><span class="mrow" id="MathJax-Span-1015"><span class="mo" id="MathJax-Span-1016" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1017"><span class="mrow" id="MathJax-Span-1018"><span class="mo" id="MathJax-Span-1019" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1020" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1021" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1022"><span class="mi" id="MathJax-Span-1023" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1024" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-1025"><span class="mrow" id="MathJax-Span-1026"><span class="mo" id="MathJax-Span-1027" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-1028" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1029"><span class="mrow" id="MathJax-Span-1030"><span class="mo" id="MathJax-Span-1031" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1032" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1033" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1034" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1035"><span class="mrow" id="MathJax-Span-1036"><span class="mo" id="MathJax-Span-1037" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1038" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1039" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1040" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1041"><span class="mrow" id="MathJax-Span-1042"><span class="mo" id="MathJax-Span-1043" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1044" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1045" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1046" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1047"><span class="mrow" id="MathJax-Span-1048"><span class="mo" id="MathJax-Span-1049" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1050"><span class="mrow" id="MathJax-Span-1051"><span class="mo" id="MathJax-Span-1052" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1053" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1054" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1055" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1056"><span class="mrow" id="MathJax-Span-1057"><span class="mo" id="MathJax-Span-1058" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1059"><span class="mrow" id="MathJax-Span-1060"><span class="mo" id="MathJax-Span-1061" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1062"><span class="mrow" id="MathJax-Span-1063"><span class="mo" id="MathJax-Span-1064" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1065"><span class="mrow" id="MathJax-Span-1066"><span class="mo" id="MathJax-Span-1067" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1068" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1069" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1070" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1071"><span class="mrow" id="MathJax-Span-1072"><span class="mo" id="MathJax-Span-1073" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1074"><span class="mrow" id="MathJax-Span-1075"><span class="mo" id="MathJax-Span-1076" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1077" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1078" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1079" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1080"><span class="mrow" id="MathJax-Span-1081"><span class="mo" id="MathJax-Span-1082" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1083"><span class="mrow" id="MathJax-Span-1084"><span class="mo" id="MathJax-Span-1085" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1086"><span class="mrow" id="MathJax-Span-1087"><span class="mo" id="MathJax-Span-1088" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1089" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1090" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1091" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1092"><span class="mrow" id="MathJax-Span-1093"><span class="mo" id="MathJax-Span-1094" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1095"><span class="mrow" id="MathJax-Span-1096"><span class="mo" id="MathJax-Span-1097" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1098" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1099" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1100" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1101"><span class="mrow" id="MathJax-Span-1102"><span class="mo" id="MathJax-Span-1103" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1104"><span class="mrow" id="MathJax-Span-1105"><span class="mo" id="MathJax-Span-1106" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1107" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1108" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1109" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1110"><span class="mrow" id="MathJax-Span-1111"><span class="mo" id="MathJax-Span-1112" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1113"><span class="mrow" id="MathJax-Span-1114"><span class="mo" id="MathJax-Span-1115" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1116" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1117" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1118" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
  
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-1119" style="width: 28.963em; display: inline-block;"><span style="display: inline-block; width: 23.149em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1120"><span style="display: inline-block; width: 23.149em; height: 0px;"><span><span class="mi" id="MathJax-Span-1121" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1122" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1123" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1124"><span class="mrow" id="MathJax-Span-1125"><span class="mo" id="MathJax-Span-1126"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1127"><span class="mrow" id="MathJax-Span-1128"><span class="mo" id="MathJax-Span-1129"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-1130"><span class="mrow" id="MathJax-Span-1131"><span class="mo" id="MathJax-Span-1132"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1133"><span class="mrow" id="MathJax-Span-1134"><span class="mo" id="MathJax-Span-1135"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1136" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1137"><span class="mrow" id="MathJax-Span-1138"><span class="mo" id="MathJax-Span-1139" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-1140"><span class="mrow" id="MathJax-Span-1141"><span class="mo" id="MathJax-Span-1142"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-1143" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1144"><span class="mrow" id="MathJax-Span-1145"><span class="mo" id="MathJax-Span-1146"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1147" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1148" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1149" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1150"><span class="mrow" id="MathJax-Span-1151"><span class="mo" id="MathJax-Span-1152"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1153" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1154" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1155" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1156"><span class="mrow" id="MathJax-Span-1157"><span class="mo" id="MathJax-Span-1158"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1159" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1160" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1161" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1162"><span class="mrow" id="MathJax-Span-1163"><span class="mo" id="MathJax-Span-1164"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1165"><span class="mrow" id="MathJax-Span-1166"><span class="mo" id="MathJax-Span-1167"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1168" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1169" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1170" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1171"><span class="mrow" id="MathJax-Span-1172"><span class="mo" id="MathJax-Span-1173"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1174"><span class="mrow" id="MathJax-Span-1175"><span class="mo" id="MathJax-Span-1176"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1177"><span class="mrow" id="MathJax-Span-1178"><span class="mo" id="MathJax-Span-1179"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1180"><span class="mrow" id="MathJax-Span-1181"><span class="mo" id="MathJax-Span-1182"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1183" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1184" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1185" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1186"><span class="mrow" id="MathJax-Span-1187"><span class="mo" id="MathJax-Span-1188"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1189"><span class="mrow" id="MathJax-Span-1190"><span class="mo" id="MathJax-Span-1191"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1192" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1193" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1194" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1195"><span class="mrow" id="MathJax-Span-1196"><span class="mo" id="MathJax-Span-1197"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1198"><span class="mrow" id="MathJax-Span-1199"><span class="mo" id="MathJax-Span-1200"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1201"><span class="mrow" id="MathJax-Span-1202"><span class="mo" id="MathJax-Span-1203"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1204" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1205" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1206" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1207"><span class="mrow" id="MathJax-Span-1208"><span class="mo" id="MathJax-Span-1209"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1210"><span class="mrow" id="MathJax-Span-1211"><span class="mo" id="MathJax-Span-1212"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1213" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1214" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1215" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1216"><span class="mrow" id="MathJax-Span-1217"><span class="mo" id="MathJax-Span-1218"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1219"><span class="mrow" id="MathJax-Span-1220"><span class="mo" id="MathJax-Span-1221"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1222" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1223" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1224" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1225"><span class="mrow" id="MathJax-Span-1226"><span class="mo" id="MathJax-Span-1227"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1228"><span class="mrow" id="MathJax-Span-1229"><span class="mo" id="MathJax-Span-1230"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1231" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1232" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1233"><span class="mrow" id="MathJax-Span-1234"><span class="mo" id="MathJax-Span-1235"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-1236" style="width: 39.576em; display: inline-block;"><span style="display: inline-block; width: 31.629em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1237"><span style="display: inline-block; width: 31.629em; height: 0px;"><span><span class="mo" id="MathJax-Span-1238" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-1239"><span style="display: inline-block; width: 30.349em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1240"><span class="mi" id="MathJax-Span-1241" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1242" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-1243"><span class="mrow" id="MathJax-Span-1244"><span class="mo" id="MathJax-Span-1245" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-1246" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1247"><span class="mrow" id="MathJax-Span-1248"><span class="mo" id="MathJax-Span-1249" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1250" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1251" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1252" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1253"><span class="mrow" id="MathJax-Span-1254"><span class="mo" id="MathJax-Span-1255" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1256" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1257" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1258" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1259"><span class="mrow" id="MathJax-Span-1260"><span class="mo" id="MathJax-Span-1261" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1262" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1263" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1264" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1265"><span class="mrow" id="MathJax-Span-1266"><span class="mo" id="MathJax-Span-1267" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1268"><span class="mrow" id="MathJax-Span-1269"><span class="mo" id="MathJax-Span-1270" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1271" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1272" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1273" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1274"><span class="mrow" id="MathJax-Span-1275"><span class="mo" id="MathJax-Span-1276" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1277"><span class="mrow" id="MathJax-Span-1278"><span class="mo" id="MathJax-Span-1279" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1280"><span class="mrow" id="MathJax-Span-1281"><span class="mo" id="MathJax-Span-1282" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1283"><span class="mrow" id="MathJax-Span-1284"><span class="mo" id="MathJax-Span-1285" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1286" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1287" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1288" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1289"><span class="mrow" id="MathJax-Span-1290"><span class="mo" id="MathJax-Span-1291" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1292"><span class="mrow" id="MathJax-Span-1293"><span class="mo" id="MathJax-Span-1294" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1295" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1296" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1297" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1298"><span class="mrow" id="MathJax-Span-1299"><span class="mo" id="MathJax-Span-1300" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1301"><span class="mrow" id="MathJax-Span-1302"><span class="mo" id="MathJax-Span-1303" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1304"><span class="mrow" id="MathJax-Span-1305"><span class="mo" id="MathJax-Span-1306" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1307" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1308" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1309" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1310"><span class="mrow" id="MathJax-Span-1311"><span class="mo" id="MathJax-Span-1312" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1313"><span class="mrow" id="MathJax-Span-1314"><span class="mo" id="MathJax-Span-1315" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1316" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1317" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1318" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1319"><span class="mrow" id="MathJax-Span-1320"><span class="mo" id="MathJax-Span-1321" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1322"><span class="mrow" id="MathJax-Span-1323"><span class="mo" id="MathJax-Span-1324" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1325" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1326" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1327" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1328"><span class="mrow" id="MathJax-Span-1329"><span class="mo" id="MathJax-Span-1330" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1331"><span class="mrow" id="MathJax-Span-1332"><span class="mo" id="MathJax-Span-1333" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1334" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1335" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1336"><span class="mrow" id="MathJax-Span-1337"><span class="mo" id="MathJax-Span-1338" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1339" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1340"><span class="mrow" id="MathJax-Span-1341"><span class="mo" id="MathJax-Span-1342" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1343"><span class="mrow" id="MathJax-Span-1344"><span class="mo" id="MathJax-Span-1345" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-1346"><span class="mrow" id="MathJax-Span-1347"><span class="mo" id="MathJax-Span-1348" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1349"><span class="mrow" id="MathJax-Span-1350"><span class="mo" id="MathJax-Span-1351" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1352" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1353"><span class="mrow" id="MathJax-Span-1354"><span class="mo" id="MathJax-Span-1355" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mi" id="MathJax-Span-1356" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1357" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1358" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1359"><span class="mrow" id="MathJax-Span-1360"><span class="mo" id="MathJax-Span-1361" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1362"><span class="mrow" id="MathJax-Span-1363"><span class="mo" id="MathJax-Span-1364" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-1365"><span class="mrow" id="MathJax-Span-1366"><span class="mo" id="MathJax-Span-1367" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1368"><span class="mrow" id="MathJax-Span-1369"><span class="mo" id="MathJax-Span-1370" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1371" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1372" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1373"><span class="mi" id="MathJax-Span-1374" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1375" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-1376"><span class="mrow" id="MathJax-Span-1377"><span class="mo" id="MathJax-Span-1378" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-1379" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1380"><span class="mrow" id="MathJax-Span-1381"><span class="mo" id="MathJax-Span-1382" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1383" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1384" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1385" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1386"><span class="mrow" id="MathJax-Span-1387"><span class="mo" id="MathJax-Span-1388" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1389" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1390" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1391" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1392"><span class="mrow" id="MathJax-Span-1393"><span class="mo" id="MathJax-Span-1394" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1395" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1396" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1397" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1398"><span class="mrow" id="MathJax-Span-1399"><span class="mo" id="MathJax-Span-1400" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1401"><span class="mrow" id="MathJax-Span-1402"><span class="mo" id="MathJax-Span-1403" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1404" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1405" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1406" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1407"><span class="mrow" id="MathJax-Span-1408"><span class="mo" id="MathJax-Span-1409" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1410"><span class="mrow" id="MathJax-Span-1411"><span class="mo" id="MathJax-Span-1412" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1413"><span class="mrow" id="MathJax-Span-1414"><span class="mo" id="MathJax-Span-1415" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1416"><span class="mrow" id="MathJax-Span-1417"><span class="mo" id="MathJax-Span-1418" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1419" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1420" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1421" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1422"><span class="mrow" id="MathJax-Span-1423"><span class="mo" id="MathJax-Span-1424" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1425"><span class="mrow" id="MathJax-Span-1426"><span class="mo" id="MathJax-Span-1427" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1428" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1429" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1430" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1431"><span class="mrow" id="MathJax-Span-1432"><span class="mo" id="MathJax-Span-1433" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1434"><span class="mrow" id="MathJax-Span-1435"><span class="mo" id="MathJax-Span-1436" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1437"><span class="mrow" id="MathJax-Span-1438"><span class="mo" id="MathJax-Span-1439" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1440" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1441" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1442" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1443"><span class="mrow" id="MathJax-Span-1444"><span class="mo" id="MathJax-Span-1445" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1446"><span class="mrow" id="MathJax-Span-1447"><span class="mo" id="MathJax-Span-1448" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1449" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1450" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1451" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1452"><span class="mrow" id="MathJax-Span-1453"><span class="mo" id="MathJax-Span-1454" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1455"><span class="mrow" id="MathJax-Span-1456"><span class="mo" id="MathJax-Span-1457" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1458" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1459" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1460" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1461"><span class="mrow" id="MathJax-Span-1462"><span class="mo" id="MathJax-Span-1463" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1464"><span class="mrow" id="MathJax-Span-1465"><span class="mo" id="MathJax-Span-1466" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1467" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1468" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-1469" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>



<h2 id="6-条件独立假设">6. 条件独立假设</h2>

<p>有些同学说…好像…似乎…经过上面折腾，概率看起来更复杂了-_-|| <br />
那…那我们简化一下…</p>

<p>概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-1470" style="width: 33.869em; display: inline-block;"><span style="display: inline-block; width: 27.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1471"><span style="display: inline-block; width: 27.096em; height: 0px;"><span><span class="mi" id="MathJax-Span-1472" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1473" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-1474"><span class="mrow" id="MathJax-Span-1475"><span class="mo" id="MathJax-Span-1476"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-1477" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1478"><span class="mrow" id="MathJax-Span-1479"><span class="mo" id="MathJax-Span-1480"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1481" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1482" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1483" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1484"><span class="mrow" id="MathJax-Span-1485"><span class="mo" id="MathJax-Span-1486"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1487" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1488" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1489" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1490"><span class="mrow" id="MathJax-Span-1491"><span class="mo" id="MathJax-Span-1492"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1493" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1494" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1495" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1496"><span class="mrow" id="MathJax-Span-1497"><span class="mo" id="MathJax-Span-1498"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1499"><span class="mrow" id="MathJax-Span-1500"><span class="mo" id="MathJax-Span-1501"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1502" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1503" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1504" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1505"><span class="mrow" id="MathJax-Span-1506"><span class="mo" id="MathJax-Span-1507"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1508"><span class="mrow" id="MathJax-Span-1509"><span class="mo" id="MathJax-Span-1510"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1511"><span class="mrow" id="MathJax-Span-1512"><span class="mo" id="MathJax-Span-1513"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1514"><span class="mrow" id="MathJax-Span-1515"><span class="mo" id="MathJax-Span-1516"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1517" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1518" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1519" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1520"><span class="mrow" id="MathJax-Span-1521"><span class="mo" id="MathJax-Span-1522"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1523"><span class="mrow" id="MathJax-Span-1524"><span class="mo" id="MathJax-Span-1525"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1526" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1527" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1528" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1529"><span class="mrow" id="MathJax-Span-1530"><span class="mo" id="MathJax-Span-1531"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1532"><span class="mrow" id="MathJax-Span-1533"><span class="mo" id="MathJax-Span-1534"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1535"><span class="mrow" id="MathJax-Span-1536"><span class="mo" id="MathJax-Span-1537"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1538" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1539" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1540" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1541"><span class="mrow" id="MathJax-Span-1542"><span class="mo" id="MathJax-Span-1543"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1544"><span class="mrow" id="MathJax-Span-1545"><span class="mo" id="MathJax-Span-1546"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1547" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1548" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1549" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1550"><span class="mrow" id="MathJax-Span-1551"><span class="mo" id="MathJax-Span-1552"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1553"><span class="mrow" id="MathJax-Span-1554"><span class="mo" id="MathJax-Span-1555"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1556" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1557" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1558" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1559"><span class="mrow" id="MathJax-Span-1560"><span class="mo" id="MathJax-Span-1561"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1562"><span class="mrow" id="MathJax-Span-1563"><span class="mo" id="MathJax-Span-1564"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1565" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1566" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1567"><span class="mrow" id="MathJax-Span-1568"><span class="mo" id="MathJax-Span-1569" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-1570" style="font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1571"><span class="mrow" id="MathJax-Span-1572"><span class="mo" id="MathJax-Span-1573"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-1574"><span class="mrow" id="MathJax-Span-1575"><span class="mo" id="MathJax-Span-1576"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="texatom" id="MathJax-Span-1577"><span class="mrow" id="MathJax-Span-1578"><span class="mo" id="MathJax-Span-1579"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-1580"><span class="mrow" id="MathJax-Span-1581"><span class="mo" id="MathJax-Span-1582"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-1583" style="font-family: STIXGeneral-Regular;">"</span><span class="texatom" id="MathJax-Span-1584"><span class="mrow" id="MathJax-Span-1585"><span class="mo" id="MathJax-Span-1586"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span>依旧不够好求，我们引进一个<strong>很朴素的近似</strong>。为了让公式显得更加紧凑，我们令字母S表示“垃圾邮件”,令字母H表示“正常邮件”。近似公式如下：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-1587" style="width: 28.003em; display: inline-block;"><span style="display: inline-block; width: 22.403em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1588"><span style="display: inline-block; width: 22.403em; height: 0px;"><span><span class="mi" id="MathJax-Span-1589" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1590" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-1591"><span class="mrow" id="MathJax-Span-1592"><span class="mo" id="MathJax-Span-1593"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-1594" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1595"><span class="mrow" id="MathJax-Span-1596"><span class="mo" id="MathJax-Span-1597"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1598" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1599" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1600" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1601"><span class="mrow" id="MathJax-Span-1602"><span class="mo" id="MathJax-Span-1603"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1604" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1605" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1606" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1607"><span class="mrow" id="MathJax-Span-1608"><span class="mo" id="MathJax-Span-1609"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1610" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1611" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1612" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1613"><span class="mrow" id="MathJax-Span-1614"><span class="mo" id="MathJax-Span-1615"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1616"><span class="mrow" id="MathJax-Span-1617"><span class="mo" id="MathJax-Span-1618"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1619" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1620" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1621" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1622"><span class="mrow" id="MathJax-Span-1623"><span class="mo" id="MathJax-Span-1624"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1625"><span class="mrow" id="MathJax-Span-1626"><span class="mo" id="MathJax-Span-1627"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1628"><span class="mrow" id="MathJax-Span-1629"><span class="mo" id="MathJax-Span-1630"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1631"><span class="mrow" id="MathJax-Span-1632"><span class="mo" id="MathJax-Span-1633"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1634" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1635" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1636" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1637"><span class="mrow" id="MathJax-Span-1638"><span class="mo" id="MathJax-Span-1639"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1640"><span class="mrow" id="MathJax-Span-1641"><span class="mo" id="MathJax-Span-1642"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1643" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1644" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1645" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1646"><span class="mrow" id="MathJax-Span-1647"><span class="mo" id="MathJax-Span-1648"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1649"><span class="mrow" id="MathJax-Span-1650"><span class="mo" id="MathJax-Span-1651"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1652"><span class="mrow" id="MathJax-Span-1653"><span class="mo" id="MathJax-Span-1654"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1655" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1656" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1657" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1658"><span class="mrow" id="MathJax-Span-1659"><span class="mo" id="MathJax-Span-1660"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1661"><span class="mrow" id="MathJax-Span-1662"><span class="mo" id="MathJax-Span-1663"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1664" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1665" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-1666" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1667"><span class="mrow" id="MathJax-Span-1668"><span class="mo" id="MathJax-Span-1669"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1670"><span class="mrow" id="MathJax-Span-1671"><span class="mo" id="MathJax-Span-1672"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1673" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1674" style="font-family: STIXGeneral-Regular;">,</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1675" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1676"><span class="mrow" id="MathJax-Span-1677"><span class="mo" id="MathJax-Span-1678"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1679"><span class="mrow" id="MathJax-Span-1680"><span class="mo" id="MathJax-Span-1681"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1682" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-1683" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-1684"><span class="mrow" id="MathJax-Span-1685"><span class="mo" id="MathJax-Span-1686" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1687" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1688"><span class="mrow" id="MathJax-Span-1689"><span class="mo" id="MathJax-Span-1690"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-1691" style="width: 25.763em; display: inline-block;"><span style="display: inline-block; width: 20.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1692"><span style="display: inline-block; width: 20.589em; height: 0px;"><span><span class="mo" id="MathJax-Span-1693" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-1694" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1695" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1696" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1697"><span class="mrow" id="MathJax-Span-1698"><span class="mo" id="MathJax-Span-1699"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1700" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1701"><span class="mrow" id="MathJax-Span-1702"><span class="mo" id="MathJax-Span-1703" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1704" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1705"><span class="mrow" id="MathJax-Span-1706"><span class="mo" id="MathJax-Span-1707"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1708" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1709" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1710" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1711" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1712"><span class="mrow" id="MathJax-Span-1713"><span class="mo" id="MathJax-Span-1714"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1715" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1716"><span class="mrow" id="MathJax-Span-1717"><span class="mo" id="MathJax-Span-1718" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1719" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1720"><span class="mrow" id="MathJax-Span-1721"><span class="mo" id="MathJax-Span-1722"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-1723" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1724" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1725" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1726" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1727"><span class="mrow" id="MathJax-Span-1728"><span class="mo" id="MathJax-Span-1729"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1730" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1731"><span class="mrow" id="MathJax-Span-1732"><span class="mo" id="MathJax-Span-1733" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1734" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1735"><span class="mrow" id="MathJax-Span-1736"><span class="mo" id="MathJax-Span-1737"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-1738" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1739" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1740" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1741" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1742"><span class="mrow" id="MathJax-Span-1743"><span class="mo" id="MathJax-Span-1744"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1745"><span class="mrow" id="MathJax-Span-1746"><span class="mo" id="MathJax-Span-1747"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1748" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1749"><span class="mrow" id="MathJax-Span-1750"><span class="mo" id="MathJax-Span-1751" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1752" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1753"><span class="mrow" id="MathJax-Span-1754"><span class="mo" id="MathJax-Span-1755"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-1756" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1757" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1758" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1759" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1760"><span class="mrow" id="MathJax-Span-1761"><span class="mo" id="MathJax-Span-1762"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1763"><span class="mrow" id="MathJax-Span-1764"><span class="mo" id="MathJax-Span-1765"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1766"><span class="mrow" id="MathJax-Span-1767"><span class="mo" id="MathJax-Span-1768"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1769"><span class="mrow" id="MathJax-Span-1770"><span class="mo" id="MathJax-Span-1771"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1772" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1773"><span class="mrow" id="MathJax-Span-1774"><span class="mo" id="MathJax-Span-1775" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1776" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1777"><span class="mrow" id="MathJax-Span-1778"><span class="mo" id="MathJax-Span-1779"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-1780" style="width: 26.243em; display: inline-block;"><span style="display: inline-block; width: 20.963em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1781"><span style="display: inline-block; width: 20.963em; height: 0px;"><span><span class="mo" id="MathJax-Span-1782" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1783" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1784" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1785" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1786"><span class="mrow" id="MathJax-Span-1787"><span class="mo" id="MathJax-Span-1788"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1789"><span class="mrow" id="MathJax-Span-1790"><span class="mo" id="MathJax-Span-1791"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1792" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1793"><span class="mrow" id="MathJax-Span-1794"><span class="mo" id="MathJax-Span-1795" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1796" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1797"><span class="mrow" id="MathJax-Span-1798"><span class="mo" id="MathJax-Span-1799"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1800" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1801" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1802" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1803" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1804"><span class="mrow" id="MathJax-Span-1805"><span class="mo" id="MathJax-Span-1806"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1807"><span class="mrow" id="MathJax-Span-1808"><span class="mo" id="MathJax-Span-1809"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1810"><span class="mrow" id="MathJax-Span-1811"><span class="mo" id="MathJax-Span-1812"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1813" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1814"><span class="mrow" id="MathJax-Span-1815"><span class="mo" id="MathJax-Span-1816" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1817" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1818"><span class="mrow" id="MathJax-Span-1819"><span class="mo" id="MathJax-Span-1820"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-1821" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1822" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1823" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1824" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1825"><span class="mrow" id="MathJax-Span-1826"><span class="mo" id="MathJax-Span-1827"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1828"><span class="mrow" id="MathJax-Span-1829"><span class="mo" id="MathJax-Span-1830"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1831" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1832"><span class="mrow" id="MathJax-Span-1833"><span class="mo" id="MathJax-Span-1834" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1835" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1836"><span class="mrow" id="MathJax-Span-1837"><span class="mo" id="MathJax-Span-1838"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-1839" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1840" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1841" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1842" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1843"><span class="mrow" id="MathJax-Span-1844"><span class="mo" id="MathJax-Span-1845"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-1846"><span class="mrow" id="MathJax-Span-1847"><span class="mo" id="MathJax-Span-1848"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-1849" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1850"><span class="mrow" id="MathJax-Span-1851"><span class="mo" id="MathJax-Span-1852" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1853" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-1854"><span class="mrow" id="MathJax-Span-1855"><span class="mo" id="MathJax-Span-1856"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-1857" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1858" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1859" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1860" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1861"><span class="mrow" id="MathJax-Span-1862"><span class="mo" id="MathJax-Span-1863"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-1864"><span class="mrow" id="MathJax-Span-1865"><span class="mo" id="MathJax-Span-1866"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-1867" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1868"><span class="mrow" id="MathJax-Span-1869"><span class="mo" id="MathJax-Span-1870" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1871" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1872" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>这就是传说中的<strong>条件独立假设</strong>。基于“正常邮件”的条件独立假设的式子与上式类似，此处省去。接着，将条件独立假设代入上面两个相反事件的贝叶斯公式。</p>

<p>于是我们就只需要比较以下两个式子的大小：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-1873" style="width: 29.443em; display: inline-block;"><span style="display: inline-block; width: 23.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1874"><span class="mi" id="MathJax-Span-1875" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1876" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-1877" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1878" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1879" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1880"><span class="mrow" id="MathJax-Span-1881"><span class="mo" id="MathJax-Span-1882"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-1883" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1884"><span class="mrow" id="MathJax-Span-1885"><span class="mo" id="MathJax-Span-1886" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1887" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1888" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1889" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1890" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1891" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1892"><span class="mrow" id="MathJax-Span-1893"><span class="mo" id="MathJax-Span-1894"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-1895" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1896"><span class="mrow" id="MathJax-Span-1897"><span class="mo" id="MathJax-Span-1898" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1899" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1900" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1901" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1902" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1903" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1904"><span class="mrow" id="MathJax-Span-1905"><span class="mo" id="MathJax-Span-1906"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-1907" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1908"><span class="mrow" id="MathJax-Span-1909"><span class="mo" id="MathJax-Span-1910" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1911" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1912" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1913" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1914" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1915" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1916"><span class="mrow" id="MathJax-Span-1917"><span class="mo" id="MathJax-Span-1918"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-1919"><span class="mrow" id="MathJax-Span-1920"><span class="mo" id="MathJax-Span-1921"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-1922" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1923"><span class="mrow" id="MathJax-Span-1924"><span class="mo" id="MathJax-Span-1925" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1926" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1927" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1928" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1929" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1930" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1931"><span class="mrow" id="MathJax-Span-1932"><span class="mo" id="MathJax-Span-1933"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-1934"><span class="mrow" id="MathJax-Span-1935"><span class="mo" id="MathJax-Span-1936"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-1937"><span class="mrow" id="MathJax-Span-1938"><span class="mo" id="MathJax-Span-1939"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1940"><span class="mrow" id="MathJax-Span-1941"><span class="mo" id="MathJax-Span-1942"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1943" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1944"><span class="mrow" id="MathJax-Span-1945"><span class="mo" id="MathJax-Span-1946" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1947" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1948" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-1949" style="width: 36.483em; display: inline-block;"><span style="display: inline-block; width: 29.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1950"><span class="mo" id="MathJax-Span-1951" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-1952" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1953" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1954" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1955"><span class="mrow" id="MathJax-Span-1956"><span class="mo" id="MathJax-Span-1957"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-1958"><span class="mrow" id="MathJax-Span-1959"><span class="mo" id="MathJax-Span-1960"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-1961" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1962"><span class="mrow" id="MathJax-Span-1963"><span class="mo" id="MathJax-Span-1964" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1965" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1966" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1967" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1968" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1969" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1970"><span class="mrow" id="MathJax-Span-1971"><span class="mo" id="MathJax-Span-1972"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-1973"><span class="mrow" id="MathJax-Span-1974"><span class="mo" id="MathJax-Span-1975"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-1976"><span class="mrow" id="MathJax-Span-1977"><span class="mo" id="MathJax-Span-1978"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-1979" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1980"><span class="mrow" id="MathJax-Span-1981"><span class="mo" id="MathJax-Span-1982" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1983" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1984" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-1985" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1986" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-1987" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-1988"><span class="mrow" id="MathJax-Span-1989"><span class="mo" id="MathJax-Span-1990"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-1991"><span class="mrow" id="MathJax-Span-1992"><span class="mo" id="MathJax-Span-1993"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-1994" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-1995"><span class="mrow" id="MathJax-Span-1996"><span class="mo" id="MathJax-Span-1997" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1998" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-1999" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2000" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2001" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2002" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2003"><span class="mrow" id="MathJax-Span-2004"><span class="mo" id="MathJax-Span-2005"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-2006"><span class="mrow" id="MathJax-Span-2007"><span class="mo" id="MathJax-Span-2008"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-2009" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2010"><span class="mrow" id="MathJax-Span-2011"><span class="mo" id="MathJax-Span-2012" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2013" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2014" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2015" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2016" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2017" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2018"><span class="mrow" id="MathJax-Span-2019"><span class="mo" id="MathJax-Span-2020"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-2021"><span class="mrow" id="MathJax-Span-2022"><span class="mo" id="MathJax-Span-2023"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-2024" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2025"><span class="mrow" id="MathJax-Span-2026"><span class="mo" id="MathJax-Span-2027" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2028" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2029" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2030" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2031" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2032" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2033"><span class="mrow" id="MathJax-Span-2034"><span class="mo" id="MathJax-Span-2035"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-2036"><span class="mrow" id="MathJax-Span-2037"><span class="mo" id="MathJax-Span-2038"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-2039"><span class="mrow" id="MathJax-Span-2040"><span class="mo" id="MathJax-Span-2041"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-2042"><span class="mrow" id="MathJax-Span-2043"><span class="mo" id="MathJax-Span-2044"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-2045" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2046" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-2047" style="width: 31.309em; display: inline-block;"><span style="display: inline-block; width: 25.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2048"><span class="munderover" id="MathJax-Span-2049"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-2050" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-2051"><span style="display: inline-block; width: 0.696em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-2052" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2053" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2054" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2055" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2056"><span class="mrow" id="MathJax-Span-2057"><span class="mo" id="MathJax-Span-2058"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2059" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2060"><span class="mrow" id="MathJax-Span-2061"><span class="mo" id="MathJax-Span-2062" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2063" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2064" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2065" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2066" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2067" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2068"><span class="mrow" id="MathJax-Span-2069"><span class="mo" id="MathJax-Span-2070"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-2071" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2072"><span class="mrow" id="MathJax-Span-2073"><span class="mo" id="MathJax-Span-2074" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2075" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2076" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2077" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2078" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2079" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2080"><span class="mrow" id="MathJax-Span-2081"><span class="mo" id="MathJax-Span-2082"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-2083" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2084"><span class="mrow" id="MathJax-Span-2085"><span class="mo" id="MathJax-Span-2086" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2087" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2088" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2089" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2090" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2091" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2092"><span class="mrow" id="MathJax-Span-2093"><span class="mo" id="MathJax-Span-2094"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-2095"><span class="mrow" id="MathJax-Span-2096"><span class="mo" id="MathJax-Span-2097"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-2098" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2099"><span class="mrow" id="MathJax-Span-2100"><span class="mo" id="MathJax-Span-2101" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2102" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2103" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2104" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2105" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2106" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2107"><span class="mrow" id="MathJax-Span-2108"><span class="mo" id="MathJax-Span-2109"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2110"><span class="mrow" id="MathJax-Span-2111"><span class="mo" id="MathJax-Span-2112"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-2113"><span class="mrow" id="MathJax-Span-2114"><span class="mo" id="MathJax-Span-2115"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2116"><span class="mrow" id="MathJax-Span-2117"><span class="mo" id="MathJax-Span-2118"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2119" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2120"><span class="mrow" id="MathJax-Span-2121"><span class="mo" id="MathJax-Span-2122" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2123" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2124" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-2125" style="width: 30.883em; display: inline-block;"><span style="display: inline-block; width: 24.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2126"><span style="display: inline-block; width: 24.696em; height: 0px;"><span><span class="mo" id="MathJax-Span-2127" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-2128" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2129" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2130" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2131"><span class="mrow" id="MathJax-Span-2132"><span class="mo" id="MathJax-Span-2133"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">保</span></span></span></span><span class="texatom" id="MathJax-Span-2134"><span class="mrow" id="MathJax-Span-2135"><span class="mo" id="MathJax-Span-2136"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">真</span></span></span></span><span class="mo" id="MathJax-Span-2137" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2138"><span class="mrow" id="MathJax-Span-2139"><span class="mo" id="MathJax-Span-2140" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2141" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2142" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2143" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2144" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2145" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2146"><span class="mrow" id="MathJax-Span-2147"><span class="mo" id="MathJax-Span-2148"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-2149"><span class="mrow" id="MathJax-Span-2150"><span class="mo" id="MathJax-Span-2151"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-2152"><span class="mrow" id="MathJax-Span-2153"><span class="mo" id="MathJax-Span-2154"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-2155" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2156"><span class="mrow" id="MathJax-Span-2157"><span class="mo" id="MathJax-Span-2158" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2159" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2160" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2161" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2162" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2163" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2164"><span class="mrow" id="MathJax-Span-2165"><span class="mo" id="MathJax-Span-2166"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2167"><span class="mrow" id="MathJax-Span-2168"><span class="mo" id="MathJax-Span-2169"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2170" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2171"><span class="mrow" id="MathJax-Span-2172"><span class="mo" id="MathJax-Span-2173" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2174" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2175" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2176" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2177" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2178" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2179"><span class="mrow" id="MathJax-Span-2180"><span class="mo" id="MathJax-Span-2181"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">点</span></span></span></span><span class="texatom" id="MathJax-Span-2182"><span class="mrow" id="MathJax-Span-2183"><span class="mo" id="MathJax-Span-2184"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-2185" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2186"><span class="mrow" id="MathJax-Span-2187"><span class="mo" id="MathJax-Span-2188" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2189" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2190" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2191" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2192" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2193" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2194"><span class="mrow" id="MathJax-Span-2195"><span class="mo" id="MathJax-Span-2196"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">优</span></span></span></span><span class="texatom" id="MathJax-Span-2197"><span class="mrow" id="MathJax-Span-2198"><span class="mo" id="MathJax-Span-2199"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">惠</span></span></span></span><span class="mo" id="MathJax-Span-2200" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2201"><span class="mrow" id="MathJax-Span-2202"><span class="mo" id="MathJax-Span-2203" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2204" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-2205" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2206" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2207" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2208" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2209"><span class="mrow" id="MathJax-Span-2210"><span class="mo" id="MathJax-Span-2211"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2212"><span class="mrow" id="MathJax-Span-2213"><span class="mo" id="MathJax-Span-2214"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-2215"><span class="mrow" id="MathJax-Span-2216"><span class="mo" id="MathJax-Span-2217"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="texatom" id="MathJax-Span-2218"><span class="mrow" id="MathJax-Span-2219"><span class="mo" id="MathJax-Span-2220"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="mo" id="MathJax-Span-2221" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2222" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>厉(wo)害(cao)！酱紫处理后<strong>式子中的每一项都特别好求</strong>！只需要<strong>分别统计各类邮件中该关键词出现的概率</strong>就可以了！！！比如：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-37-Frame"><span class="math" id="MathJax-Span-2223" style="width: 18.669em; display: inline-block;"><span style="display: inline-block; width: 14.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2224"><span class="mi" id="MathJax-Span-2225" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2226" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2227" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2228"><span class="mrow" id="MathJax-Span-2229"><span class="mo" id="MathJax-Span-2230"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2231"><span class="mrow" id="MathJax-Span-2232"><span class="mo" id="MathJax-Span-2233"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2234" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2235"><span class="mrow" id="MathJax-Span-2236"><span class="mo" id="MathJax-Span-2237" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2238" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-2239"><span class="mrow" id="MathJax-Span-2240"><span class="mo" id="MathJax-Span-2241"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-2242" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-2243"><span style="display: inline-block; width: 8.429em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2244"><span class="texatom" id="MathJax-Span-2245"><span class="mrow" id="MathJax-Span-2246"><span class="mo" id="MathJax-Span-2247" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-2248"><span class="mrow" id="MathJax-Span-2249"><span class="mo" id="MathJax-Span-2250" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-2251"><span class="mrow" id="MathJax-Span-2252"><span class="mo" id="MathJax-Span-2253" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-2254"><span class="mrow" id="MathJax-Span-2255"><span class="mo" id="MathJax-Span-2256" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-2257"><span class="mrow" id="MathJax-Span-2258"><span class="mo" id="MathJax-Span-2259" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-2260"><span class="mrow" id="MathJax-Span-2261"><span class="mo" id="MathJax-Span-2262" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-2263"><span class="mrow" id="MathJax-Span-2264"><span class="mo" id="MathJax-Span-2265" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="mo" id="MathJax-Span-2266" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2267"><span class="mrow" id="MathJax-Span-2268"><span class="mo" id="MathJax-Span-2269" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2270"><span class="mrow" id="MathJax-Span-2271"><span class="mo" id="MathJax-Span-2272" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2273" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2274"><span class="mrow" id="MathJax-Span-2275"><span class="mo" id="MathJax-Span-2276" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2277"><span class="mrow" id="MathJax-Span-2278"><span class="mo" id="MathJax-Span-2279" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2280"><span class="mrow" id="MathJax-Span-2281"><span class="mo" id="MathJax-Span-2282" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2283"><span class="texatom" id="MathJax-Span-2284"><span class="mrow" id="MathJax-Span-2285"><span class="mo" id="MathJax-Span-2286" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-2287"><span class="mrow" id="MathJax-Span-2288"><span class="mo" id="MathJax-Span-2289" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-2290"><span class="mrow" id="MathJax-Span-2291"><span class="mo" id="MathJax-Span-2292" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-2293"><span class="mrow" id="MathJax-Span-2294"><span class="mo" id="MathJax-Span-2295" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-2296"><span class="mrow" id="MathJax-Span-2297"><span class="mo" id="MathJax-Span-2298" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-2299"><span class="mrow" id="MathJax-Span-2300"><span class="mo" id="MathJax-Span-2301" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-2302"><span class="mrow" id="MathJax-Span-2303"><span class="mo" id="MathJax-Span-2304" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-2305"><span class="mrow" id="MathJax-Span-2306"><span class="mo" id="MathJax-Span-2307" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2308"><span class="mrow" id="MathJax-Span-2309"><span class="mo" id="MathJax-Span-2310" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">语</span></span></span></span><span class="texatom" id="MathJax-Span-2311"><span class="mrow" id="MathJax-Span-2312"><span class="mo" id="MathJax-Span-2313" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2314"><span class="mrow" id="MathJax-Span-2315"><span class="mo" id="MathJax-Span-2316" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2317"><span class="mrow" id="MathJax-Span-2318"><span class="mo" id="MathJax-Span-2319" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>统计次数非常方便，而且样本数量足够大，算出来的概率比较接近真实。于是垃圾邮件识别的问题就可解了。</p>



<h2 id="7-朴素贝叶斯naive-bayesnaive在何处">7. 朴素贝叶斯(Naive Bayes)，“Naive”在何处？</h2>

<p><strong>加上条件独立假设的贝叶斯方法就是朴素贝叶斯方法（Naive Bayes）。</strong> Naive的发音是“乃一污”，意思是“朴素的”、“幼稚的”、<strong>“蠢蠢的”</strong>。咳咳，也就是说，大神们取名说该方法是一种比较萌蠢的方法，为啥？</p>

<p>将句子（“我”,“司”,“可”,“办理”,“正规发票”) 中的 （“我”,“司”）与（“正规发票”）调换一下顺序，就变成了一个新的句子（“正规发票”,“可”,“办理”, “我”, “司”)。新句子与旧句子的意思完全不同。<strong>但由于乘法交换律，朴素贝叶斯方法中算出来二者的条件概率完全一样！</strong>计算过程如下：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame"><span class="math" id="MathJax-Span-2320" style="width: 20.803em; display: inline-block;"><span style="display: inline-block; width: 16.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2321"><span class="mi" id="MathJax-Span-2322" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2323" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2324"><span class="mrow" id="MathJax-Span-2325"><span class="mo" id="MathJax-Span-2326"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-2327" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2328"><span class="mrow" id="MathJax-Span-2329"><span class="mo" id="MathJax-Span-2330"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2331" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2332" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2333" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2334"><span class="mrow" id="MathJax-Span-2335"><span class="mo" id="MathJax-Span-2336"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-2337" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2338" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2339" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2340"><span class="mrow" id="MathJax-Span-2341"><span class="mo" id="MathJax-Span-2342"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-2343" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2344" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2345" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2346"><span class="mrow" id="MathJax-Span-2347"><span class="mo" id="MathJax-Span-2348"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-2349"><span class="mrow" id="MathJax-Span-2350"><span class="mo" id="MathJax-Span-2351"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-2352" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2353" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2354" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2355"><span class="mrow" id="MathJax-Span-2356"><span class="mo" id="MathJax-Span-2357"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2358"><span class="mrow" id="MathJax-Span-2359"><span class="mo" id="MathJax-Span-2360"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-2361"><span class="mrow" id="MathJax-Span-2362"><span class="mo" id="MathJax-Span-2363"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2364"><span class="mrow" id="MathJax-Span-2365"><span class="mo" id="MathJax-Span-2366"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2367" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2368" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2369"><span class="mrow" id="MathJax-Span-2370"><span class="mo" id="MathJax-Span-2371" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2372" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2373" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-39-Frame"><span class="math" id="MathJax-Span-2374" style="width: 28.216em; display: inline-block;"><span style="display: inline-block; width: 22.563em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2375"><span class="mo" id="MathJax-Span-2376" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2377" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2378" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2379" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2380"><span class="mrow" id="MathJax-Span-2381"><span class="mo" id="MathJax-Span-2382"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2383" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2384"><span class="mrow" id="MathJax-Span-2385"><span class="mo" id="MathJax-Span-2386" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2387" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2388" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2389" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2390" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2391" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2392"><span class="mrow" id="MathJax-Span-2393"><span class="mo" id="MathJax-Span-2394"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-2395" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2396"><span class="mrow" id="MathJax-Span-2397"><span class="mo" id="MathJax-Span-2398" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2399" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2400" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2401" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2402" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2403" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2404"><span class="mrow" id="MathJax-Span-2405"><span class="mo" id="MathJax-Span-2406"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-2407" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2408"><span class="mrow" id="MathJax-Span-2409"><span class="mo" id="MathJax-Span-2410" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2411" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2412" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2413" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2414" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2415" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2416"><span class="mrow" id="MathJax-Span-2417"><span class="mo" id="MathJax-Span-2418"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-2419"><span class="mrow" id="MathJax-Span-2420"><span class="mo" id="MathJax-Span-2421"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-2422" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2423"><span class="mrow" id="MathJax-Span-2424"><span class="mo" id="MathJax-Span-2425" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2426" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2427" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2428" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2429" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2430" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2431"><span class="mrow" id="MathJax-Span-2432"><span class="mo" id="MathJax-Span-2433"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2434"><span class="mrow" id="MathJax-Span-2435"><span class="mo" id="MathJax-Span-2436"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-2437"><span class="mrow" id="MathJax-Span-2438"><span class="mo" id="MathJax-Span-2439"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2440"><span class="mrow" id="MathJax-Span-2441"><span class="mo" id="MathJax-Span-2442"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2443" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2444"><span class="mrow" id="MathJax-Span-2445"><span class="mo" id="MathJax-Span-2446" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2447" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2448" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-40-Frame"><span class="math" id="MathJax-Span-2449" style="width: 28.803em; display: inline-block;"><span style="display: inline-block; width: 23.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2450"><span class="mo" id="MathJax-Span-2451" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2452" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2453" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2454" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2455"><span class="mrow" id="MathJax-Span-2456"><span class="mo" id="MathJax-Span-2457"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2458"><span class="mrow" id="MathJax-Span-2459"><span class="mo" id="MathJax-Span-2460"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-2461"><span class="mrow" id="MathJax-Span-2462"><span class="mo" id="MathJax-Span-2463"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2464"><span class="mrow" id="MathJax-Span-2465"><span class="mo" id="MathJax-Span-2466"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2467" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2468"><span class="mrow" id="MathJax-Span-2469"><span class="mo" id="MathJax-Span-2470" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2471" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2472" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2473" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2474" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2475" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2476"><span class="mrow" id="MathJax-Span-2477"><span class="mo" id="MathJax-Span-2478"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-2479" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2480"><span class="mrow" id="MathJax-Span-2481"><span class="mo" id="MathJax-Span-2482" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2483" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2484" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2485" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2486" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2487" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2488"><span class="mrow" id="MathJax-Span-2489"><span class="mo" id="MathJax-Span-2490"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-2491"><span class="mrow" id="MathJax-Span-2492"><span class="mo" id="MathJax-Span-2493"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-2494" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2495"><span class="mrow" id="MathJax-Span-2496"><span class="mo" id="MathJax-Span-2497" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2498" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2499" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2500" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2501" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2502" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2503"><span class="mrow" id="MathJax-Span-2504"><span class="mo" id="MathJax-Span-2505"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2506" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2507"><span class="mrow" id="MathJax-Span-2508"><span class="mo" id="MathJax-Span-2509" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2510" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2511" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2512" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2513" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2514" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2515"><span class="mrow" id="MathJax-Span-2516"><span class="mo" id="MathJax-Span-2517"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-2518" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2519"><span class="mrow" id="MathJax-Span-2520"><span class="mo" id="MathJax-Span-2521" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2522" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-2523"><span class="mrow" id="MathJax-Span-2524"><span class="mo" id="MathJax-Span-2525"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-41-Frame"><span class="math" id="MathJax-Span-2526" style="width: 22.083em; display: inline-block;"><span style="display: inline-block; width: 17.656em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2527"><span class="mo" id="MathJax-Span-2528" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2529" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2530" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2531"><span class="mrow" id="MathJax-Span-2532"><span class="mo" id="MathJax-Span-2533"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-2534" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2535"><span class="mrow" id="MathJax-Span-2536"><span class="mo" id="MathJax-Span-2537"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2538"><span class="mrow" id="MathJax-Span-2539"><span class="mo" id="MathJax-Span-2540"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-2541"><span class="mrow" id="MathJax-Span-2542"><span class="mo" id="MathJax-Span-2543"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2544"><span class="mrow" id="MathJax-Span-2545"><span class="mo" id="MathJax-Span-2546"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2547" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2548" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2549" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2550"><span class="mrow" id="MathJax-Span-2551"><span class="mo" id="MathJax-Span-2552"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-2553" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2554" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2555" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2556"><span class="mrow" id="MathJax-Span-2557"><span class="mo" id="MathJax-Span-2558"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-2559"><span class="mrow" id="MathJax-Span-2560"><span class="mo" id="MathJax-Span-2561"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-2562" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2563" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2564" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2565"><span class="mrow" id="MathJax-Span-2566"><span class="mo" id="MathJax-Span-2567"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-2568" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2569" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2570" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2571"><span class="mrow" id="MathJax-Span-2572"><span class="mo" id="MathJax-Span-2573"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-2574" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2575" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2576"><span class="mrow" id="MathJax-Span-2577"><span class="mo" id="MathJax-Span-2578" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2579" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2580" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p><strong>也就是说，在朴素贝叶斯眼里，“我司可办理正规发票”与“正规发票可办理我司”完全相同。朴素贝叶斯失去了词语之间的顺序信息。</strong>这就相当于把所有的词汇扔进到一个袋子里随便搅和，贝叶斯都认为它们一样。因此这种情况也称作<strong>词袋子模型(bag of words)</strong>。 <br />
</p><center> <br />
<img alt="词袋子配图" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0131_bag_of_words.jpg" title="" /> <br />
</center> <br />
词袋子模型与人们的日常经验完全不同。比如，在条件独立假设的情况下，<strong>“武松打死了老虎”与“老虎打死了武松”被它认作一个意思了。</strong>恩，朴素贝叶斯就是这么单纯和直接，对比于其他分类器，好像是显得有那么点萌蠢。<p></p>



<h2 id="8-简单高效吊丝逆袭">8. 简单高效，吊丝逆袭</h2>

<p>虽然说朴素贝叶斯方法萌蠢萌蠢的，但实践证明在垃圾邮件识别的应用还<strong>令人诧异地好</strong>。Paul Graham先生自己简单做了一个朴素贝叶斯分类器，<strong>“1000封垃圾邮件能够被过滤掉995封，并且没有一个误判”。</strong>（Paul Graham《黑客与画家》）</p>

<p>那个…效果为啥好呢？</p>

<p>“有人对此提出了一个理论解释，并且建立了什么时候朴素贝叶斯的效果能够等价于非朴素贝叶斯的充要条件，这个解释的核心就是：有些独立假设在各个分类之间的分布都是均匀的所以对于似然的相对大小不产生影响；即便不是如此，也有很大的可能性<strong>各个独立假设所产生的消极影响或积极影响互相抵消，最终导致结果受到的影响不大</strong>。具体的数学公式请参考<a href="http://www.cs.unb.ca/profs/hzhang/publications/FLAIRS04ZhangH.pdf">这篇 paper</a>。”（刘未鹏《：平凡而又神奇的贝叶斯方法》）</p>

<p>恩，这个分类器中最简单直接看似萌蠢的小盆友『朴素贝叶斯』，实际上却是<strong>简单、实用、且强大</strong>的。</p>



<h2 id="9-处理重复词语的三种方式">9. 处理重复词语的三种方式</h2>

<p>我们<strong>之前的垃圾邮件向量（“我”,“司”,“可”,“办理”,“正规发票”,“保真”,“增值税”,“发票”,“点数”,“优惠”)，其中每个词都不重复。</strong>而这在现实中其实很少见。因为如果文本长度增加，或者分词方法改变，<strong>必然会有许多词重复出现</strong>，因此需要对这种情况进行进一步探讨。比如以下这段邮件：</p>

<blockquote>
  <p>“代开发票。增值税发票，正规发票。” <br />
  分词后为向量： <br />
  （“代开”,“发票”,“增值税”,“发票”,“正规”,“发票”）</p>
</blockquote>

<p>其中“发票”重复了三次。</p>



<h3 id="91-多项式模型">9.1 多项式模型：</h3>

<p>如果我们考虑重复词语的情况，也就是说，<strong>重复的词语我们视为其出现多次</strong>，直接按条件独立假设的方式推导，则有</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-42-Frame"><span class="math" id="MathJax-Span-2581" style="width: 27.096em; display: inline-block;"><span style="display: inline-block; width: 21.656em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2582"><span class="mi" id="MathJax-Span-2583" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2584" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2585"><span class="mrow" id="MathJax-Span-2586"><span class="mo" id="MathJax-Span-2587"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-2588" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2589"><span class="mrow" id="MathJax-Span-2590"><span class="mo" id="MathJax-Span-2591"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">代</span></span></span></span><span class="texatom" id="MathJax-Span-2592"><span class="mrow" id="MathJax-Span-2593"><span class="mo" id="MathJax-Span-2594"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">开</span></span></span></span><span class="mo" id="MathJax-Span-2595" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2596" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2597" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2598"><span class="mrow" id="MathJax-Span-2599"><span class="mo" id="MathJax-Span-2600"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2601"><span class="mrow" id="MathJax-Span-2602"><span class="mo" id="MathJax-Span-2603"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2604" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2605" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2606" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2607"><span class="mrow" id="MathJax-Span-2608"><span class="mo" id="MathJax-Span-2609"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-2610"><span class="mrow" id="MathJax-Span-2611"><span class="mo" id="MathJax-Span-2612"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-2613"><span class="mrow" id="MathJax-Span-2614"><span class="mo" id="MathJax-Span-2615"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-2616" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2617" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2618" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2619"><span class="mrow" id="MathJax-Span-2620"><span class="mo" id="MathJax-Span-2621"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2622"><span class="mrow" id="MathJax-Span-2623"><span class="mo" id="MathJax-Span-2624"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2625" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2626" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2627" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2628"><span class="mrow" id="MathJax-Span-2629"><span class="mo" id="MathJax-Span-2630"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2631"><span class="mrow" id="MathJax-Span-2632"><span class="mo" id="MathJax-Span-2633"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-2634" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2635" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-2636" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2637"><span class="mrow" id="MathJax-Span-2638"><span class="mo" id="MathJax-Span-2639"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2640"><span class="mrow" id="MathJax-Span-2641"><span class="mo" id="MathJax-Span-2642"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2643" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2644" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-2645"><span class="mrow" id="MathJax-Span-2646"><span class="mo" id="MathJax-Span-2647" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2648" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-2649"><span class="mrow" id="MathJax-Span-2650"><span class="mo" id="MathJax-Span-2651"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-43-Frame"><span class="math" id="MathJax-Span-2652" style="width: 29.016em; display: inline-block;"><span style="display: inline-block; width: 23.203em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2653"><span style="display: inline-block; width: 23.203em; height: 0px;"><span><span class="mo" id="MathJax-Span-2654" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2655" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2656" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2657" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2658"><span class="mrow" id="MathJax-Span-2659"><span class="mo" id="MathJax-Span-2660"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">代</span></span></span></span><span class="texatom" id="MathJax-Span-2661"><span class="mrow" id="MathJax-Span-2662"><span class="mo" id="MathJax-Span-2663"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">开</span></span></span></span><span class="mo" id="MathJax-Span-2664" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2665" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2666"><span class="mrow" id="MathJax-Span-2667"><span class="mo" id="MathJax-Span-2668" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2669" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2670" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2671" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2672" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2673" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2674"><span class="mrow" id="MathJax-Span-2675"><span class="mo" id="MathJax-Span-2676"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2677"><span class="mrow" id="MathJax-Span-2678"><span class="mo" id="MathJax-Span-2679"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2680" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2681"><span class="mrow" id="MathJax-Span-2682"><span class="mo" id="MathJax-Span-2683" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2684" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2685" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2686" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2687" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2688" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2689"><span class="mrow" id="MathJax-Span-2690"><span class="mo" id="MathJax-Span-2691"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-2692"><span class="mrow" id="MathJax-Span-2693"><span class="mo" id="MathJax-Span-2694"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-2695"><span class="mrow" id="MathJax-Span-2696"><span class="mo" id="MathJax-Span-2697"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-2698" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2699"><span class="mrow" id="MathJax-Span-2700"><span class="mo" id="MathJax-Span-2701" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2702" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2703" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2704" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2705" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2706" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2707"><span class="mrow" id="MathJax-Span-2708"><span class="mo" id="MathJax-Span-2709"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2710"><span class="mrow" id="MathJax-Span-2711"><span class="mo" id="MathJax-Span-2712"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2713" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2714"><span class="mrow" id="MathJax-Span-2715"><span class="mo" id="MathJax-Span-2716" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2717" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2718" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2719" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2720" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2721" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2722"><span class="mrow" id="MathJax-Span-2723"><span class="mo" id="MathJax-Span-2724"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2725"><span class="mrow" id="MathJax-Span-2726"><span class="mo" id="MathJax-Span-2727"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-2728" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2729"><span class="mrow" id="MathJax-Span-2730"><span class="mo" id="MathJax-Span-2731" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2732" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2733" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2734" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2735" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2736" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2737"><span class="mrow" id="MathJax-Span-2738"><span class="mo" id="MathJax-Span-2739"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="texatom" id="MathJax-Span-2740"><span class="mrow" id="MathJax-Span-2741"><span class="mo" id="MathJax-Span-2742"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2743" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2744"><span class="mrow" id="MathJax-Span-2745"><span class="mo" id="MathJax-Span-2746" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2747" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-2748"><span class="mrow" id="MathJax-Span-2749"><span class="mo" id="MathJax-Span-2750"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-44-Frame"><span class="math" id="MathJax-Span-2751" style="width: 25.763em; display: inline-block;"><span style="display: inline-block; width: 20.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2752"><span class="mo" id="MathJax-Span-2753" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-2754" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2755" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2756" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2757"><span class="mrow" id="MathJax-Span-2758"><span class="mo" id="MathJax-Span-2759"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">代</span></span></span></span><span class="texatom" id="MathJax-Span-2760"><span class="mrow" id="MathJax-Span-2761"><span class="mo" id="MathJax-Span-2762"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">开</span></span></span></span><span class="mo" id="MathJax-Span-2763" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-2764" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2765"><span class="mrow" id="MathJax-Span-2766"><span class="mo" id="MathJax-Span-2767" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2768" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2769" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-2770"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mi" id="MathJax-Span-2771" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2772" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2773" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2774" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2775"><span class="mrow" id="MathJax-Span-2776"><span class="mo" id="MathJax-Span-2777"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2778"><span class="mrow" id="MathJax-Span-2779"><span class="mo" id="MathJax-Span-2780"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2781" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2782"><span class="mrow" id="MathJax-Span-2783"><span class="mo" id="MathJax-Span-2784" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2785" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2786" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2787" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2788" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2789" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2790"><span class="mrow" id="MathJax-Span-2791"><span class="mo" id="MathJax-Span-2792"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-2793"><span class="mrow" id="MathJax-Span-2794"><span class="mo" id="MathJax-Span-2795"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-2796"><span class="mrow" id="MathJax-Span-2797"><span class="mo" id="MathJax-Span-2798"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-2799" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2800"><span class="mrow" id="MathJax-Span-2801"><span class="mo" id="MathJax-Span-2802" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2803" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2804" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-2805" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2806" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2807" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2808"><span class="mrow" id="MathJax-Span-2809"><span class="mo" id="MathJax-Span-2810"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-2811"><span class="mrow" id="MathJax-Span-2812"><span class="mo" id="MathJax-Span-2813"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-2814" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2815"><span class="mrow" id="MathJax-Span-2816"><span class="mo" id="MathJax-Span-2817" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2818" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-2819" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <strong>注意这一项</strong>:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-45-Frame"><span class="math" id="MathJax-Span-2820" style="width: 6.829em; display: inline-block;"><span style="display: inline-block; width: 5.443em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2821"><span class="msubsup" id="MathJax-Span-2822"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mi" id="MathJax-Span-2823" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-2824" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-2825" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2826" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2827"><span class="mrow" id="MathJax-Span-2828"><span class="mo" id="MathJax-Span-2829"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2830"><span class="mrow" id="MathJax-Span-2831"><span class="mo" id="MathJax-Span-2832"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2833" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2834"><span class="mrow" id="MathJax-Span-2835"><span class="mo" id="MathJax-Span-2836" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2837" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-2838"><span class="mrow" id="MathJax-Span-2839"><span class="mo" id="MathJax-Span-2840"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。</p>
</blockquote>

<p>在统计计算P(“发票”|S）时，每个被统计的垃圾邮件样本中重复的词语也统计多次。</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-46-Frame"><span class="math" id="MathJax-Span-2841" style="width: 28.269em; display: inline-block;"><span style="display: inline-block; width: 22.616em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2842"><span class="mi" id="MathJax-Span-2843" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2844" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-2845" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2846"><span class="mrow" id="MathJax-Span-2847"><span class="mo" id="MathJax-Span-2848"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2849"><span class="mrow" id="MathJax-Span-2850"><span class="mo" id="MathJax-Span-2851"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2852" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2853"><span class="mrow" id="MathJax-Span-2854"><span class="mo" id="MathJax-Span-2855" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-2856" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-2857"><span class="mrow" id="MathJax-Span-2858"><span class="mo" id="MathJax-Span-2859"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-2860" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-2861"><span style="display: inline-block; width: 16.109em; height: 0px;"><span><span class="mrow" id="MathJax-Span-2862"><span class="texatom" id="MathJax-Span-2863"><span class="mrow" id="MathJax-Span-2864"><span class="mo" id="MathJax-Span-2865" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-2866"><span class="mrow" id="MathJax-Span-2867"><span class="mo" id="MathJax-Span-2868" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-2869"><span class="mrow" id="MathJax-Span-2870"><span class="mo" id="MathJax-Span-2871" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-2872"><span class="mrow" id="MathJax-Span-2873"><span class="mo" id="MathJax-Span-2874" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-2875"><span class="mrow" id="MathJax-Span-2876"><span class="mo" id="MathJax-Span-2877" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-2878"><span class="mrow" id="MathJax-Span-2879"><span class="mo" id="MathJax-Span-2880" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-2881"><span class="mrow" id="MathJax-Span-2882"><span class="mo" id="MathJax-Span-2883" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-2884"><span class="mrow" id="MathJax-Span-2885"><span class="mo" id="MathJax-Span-2886" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2887"><span class="mrow" id="MathJax-Span-2888"><span class="mo" id="MathJax-Span-2889" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="mo" id="MathJax-Span-2890" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-2891"><span class="mrow" id="MathJax-Span-2892"><span class="mo" id="MathJax-Span-2893" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-2894"><span class="mrow" id="MathJax-Span-2895"><span class="mo" id="MathJax-Span-2896" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-2897" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-2898"><span class="mrow" id="MathJax-Span-2899"><span class="mo" id="MathJax-Span-2900" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2901"><span class="mrow" id="MathJax-Span-2902"><span class="mo" id="MathJax-Span-2903" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2904"><span class="mrow" id="MathJax-Span-2905"><span class="mo" id="MathJax-Span-2906" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-2907"><span class="mrow" id="MathJax-Span-2908"><span class="mo" id="MathJax-Span-2909" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2910"><span class="mrow" id="MathJax-Span-2911"><span class="mo" id="MathJax-Span-2912" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-2913"><span class="mrow" id="MathJax-Span-2914"><span class="mo" id="MathJax-Span-2915" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">和</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-2916"><span class="texatom" id="MathJax-Span-2917"><span class="mrow" id="MathJax-Span-2918"><span class="mo" id="MathJax-Span-2919" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-2920"><span class="mrow" id="MathJax-Span-2921"><span class="mo" id="MathJax-Span-2922" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-2923"><span class="mrow" id="MathJax-Span-2924"><span class="mo" id="MathJax-Span-2925" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-2926"><span class="mrow" id="MathJax-Span-2927"><span class="mo" id="MathJax-Span-2928" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-2929"><span class="mrow" id="MathJax-Span-2930"><span class="mo" id="MathJax-Span-2931" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-2932"><span class="mrow" id="MathJax-Span-2933"><span class="mo" id="MathJax-Span-2934" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-2935"><span class="mrow" id="MathJax-Span-2936"><span class="mo" id="MathJax-Span-2937" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-2938"><span class="mrow" id="MathJax-Span-2939"><span class="mo" id="MathJax-Span-2940" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-2941"><span class="mrow" id="MathJax-Span-2942"><span class="mo" id="MathJax-Span-2943" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-2944"><span class="mrow" id="MathJax-Span-2945"><span class="mo" id="MathJax-Span-2946" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-2947"><span class="mrow" id="MathJax-Span-2948"><span class="mo" id="MathJax-Span-2949" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-2950"><span class="mrow" id="MathJax-Span-2951"><span class="mo" id="MathJax-Span-2952" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-2953"><span class="mrow" id="MathJax-Span-2954"><span class="mo" id="MathJax-Span-2955" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2956"><span class="mrow" id="MathJax-Span-2957"><span class="mo" id="MathJax-Span-2958" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-2959"><span class="mrow" id="MathJax-Span-2960"><span class="mo" id="MathJax-Span-2961" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-2962"><span class="mrow" id="MathJax-Span-2963"><span class="mo" id="MathJax-Span-2964" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">计</span></span></span></span><span class="texatom" id="MathJax-Span-2965"><span class="mrow" id="MathJax-Span-2966"><span class="mo" id="MathJax-Span-2967" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">算</span></span></span></span><span class="texatom" id="MathJax-Span-2968"><span class="mrow" id="MathJax-Span-2969"><span class="mo" id="MathJax-Span-2970" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">重</span></span></span></span><span class="texatom" id="MathJax-Span-2971"><span class="mrow" id="MathJax-Span-2972"><span class="mo" id="MathJax-Span-2973" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">复</span></span></span></span><span class="texatom" id="MathJax-Span-2974"><span class="mrow" id="MathJax-Span-2975"><span class="mo" id="MathJax-Span-2976" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-2977"><span class="mrow" id="MathJax-Span-2978"><span class="mo" id="MathJax-Span-2979" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-2980"><span class="mrow" id="MathJax-Span-2981"><span class="mo" id="MathJax-Span-2982" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="texatom" id="MathJax-Span-2983"><span class="mrow" id="MathJax-Span-2984"><span class="mo" id="MathJax-Span-2985" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-2986"><span class="mrow" id="MathJax-Span-2987"><span class="mo" id="MathJax-Span-2988" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-2989"><span class="mrow" id="MathJax-Span-2990"><span class="mo" id="MathJax-Span-2991" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">和</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>你看这个多次出现的结果，出现在概率的指数/次方上，因此这样的模型叫作<strong>多项式模型</strong>。</p>



<h3 id="92-伯努利模型">9.2 伯努利模型</h3>

<p>另一种更加简化的方法是<strong>将重复的词语都视为其只出现1次</strong>，</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-47-Frame"><span class="math" id="MathJax-Span-2992" style="width: 27.096em; display: inline-block;"><span style="display: inline-block; width: 21.656em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2993"><span class="mi" id="MathJax-Span-2994" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-2995" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-2996"><span class="mrow" id="MathJax-Span-2997"><span class="mo" id="MathJax-Span-2998"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-2999" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3000"><span class="mrow" id="MathJax-Span-3001"><span class="mo" id="MathJax-Span-3002"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">代</span></span></span></span><span class="texatom" id="MathJax-Span-3003"><span class="mrow" id="MathJax-Span-3004"><span class="mo" id="MathJax-Span-3005"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">开</span></span></span></span><span class="mo" id="MathJax-Span-3006" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3007" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3008" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3009"><span class="mrow" id="MathJax-Span-3010"><span class="mo" id="MathJax-Span-3011"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3012"><span class="mrow" id="MathJax-Span-3013"><span class="mo" id="MathJax-Span-3014"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3015" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3016" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3017" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3018"><span class="mrow" id="MathJax-Span-3019"><span class="mo" id="MathJax-Span-3020"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-3021"><span class="mrow" id="MathJax-Span-3022"><span class="mo" id="MathJax-Span-3023"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-3024"><span class="mrow" id="MathJax-Span-3025"><span class="mo" id="MathJax-Span-3026"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-3027" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3028" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3029" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3030"><span class="mrow" id="MathJax-Span-3031"><span class="mo" id="MathJax-Span-3032"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3033"><span class="mrow" id="MathJax-Span-3034"><span class="mo" id="MathJax-Span-3035"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3036" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3037" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3038" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3039"><span class="mrow" id="MathJax-Span-3040"><span class="mo" id="MathJax-Span-3041"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-3042"><span class="mrow" id="MathJax-Span-3043"><span class="mo" id="MathJax-Span-3044"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-3045" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3046" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3047" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3048"><span class="mrow" id="MathJax-Span-3049"><span class="mo" id="MathJax-Span-3050"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3051"><span class="mrow" id="MathJax-Span-3052"><span class="mo" id="MathJax-Span-3053"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3054" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3055" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3056"><span class="mrow" id="MathJax-Span-3057"><span class="mo" id="MathJax-Span-3058" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3059" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3060"><span class="mrow" id="MathJax-Span-3061"><span class="mo" id="MathJax-Span-3062"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-48-Frame"><span class="math" id="MathJax-Span-3063" style="width: 25.763em; display: inline-block;"><span style="display: inline-block; width: 20.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3064"><span class="mo" id="MathJax-Span-3065" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-3066" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3067" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3068" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3069"><span class="mrow" id="MathJax-Span-3070"><span class="mo" id="MathJax-Span-3071"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3072"><span class="mrow" id="MathJax-Span-3073"><span class="mo" id="MathJax-Span-3074"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3075" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3076"><span class="mrow" id="MathJax-Span-3077"><span class="mo" id="MathJax-Span-3078" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3079" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3080" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3081" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3082" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3083" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3084"><span class="mrow" id="MathJax-Span-3085"><span class="mo" id="MathJax-Span-3086"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">代</span></span></span></span><span class="texatom" id="MathJax-Span-3087"><span class="mrow" id="MathJax-Span-3088"><span class="mo" id="MathJax-Span-3089"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">开</span></span></span></span><span class="mo" id="MathJax-Span-3090" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3091" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3092"><span class="mrow" id="MathJax-Span-3093"><span class="mo" id="MathJax-Span-3094" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3095" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3096" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3097" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3098" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3099" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3100"><span class="mrow" id="MathJax-Span-3101"><span class="mo" id="MathJax-Span-3102"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">增</span></span></span></span><span class="texatom" id="MathJax-Span-3103"><span class="mrow" id="MathJax-Span-3104"><span class="mo" id="MathJax-Span-3105"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-3106"><span class="mrow" id="MathJax-Span-3107"><span class="mo" id="MathJax-Span-3108"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">税</span></span></span></span><span class="mo" id="MathJax-Span-3109" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3110"><span class="mrow" id="MathJax-Span-3111"><span class="mo" id="MathJax-Span-3112" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3113" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3114" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3115" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3116" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3117" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3118"><span class="mrow" id="MathJax-Span-3119"><span class="mo" id="MathJax-Span-3120"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-3121"><span class="mrow" id="MathJax-Span-3122"><span class="mo" id="MathJax-Span-3123"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="mo" id="MathJax-Span-3124" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3125"><span class="mrow" id="MathJax-Span-3126"><span class="mo" id="MathJax-Span-3127" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3128" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3129"><span class="mrow" id="MathJax-Span-3130"><span class="mo" id="MathJax-Span-3131"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>统计计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-49-Frame"><span class="math" id="MathJax-Span-3132" style="width: 6.243em; display: inline-block;"><span style="display: inline-block; width: 4.963em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3133"><span class="mi" id="MathJax-Span-3134" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3135" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3136" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3137"><span class="mrow" id="MathJax-Span-3138"><span class="mo" id="MathJax-Span-3139"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-3140"><span class="mrow" id="MathJax-Span-3141"><span class="mo" id="MathJax-Span-3142"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">语</span></span></span></span><span class="mo" id="MathJax-Span-3143" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3144"><span class="mrow" id="MathJax-Span-3145"><span class="mo" id="MathJax-Span-3146" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3147" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3148"><span class="mrow" id="MathJax-Span-3149"><span class="mo" id="MathJax-Span-3150"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>时也是如此。</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-50-Frame"><span class="math" id="MathJax-Span-3151" style="width: 29.869em; display: inline-block;"><span style="display: inline-block; width: 23.896em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3152"><span class="mi" id="MathJax-Span-3153" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3154" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3155" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3156"><span class="mrow" id="MathJax-Span-3157"><span class="mo" id="MathJax-Span-3158"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3159"><span class="mrow" id="MathJax-Span-3160"><span class="mo" id="MathJax-Span-3161"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3162" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3163"><span class="mrow" id="MathJax-Span-3164"><span class="mo" id="MathJax-Span-3165" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3166" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3167"><span class="mrow" id="MathJax-Span-3168"><span class="mo" id="MathJax-Span-3169"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-3170" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-3171"><span style="display: inline-block; width: 17.389em; height: 0px;"><span><span class="mrow" id="MathJax-Span-3172"><span class="texatom" id="MathJax-Span-3173"><span class="mrow" id="MathJax-Span-3174"><span class="mo" id="MathJax-Span-3175" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3176"><span class="mrow" id="MathJax-Span-3177"><span class="mo" id="MathJax-Span-3178" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="mo" id="MathJax-Span-3179" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3180"><span class="mrow" id="MathJax-Span-3181"><span class="mo" id="MathJax-Span-3182" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3183"><span class="mrow" id="MathJax-Span-3184"><span class="mo" id="MathJax-Span-3185" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3186" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3187"><span class="mrow" id="MathJax-Span-3188"><span class="mo" id="MathJax-Span-3189" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3190"><span class="mrow" id="MathJax-Span-3191"><span class="mo" id="MathJax-Span-3192" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-3193"><span class="mrow" id="MathJax-Span-3194"><span class="mo" id="MathJax-Span-3195" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-3196"><span class="mrow" id="MathJax-Span-3197"><span class="mo" id="MathJax-Span-3198" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-3199"><span class="mrow" id="MathJax-Span-3200"><span class="mo" id="MathJax-Span-3201" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-3202"><span class="mrow" id="MathJax-Span-3203"><span class="mo" id="MathJax-Span-3204" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3205"><span class="mrow" id="MathJax-Span-3206"><span class="mo" id="MathJax-Span-3207" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-3208"><span class="mrow" id="MathJax-Span-3209"><span class="mo" id="MathJax-Span-3210" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-3211"><span class="texatom" id="MathJax-Span-3212"><span class="mrow" id="MathJax-Span-3213"><span class="mo" id="MathJax-Span-3214" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-3215"><span class="mrow" id="MathJax-Span-3216"><span class="mo" id="MathJax-Span-3217" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-3218"><span class="mrow" id="MathJax-Span-3219"><span class="mo" id="MathJax-Span-3220" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-3221"><span class="mrow" id="MathJax-Span-3222"><span class="mo" id="MathJax-Span-3223" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-3224"><span class="mrow" id="MathJax-Span-3225"><span class="mo" id="MathJax-Span-3226" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-3227"><span class="mrow" id="MathJax-Span-3228"><span class="mo" id="MathJax-Span-3229" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-3230"><span class="mrow" id="MathJax-Span-3231"><span class="mo" id="MathJax-Span-3232" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-3233"><span class="mrow" id="MathJax-Span-3234"><span class="mo" id="MathJax-Span-3235" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-3236"><span class="mrow" id="MathJax-Span-3237"><span class="mo" id="MathJax-Span-3238" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-3239"><span class="mrow" id="MathJax-Span-3240"><span class="mo" id="MathJax-Span-3241" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-3242"><span class="mrow" id="MathJax-Span-3243"><span class="mo" id="MathJax-Span-3244" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3245"><span class="mrow" id="MathJax-Span-3246"><span class="mo" id="MathJax-Span-3247" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-3248"><span class="mrow" id="MathJax-Span-3249"><span class="mo" id="MathJax-Span-3250" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3251"><span class="mrow" id="MathJax-Span-3252"><span class="mo" id="MathJax-Span-3253" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-3254"><span class="mrow" id="MathJax-Span-3255"><span class="mo" id="MathJax-Span-3256" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-3257"><span class="mrow" id="MathJax-Span-3258"><span class="mo" id="MathJax-Span-3259" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3260"><span class="mrow" id="MathJax-Span-3261"><span class="mo" id="MathJax-Span-3262" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-3263"><span class="mrow" id="MathJax-Span-3264"><span class="mo" id="MathJax-Span-3265" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">了</span></span></span></span><span class="texatom" id="MathJax-Span-3266"><span class="mrow" id="MathJax-Span-3267"><span class="mo" id="MathJax-Span-3268" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">只</span></span></span></span><span class="texatom" id="MathJax-Span-3269"><span class="mrow" id="MathJax-Span-3270"><span class="mo" id="MathJax-Span-3271" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">计</span></span></span></span><span class="texatom" id="MathJax-Span-3272"><span class="mrow" id="MathJax-Span-3273"><span class="mo" id="MathJax-Span-3274" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">算</span></span></span></span><span class="texatom" id="MathJax-Span-3275"><span class="mrow" id="MathJax-Span-3276"><span class="mo" id="MathJax-Span-3277" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span></span></span></span><span class="texatom" id="MathJax-Span-3278"><span class="mrow" id="MathJax-Span-3279"><span class="mo" id="MathJax-Span-3280" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3281"><span class="mrow" id="MathJax-Span-3282"><span class="mo" id="MathJax-Span-3283" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="texatom" id="MathJax-Span-3284"><span class="mrow" id="MathJax-Span-3285"><span class="mo" id="MathJax-Span-3286" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3287"><span class="mrow" id="MathJax-Span-3288"><span class="mo" id="MathJax-Span-3289" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-3290"><span class="mrow" id="MathJax-Span-3291"><span class="mo" id="MathJax-Span-3292" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">和</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>这样的模型叫作<strong>伯努利模型</strong>（又称为<strong>二项独立模型</strong>）。这种方式更加简化与方便。当然它丢失了词频的信息，因此效果可能会差一些。</p>



<h3 id="93-混合模型">9.3 混合模型</h3>

<p>第三种方式是在计算句子概率时，不考虑重复词语出现的次数，但是在统计计算词语的概率P(“词语”|S）时，却考虑重复词语的出现次数，这样的模型可以叫作<strong>混合模型</strong>。</p>

<p>我们通过下图展示三种模型的关系。 <br />
</p><center> <br />
<img alt="三种形态" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0131_%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%A8%A1%E5%9E%8B%E4%B8%89%E7%A7%8D%E5%BD%A2%E6%80%81.jpg" title="" /> <br />
</center> <br />
实践中采用哪种模型，关键看具体的业务场景。笔者的简单经验是，<strong>对于垃圾邮件识别，混合模型更好些</strong>。<p></p>



<h2 id="10-去除停用词与选择关键词">10. 去除停用词与选择关键词</h2>

<p>我们继续观察<strong>（“我”,“司”,“可”,“办理”,“正规发票”,“保真”,“增值税”,“发票”,“点数”,“优惠”)</strong> 这句话。其实，像<strong>“我”、“可”</strong>之类词其实非常中性，无论其是否出现在垃圾邮件中都无法帮助判断的有用信息。所以可以直接不考虑这些典型的词。这些无助于我们分类的词语叫作<strong>“停用词”（Stop Words）</strong>。这样可以<strong>减少我们训练模型、判断分类的时间</strong>。</p>

<p>于是之前的句子就变成了<strong>（“司”,“办理”,“正规发票”,“保真”,“增值税”,“发票”,“点数”,“优惠”)</strong> 。</p>

<p>我们进一步分析。以人类的经验，其实<strong>“正规发票”、“发票”</strong>这类的词如果出现的话，邮件作为垃圾邮件的概率非常大，可以作为我们区分垃圾邮件的<strong>“关键词”</strong>。而像<strong>“司”、“办理”、“优惠”</strong>这类的词则有点鸡肋，可能有助于分类，但又不那么强烈。如果想省事做个简单的分类器的话，则可以直接采用“关键词”进行统计与判断，剩下的词就可以先不管了。于是之前的垃圾邮件句子就变成了<strong>（“正规发票”,“发票”)</strong> 。这样就更加减少了我们训练模型、判断分类的时间，速度非常快。</p>

<p><strong>“停用词”和“关键词”一般都可以提前靠人工经验指定</strong>。不同的“停用词”和“关键词”训练出来的分类器的效果也会有些差异。那么有没有量化的指标来评估不同词语的区分能力？在我们之前的文章<a href="http://blog.csdn.net/longxinchen_ml/article/details/50493845">《机器学习系列(6)_从白富美相亲看特征选择与预处理（下）》</a>其实就提供了一种评价方法，大家可以参考。此处就不赘述了。</p>



<h2 id="11-浅谈平滑技术">11. 浅谈平滑技术</h2>

<p>我们来说个问题(中文NLP里问题超级多，哭瞎T_T)，比如在计算以下独立条件假设的概率：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-51-Frame"><span class="math" id="MathJax-Span-3293" style="width: 20.803em; display: inline-block;"><span style="display: inline-block; width: 16.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3294"><span class="mi" id="MathJax-Span-3295" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3296" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-3297"><span class="mrow" id="MathJax-Span-3298"><span class="mo" id="MathJax-Span-3299"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mo" id="MathJax-Span-3300" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3301"><span class="mrow" id="MathJax-Span-3302"><span class="mo" id="MathJax-Span-3303"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-3304" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3305" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3306" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3307"><span class="mrow" id="MathJax-Span-3308"><span class="mo" id="MathJax-Span-3309"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-3310" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3311" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3312" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3313"><span class="mrow" id="MathJax-Span-3314"><span class="mo" id="MathJax-Span-3315"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-3316" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3317" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3318" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3319"><span class="mrow" id="MathJax-Span-3320"><span class="mo" id="MathJax-Span-3321"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-3322"><span class="mrow" id="MathJax-Span-3323"><span class="mo" id="MathJax-Span-3324"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-3325" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3326" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3327" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3328"><span class="mrow" id="MathJax-Span-3329"><span class="mo" id="MathJax-Span-3330"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-3331"><span class="mrow" id="MathJax-Span-3332"><span class="mo" id="MathJax-Span-3333"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-3334"><span class="mrow" id="MathJax-Span-3335"><span class="mo" id="MathJax-Span-3336"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3337"><span class="mrow" id="MathJax-Span-3338"><span class="mo" id="MathJax-Span-3339"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3340" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-3341" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3342"><span class="mrow" id="MathJax-Span-3343"><span class="mo" id="MathJax-Span-3344" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3345" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3346" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-52-Frame"><span class="math" id="MathJax-Span-3347" style="width: 28.803em; display: inline-block;"><span style="display: inline-block; width: 23.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3348"><span class="mo" id="MathJax-Span-3349" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-3350" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3351" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3352" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3353"><span class="mrow" id="MathJax-Span-3354"><span class="mo" id="MathJax-Span-3355"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="mo" id="MathJax-Span-3356" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3357"><span class="mrow" id="MathJax-Span-3358"><span class="mo" id="MathJax-Span-3359" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3360" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3361" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3362" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3363" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3364" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3365"><span class="mrow" id="MathJax-Span-3366"><span class="mo" id="MathJax-Span-3367"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">司</span></span></span></span><span class="mo" id="MathJax-Span-3368" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3369"><span class="mrow" id="MathJax-Span-3370"><span class="mo" id="MathJax-Span-3371" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3372" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3373" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3374" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3375" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3376" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3377"><span class="mrow" id="MathJax-Span-3378"><span class="mo" id="MathJax-Span-3379"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="mo" id="MathJax-Span-3380" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3381"><span class="mrow" id="MathJax-Span-3382"><span class="mo" id="MathJax-Span-3383" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3384" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3385" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3386" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3387" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3388" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3389"><span class="mrow" id="MathJax-Span-3390"><span class="mo" id="MathJax-Span-3391"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">办</span></span></span></span><span class="texatom" id="MathJax-Span-3392"><span class="mrow" id="MathJax-Span-3393"><span class="mo" id="MathJax-Span-3394"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">理</span></span></span></span><span class="mo" id="MathJax-Span-3395" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3396"><span class="mrow" id="MathJax-Span-3397"><span class="mo" id="MathJax-Span-3398" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3399" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-3400" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-3401" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3402" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3403" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3404"><span class="mrow" id="MathJax-Span-3405"><span class="mo" id="MathJax-Span-3406"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-3407"><span class="mrow" id="MathJax-Span-3408"><span class="mo" id="MathJax-Span-3409"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-3410"><span class="mrow" id="MathJax-Span-3411"><span class="mo" id="MathJax-Span-3412"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3413"><span class="mrow" id="MathJax-Span-3414"><span class="mo" id="MathJax-Span-3415"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3416" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3417"><span class="mrow" id="MathJax-Span-3418"><span class="mo" id="MathJax-Span-3419" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3420" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3421"><span class="mrow" id="MathJax-Span-3422"><span class="mo" id="MathJax-Span-3423"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>我们扫描一下训练集，发现<strong>“正规发票”这个词从出现过！！！</strong>，于是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-53-Frame"><span class="math" id="MathJax-Span-3424" style="width: 10.509em; display: inline-block;"><span style="display: inline-block; width: 8.376em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3425"><span class="mi" id="MathJax-Span-3426" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3427" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3428" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3429"><span class="mrow" id="MathJax-Span-3430"><span class="mo" id="MathJax-Span-3431"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-3432"><span class="mrow" id="MathJax-Span-3433"><span class="mo" id="MathJax-Span-3434"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-3435"><span class="mrow" id="MathJax-Span-3436"><span class="mo" id="MathJax-Span-3437"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3438"><span class="mrow" id="MathJax-Span-3439"><span class="mo" id="MathJax-Span-3440"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3441" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3442"><span class="mrow" id="MathJax-Span-3443"><span class="mo" id="MathJax-Span-3444" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3445" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3446"><span class="mrow" id="MathJax-Span-3447"><span class="mo" id="MathJax-Span-3448"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-3449" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-3450" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>…问题严重了，整个概率都变成0了！！！朴素贝叶斯方法面对一堆0，很凄惨地失效了…更残酷的是<strong>这种情况其实很常见</strong>，因为哪怕训练集再大，也可能有覆盖不到的词语。本质上还是<strong>样本数量太少，不满足大数定律，计算出来的概率失真</strong>。为了解决这样的问题，一种分析思路就是直接不考虑这样的词语，但这种方法就相当于默认给P(“正规发票”|S）赋值为1。其实效果不太好，大量的统计信息给浪费掉了。我们进一步分析，既然可以默认赋值为1，为什么不能默认赋值为一个很小的数？这就是平滑技术的基本思路，依旧保持着一贯的作风，<code>朴实/土</code>但是<code>直接而有效</code>。</p>

<p>对于伯努利模型，P(“正规发票”|S）的一种平滑算法是：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-54-Frame"><span class="math" id="MathJax-Span-3451" style="width: 24.429em; display: inline-block;"><span style="display: inline-block; width: 19.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3452"><span style="display: inline-block; width: 19.523em; height: 0px;"><span><span class="mi" id="MathJax-Span-3453" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3454" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3455" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3456"><span class="mrow" id="MathJax-Span-3457"><span class="mo" id="MathJax-Span-3458"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-3459"><span class="mrow" id="MathJax-Span-3460"><span class="mo" id="MathJax-Span-3461"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-3462"><span class="mrow" id="MathJax-Span-3463"><span class="mo" id="MathJax-Span-3464"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3465"><span class="mrow" id="MathJax-Span-3466"><span class="mo" id="MathJax-Span-3467"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3468" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3469"><span class="mrow" id="MathJax-Span-3470"><span class="mo" id="MathJax-Span-3471" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3472" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3473"><span class="mrow" id="MathJax-Span-3474"><span class="mo" id="MathJax-Span-3475"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3476" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-3477"><span style="display: inline-block; width: 18.243em; height: 0px;"><span><span class="mrow" id="MathJax-Span-3478"><span class="texatom" id="MathJax-Span-3479"><span class="mrow" id="MathJax-Span-3480"><span class="mo" id="MathJax-Span-3481" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3482"><span class="mrow" id="MathJax-Span-3483"><span class="mo" id="MathJax-Span-3484" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="mo" id="MathJax-Span-3485" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3486"><span class="mrow" id="MathJax-Span-3487"><span class="mo" id="MathJax-Span-3488" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">正</span></span></span></span><span class="texatom" id="MathJax-Span-3489"><span class="mrow" id="MathJax-Span-3490"><span class="mo" id="MathJax-Span-3491" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">规</span></span></span></span><span class="texatom" id="MathJax-Span-3492"><span class="mrow" id="MathJax-Span-3493"><span class="mo" id="MathJax-Span-3494" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3495"><span class="mrow" id="MathJax-Span-3496"><span class="mo" id="MathJax-Span-3497" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3498" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3499"><span class="mrow" id="MathJax-Span-3500"><span class="mo" id="MathJax-Span-3501" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3502"><span class="mrow" id="MathJax-Span-3503"><span class="mo" id="MathJax-Span-3504" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-3505"><span class="mrow" id="MathJax-Span-3506"><span class="mo" id="MathJax-Span-3507" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-3508"><span class="mrow" id="MathJax-Span-3509"><span class="mo" id="MathJax-Span-3510" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-3511"><span class="mrow" id="MathJax-Span-3512"><span class="mo" id="MathJax-Span-3513" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-3514"><span class="mrow" id="MathJax-Span-3515"><span class="mo" id="MathJax-Span-3516" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3517"><span class="mrow" id="MathJax-Span-3518"><span class="mo" id="MathJax-Span-3519" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-3520"><span class="mrow" id="MathJax-Span-3521"><span class="mo" id="MathJax-Span-3522" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-3523" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3524" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-3525"><span class="texatom" id="MathJax-Span-3526"><span class="mrow" id="MathJax-Span-3527"><span class="mo" id="MathJax-Span-3528" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-3529"><span class="mrow" id="MathJax-Span-3530"><span class="mo" id="MathJax-Span-3531" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-3532"><span class="mrow" id="MathJax-Span-3533"><span class="mo" id="MathJax-Span-3534" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-3535"><span class="mrow" id="MathJax-Span-3536"><span class="mo" id="MathJax-Span-3537" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-3538"><span class="mrow" id="MathJax-Span-3539"><span class="mo" id="MathJax-Span-3540" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-3541"><span class="mrow" id="MathJax-Span-3542"><span class="mo" id="MathJax-Span-3543" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-3544"><span class="mrow" id="MathJax-Span-3545"><span class="mo" id="MathJax-Span-3546" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-3547"><span class="mrow" id="MathJax-Span-3548"><span class="mo" id="MathJax-Span-3549" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-3550"><span class="mrow" id="MathJax-Span-3551"><span class="mo" id="MathJax-Span-3552" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-3553"><span class="mrow" id="MathJax-Span-3554"><span class="mo" id="MathJax-Span-3555" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-3556"><span class="mrow" id="MathJax-Span-3557"><span class="mo" id="MathJax-Span-3558" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3559"><span class="mrow" id="MathJax-Span-3560"><span class="mo" id="MathJax-Span-3561" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-3562"><span class="mrow" id="MathJax-Span-3563"><span class="mo" id="MathJax-Span-3564" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3565"><span class="mrow" id="MathJax-Span-3566"><span class="mo" id="MathJax-Span-3567" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-3568"><span class="mrow" id="MathJax-Span-3569"><span class="mo" id="MathJax-Span-3570" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-3571"><span class="mrow" id="MathJax-Span-3572"><span class="mo" id="MathJax-Span-3573" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3574"><span class="mrow" id="MathJax-Span-3575"><span class="mo" id="MathJax-Span-3576" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-3577"><span class="mrow" id="MathJax-Span-3578"><span class="mo" id="MathJax-Span-3579" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">了</span></span></span></span><span class="texatom" id="MathJax-Span-3580"><span class="mrow" id="MathJax-Span-3581"><span class="mo" id="MathJax-Span-3582" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">只</span></span></span></span><span class="texatom" id="MathJax-Span-3583"><span class="mrow" id="MathJax-Span-3584"><span class="mo" id="MathJax-Span-3585" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">计</span></span></span></span><span class="texatom" id="MathJax-Span-3586"><span class="mrow" id="MathJax-Span-3587"><span class="mo" id="MathJax-Span-3588" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">算</span></span></span></span><span class="texatom" id="MathJax-Span-3589"><span class="mrow" id="MathJax-Span-3590"><span class="mo" id="MathJax-Span-3591" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span></span></span></span><span class="texatom" id="MathJax-Span-3592"><span class="mrow" id="MathJax-Span-3593"><span class="mo" id="MathJax-Span-3594" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3595"><span class="mrow" id="MathJax-Span-3596"><span class="mo" id="MathJax-Span-3597" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="texatom" id="MathJax-Span-3598"><span class="mrow" id="MathJax-Span-3599"><span class="mo" id="MathJax-Span-3600" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3601"><span class="mrow" id="MathJax-Span-3602"><span class="mo" id="MathJax-Span-3603" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-3604"><span class="mrow" id="MathJax-Span-3605"><span class="mo" id="MathJax-Span-3606" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="mo" id="MathJax-Span-3607" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3608" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.216em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>对于多项式模型，P(“正规发票”| S）的一种平滑算法是：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-55-Frame"><span class="math" id="MathJax-Span-3609" style="width: 31.203em; display: inline-block;"><span style="display: inline-block; width: 24.963em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-3610"><span style="display: inline-block; width: 24.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-3611" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-3612" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-3613" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3614"><span class="mrow" id="MathJax-Span-3615"><span class="mo" id="MathJax-Span-3616"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3617"><span class="mrow" id="MathJax-Span-3618"><span class="mo" id="MathJax-Span-3619"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3620" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3621"><span class="mrow" id="MathJax-Span-3622"><span class="mo" id="MathJax-Span-3623" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3624" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-3625"><span class="mrow" id="MathJax-Span-3626"><span class="mo" id="MathJax-Span-3627"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-3628" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-3629"><span style="display: inline-block; width: 23.683em; height: 0px;"><span><span class="mrow" id="MathJax-Span-3630"><span class="texatom" id="MathJax-Span-3631"><span class="mrow" id="MathJax-Span-3632"><span class="mo" id="MathJax-Span-3633" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-3634"><span class="mrow" id="MathJax-Span-3635"><span class="mo" id="MathJax-Span-3636" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-3637"><span class="mrow" id="MathJax-Span-3638"><span class="mo" id="MathJax-Span-3639" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-3640"><span class="mrow" id="MathJax-Span-3641"><span class="mo" id="MathJax-Span-3642" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-3643"><span class="mrow" id="MathJax-Span-3644"><span class="mo" id="MathJax-Span-3645" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-3646"><span class="mrow" id="MathJax-Span-3647"><span class="mo" id="MathJax-Span-3648" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-3649"><span class="mrow" id="MathJax-Span-3650"><span class="mo" id="MathJax-Span-3651" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-3652"><span class="mrow" id="MathJax-Span-3653"><span class="mo" id="MathJax-Span-3654" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3655"><span class="mrow" id="MathJax-Span-3656"><span class="mo" id="MathJax-Span-3657" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="mo" id="MathJax-Span-3658" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-3659"><span class="mrow" id="MathJax-Span-3660"><span class="mo" id="MathJax-Span-3661" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">发</span></span></span></span><span class="texatom" id="MathJax-Span-3662"><span class="mrow" id="MathJax-Span-3663"><span class="mo" id="MathJax-Span-3664" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">票</span></span></span></span><span class="mo" id="MathJax-Span-3665" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-3666"><span class="mrow" id="MathJax-Span-3667"><span class="mo" id="MathJax-Span-3668" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3669"><span class="mrow" id="MathJax-Span-3670"><span class="mo" id="MathJax-Span-3671" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3672"><span class="mrow" id="MathJax-Span-3673"><span class="mo" id="MathJax-Span-3674" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-3675"><span class="mrow" id="MathJax-Span-3676"><span class="mo" id="MathJax-Span-3677" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3678"><span class="mrow" id="MathJax-Span-3679"><span class="mo" id="MathJax-Span-3680" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-3681"><span class="mrow" id="MathJax-Span-3682"><span class="mo" id="MathJax-Span-3683" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="mo" id="MathJax-Span-3684" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3685" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-3686"><span class="texatom" id="MathJax-Span-3687"><span class="mrow" id="MathJax-Span-3688"><span class="mo" id="MathJax-Span-3689" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">每</span></span></span></span><span class="texatom" id="MathJax-Span-3690"><span class="mrow" id="MathJax-Span-3691"><span class="mo" id="MathJax-Span-3692" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">封</span></span></span></span><span class="texatom" id="MathJax-Span-3693"><span class="mrow" id="MathJax-Span-3694"><span class="mo" id="MathJax-Span-3695" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">垃</span></span></span></span><span class="texatom" id="MathJax-Span-3696"><span class="mrow" id="MathJax-Span-3697"><span class="mo" id="MathJax-Span-3698" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">圾</span></span></span></span><span class="texatom" id="MathJax-Span-3699"><span class="mrow" id="MathJax-Span-3700"><span class="mo" id="MathJax-Span-3701" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">邮</span></span></span></span><span class="texatom" id="MathJax-Span-3702"><span class="mrow" id="MathJax-Span-3703"><span class="mo" id="MathJax-Span-3704" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">件</span></span></span></span><span class="texatom" id="MathJax-Span-3705"><span class="mrow" id="MathJax-Span-3706"><span class="mo" id="MathJax-Span-3707" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-3708"><span class="mrow" id="MathJax-Span-3709"><span class="mo" id="MathJax-Span-3710" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-3711"><span class="mrow" id="MathJax-Span-3712"><span class="mo" id="MathJax-Span-3713" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-3714"><span class="mrow" id="MathJax-Span-3715"><span class="mo" id="MathJax-Span-3716" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-3717"><span class="mrow" id="MathJax-Span-3718"><span class="mo" id="MathJax-Span-3719" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">出</span></span></span></span><span class="texatom" id="MathJax-Span-3720"><span class="mrow" id="MathJax-Span-3721"><span class="mo" id="MathJax-Span-3722" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">现</span></span></span></span><span class="texatom" id="MathJax-Span-3723"><span class="mrow" id="MathJax-Span-3724"><span class="mo" id="MathJax-Span-3725" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3726"><span class="mrow" id="MathJax-Span-3727"><span class="mo" id="MathJax-Span-3728" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-3729"><span class="mrow" id="MathJax-Span-3730"><span class="mo" id="MathJax-Span-3731" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-3732"><span class="mrow" id="MathJax-Span-3733"><span class="mo" id="MathJax-Span-3734" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">计</span></span></span></span><span class="texatom" id="MathJax-Span-3735"><span class="mrow" id="MathJax-Span-3736"><span class="mo" id="MathJax-Span-3737" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">算</span></span></span></span><span class="texatom" id="MathJax-Span-3738"><span class="mrow" id="MathJax-Span-3739"><span class="mo" id="MathJax-Span-3740" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">重</span></span></span></span><span class="texatom" id="MathJax-Span-3741"><span class="mrow" id="MathJax-Span-3742"><span class="mo" id="MathJax-Span-3743" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">复</span></span></span></span><span class="texatom" id="MathJax-Span-3744"><span class="mrow" id="MathJax-Span-3745"><span class="mo" id="MathJax-Span-3746" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">次</span></span></span></span><span class="texatom" id="MathJax-Span-3747"><span class="mrow" id="MathJax-Span-3748"><span class="mo" id="MathJax-Span-3749" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-3750"><span class="mrow" id="MathJax-Span-3751"><span class="mo" id="MathJax-Span-3752" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mo" id="MathJax-Span-3755" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3756"><span class="mrow" id="MathJax-Span-3757"><span class="mo" id="MathJax-Span-3758" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">总</span></span></span></span><span class="texatom" id="MathJax-Span-3759"><span class="mrow" id="MathJax-Span-3760"><span class="mo" id="MathJax-Span-3761" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="mo" id="MathJax-Span-3762" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="texatom" id="MathJax-Span-3763"><span class="mrow" id="MathJax-Span-3764"><span class="mo" id="MathJax-Span-3765" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">被</span></span></span></span><span class="texatom" id="MathJax-Span-3766"><span class="mrow" id="MathJax-Span-3767"><span class="mo" id="MathJax-Span-3768" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">统</span></span></span></span><span class="texatom" id="MathJax-Span-3769"><span class="mrow" id="MathJax-Span-3770"><span class="mo" id="MathJax-Span-3771" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">计</span></span></span></span><span class="texatom" id="MathJax-Span-3772"><span class="mrow" id="MathJax-Span-3773"><span class="mo" id="MathJax-Span-3774" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3775"><span class="mrow" id="MathJax-Span-3776"><span class="mo" id="MathJax-Span-3777" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-3778"><span class="mrow" id="MathJax-Span-3779"><span class="mo" id="MathJax-Span-3780" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">表</span></span></span></span><span class="texatom" id="MathJax-Span-3781"><span class="mrow" id="MathJax-Span-3782"><span class="mo" id="MathJax-Span-3783" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3784"><span class="mrow" id="MathJax-Span-3785"><span class="mo" id="MathJax-Span-3786" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">词</span></span></span></span><span class="texatom" id="MathJax-Span-3787"><span class="mrow" id="MathJax-Span-3788"><span class="mo" id="MathJax-Span-3789" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">语</span></span></span></span><span class="texatom" id="MathJax-Span-3790"><span class="mrow" id="MathJax-Span-3791"><span class="mo" id="MathJax-Span-3792" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-3793"><span class="mrow" id="MathJax-Span-3794"><span class="mo" id="MathJax-Span-3795" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">量</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.216em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>说起来，平滑技术的种类其实非常多，有兴趣的话回头我们专门拉个专题讲讲好了。这里只提一点，就是所有的<strong>平滑技术都是给未出现在训练集中的词语一个估计的概率，而相应地调低其他已经出现的词语的概率</strong>。</p>

<p>平滑技术是因为数据集太小而产生的现实需求。<strong>如果数据集足够大，平滑技术对结果的影响将会变小。</strong></p>



<h2 id="12-小结">12. 小结</h2>

<p>我们找了个最简单常见的例子：垃圾邮件识别，说明了一下朴素贝叶斯进行文本分类的思路过程。基本思路是先区分好训练集与测试集，对文本集合进行分词、去除标点符号等特征预处理的操作，然后使用条件独立假设，将原概率转换成词概率乘积，再进行后续的处理。</p>

<blockquote>
  <p></p><center>贝叶斯公式 + 条件独立假设 = 朴素贝叶斯方法</center><p></p>
  
  <p></p>
</blockquote>

<p>基于对重复词语在训练阶段与判断（测试）阶段的三种不同处理方式，我们相应的有伯努利模型、多项式模型和混合模型。在训练阶段，如果样本集合太小导致某些词语并未出现，我们可以采用平滑技术对其概率给一个估计值。而且并不是所有的词语都需要统计，我们可以按相应的“停用词”和“关键词”对模型进行进一步简化，提高训练和判断速度。</p>

<p>因为公式比较多，为了防止看到公式就狗带的情况，我们尽量用口(shuo)语(ren)化(hua)的方式表达公式，不严谨之处还望见谅，有纰漏之处欢迎大家指出。</p>
            <div>
                作者：yaoqiang2011 发表于2016/2/1 9:51:55 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50616559">原文链接</a>
            </div>
            <div>
            阅读：13343 评论：2 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50616559#comments" target="_blank">查看评论</a>
            </div>
[原]ML学习分享系列(1)_计算广告小窥[上]
<p>原作：<a href="http://blog.csdn.net/breada">面包包包包包包</a> <br />
修改：<a href="http://blog.csdn.net/han_xiaoyang">寒小阳</a> &amp;&amp; <a href="http://blog.csdn.net/longxinchen_ml">龙心尘</a> <br />
时间：2016年1月 <br />
出处：<a href="http://blog.csdn.net/breada/article/details/50572914">http://blog.csdn.net/breada/article/details/50572914</a> <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50580423">http://blog.csdn.net/han_xiaoyang/article/details/50580423</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>



<h2 id="1-引言">1. 引言</h2>

<p>提笔写这篇博客，我的内心是惶恐的。原因很简单，作为一个资历尚浅的研究生，是没有资格对计算广告这样一个伟大的行业、领域和学科来评头论足的。之所以这么做，一是总结自己已掌握的知识，二是降低同学们的学习成本。本人能力有限，更缺乏实践经验，文章内容多为书籍和论文的读后感，若有不当或者错误之处，还望各位同学指出，我定悉心求教。在此，向编写《计算广告》的刘鹏和王超两位老师致谢，向各位paper作者致谢。</p>

<p>[关于ML学分计划]</p>

<ul>
<li>由<a href="http://blog.csdn.net/han_xiaoyang">寒小阳</a>和<a href="http://blog.csdn.net/longxinchen_ml">龙心尘</a>发起，一个互帮互助的机器学习知识共享平台。</li>
<li>我们是一群对机器学习感兴趣的小伙伴，对于神奇的机器学习经常有“一探究竟”的冲动，却因为孤身一人学习的寂寞、亦或繁忙考试工作之余的小小拖延症，而没有持续这份对知识的渴求和热情。</li>
<li>由于深感类似情况的小伙伴之多，我们希望建立一个“ML学分计划”——机器学习的学习和分享计划——来帮助我们一起更高效地学习、更集中地整理分享我们的知识和经验。因为我们也深信”证明自己真的透彻理解一个知识，最好的方法，是给一个不熟悉这个内容的人，讲清楚这个内容“。</li>
</ul>

<p>[关于原作@<a href="http://blog.csdn.net/breada">面包包包包包包</a>]</p>

<ul>
<li>海淀区明光村计算机职业技术学院，研二学生。</li>
<li>关注计算广告点击率预估和竞价算法，关注机器学习和深度学习，初学者。</li>
</ul>



<h3 id="上下全文目录">(上)(下)全文目录</h3>

<ol>
<li><p>引言</p></li>
<li><p><code>广告=&gt;互联网广告</code>：“您好，了解一下”</p></li>
<li><p><code>互联网广告=&gt;计算广告</code>：指哪儿打哪儿！</p></li>
<li><p><code>计算广告主要的四种形式</code>：谁在弄潮？</p></li>
<li><p><code>计算广告关键技术</code>：这孙子怎么什么都知道？</p></li>
<li><p><code>广告系统架构</code>：要啥自行车，这里有宝马。</p></li>
<li><p><code>手把手系列之教你搭建一个最小广告系统</code>：mieSys</p></li>
</ol>

<hr />

<h2 id="2-广告-互联网广告">2. 广告 =&gt; 互联网广告</h2>

<p>“同学您好，了解一下！”宿舍楼下站着一位小姑娘，怀里捧着一沓宣传单，正在熟练的向每位路过的同学发放着。我伸手接过一张，冲她点了一下头以示友好。我一看是“撑了么”，不禁感叹O2O的钱是真多啊！按照已往经验，这波过后下一波不是“品碑”就是“美因”了。不对，不会是美因，好久不见什么动静了，应该就是品碑没错。没走两步，顺手把传单塞进了垃圾桶，脑海中还在推演着餐饮O2O的格局和未来。作为一个互联网人，每天这么关心行业发展，说实话还真的有点累呢。</p>

<p>广告对于我们每一个人来说都不陌生，甚至早已成为我们生活中非常重要的组成部分。无论我们再怎么厌恶它，屏蔽它，都不妨碍它在不同时间和不同地点，以不同的形式频频与我们相遇。世界上脸皮最厚的东西是什么，不是城墙角，而是广告。但是，你真的那么恨广告吗？恐怕也不是。想想你买过的吃穿用，是不是都是你熟悉的品牌呢，你是否还记得你与这些品牌的初次相遇呢？接下来，我就要开始认真的扯犊子了。</p>



<h3 id="21广告三要素">2.1.广告三要素</h3>

<blockquote>
  <p>一句话解释广告：这个牌子我好像在哪里见过呢。</p>
</blockquote>

<p>广告，是一项商业活动。说白了，就是广告主出钱让你看广告。哎呦喂，居然有人这么惦记着我，想想还有点小激动。想要完成一次广告展示，以下三要素必不可少：</p>

<ul>
<li><strong>广告主</strong>：出钱让你看广告的那个人</li>
<li><strong>用户</strong>：你</li>
<li><strong>媒介</strong>：传单、广播、杂志、公共展位、报纸、电视和互联网等传播途径。</li>
</ul>

<p>这三者之间的关系是<strong>博弈</strong>的，听起来好高端的样子。研究博弈的主要原因还是为了你好我好大家好，具体如下：</p>

<ul>
<li><strong>广告主 vs 用户</strong>：</li>
</ul>

<p>广告主有做广告的需求，为的就是进行<strong>品牌宣传</strong>，在用户的脑海中静悄悄地种下一颗种子，在用户挑选同类商品时大声喊出“选我选我选我”。用户有<strong>了解品牌的需求</strong>，这样在挑选商品时才能选择出最适合自己的那一款。</p>

<ul>
<li><strong>广告主 vs 媒介</strong>：</li>
</ul>

<p>广告主为了让广告能够传播的更广泛，就有<strong>选择合适媒介</strong>的需求，是印传单，还是投电视，哪个投入回报比最高就选哪个？媒介有发布广告的需求，因为这样可以<strong>通过出租广告位来获得收入</strong>，养活一家老小，还有那群可爱的程序员。</p>

<ul>
<li><strong>用户 vs 媒介</strong>：</li>
</ul>

<p>我们用户为了实现人生价值，都有<strong>收集信息，了解外部世界</strong>的需求。途径无非就是读书看报、电视上网，这是刚需，无关情怀。媒介有<strong>吸引用户</strong>的需求，因为用户来了，用户的注意力就来了，广告主也就跟着来了。</p>



<h3 id="22-广告-互联网广告">2.2 广告 =&gt; 互联网广告</h3>

<blockquote>
  <p>一句话解释互联网广告：在互联网上做的广告，效果可衡量，广告主再也不用担心钱花的不明不白啦！</p>
</blockquote>

<p>上面我们简单介绍了一下广告的背景知识，说白了就是三方各有需求，也各取所需，一个愿打一个愿挨，你好我好大家好。下面我们要开始介绍互联网广告了。</p>

<p>什么叫互联网广告呢？就是在互联网上做的广告。嗯…就是这么简单。再多说一些，其实是广告的媒介发生了变化。以前广告主要都在电视上做，是因为在那个年代用户的消遣方式比较单一，把时间都花在了看电视上。但是现在看电视的人少了，上网的人多了，广告主说：“我的小祖宗诶，你就看一眼吧”，于是广告就追着用户，做到了互联网上。</p>

<p>“自从广告上了互联网，广告的面貌就焕然一新。”造成行业巨变的原因，是因为互联网广告的效果可以被衡量。</p>

<p>回到本文最开始的“撑了么”传单。广告主只知道一共印了多少张传单，都交给谁去发，在哪个地方发，但是不可能知道是谁接到了这张传单，接到的人有没有看，看的人有没有买。这对广告主来说，我把钱花了，却不知道谁买了，有点不明不白，求广告主心理阴影面积。但是这钱不花还不行，<strong>这是传统广告面临的最大问题，即广告效果无法衡量</strong>。</p>

<p>那互联网广告是如何解决这个问题的呢？很简单，通过网站的日志系统。通过对用户上网HTTP请求的解析，网站可以得到当前时间、访问用户的IP地址、用户的操作系统和浏览器版本等基本信息，如下图。</p>

<p></p><center><img alt="网站访问日志" src="http://7xqgba.com1.z0.glb.clouddn.com/1.jpg?imageView/2/w/500/q/100" title="" /></center><p></p>

<p>这里，三列分别是这些用户在本站的cookie值（用来唯一识别本站的用户）、IP和访问时间。</p>

<p>更多的，通过脚本或者其他方式，网站可以对用户在本站的浏览行为进行记录，比如监控用户的点击行为、鼠标停留区域和停留时间等。如果用户点击的内容是广告，那么这个点击信息就会被后台数据库，如下图。</p>

<p></p><center><img alt="网站点击日志" src="http://7xqgba.com1.z0.glb.clouddn.com/2.jpg" title="" /></center><p></p>

<p>这里，两列分别是用户点击过的广告id。</p>

<p><strong>日志信息的记录，可以使得媒体网站和广告主能够清楚的看到到底是谁点击了广告。有了点击数据，广告主就可以知道自己投放的广告被多少人看到过，通过对投入回报比的评价来评估此次广告推广的效果，并为以后的推广活动提供参考。</strong>当然，这一切的根源，是建立在没有作弊数据这样的假设上的。</p>

<p>广告从线下走到线上，也算是半个O2O了。有了互联网技术的支持，广告效果不可衡量的魔咒终被打破。这似乎在预示着什么，广告人一直所追求的定向投放，进而实现精准营销的梦想，也许将在互联网的大潮中成为可能。预知后事如何，且看下一节：互联网广告与计算广告：指哪儿打哪儿！</p>



<h2 id="3-互联网广告计算广告指哪儿打哪儿">3. 互联网广告=&gt;计算广告：指哪儿打哪儿！</h2>

<p>前面说到，互联网广告相较于传统广告，一个很大的优势就是广告效果可以衡量。这样的变化对于广告主来说，这钱花的终于有名堂了，爽！媒体网站看着一旁欣喜若狂的广告主，蛋蛋地说，“哦”。翻了翻这个月网站的收入，还行，租子都交齐了。又看了看下个月广告位的承租情况，也还行，都租完了。“咳”，叹了口气，喃喃说道，“最多也就这个数了？” 他打开后台数据库，随便看着网站的点击日志。突然，他身子一顿，僵在了那里；紧接着嗖的一下，眼睛凑到了显示屏前；随后，键盘声响起，一通噼里啪啦的敲打，一听就知道是青轴。当他按下最后的回车，一个饼图出现在屏幕的正中央。此刻，天亮了。</p>

<p></p><center><img alt="网站访问性别" src="http://7xqgba.com1.z0.glb.clouddn.com/3.png?imageView/2/w/400/q/100" title="" /></center><p></p>



<h3 id="31-流量的神坛">3.1. 流量的神坛</h3>

<blockquote>
  <p>一句话解释流量神坛：流量就是用户，用户就是上帝，因此流量就是上帝。</p>
</blockquote>

<p>这张饼图所表述的意义是该网站当月访问用户的性别，男女各一半。你可能会问，这忙乎一晚上就出来这一张图。但是可别小瞧它，这张饼图一点都不简单，我来细细道给你听。</p>

<p>在传统广告的场景下，广告主做广告的方式是比较粗犷的。杂志广告，我买几期的封面，越大越好；报纸广告，我买几期的版面，最好是彩色的；电视广告，我买几次的播放时长，就要黄金时间段，最好是春晚前读秒的那种；展示牌广告，我买一个月的展示位，盘古大观上的LED就行。到了互联网广告的场景下，也这么买啊。网站上的广告位，不也类似于展示牌吗，我按月或者按季度包下来买不就完了吗？没错，在这张饼图出现之前，的确是这么做的。现在，也有很多广告和媒体是这么做的。但讲真，有了这张饼图之后，广告这个传统行业在互联网上即将开出绚丽的花。</p>

<p>接着前面的说，媒体网站看到这张统计出的饼图之后，陷入了沉思。既然来访的用户中男女各占一半，那我为什么还要在主页上对男性用户们展示那条女性护肤品的广告呢？那些水啊乳啊霜啊什么的这些大老爷们们又不懂，就算给他们脑海里埋一颗种子，不到他们买女性护肤品的时候它也不会叫啊！但是已经和护肤品公司签约了怎么办，我可是按月签的，违约多不好啊。转念又一想，<strong>广告主在意的是目标人群</strong>，作为一个女性护肤品品牌，对男性用户基本是没有期望的。既然这样，我们不再按照时间来承包广告位，而是按照人群划分来承包。我保证所有女性用户都能看到该护肤品的广告，不就行了嘛？同理，对于那部分男性用户，我可以放置剃须刀的广告，反正女性用户又不懂全面贴合和全身水洗到底有什么用。</p>

<p>如此说来，我网站上一个广告位不就可以实现时分复用，在相同的时间上投放两条广告了吗？可以多收一份钱，想想还有点小激动呢！可是，广告主们会愿意这样吗？我给他打个7折他肯定愿意啊，想展示的用户都展示到了，广告成本还降低了，这不是两全其美的事情吗？于是乎，<strong>互联网广告的结算形式从买展示时间，变成了买展示用户，行话叫做：买流量</strong>。流量作为用户注意力的表征，在广告主和媒体网站手拉手的簇拥下，登上了互联网的神坛。</p>



<h3 id="32-计算广告">3.2 计算广告</h3>

<blockquote>
  <p>一句话解释计算广告：黑科技，可以将对的广告展示给对的人。</p>
</blockquote>

<p>计算和广告这两个根本不相关的事情，是怎么在一起组成了一个领域和学科呢？一切还要从这个饼图来说起。</p>

<p>前面说道，媒体网站噼里啪啦敲了一晚的键盘，最终画出来了这个的饼图。可是，你媒体怎么就知道这一半是男性，那一半是女性呢？这种人口属性的信息，HTTP请求里可没有啊。</p>

<p>没错，的确没有，可是挡不住媒体网站有数据，会计算啊！</p>

<p>通过对点击日志的分析，媒体网站发现点击过女性护肤品的用户又点击过网站上其他女性品牌。在“女性用户对女性品牌可能更感兴趣”的合理假设下，判断这些用户的性别为女，男性用户同理。这里要说明一下，这里提到的男性女性，不是指用户真实的生理属性，而是<strong>用户在该媒体网站上所呈现的性别倾向</strong>。通过对日志数据的统计和计算，媒体网站可以对用户的性别进行判断，便是计算与广告的第一次亲密接触。下面给出计算广告的定义，来自斯坦福大学课程《Introduction to Computational Advertising》</p>

<p><b>Computional Advertising</b>:Find the “best match” between a given user in a given context and a suitable advertisement.</p>

<p></p><center><img alt="计算广告定义" src="http://7xqgba.com1.z0.glb.clouddn.com/8.jpg" title="" /></center><p></p>

<p>对于这个严肃的定义，我就不在此妄加翻译了。但为了方便各位同学理解，我便不恰当的将它总结为六个字：指哪儿打哪儿。就像前面说到的媒体媒体一样，给女性用户展示护肤品，给男性用户展示剃须刀，将对的广告展示给对的人，便是计算广告这样一门领域和学科所期望实现的了。</p>



<h2 id="4-计算广告四君子谁在弄潮">4. 计算广告四君子：谁在弄潮？</h2>

<p>计算广告从本质上来说，只是广告在互联网环境下的一种存在形式，其商业属性从未发生过任何改变。计算广告之所以重要，是因为<strong>互联网技术和用户数据使得广告的效果可以被衡量，进而可以指导广告活动的各个环节的优化</strong>，这令资本十分感兴趣。既然计算广告还是广告，那么在广告主、媒体和用户之间，自然也存在着利益的博弈。在这一章中，我们将围绕着三方博弈来介绍计算广告的四种商业模式，在感受资本力量的同时初步理解计算在当中所扮演的角色。</p>



<h3 id="41-合约广告">4.1 合约广告</h3>



<h4 id="411-广告位合约-到-展示量合约">4.1.1 <strong>广告位合约</strong> 到 <strong>展示量合约</strong></h4>

<blockquote>
  <p>一句话解释两种合约：<strong>前者漫灌，后者滴灌</strong>。</p>
</blockquote>

<p>互联网广告向计算广告的进化的标志，就是第二章中的那个饼图。在饼图出现之前，广告主与媒体网站之间的合约是广告位合约，即<strong>按时间承包广告位，按承包时间结算(CPT, Cost Per Time)</strong>。广告位合约下，<strong>广告主的投入是广告位租金，收益是合约期间的展示机会；媒体网站的投入是建站和维护的成本，收益是固定的广告位租金</strong>。这样对比下来，媒体网站的收入有天花板，因此网站有提高收益的动力。</p>

<p>在利益最大化的驱动下，媒体网站发现可以通过<strong>受众定向技术，即挖掘日志数据为流量打上标签</strong>，根据来访用户的性别标签实现广告位的时分复用。相较于改变之前，广告主投入降低，收益不变；媒体网站投入计算研发成本，收入提高。为了保证双方收益，还是来签个<strong>保证展示量的合约</strong>吧，约定好<strong>展示千次的价格（CPM:Cost Per Million），乘以总的展示次数即可</strong>。若不能完成合约的展示量，那么就算媒体网站违约。</p>

<p>在保证CPM的合约广告中，广告主和媒体网站都赚的盆满钵满。作为变革的引领者，媒体网站自然是闲不住的。他意识到广告位复用的关键在于流量这张饼所能切得的份数，份数越多，复用的次数就越多。广告主其实也挺开心，你就切呗，切的块越小我省的就越多。于是媒体网站真的开始乐此不疲的切饼了，从日志数据中挖掘出了年龄、收入、兴趣和地理位置等更信息。光切饼还不够，还要在切下的块之间互相组合拼凑：这一块是男性18~25岁北京的大学生，可以卖给棒子公司，正好最近刚出了一款千元机；那一块是女性无小孩年收入15~20万，白领妥妥的，卖给维少利亚的秘密吧。</p>

<p></p><center><img alt="网站流量细分" src="http://7xqgba.com1.z0.glb.clouddn.com/9.png?imageView/2/w/400/q/100" title="" /></center><p></p>

<p><strong>在受众定向技术的支持下，广告的商业模式从CPT变为CPM，保证展示量效果的合约形成，广告正式进入可计算的时代</strong>。</p>



<h4 id="412-在线分配">4.1.2 <strong>在线分配</strong></h4>

<blockquote>
  <p>一句话解释在线分配：<strong>你该看啥，我唆了蒜</strong>。</p>
</blockquote>

<p>在收益最大化的驱使下，受众定向的技艺和方法已然登峰造极。媒体网站期望通过精细化标签实现广告位无限时分复用的场景，真的存在吗？一张饼我们可以咬着吃，一块饼我们可以泡着吃，但把饼切成了碎渣，团也团不起来的时候，就只好扔掉了。</p>

<p>我们来思考一个问题，媒体网站如何让用户看到他应该看到的广告？如果媒体网站能够提前知道某用户第二天是否会访问本网站，就可以根据该用户的标签提前准备好要展示的广告，做到“指哪儿打哪儿”。然而，理想很丰满，现实很骨感。单个用户是否会上网是一个随机事件，是不可预测的。因此在实际广告投放中，媒体网站需要在用户访问网站的那一瞬间，在线的、动态的为用户分配广告进行展示。在收益最大化的驱动下，媒体网站必须保证所有合约的展示量，因此在线分配是一个在“保证所有合约展示量”的限制条件下，媒体网站收益最大化的优化问题。为了合理的解决在线分配问题，媒体网站需要对每类用户的流量到访进行预测。<strong>只有当用户数量到达一定规模之后，整个群体的到访率才会满足一个概率分布，流量预测才会有迹可循，进而指导广告投放</strong>。如果标签太细，流量就会太小，不足以挖掘出正确的到访概率分布，直接影响在线分配结果。这必将导致展示量合约不能很好完成，损害了广告主利益，共赢的局面出现危机，媒体网站的日子当然不好过了。</p>



<h4 id="413-非保量合约">4.1.3 <strong>非保量合约</strong></h4>

<blockquote>
  <p>一句话解释非保量合约：<strong>打不过就跑</strong>。</p>
</blockquote>

<p>受众定向技术对广告效果的优化所起到推进的作用是不言而喻的。理论上来讲，标签打的越精细，对用户人群的识别更精准，定向广告的效果也就越好。但是在保证展示量合约的模式下，在线分配问题的存在限制了媒体网站进一步提高收入的可能，陷入两难境地。如何让游戏继续下去，是媒体网站眼下必须考虑的事情。</p>

<p>“对广告主来说，他需要的只是用户注意力，并不care到底是按时间还是按流量。对于我媒体网站，既然CPM有在线分配的坑，那还是不要往里跳的好。只要能降低广告主成本并且保证广告效果，是可以再换一种玩法的”。想到这儿，媒体网站忍不住笑出了声，“呵呵哒~”</p>

<p>媒体网站究竟会采取什么新玩法呢？且看计算广告第二种商业模式：竞价广告。</p>



<h3 id="42-竞价广告">4.2 竞价广告</h3>

<p>老玩法CPM玩不下去的原因是什么？<strong>由于标签太细流量太小，再加上合约太多，媒体顾此失彼，不能合理的为用户安排好合适的广告</strong>。既然是在广告的分配环节出现问题，那干脆不分了，指定一家总可以吧，这一小撮人来了就看这个广告，OK问题解决了。。就这么简单？嗯，就这么简单。那只剩下两个问题了：指定哪一家，和如何收费。</p>

<ul>
<li><strong>指定哪一家</strong></li>
</ul>

<blockquote>
  <p>一句话解释哪一家：<strong>谁出价高就是谁的</strong></p>
</blockquote>

<p>媒体网站手握优质精准流量，把这个流量卖给谁呢？仍然在收益最大化的驱使下，媒体网站选择公开拍卖的方式，价高者得。说起拍卖，大家应该都听说过，就是大家一起去争一个东西，出价最高者得。写到这里，我特别想插播一条新闻(图文来自网络)。</p>

<blockquote>
  <p>《史上最贵！好声音巅峰之夜1分钟广告3千万！》</p>
  
  <blockquote>
    <p></p><center><img alt="优信二手车" src="http://7xqgba.com1.z0.glb.clouddn.com/10.jpg" title="" /></center> <br />
    宣布冠军前60秒硬告以500万底价起拍。在大战93回合后，最终由广告主优信二手车以3000万人民币的价格成交，只播一次，再刷中国电视史上单条广告之最。<p></p>
  </blockquote>
</blockquote>

<p>上上上上上。。。好了，言归正传。媒体网站也西装革履，拿着小锤开拍卖会：我有这么好的流量你们谁要呀？ <br />
广告主A：我要，我腿长！ <br />
广告主B：我要，我脸美！ <br />
广告主C：我要，我胸大！ <br />
广告主D：我要，我有钱！</p>

<p>“Duang~~~”，恭喜广告主D获得本轮竞拍的胜利，让我们用掌声向他表示祝贺，礼仪小姐请把鲜花和POS机送给他。</p>

<ul>
<li><strong>如何收费</strong></li>
</ul>

<p>不管玩法怎么变，广告主希望获得较高的投入回报比的想法不会变。在拍卖中，由于流量比较精准不用担心回报，所以如何降低成本是广告主唯一关心的事情，因此广告主有出低价的动力。如果采用前面好声音那样公开叫价的方式，广告主之间互相知道出价，广告主就有少加价的动力。鉴于这两点原因，拍卖方式的选择和收费方式的选择共同决定了媒体网站的最终收益。</p>

<p><b>密封拍卖</b></p>

<blockquote>
  <p>一句话解释密封拍卖：<strong>你猜猜我出了多少钱</strong></p>
</blockquote>

<p>既然公开叫价拍卖会诱发广告主少加价的动力，那媒体网站就采用密闭拍卖的方式。在密闭拍卖中，广告主不再公然喊出出价，而是将出价放进密闭信封里交给媒体网站，广告主互相之间不知道对方的出价。这样一来，广告主所出价格就是自己对流量价值的估计，从而避免了少加价现象的发生。</p>

<p><b>广义第二高价</b></p>

<blockquote>
  <p>一句话解释广义第二高价：<strong>有钱都不让花</strong></p>
</blockquote>

<p>为了避免广告主出低价，媒体网站采用广义第二高价(GSP: Generalized Second Price)的方式收费。比如广告主A出10元竞拍，广告主B出5元竞拍，广告主C出3元竞拍，那么广告主A只需要付5元就可以获得一段时间内对该标签流量的广告展示机会。广义第二高价的采用，显著提高了广告主下探底线的成本，因为广告主也明白，与其追求最低价赢得一次竞拍，不如适当价格赢得多次展示机会对品牌销量的提高更划算。</p>

<p><b>按点击收费</b></p>

<blockquote>
  <p>一句话解释按点击收费：<strong>“上好的西瓜嘞，不沙不甜不要钱”</strong></p>
</blockquote>

<p>按点击付费(CPC:Cost Per Click)是指广告被用户点击一次，广告主应给媒体付的价格。媒体网站的收入是点击价格和点击总数的成积。</p>

<p>经历了出价方式和收费方式的折磨，广告主快坐不住了。我们给你出钱，你到底给我们放广告了吗？为了监督你们，我们要按用户的点击付费，点一次给一次的钱！媒体网站一想，也合理，那就按点击付费吧，反正我的流量标签打的好。</p>

<p>在密封拍卖、广义第二高价和按点击付费的组合模式下，广告主的出价时考虑更多的是流量本身所能带来的价值，而非过度追求成本的节约。媒体网站的总体收益也打破了天花板，取得了令人满意的结果。</p>

<p>如果说传统广告向合约广告的转变标志着广告正式进入计算广告时代，那么合约广告向的竞价广告的转变就代表计算广告进入了快速发展的黄金时代，竞价广告迅速成为了互联网流量变现的主要模式。同时我们也应该注意到，媒体网站依靠所掌握的数据和技术，引领了合约广告和竞价广告两次浪潮，在广告活动中的话语权越来越重。作为金主的广告主，虽说广告收益很不错，但只能喝汤吃不到肉，心里总是不太爽的。“数据和技术，我能不能也做一些呢？”，广告主喃喃的说。</p>

<p>广告主会逆袭吗？且看计算广告第三种商业模式：程序化交易。</p>



<h3 id="43-程序化交易">4.3 程序化交易</h3>

<p>互联网广告发展到了竞价阶段，计算格局已基本建立。<strong>媒体网站负责利用受众定向等技术深度挖掘日志数据，为流量打标签；广告主通过竞价方式获得感兴趣标签流量的展示权利，并通过CPC与媒体网站进行结算。</strong>双方各取所需，相处融洽。然而，随着广告主优化效果的要求进一步加强，广告主希望能够做一些个性化的广告推广，例如对回头客做一次打折回馈，或者对老用户做一次新品推销。然而像“回头客”，“老用户”这样的标签，媒体是加工不出来的，所以无法满足广告主的这种需求，这让广告主十分不满。为什么加工不出来呢？</p>

<p>媒体网站所拥有的数据是哪个用户点了哪个广告，如下图中，用户在某度上搜索“单反相机”，并点击了某东的广告，这些数据某度是知道的。</p>

<blockquote>
  <p></p><center><img alt="媒体网站数据" src="http://7xqgba.com1.z0.glb.clouddn.com/11.png" title="" /></center><p></p>
</blockquote>

<p>但是用户点击广告之后，网页就跳转到广告主页面上了，究竟用户有没有下单，这个数据只有某东自己知道，某度是不知道的，因为此时用户不在某度的页面上。</p>

<blockquote>
  <p></p><center><img alt="广告主数据" src="http://7xqgba.com1.z0.glb.clouddn.com/12.png" title="" /></center><p></p>
</blockquote>

<p>那可如何是好呢，广告不能不做，钱不能不赚。于是乎媒体网站和广告主俩人坐一起开始合计。</p>

<blockquote>
  <p>媒 体：哥，要不您把那用户购买数据给我，我就能给您找出这部分用户，打上标签。 <br />
  广告主：老弟呀，那可不成，那岂不侵犯用户隐私了？人家买什么怎么能让你们知道呢？ <br />
  广告主：嘿嘿，要不，你把用户访问和点击数据给我得了，我不就能做了嘛！ <br />
  媒 体：哥您憋难为我，那我不也侵犯隐私了！人家搜了什么看了什么点了什么，也不能让你们知道啊！ <br />
  广告主：你得了吧，用户现在上网，哪儿还有什么隐私啊，不然你们那标签能打的那么准？ <br />
  媒 体：嘘……小点儿声……别让他听见……</p>
  
  <p>(两人捂嘴偷笑5秒)</p>
  
  <p>广告主：这么着吧，咱找个公平的中间第三方，一头接你，一头接我。你把我感兴趣的用户都给这小三，小三再给我。我看这用户要是在我这儿买过东西，那我就要这个流量，没买就不要。这小三只起一个中间人的作用，不存数据，您看行吧？ <br />
  媒 体：哟，行啊哥！您什么时候也会用互联网思维思考问题了？靠谱，就这么着吧！来来我敬您一杯。</p>
  
  <p>(两人碰杯一饮而尽)</p>
  
  <p>广告主：老弟呀，你看我这也一把年纪了，那个什么计算啊数据啊，我是整不动了，准备找人帮我弄，我就只管大（给）局（钱）了。咱俩也出生入死这么久了，从CPT到CPM再到现在的CPC，也该歇歇了，多陪陪老婆孩子。 <br />
  媒 体：哥，您说的对，来我再敬您一杯。 <br />
  广告主：等我说完。哥哥再给你建个意，要我说呀，你也甭干了，花点钱顾几个人儿替你守着，不就结了嘛。 <br />
  媒 体：对啊，哥，我咋没想到呢，我媳妇儿整天埋怨我下班晚。您真是我亲哥，来我再敬您。。</p>
  
  <p>(被广告主打断)</p>
  
  <p>广告主：不不不，这杯我敬你。干了这杯酒，这事儿啊，就这么定了！咱哥俩啊，享受生活去 <br />
  媒 体：对！享受生活，干！ <br />
  (两人碰杯一饮而尽，席间觥筹交错，直到天明)</p>
</blockquote>

<p>这段对话信息量还是挺大的，我们来分析一下主题思想，并做一些补充扩展。</p>

<ul>
<li><strong>供应方平台</strong></li>
</ul>

<blockquote>
  <p>一句话解释SSP：“哥，你要找的就是这个人！在主页给他点颜色看看不？”</p>
</blockquote>

<p>因为媒体网站在广告活动中负责提供广告位，所以又被称为“供应方”，这里的供应方平台(SSP:Supply Side Platform)是媒体网站顾的小弟，代表媒体网站利益的代理机构，主要负责管理媒体网站的广告位，负责与广告交易平台进行流量对接。</p>

<ul>
<li><strong>需求方平台</strong></li>
</ul>

<blockquote>
  <p>一句话解释DSP：“这人买过我东西，我出10块！”</p>
</blockquote>

<p>因为广告主在广告活动中有做广告的需求，所以又被称为“需求方”，这里的需求方平台(DSP:Demand Side Platform)是广告主顾的小弟，代表广告主利益的代理机构，主要负责替广告主采买流量以及研发相关技术。</p>

<ul>
<li><strong>广告交易平台</strong></li>
</ul>

<blockquote>
  <p>一句话解释ADX：“SSP和DSP，两手都要抓，两手都要硬”</p>
</blockquote>

<p>广告交易平台(ADX:Ad Exchange)是一个独立第三方平台广告交易平台，就是那个“小三”，两侧分别接入多个SSP和多个DSP。主要有传递信息和管理竞价两个作用，类似股票交易市场。</p>

<p>SSP, ADX, DSP三者形态如图所示(图片来自网络) <br />
</p><center><img alt="SSP,ADX,DSP" src="http://7xqgba.com1.z0.glb.clouddn.com/14.png" title="" /></center><p></p>

<ul>
<li><strong>实时竞价</strong></li>
</ul>

<blockquote>
  <p>一句话解释程序化交易：广告主为实现个性化营销所举办的海天盛筵。</p>
</blockquote>

<p>实时竞价(RTB:Real-Time Bidding)是一种新的广告销售模式,我们先来看一次RTB的过程：</p>

<p></p><center><img alt="RTB" src="http://7xqgba.com1.z0.glb.clouddn.com/15.jpg" title="" /></center><p></p>

<p><strong>Step1</strong>，某用户打开浏览器，登录了某媒体网站。该媒体网站通过标签分析，发现用户的标签是“标识XXX，男性，20-25岁，跑鞋爱好者”。</p>

<p><strong>Step2</strong>，媒体网站将该用户上网了以及标签信息通过SSP传给ADX，说“看看谁要这个人在<strong>首页</strong>的广告展示机会”。</p>

<p><strong>Step3</strong>，ADX将用户标签信息和广告位信息广播给所有对接的DSP，问“你们谁要这次展示机会呀”.</p>

<p><strong>Step4</strong>，DSP1(代表某克)和DSP2(代表阿迪某斯)同时接到了“标识XXX,男性，20-25岁，跑鞋爱好者，广告位为首页”。DSP1通过标识在购买数据库里查，发现这个人买过我司的商品，<strong>符合我司为老用户推广新品的目标</strong>，于是两眼放光。DSP2也通过标识去查，<b>发现这个人没有买过我司商品，并不属于老用户</b>。通过查询购买历史数据，两个DSP心里差不多有谱了。</p>

<p><strong>Step5</strong>，开始竞价。DSP1觉得这个人是老用户，很满足我司需求，出10块买这次首页的展示机会。DSP2觉得这人仅仅是个潜在客户，出5块争取一下吧。于是一个出10块，一个出5块，出价信息返回到ADX。</p>

<p><strong>Step6</strong>，ADX通过对比价格，发现10块是最高的，判定DSP1赢得此次竞价，对DSP1说：“恭喜您本次竞价成功，请返回您的广告和5块钱”，没错，这里收费依然是GSP。</p>

<p><strong>Step7</strong>，DSP1高兴坏了，赶快把最新款跑鞋的广告和5块钱给ADX</p>

<p><strong>Step8</strong>，ADX接到跑鞋广告和5块钱，将之返回给SSP。</p>

<p><strong>Step</strong>，SSP接到广告和5块钱，交给了媒体网站。</p>

<p><strong>Step10</strong>，广告顺利展示，用户在页面打开之前看到了广告，整个过程在<strong>100ms</strong>之内全部完成。</p>

<p>一次RTB完成后，媒体网站给SSP发红包，广告主给DSP发红包，DSP和SSP都给ADX发红包。说起红包，大家对这个图应该都不陌生。</p>

<p></p><center><img alt="谢谢老板" src="http://7xqgba.com1.z0.glb.clouddn.com/13.jpg" title="" /></center><p></p>

<p>通过上面例子我们可以看出，实时竞价所购买的是此刻的广告展示机会，出价高低主要看这次展示与<strong>广告主个性化的标签</strong>的匹配程度。比如上例中，此刻的展示机会就是这个人即将在首页的广告位，个性化标签是<strong>“老用户”</strong>，越老，越要出高价争取。下表我们列举了实时竞价与第二种广告模式：竞价广告的对比。</p>

<table>
<thead>
<tr>
  <th>广告模式</th>
  <th>竞价方式</th>
  <th>标签来源</th>
  <th>竞品</th>
  <th>一句话解释</th>
</tr>
</thead>
<tbody><tr>
  <td>竞价广告</td>
  <td>暗拍，GSP</td>
  <td>媒体网站，受众定向标签</td>
  <td>媒体网站上一段时间内，该标签所有用户的广告展示机会</td>
  <td>提前把菜做好，只等客人来端上桌</td>
</tr>
<tr>
  <td>实时竞价</td>
  <td>暗拍，GSP</td>
  <td>广告主，个性化标签</td>
  <td>媒体网站上当前时刻，该标签当前用户的广告展示机会</td>
  <td>不提前做，客人来想吃什么现点现做</td>
</tr>
</tbody></table>


<p>通过对比，我们可以很准确的抓住实时竞价的两个特点：<strong>实时和个性化</strong>。那什么叫程序化购买呢，讲了半天也没提这种广告模式。<strong>程序化购买，就是指实时竞价的整个过程都是由程序自动完成的</strong>。</p>

<p>程序化交易是当前计算广告所处的时代，下图是RTBChina于2015年7月份统计的中国程序化交易市场上的主要产品，十分热闹，值得一看。除了DSP、SSP和ADX，还有很多非常重要的力量，如数据管理平台(DMP:Data Management Platform)和第三方检测机构等，都为程序化交易提供服务和支持，保障着这一模式的健康发展。</p>

<p></p><center><img alt="中国程序化交易市场" src="http://7xqgba.com1.z0.glb.clouddn.com/16.jpg" title="" /></center><p></p>

<p>我们终于讲完了历史和现在，坚持下来的同学给自己鼓个掌吧！[啪啪啪啪啪啪]。回顾历史，在合约广告和竞价广告中，媒体网站占优势地位，而在程序化交易广告中，广告主占优势地位。一直都是广告主和媒体网站围绕着流量在博弈，我们用户的声音呢？未来会是我们的吗？且看计算广告第四种模式：原生广告。</p>



<h3 id="44-原生广告">4.4 原生广告</h3>

<blockquote>
  <p>一句话解释原生广告：<strong>你看的是广告你知道不？你以为你以为的就是你以为的？</strong></p>
</blockquote>

<p>广告发展到现在，广告主和媒体网站关注更多的是如何更加充分的实现流量变现，而忽略了广告与媒体内容的结合，这非常容易造成用户的反感，使用户觉得自己隐私被泄漏。而原生广告所追求的是广告与媒体内容的统一，通常被称为“内容即广告”，所追求的效果是用户在浏览内容时，不自主的就把广告给看了，主要形式有信息流广告、搜索广告和软文广告等，这里以一个软文广告举例。</p>

<ul>
<li><strong>一篇软文</strong></li>
</ul>

<p>不知有没有看《权力的游戏-冰与火之歌》的同学，如果有，那么这篇<a href="http://mp.weixin.qq.com/s?__biz=MjM5MzAyMTY0MA==&amp;mid=401041222&amp;idx=1&amp;sn=ebca01b729a7cdc504ed04f7d0c6087c&amp;scene=1&amp;srcid=1127VWdoTR3jt7py6CK4TLHd#wechat_redirect">《琼恩·雪诺没死——史塔克家族的逆袭开始了》</a>一定合你胃口。没看过的也没关系，我大致解释一下。在这部剧中，给大家留下了一个很大的疑问，那就是“男主角到底死了没”。这篇文章完整了梳理了一遍故事主线，并且从各个细节来证明“男主角没有死”。最重要的是，在合理推出男主角没有死之后，紧接着来了这么一段话：</p>

<blockquote>
  <p></p><center><img alt="搜狗知乎" src="http://7xqgba.com1.z0.glb.clouddn.com/18.jpg" title="" /></center><p></p>
</blockquote>

<p>看到这个，我第一反应，“我靠！原来是软文，也是哔了狗了！”，但紧接着我也就释然了，永远的记住了搜狗和知乎勾搭在一起为我提供的这篇高水准的文章，我怕是再也忘不掉这两款互联网产品了，也更期待新一季的《冰与火之歌》了。有时我会不经意的想，到底谁是广告主，是冰火？还是搜狗+知乎？如果是后者，那《冰与火之歌》给他们钱了吗？</p>

<ul>
<li><strong>移动互联时代</strong></li>
</ul>

<p>原生广告为什么会成为计算广告的未来？因为移动互联来了，用户的消耗在移动端的时间开始变多，这意味了什么？思考三秒钟。</p>

<hr />



<h1 id="1">1</h1>



<h1 id="2">2</h1>



<h1 id="3">3</h1>

<hr />

<p>没错！这<strong>意味着用户注意力的转移，意味一大波广告主要追到移动端了</strong>！你可能会说，那也没什么变化，我上的还是那个互联网呀，只不过从电脑换成了手机。没错，就是因为你用的屏幕变小了，原来电脑上不觉得大的广告很容易覆盖整个手机屏幕，还显示不完。。。求此时用户心里阴影面积。因此，如何在保证用户正常阅读的情况下植入广告，是未来广告的主要方式。</p>

<p>除了屏幕大小的限制，以APP为核心的生态也导致了媒体概念的转变。原来PC时代，网站是主要的媒体形式。而现在，每一款APP都在深挖一个领域，俗称“垂直领域”，有专做健身领域的，有专做母婴领域的，还有做同性交友的。使用这些APP的用户本身就是相同群体，因而具有更高的流量价值，自然吸引了不少广告主的目光。当然还有微信公共号等自媒体，依靠高水平的文章宣传自己，也得到了许多广告主的青睐。如何保证自己的APP和公共号能够黏住用户呢？优质的内容才是王道。</p>

<p>屏幕尺寸的变小与媒体多样化，都引发了广告主和媒体的思考。<strong>既要保证广告不影响用户体验，又要提供优质内容</strong>，似乎所有的道路都指向了同一个方向：<strong>内容即广告</strong>，让用户在阅读的同时就把广告给做了。这便是未来的广告了，原生广告。</p>

<p>原生广告中有什么计算内容可做呢？说一个最好想的，如何在一篇旅游游记中合理的插入当地酒店的信息呢，这就是原生广告平台要做的事情了。在原生广告模式下，媒体在投放广告时，更多的将考虑用户的体验。否则用户一怒之下卸载APP，取消关注。没了用户，广告主也不来了，这也便是闷声作大死了。</p>



<h3 id="5-上篇总结">5. 上篇总结</h3>

<p>事实上，这是一个混和的时代，各种广告模式并存。在我们打开一家门户网站的时候，我们并不能一眼看出到底哪个是合约广告的结果，哪个是竞价广告的结果，但是这些都不重要。能够认清数据的价值，理清三方关系，便是博主写这篇博文的初衷。如果特别想看到底有什么广告，那就给你看看CSDN页面上的广告形式吧。</p>

<p></p><center><img alt="CSDN" src="http://7xqgba.com1.z0.glb.clouddn.com/19.jpg" title="" /></center><p></p>

<p>回顾计算广告的发展历史，纵使错综复杂，但究其根本，便是广告主、媒体与用户之间相互博弈之后达到的平衡状态。在传统广告踏入互联网大门之后，在利益最大化的驱动下，媒体通过受众定向技术引领广告进入合约广告时代；在精细化投放的使命与在线分配的矛盾下，媒体选择竞价方式将计算广告推入了发展的快车道；在广告主个性化投放的要求下，实时竞价映入眼帘，并衍生出更多的广告活动参与者；在移动互联大潮下，用户体验被尊为一切产品的出发点，使得原生广告成为未来广告的必然趋势。这些变革看似发生的恰到好处，合情合理，但是博主私认为，这是资本逐利的必然结果：为了能让媒体能够赚更多的广告费同时保证广告主的效果，这才会用到计算的力量，才顺带着推动了互联网技术的发展。在互联网人探索计算道路的时候，意外发现了数据的价值，并将之发扬光大。归根到底，所有的根源都来自于数据，广告主和媒体都挣钱了，用户必然是赔钱的那一个。免费的都是最贵的，用户在免费使用互联网服务的同时，留下的行为记录便是数据，各方利用这些数据，就可以刻画出你的性格、你的偏好、你的收入乃至你的一切。有了这些，就可以定向投放，就可以精准营销。你以为你在买东西时，是真的喜欢这个品牌吗？恐怕更多的原因，是你在互联网上见这个品牌见得更多而已。这也提醒我们互联网人，在追求技术卓越的同时，也要主动思考背后资本的力量，因为很多时候技术是由业务驱动的，而非技术本身。</p>

<hr />



<h3 id="5-后话">5. 后话</h3>

<p>本人才疏学浅，能力有限，文中涉及多数细节多为个人理解，有不当之处还请各位同学不吝指出。对相关内容感兴趣的同学，还请参阅刘鹏和王超老师所著《计算广告》，有更精准的定义、描述与更详细的讲解。</p>

<p>到这里，《计算广告小窥[上]您好，了解一下》就结束了。下半部分将集中介绍<strong>计算广告中的关键技术</strong>，具体解释<strong>受众定向的一般做法</strong>、<strong>点击率预估</strong>和<strong>DSP出价策略</strong>等相关计算问题。还会介绍一套通用的广告架构，并亲手实现一个最小广告系统。《计算广告小窥[下]这孙子怎么什么都知道》，敬请期待。</p>
            <div>
                作者：yaoqiang2011 发表于2016/1/25 15:26:09 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50580423">原文链接</a>
            </div>
            <div>
            阅读：12917 评论：3 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50580423#comments" target="_blank">查看评论</a>
            </div>
[原]NLP系列(1)_从破译外星人文字浅谈自然语言处理的基础
<p>作者：<a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a> &amp;&amp;<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年1月。 <br />
出处： <br />
<a href="http://blog.csdn.net/longxinchen_ml/article/details/50543337">http://blog.csdn.net/longxinchen_ml/article/details/50543337</a>, <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50545650">http://blog.csdn.net/han_xiaoyang/article/details/50545650</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-如果让你破译三体人文字你会怎么办">1. 如果让你破译“三体”人文字你会怎么办？</h2>

<p>我们试着开一下脑洞：假如你有一个优盘，里面存了大量“三体”人（刘慈欣小说中的高智能外星人）的网络文本信息，你会怎样通过这些信息去了解外星文明并从中获取有价值的技术情报？当然，“三体”人的文字都长这样儿： <br />
</p><center>  <br />
<img alt="三体文字" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160119_image001.jpg" title="" /></center> <p></p>

<p>“全是乱码，根本摸不着头脑！”</p>

<p>好吧，的确是这样。<strong>其实在计算机的眼中，人类的语言跟外星人的语言也没什么两样。</strong></p>

<p><strong>让计算机“理解”人类语言中的种种信息，甚至像人类一样做出反应，这些是自然语言处理的主要内容。</strong></p>

<p>那我们怎么分析呢？首先，我们尝试找出最小观察对象，发现外星人文字好像是一块一块的方块字，每一个方块字可以作为我们的一个分析的基本语言单位。我们对这些方块字做一些基本的统计，大致就能知道“三体”人语言的基本词汇量、常用词、罕见词、常用固定搭配等等。可见<strong>统计方法是一个比较有用的利器。</strong></p>

<p>而且，我们发现，有些方块字直接由一个空格将其隔开。因此将方块字区分成不同的区域，每一个区域是否可以理解成一句话？这个工作就是<strong>“断句”</strong>，也是自然语言处理当中的一个典型问题。</p>

<p>然后空行可以作为<strong>分段</strong>。按照人类语言的经验，可能段首第一句话会包含更多的信息。</p>

<p>还能继续分析吗？似乎比较难了。可是后来你发现，这个优盘中的外星人<strong>语料库有些是“标记”了的。</strong>比如有些信息是像在豆瓣网站中那样被组织的。里面每段话都有一些类似“好评”“差评”的标记。基于这些标记，你可以统计出某些词在好评中出现的概率比差评的更高，这些词可能就是“褒义词”。类似的，你也可以统计出一些“贬义词”。基于这些褒、贬义词，可以去判断其他文本的褒贬性。这就是自然语言处理中的“<strong>褒贬分析</strong>”过程。</p>

<p>……</p>

<p>由此可见，当面对一种一无所知的语言的时候，<strong>似乎最直接的方法就是掌握大量的语料库，而且这些语料最好是经过各种方式标注了的。</strong>然后对其进行<strong>各种各样的统计，发掘一些有价值的信息。</strong>这是传说中自然语言处理的<strong>经验主义视角</strong>。</p>



<h2 id="2-自然语言处理要解决的问题">2. 自然语言处理要解决的问题:</h2>

<p>其实，自然语言处理的应用非常广泛，如：</p>

<ul>
<li><p><strong>垃圾邮件识别</strong></p>

<p>通过自动分析邮件中的文本内容，判断该邮件是否垃圾邮件。</p></li>
<li><p><strong>中文输入法</strong></p>

<p>通过识别输入的拼音字符串，识别用户希望输入的汉字。</p></li>
<li><p><strong>机器翻译</strong></p>

<p>将文本从一种语言转成另一种语言，如中英文机器翻译。</p></li>
<li><p><strong>自动问答、客服机器人</strong></p>

<p>用文本输入一个问题，再返回一段文本作为问题的答案。</p>

<p>……</p></li>
</ul>

<p>这里简单罗列了一些NLP的<strong>常见领域：分词，词性标注，命名实体识别，句法分析，语义识别，垃圾邮件识别，拼写纠错，词义消歧，语音识别，音字转换,机器翻译，自动问答……</strong></p>

<p>如果对自然语言处理的应用场景不太了解，可以去腾讯的<a href="http://nlp.qq.com/index.cgi">中文语义平台</a>简单玩几个例子就熟悉了。</p>



<h2 id="3-自然语言处理的发展现状">3. 自然语言处理的发展现状</h2>

<p>根据stafford教授Dan Jurafsky的介绍：</p>

<ul>
<li><p><strong>有些问题得到了基本解决</strong>，如：词性标注、命名实体识别、垃圾邮件识别。</p></li>
<li><p><strong>有些问题取得长足进展</strong>，如：情感分析、共指消解、词义消歧、句法分析、机器翻译、信息抽取。</p></li>
<li><p><strong>有些问题依然充满挑战</strong>，如：自动问答、复述、文摘提取、会话机器人等。</p></li>
</ul>



<h2 id="4-用算法统摄问题">4. 用算法统摄问题</h2>

<p>大家可能感受到了，自然语言处理的问题非常庞杂，一时还真不太好系统地梳理。</p>

<p>然而，从我们的学习自然语言处理的经验来看，<strong>通过机器学习的基本思路，可以将很多问题都抽象成同样的算法和模型来处理，这样会清晰很多。</strong></p>

<p>比如，<strong>词性标注，垃圾邮件识别，褒贬分析，拼写纠错等问题都可以归结成简单的分类问题</strong>。这就好用我们之前掌握的机器学习分类方法去很好地处理。</p>

<p>又比如，对于<strong>机器翻译，语音识别，音字转换等等领域，都可以抽象成运用隐马尔科夫模型去处理，而这本身是一个更加复杂的分类问题。</strong></p>

<p>因此本系列文章尽量<strong>从算法原理的角度去梳理自然语言处理的问题，把这些原理在具体场景的不同变换方式给展示出来</strong>。</p>



<h2 id="5-文本处理基础">5. 文本处理基础</h2>



<h3 id="51-正则表达式">5.1 正则表达式</h3>

<p>对于英文等字符串类型的自然语言，<strong>正则表达式能够很好地做一些简单的处理工作。如词干提取，大小写转换</strong>等。</p>

<p>现在主流的编程语言对正则表达式都有较好的支持，如Grep、Awk、Sed、Python、Perl、Java、C/C++。可以通过简单的编程完成一些基本任务。</p>



<h3 id="52-分词">5.2 分词</h3>

<p>对于英文，分词比较直观。<strong>一般被空格区分开来的就是不同的词。但是有些不同的词汇表达需要我们细心判断</strong>： <br />
</p><center>  <br />
<img alt="分词复杂性" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160119_image002.jpg" title="" /></center> <p></p>

<p>这需要我们根据不同的条件<strong>做一些简单的判断规则</strong>。</p>

<p>这样的方法对英语这种包含固定分隔符的语言行之有效。但<strong>对于汉语、日语、德语以及我们上面的“三体文”等文本则不再适用，需要有专门的分词技术。</strong>我们将在之后的文章中进行探讨。</p>

<blockquote>
  <ul>
  <li>莎拉波娃现在居住在美国东南部的佛罗里达。</li>
  <li>莎拉波娃  现在   居住  在    美国   东南部     的    佛罗里达</li>
  </ul>
</blockquote>



<h3 id="53-编辑距离">5.3 编辑距离</h3>

<p>编辑距离（Minimum Edit Distance，MED），又称Levenshtein距离，是<strong>指两个字符串之间，由一个转成另一个所需要的最少编辑操作次数。</strong> <br />
允许的编辑操作包括：</p>

<ul>
<li>将一个字符替换成另一个字符（substitution，s）</li>
<li>插入一个字符（insert，i）</li>
<li>删除一个字符（delete，d）</li>
</ul>

<p>一个简单的示意图如下：</p>

<p></p><center>  <br />
<img alt="编辑距离" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160119_image003.jpg" title="" /></center> <p></p>

<p>我们可以使用<strong>动态规划</strong>算法解最小编辑距离，其形式化定义如下：</p>

<p></p><center>  <br />
<img alt="动态规划" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160119_image005.jpg" title="" /></center> <p></p>

<p>通过这种方法，给字符串之间定义了一个量化的“距离”的概念，而且很有解释力。</p>

<p>在机器学习中，<strong>有了“距离”就可以做很多事情。比如判断两个字符串的相似性，做一些分类、聚类的工作。</strong></p>

<p>在工程上，<strong>编辑距离可以用来提供用于拼写纠错的侯选单词。</strong>比如我用英文输入法输入一个“girlfriand”的单词。但是词库中没有“girlfriand”这个词。则可以寻找与“girlfriand”编辑距离为1或2的其他字符串，如“girlfriend”、“girlfriends”，作为纠正拼写错误的候选词。剩下的问题就是判断哪个侯选词的作为纠正词的概率更高而已。</p>



<h2 id="6-分类问题基础">6. 分类问题基础</h2>

<p>由于<strong>自然语言处理中相当一部分都可以抽象成分类问题去处理。我们在这里补充一些分类问题的基本知识</strong>，方便以后探讨。</p>



<h3 id="61-分类问题的多种类型">6.1 分类问题的多种类型</h3>

<ol>
<li><p><strong>二分类：判断题</strong></p>

<p>1.1 褒贬分析：判断一段文本是“褒”还是“贬”。</p>

<p>1.2 垃圾邮件识别：判断一封邮件是“正常邮件”还是“垃圾邮件”。</p></li>
<li><p><strong>多分类：单选题</strong></p>

<p>2.1 词性标注：判断一个词语是名词、动词、形容词、副词等等。</p>

<p>2.2 拼写纠错：判断多个侯选词中的哪个词可以作为最终的纠正词。</p>

<p>2.3 中文分词：从多种分词序列中挑选最优序列。</p>

<p>2.4 机器翻译：从多个备选翻译句子中，判断出最优翻译语句。</p></li>
<li><p><strong>类重叠分类：多选题</strong></p>

<p>3.1 主题分析：判断一个新闻同时包含哪几类主题（美食、食品安全、健康等）</p></li>
</ol>

<p></p><center>  <br />
<img alt="主题分析" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160119_image006.jpg" title="" /></center> <p></p>

<p>有时候管多选题叫做软分类，单选题叫硬分类。</p>



<h3 id="62-多分类的评估指标">6.2 多分类的评估指标</h3>

<p>对于一般二分类，我们评估的指标有<strong>召回率、精确度和F值</strong>。对于多分类我们也有类似的评价标准。如果<strong>cij为有多少篇ci的文档被自动分类到cj类别下</strong>，则有：</p>

<p></p><center>  <br />
<img alt="召回率、精确率" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160119_image008.jpg" title="" /></center> <p></p>



<h2 id="7-小结">7. 小结</h2>

<p>本文主要是讲了一些自然语言处理的浅层内容。我们从从破译外星人文字导出自然语言处理过程中的经验主义视角。因为业务场景十分繁杂，我们打算从机器学习算法的角度去观察这些业务场景，以便有个清晰的认识。文本处理的一些基础内容，如正则表达式、分词断句等是自然语言预处理过程中的常用手段。编辑距离是衡量两个字符串相似性的尺度。了解这些基础之后，就可以进行一些典型的自然语言处理问题了，比如文本分类。我们将在接下来的文章中一一介绍。</p>
            <div>
                作者：yaoqiang2011 发表于2016/1/20 0:01:48 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50545650">原文链接</a>
            </div>
            <div>
            阅读：9787 评论：1 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50545650#comments" target="_blank">查看评论</a>
            </div>
[原]深度学习与计算机视觉系列(10)_细说卷积神经网络
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a>  <br />
时间：2016年1月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50542880">http://blog.csdn.net/han_xiaoyang/article/details/50542880</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-前言">1. 前言</h2>

<p>前面九讲对神经网络的结构，组件，训练方法，原理等做了介绍。现在我们回到本系列的核心：<strong>计算机视觉</strong>，神经网络中的一种特殊版本在计算机视觉中使用最为广泛，这就是大家都知道的<strong>卷积神经网络</strong>。卷积神经网络和普通的神经网络一样，由『神经元』按层级结构组成，其间的权重和偏移量都是可训练得到的。同样是输入的数据和权重做运算，输出结果输入激励神经元，输出结果。从整体上看来，整个神经网络做的事情，依旧是对于像素级别输入的图像数据，用得分函数计算最后各个类别的得分，然后我们通过最小化损失函数来得到最优的权重。之前的博文中介绍的各种技巧和训练方法，以及注意事项，在这个特殊版本的神经网络上依旧好使。</p>

<p>咳咳，我们来说说它的特殊之处，首先卷积神经网络一般假定输入就是图片数据，也正是因为输入是图片数据，我们可以利用它的像素结构特性，去做一些假设来简化神经网络的训练复杂度(减少训练参数个数)。</p>



<h2 id="2卷积神经网总体结构一览">2.卷积神经网总体结构一览</h2>

<p>我们前面讲过的神经网络结构都比较一致，<strong>输入层</strong>和<strong>输出层</strong>中间夹着数层<strong>隐藏层</strong>，每一层都由多个神经元组成，层和层之间是全连接的结构，同一层的神经元之间没有连接。</p>

<p>卷积神经网络是上述结构的一种特殊化处理，因为对于图像这种数据而言，上面这种结构实际应用起来有较大的困难：就拿CIFAR-10举例吧，图片已经很小了，是32*32*3(长宽各32像素，3个颜色通道)的，那么在神经网络当中，我们只看隐藏层中的一个神经元，就应该有32*32*3=3072个权重，如果大家觉得这个权重个数的量还行的话，再设想一下，当这是一个包含多个神经元的多层神经网(假设n个)，再比如图像的质量好一点(比如是200*200*3的)，那将有200*200*3*n= 120000n个权重需要训练，结果是拉着这么多参数训练，基本跑不动，跑得起来也是『气喘吁吁』，当然，最关键的是这么多参数的情况下，分分钟模型就过拟合了。别急，别急，一会儿我们会提到卷积神经网络的想法和简化之处。</p>

<p>卷积神经网络结构比较固定的原因之一，是图片数据本身的合理结构，类图像结构(200*200*3)，<strong>我们也把卷积神经网络的神经元排布成 width*height*depth的结构</strong>，也就是说这一层总共有width*height*depth个神经元，如下图所示。举个例子说，CIFAR-10的输出层就是1*1*10维的。另外我们后面会说到，<strong>每一层的神经元，其实只和上一层里某些小区域进行连接，而不是和上一层每个神经元全连接</strong>。 <br />
</p><center> <br />
<img alt="神经网络结构" src="http://cs231n.github.io/assets/nn1/neural_net2.jpeg" title="" /> <br />
<img alt="卷积神经网厚度结构" src="http://cs231n.github.io/assets/cnn/cnn.jpeg" title="" /> <br />
</center><p></p>



<h2 id="3卷积神经网络的组成层">3.卷积神经网络的组成层</h2>

<p>在卷积神经网络中，有3种最主要的层：</p>

<ul>
<li>卷积运算层</li>
<li>pooling层</li>
<li>全连接层</li>
</ul>

<p>一个完整的神经网络就是由这三种层叠加组成的。 <br />
<strong>结构示例</strong> <br />
我们继续拿CIFAR-10数据集举例，一个典型的该数据集上的卷积神经网络分类器应该有[INPUT - CONV - RELU - POOL - FC]的结构，具体说来是这样的：</p>

<ul>
<li>INPUT[32*32*3]包含原始图片数据中的全部像素，长宽都是32，有RGB 3个颜色通道。</li>
<li>CONV卷积层中，没个神经元会和上一层的若干小区域连接，计算权重和小区域像素的内积，举个例子可能产出的结果数据是[32*32*12]的。</li>
<li>RELU层，就是神经元激励层，主要的计算就是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 4.749em; display: inline-block;"><span style="display: inline-block; width: 3.789em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-5" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-7" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-10" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，结果数据依旧是[32*32*12]。</li>
<li>POOLing层做的事情，可以理解成一个下采样，可能得到的结果维度就变为[16*16*12]了。</li>
<li>全连接层一般用于最后计算类别得分，得到的结果为[1*1*10]的，其中的10对应10个不同的类别。和名字一样，这一层的所有神经元会和上一层的所有神经元有连接。</li>
</ul>

<p>这样，卷积神经网络作为一个中间的通道，就一步步把原始的图像数据转成最后的类别得分了。有一个点我们要提一下，刚才说到了有几种不同的神经网络层，<strong>其中有一些层是有待训练参数的，另外一些没有。</strong>详细一点说，卷积层和全连接层包含权重和偏移的；而RELU和POOLing层只是一个固定的函数运算，是不包含权重和偏移参数的。不过POOLing层包含了我们手动指定的超参数，这个我们之后会提到。</p>

<p>总结一下：</p>

<ul>
<li>一个卷积神经网络由多种不同类型的层(卷几层/全连接层/RELU层/POOLing层等)叠加而成。</li>
<li>每一层的输入结构是3维的数据，计算完输出依旧是3维的数据。</li>
<li>卷积层和全连接层包含训练参数，RELU和POOLing层不包含。</li>
<li>卷积层，全连接层和POOLing层包含超参数，RELU层没有。</li>
</ul>

<p>下图为CIFAR-10数据集构建的一个卷积神经网络结构示意图： <br />
</p><center> <br />
<img alt="CIFAR-10卷积神经网络结构" src="http://cs231n.github.io/assets/cnn/convnet.jpeg" title="" /> <br />
</center> <br />
既然有这么多不同的层级结构，那我们就展开来讲讲：<p></p>



<h3 id="31-卷积层">3.1 卷积层</h3>

<p>说起来，这是卷积神经网络的核心层(从名字就可以看出来对吧-_-||)。</p>



<h4 id="311-卷积层综述">3.1.1 卷积层综述</h4>

<p><strong>直观看来</strong>，卷积层的参数其实可以看做，一系列的可训练/学习的过滤器。在前向计算过程中，我们输入一定区域大小(width*height)的数据，和过滤器点乘后等到新的二维数据，然后滑过一个个滤波器，组成新的3维输出数据。而我们可以理解成每个过滤器都只关心过滤数据小平面内的部分特征，当出现它学习到的特征的时候，就会呈现激活/activate态。</p>

<p><strong>局部关联度</strong>。这是卷积神经网络的独特之处其中之一，我们知道在高维数据(比如图片)中，用全连接的神经网络，实际工程中基本是不可行的。<strong>卷积神经网络中每一层的神经元只会和上一层的一些局部区域相连，这就是所谓的局部连接性</strong>。你可以想象成，上一层的数据区，有一个滑动的窗口，只有这个窗口内的数据会和下一层神经元有关联，当然，这个做法就要求我们手动敲定一个超参数:窗口大小。通常情况下，这个窗口的长和宽是相等的，我们把长x宽叫做receptive field。实际的计算中，这个窗口是会『滑动』的，会近似覆盖图片的所有小区域。</p>

<p>举个实例，CIFAR-10中的图片输入数据为[32*32*3]的，如果我们把receptive field设为5*5，那receptive field的data都会和下一层的神经元关联，所以共有5*5*3=75个权重，注意到最后的3依旧代表着RGB 3个颜色通道。</p>

<p>如果不是输入数据层，中间层的data格式可能是[16*16*20]的，假如我们取3*3的receptive field，那单个神经元的权重为3*3*20=180。</p>

<p></p><center> <br />
<img alt="卷积神经网示意图" src="http://cs231n.github.io/assets/cnn/depthcol.jpeg" title="" /> <br />
</center><p></p>

<p><strong>局部关联细节</strong>。我们刚才说到卷积层的局部关联问题，这个地方有一个receptive field，也就是我们直观理解上的『滑动数据窗口』。从输入的数据到输出数据，有三个超参数会决定输出数据的维度，分别是<strong>深度/depth，步长/stride 和 填充值/zero-padding</strong>：</p>

<ol>
<li>所谓深度/depth，简单说来指的就是卷积层中和上一层同一个输入区域连接的神经元个数。这部分神经元会在遇到输入中的不同feature时呈现activate状态，举个例子，如果这是第一个卷积层，那输入到它的数据实际上是像素值，不同的神经元可能对图像的边缘。轮廓或者颜色会敏感。</li>
<li>所谓步长/stride，是指的窗口从当前位置到下一个位置，『跳过』的中间数据个数。比如从图像数据层输入到卷积层的情况下，也许窗口初始位置在第1个像素，第二个位置在第5个像素，那么stride=5-1=4.</li>
<li>所谓zero-padding是在原始数据的周边补上0值的圈数。(下面第2张图中的样子)</li>
</ol>

<p>这么解释可能理解起来还是会有困难，我们找两张图来对应一下这三个量：</p>

<p></p><center> <br />
<img alt="卷积层" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fconv.png?imageView/2/w/250/q/100" title="" /> <br />
</center><p></p>

<p>这是解决ImageNet分类问题用到的卷积神经网络的一部分，我们看到卷积层直接和最前面的图像层连接。图像层的维度为[227*227*3]，而receptive field设为11*11，图上未标明，但是滑动窗口的步长stride设为4，深度depth为48+48=96(这是双GPU并行设置)，边缘没有补0，因此zero-padding为0，因此窗口滑完一行，总共停留次数为<strong>(data_len-receptive_field_len+2*zero-padding)/stride+1</strong>=(227-11+2*0)/4+1=55，因为图像的长宽相等，因此纵向窗口数也是55，最后得到的输出数据维度为55*55*96维。</p>

<p></p><center> <br />
<img alt="滑动窗口图" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fconv.gif" title="" /> <br />
</center><p></p>

<p>这是一张动态的卷积层计算图，图上的zero-padding为1，所以大家可以看到数据左右各补了一行0，窗口的长宽为3，滑动步长stride为2。</p>

<p><strong>关于zero-padding</strong>，补0这个操作产生的根本原因是，为了保证窗口的滑动能从头刚好到尾。举个例子说，上2图中的上面一幅图，因为<strong>(data_len-receptive_field_len+2*zero-padding)/stride</strong>刚好能够整除，所以窗口左侧贴着数据开始位置，滑到尾部刚好窗口右侧能够贴着数据尾部位置，因此是不需要补0的。而在下面那幅图中，如果滑动步长设为4，你会发现第一次计算之后，窗口就无法『滑动』了，而尾部的数据，是没有被窗口『看到过』的，因此补0能够解决这个问题。</p>

<p><strong>关于窗口滑动步长</strong>。大家可以发现一点，窗口滑动步长设定越小，两次滑动取得的数据，重叠部分越多，但是窗口停留的次数也会越多，运算律大一些；窗口滑动步长设定越长，两次滑动取得的数据，重叠部分越少，窗口停留次数也越少，运算量小，但是从一定程度上说数据信息不如上面丰富了。</p>



<h4 id="312-卷积层的参数共享">3.1.2 卷积层的参数共享</h4>

<p>首先得说卷积层的参数共享是一个非常赞的处理方式，它使得卷积神经网络的训练计算复杂度和参数个数降低非常非常多。就拿实际解决ImageNet分类问题的卷积神经网络结构来说，我们知道输出结果有55*55*96=290400个神经元，而每个神经元因为和窗口内数据的连接，有11*11*3=363个权重和1个偏移量。所以总共有290400*364=105705600个权重。。。然后。。。恩，训练要累挂了。。。</p>

<p>因此我们做了一个大胆的假设，我们刚才提到了，每一个神经元可以看做一个filter，对图片中的数据窗区域做『过滤』。那既然是filter，我们干脆就<strong>假设这个神经元用于连接数据窗的权重是固定的</strong>，这意味着，对同一个神经元而言，不论上一层数据窗口停留在哪个位置，连接两者之间的权重都是同一组数。那代表着，上面的例子中的卷积层，我们只需要 神经元个数*数据窗口维度=96*11*11*3=34848个权重。</p>

<p>如果对应每个神经元的权重是固定的，那么整个计算的过程就可以看做，一组固定的权重和不同的数据窗口数据做内积的过程，这在数学上刚好对应『卷积』操作，这也就是卷积神经网的名字来源。另外，因为每个神经元的权重固定，它可以看做一个恒定的filter，比如上面96个神经元作为filter可视化之后是如下的样子：</p>

<p></p><center> <br />
<img alt="神经元滤子可视化" src="http://cs231n.github.io/assets/cnn/weights.jpeg" title="" /> <br />
</center><p></p>

<p>需要说明的一点是，参数共享这个策略并不是每个场景下都合适的。有一些特定的场合，我们不能把图片上的这些窗口数据都视作作用等同的。一个很典型的例子就是人脸识别，一般人的面部都集中在图像的中央，因此我们希望，数据窗口滑过这块区域的时候，权重和其他边缘区域是不同的。我们有一种特殊的层对应这种功能，叫做<strong>局部连接层/Locally-Connected Layer</strong></p>



<h4 id="313-卷积层的简单numpy实现">3.1.3 卷积层的简单numpy实现</h4>

<p>我们假定输入到卷积层的数据为<code>X</code>，加入<code>X</code>的维度为<code>X.shape: (11,11,4)</code>。假定我们的zero-padding为0，也就是左右上下不补充0数据，数据窗口大小为5，窗口滑动步长为2。那输出数据的长宽应该为(11-5)/2+1=4。假定第一个神经元对应的权重和偏移量分别为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-11" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-12"><span class="msubsup" id="MathJax-Span-13"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-14" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-15" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-16" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-17"><span class="msubsup" id="MathJax-Span-18"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-19" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-20" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>，那我们就能算得，在第一行数据窗口停留的4个位置，得到的结果值分别为：</p>

<ul>
<li><code>V[0,0,0] = np.sum(X[:5,:5,:] * W0) + b0</code></li>
<li><code>V[1,0,0] = np.sum(X[2:7,:5,:] * W0) + b0</code></li>
<li><code>V[2,0,0] = np.sum(X[4:9,:5,:] * W0) + b0</code></li>
<li><code>V[3,0,0] = np.sum(X[6:11,:5,:] * W0) + b0</code></li>
</ul>

<p>注意上述计算过程中，<code>*</code>运算符是对两个向量进行点乘的，因此<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-21" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-22"><span class="msubsup" id="MathJax-Span-23"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-24" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-25" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>应该维度为(5,5,4)，同样你可以计算其他位置的计算输出值：</p>

<ul>
<li><code>V[0,0,1] = np.sum(X[:5,:5,:] * W1) + b1</code></li>
<li><code>V[1,0,1] = np.sum(X[2:7,:5,:] * W1) + b1</code></li>
<li><code>V[2,0,1] = np.sum(X[4:9,:5,:] * W1) + b1</code></li>
<li><code>V[3,0,1] = np.sum(X[6:11,:5,:] * W1) + b1</code></li>
<li>…</li>
</ul>

<p>每一个神经元对应不同的一组<code>W</code>和<code>b</code>，在每个数据窗口停留的位置，得到一个输出值。</p>

<p>我们之前提到了卷积层在做的事情，是不断做权重和窗口数据的点乘和求和。因此我们也可以把这个过程整理成一个大的矩阵乘法。</p>

<ol>
<li>看看数据端，我们可以做一个操作<strong>im2col</strong>将数据转成一个可直接供神经元filter计算的大矩阵。举个例子说，输入是[227*227*3]的图片，而神经元权重为[11*11*3]，同时窗口移动步长为4，那我们知道数据窗口滑动过程中总共产生[(227-11)/4+1]*[(227-11)/4+1]=55*55=3025个局部数据区域，又每个区域包含11*11*3=363个数据值，因此我们想办法把原始数据重复和扩充成一个[363*3025]的数据矩阵<code>X_col</code>，就可以直接和filter进行运算了。</li>
<li>对于filter端(卷积层)，假如厚度为96(有96个不同权重组的filter)，每个filter的权重为[11*11*3]，因此filter矩阵<code>W_row</code>维度为[96*363]</li>
<li>在得到上述两个矩阵后，我们的输出结果即可以通过<code>np.dot(W_row, X_col)</code>计算得到，结果数据为[96*3025]维的。</li>
</ol>

<p>这个实现的弊端是，因为数据窗口的滑动过程中有重叠，因此我们出现了很多重复数据，占用内存较大。好处是，实际计算过程非常简单，如果我们用类似BLAS这样的库，计算将非常迅速。</p>

<p>另外，在反向传播过程中，其实卷积对应的操作还是卷积，因此实现起来也很方便。</p>



<h3 id="32-pooling层">3.2 Pooling层</h3>

<p>简单说来，在卷积神经网络中，Pooling层是夹在连续的卷积层中间的层。它的作用也非常简单，就是**逐步地压缩/减少数据和参数的量，也在一定程度上减小过拟合的现象。**Pooling层做的操作也非常简单，就是将原数据上的区域压缩成一个值(区域最大值/MAX或者平均值/AVERAGE)，最常见的Pooling设定是，将原数据切成2*2的小块，每块里面取最大值作为输出，这样我们就自然而然减少了75%的数据量。需要提到的是，除掉MAX和AVERAGE的Pooling方式，其实我们也可以设定别的pooling方式，比如L2范数pooling。说起来，历史上average pooling用的非常多，但是近些年热度降了不少，工程师们在实践中发现max pooling的效果相对好一些。</p>

<p>一个对Pooling层和它的操作直观理解的示意图为： <br />
</p><center> <br />
<img alt="Pooling层" src="http://cs231n.github.io/assets/cnn/pool.jpeg" title="" /> <br />
<img alt="Pooling操作" src="http://cs231n.github.io/assets/cnn/maxpool.jpeg" title="" /> <br />
</center> <br />
上图为Pooling层的一个直观示例，相当于对厚度为64的data，每一个切片做了一个下采样。下图为Pooling操作的实际max操作。<p></p>

<p>Pooling层(假定是MAX-Pooling)在反向传播中的计算也是很简单的，大家都知道如何去求max(x,y)函数的偏导。</p>



<h3 id="33-归一化层normalization-layer">3.3 归一化层(Normalization Layer)</h3>

<p>卷积神经网络里面有时候会用到各种各样的归一化层，尤其是早期的研究，经常能见到它们的身影，不过近些年来的研究表明，似乎这个层级对最后结果的帮助非常小，所以后来大多数时候就干脆拿掉了。</p>



<h3 id="34-全连接层">3.4 全连接层</h3>

<p>这是我们在介绍神经网络的时候，最标准的形式，任何神经元和上一层的任何神经元之间都有关联，然后矩阵运算也非常简单和直接。现在的很多卷积神经网络结构，末层会采用全连接去学习更多的信息。</p>



<h2 id="4-搭建卷积神经网结构">4. 搭建卷积神经网结构</h2>

<p>从上面的内容我们知道，卷积神经网络一般由3种层搭建而成：卷积层，POOLing层(我们直接指定用MAX-Pooling)和全连接层。然后我们一般选用最常见的神经元ReLU，我们来看看有这些『组件』之后，怎么『拼』出一个合理的卷积神经网。</p>



<h3 id="41-层和层怎么排">4.1 层和层怎么排</h3>

<p>最常见的组合方式是，用ReLU神经元的卷积层组一个神经网络，同时在卷积层和卷积层之间插入Pooling层，经过多次的[卷积层]=&gt;[Pooling层]叠加之后，数据的总体量级就不大了，这个时候我们可以放一层全连接层，然后最后一层和output层之间是一个全连接层。所以总结一下，最常见的卷积神经网结构为：</p>

<p>[输入层] =&gt; [[ReLU卷积层]*N =&gt; [Pooling层]?]*M =&gt; [ReLU全连接层]*K =&gt; [全连接层]</p>

<p>解释一下，其中<code>\*</code>操作代表可以叠加很多层，而<code>[Pooling层]?</code>表示Pooling层其实是可选的，可有可无。<code>N</code>和<code>M</code>是具体层数。比如说<code>[输入层] -&gt; [[ReLU卷积层]=&gt;[ReLU卷积层]=&gt;[Pooling层]]*3 -&gt; [ReLU全连接层]*2 -&gt; [全连接层]</code>就是一个合理的深层的卷积神经网。</p>

<p><strong>『在同样的视野范围内，选择多层叠加的卷积层，而不是一个大的卷积层』</strong></p>

<p>这句话非常拗口，但这是实际设计卷积神经网络时候的经验，我们找个例子来解释一下这句话：如果你设计的卷积神经网在数据层有3层连续的卷积层，同时每一层滑动数据窗口为3*3，第一层每个神经元可以同时『看到』3*3的原始数据层，那第二层每个神经元可以『间接看到』(1+3+1)*(1+3+1)=5*5的数据层内容，第三层每个神经元可以『间接看到』(1+5+1)*(1+5+1)=7*7的数据层内容。那从最表层看，还不如直接设定滑动数据窗口为7*7的，为啥要这么设计呢，我们来分析一下优劣：</p>

<ul>
<li>虽然第三层对数据层的『视野』范围是一致的。但是单层卷积层加7*7的上层滑动数据窗口，结果是这7个位置的数据，都是线性组合后得到最后结果的；而3层卷积层加3*3的滑动数据窗口，得到的结果是原数据上7*7的『视野』内数据多层非线性组合，因此这样的特征也会具备更高的表达能力。</li>
<li>如果我们假设所有层的<code>『厚度』/channel</code>数是一致的，为C，那7*7的卷积层，会得到<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-26" style="width: 12.536em; display: inline-block;"><span style="display: inline-block; width: 10.029em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-27"><span class="mi" id="MathJax-Span-28" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-29" style="font-family: STIXGeneral-Regular;">×</span><span class="mo" id="MathJax-Span-30" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-31" style="font-family: STIXGeneral-Regular;">7</span><span class="mo" id="MathJax-Span-32" style="font-family: STIXGeneral-Regular;">×</span><span class="mn" id="MathJax-Span-33" style="font-family: STIXGeneral-Regular;">7</span><span class="mo" id="MathJax-Span-34" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-35" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-36" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-37" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">49</span><span class="msubsup" id="MathJax-Span-39"><span style="display: inline-block; width: 1.176em; height: 0px;"><span><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-41" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>个参数，而3层叠加的3*3卷积层只有<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-42" style="width: 15.469em; display: inline-block;"><span style="display: inline-block; width: 12.376em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-43"><span class="mn" id="MathJax-Span-44" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-45" style="font-family: STIXGeneral-Regular;">×</span><span class="mo" id="MathJax-Span-46" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-47" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-48" style="font-family: STIXGeneral-Regular;">×</span><span class="mo" id="MathJax-Span-49" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-50" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-51" style="font-family: STIXGeneral-Regular;">×</span><span class="mn" id="MathJax-Span-52" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-53" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-55" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-56" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-58" style="font-family: STIXGeneral-Regular;">27</span><span class="msubsup" id="MathJax-Span-59"><span style="display: inline-block; width: 1.176em; height: 0px;"><span><span class="mi" id="MathJax-Span-60" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-61" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>个参数。在计算量上后者显然是有优势的。</li>
<li>同上一点，我们知道为了反向传播方便，实际计算过程中，我们会在前向计算时保留很多中间梯度，3层叠加的3*3卷积层需要保持的中间梯度要小于前一种情况，这在工程实现上是很有好处的。</li>
</ul>



<h3 id="42-层大小的设定">4.2 层大小的设定</h3>

<p>话说层级结构确定了，也得知道每一层大概什么规模啊。现在我们就来聊聊这个。说起来，每一层的大小(神经元个数和排布)并没有严格的数字规则，但是我们有一些通用的工程实践经验和系数：</p>

<ul>
<li>对于输入层(图像层)，我们一般把数据归一化成2的次方的长宽像素值。比如CIFAR-10是32*32*3，STL-10数据集是64*64*3，而ImageNet是224*224*3或者512*512*3。</li>
<li>卷积层通常会把每个[滤子/filter/神经元]对应的上层滑动数据窗口设为3*3或者5*5，滑动步长stride设为1(工程实践结果表明stride设为1虽然比较密集，但是效果比较好，步长拉太大容易损失太多信息)，zero-padding就不用了。</li>
<li>Pooling层一般采用max-pooling，同时设定采样窗口为2*2。偶尔会见到设定更大的采样窗口，但是那意味着损失掉比较多的信息了。</li>
<li>比较重要的是，我们得预估一下内存，然后根据内存的情况去设定合理的值。我们举个例子，在ImageNet分类问题中，图片是224*224*3的，我们跟在数据层后面3个3*3『视野窗』的卷积层，每一层64个filter/神经元,把padding设为1，那么最后每个卷积层的output都是[224*224*64]，大概需要1000万次对output的激励计算(非线性activation)，大概花费72MB内存。而工程实践里，一般训练都在GPU上进行，GPU的内存比CPU要吃紧的多，所以也许我们要稍微调动一下参数。比如AlexNet用的是11*11的的视野窗，滑动步长为4。</li>
</ul>



<h3 id="43-典型的工业界在用卷积神经网络">4.3 典型的工业界在用卷积神经网络</h3>

<p>几个有名的卷积神经网络如下：</p>

<ul>
<li><strong>LeNet</strong>，这是最早用起来的卷积神经网络，Yann LeCun在论文<a href="http://yann.lecun.com/exdb/publis/pdf/lecun-98.pdf">LeNet</a>提到。</li>
<li><strong>AlexNet</strong>，2012 ILSVRC比赛远超第2名的卷积神经网络，和LeNet的结构比较像，只是更深，同时用多层小卷积层叠加提到大卷积层。</li>
<li><strong>ZF Net</strong>，2013 ILSVRC比赛冠军，可以参考论文<a href="http://arxiv.org/abs/1311.2901">ZF Net</a></li>
<li><strong>GoogLeNet</strong>，2014 ILSVRC比赛冠军，Google发表的论文<a href="http://arxiv.org/pdf/1409.4842v1.pdf">Going Deeper with Convolutions</a>有具体介绍。</li>
<li><strong>VGGNet</strong>，也是2014 ILSVRC比赛中的模型，有意思的是，即使这个模型当时在分类问题上的效果，略差于google的GoogLeNet，但是在很多图像转化学习问题(比如object detection)上效果奇好，它也证明卷积神经网的『深度』对于最后的效果有至关重要的作用。预训练好的模型在<a href="http://www.robots.ox.ac.uk/~vgg/research/very_deep/">pretrained model site</a>可以下载。</li>
</ul>

<p>具体一点说来，<a href="http://www.robots.ox.ac.uk/~vgg/research/very_deep/">VGGNet</a>的层级结构和花费的内存如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">INPUT: [<span class="hljs-number">224</span>x224x3]        memory:  <span class="hljs-number">224</span>*<span class="hljs-number">224</span>*<span class="hljs-number">3</span>=<span class="hljs-number">150</span>K   weights: <span class="hljs-number">0</span>
CONV3-<span class="hljs-number">64</span>: [<span class="hljs-number">224</span>x224x64]  memory:  <span class="hljs-number">224</span>*<span class="hljs-number">224</span>*<span class="hljs-number">64</span>=<span class="hljs-number">3.2</span>M   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">3</span>)*<span class="hljs-number">64</span> = <span class="hljs-number">1</span>,<span class="hljs-number">728</span>
CONV3-<span class="hljs-number">64</span>: [<span class="hljs-number">224</span>x224x64]  memory:  <span class="hljs-number">224</span>*<span class="hljs-number">224</span>*<span class="hljs-number">64</span>=<span class="hljs-number">3.2</span>M   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">64</span>)*<span class="hljs-number">64</span> = <span class="hljs-number">36</span>,<span class="hljs-number">864</span>
POOL2: [<span class="hljs-number">112</span>x112x64]  memory:  <span class="hljs-number">112</span>*<span class="hljs-number">112</span>*<span class="hljs-number">64</span>=<span class="hljs-number">800</span>K   weights: <span class="hljs-number">0</span>
CONV3-<span class="hljs-number">128</span>: [<span class="hljs-number">112</span>x112x128]  memory:  <span class="hljs-number">112</span>*<span class="hljs-number">112</span>*<span class="hljs-number">128</span>=<span class="hljs-number">1.6</span>M   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">64</span>)*<span class="hljs-number">128</span> = <span class="hljs-number">73</span>,<span class="hljs-number">728</span>
CONV3-<span class="hljs-number">128</span>: [<span class="hljs-number">112</span>x112x128]  memory:  <span class="hljs-number">112</span>*<span class="hljs-number">112</span>*<span class="hljs-number">128</span>=<span class="hljs-number">1.6</span>M   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">128</span>)*<span class="hljs-number">128</span> = <span class="hljs-number">147</span>,<span class="hljs-number">456</span>
POOL2: [<span class="hljs-number">56</span>x56x128]  memory:  <span class="hljs-number">56</span>*<span class="hljs-number">56</span>*<span class="hljs-number">128</span>=<span class="hljs-number">400</span>K   weights: <span class="hljs-number">0</span>
CONV3-<span class="hljs-number">256</span>: [<span class="hljs-number">56</span>x56x256]  memory:  <span class="hljs-number">56</span>*<span class="hljs-number">56</span>*<span class="hljs-number">256</span>=<span class="hljs-number">800</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">128</span>)*<span class="hljs-number">256</span> = <span class="hljs-number">294</span>,<span class="hljs-number">912</span>
CONV3-<span class="hljs-number">256</span>: [<span class="hljs-number">56</span>x56x256]  memory:  <span class="hljs-number">56</span>*<span class="hljs-number">56</span>*<span class="hljs-number">256</span>=<span class="hljs-number">800</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">256</span>)*<span class="hljs-number">256</span> = <span class="hljs-number">589</span>,<span class="hljs-number">824</span>
CONV3-<span class="hljs-number">256</span>: [<span class="hljs-number">56</span>x56x256]  memory:  <span class="hljs-number">56</span>*<span class="hljs-number">56</span>*<span class="hljs-number">256</span>=<span class="hljs-number">800</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">256</span>)*<span class="hljs-number">256</span> = <span class="hljs-number">589</span>,<span class="hljs-number">824</span>
POOL2: [<span class="hljs-number">28</span>x28x256]  memory:  <span class="hljs-number">28</span>*<span class="hljs-number">28</span>*<span class="hljs-number">256</span>=<span class="hljs-number">200</span>K   weights: <span class="hljs-number">0</span>
CONV3-<span class="hljs-number">512</span>: [<span class="hljs-number">28</span>x28x512]  memory:  <span class="hljs-number">28</span>*<span class="hljs-number">28</span>*<span class="hljs-number">512</span>=<span class="hljs-number">400</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">256</span>)*<span class="hljs-number">512</span> = <span class="hljs-number">1</span>,<span class="hljs-number">179</span>,<span class="hljs-number">648</span>
CONV3-<span class="hljs-number">512</span>: [<span class="hljs-number">28</span>x28x512]  memory:  <span class="hljs-number">28</span>*<span class="hljs-number">28</span>*<span class="hljs-number">512</span>=<span class="hljs-number">400</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">512</span>)*<span class="hljs-number">512</span> = <span class="hljs-number">2</span>,<span class="hljs-number">359</span>,<span class="hljs-number">296</span>
CONV3-<span class="hljs-number">512</span>: [<span class="hljs-number">28</span>x28x512]  memory:  <span class="hljs-number">28</span>*<span class="hljs-number">28</span>*<span class="hljs-number">512</span>=<span class="hljs-number">400</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">512</span>)*<span class="hljs-number">512</span> = <span class="hljs-number">2</span>,<span class="hljs-number">359</span>,<span class="hljs-number">296</span>
POOL2: [<span class="hljs-number">14</span>x14x512]  memory:  <span class="hljs-number">14</span>*<span class="hljs-number">14</span>*<span class="hljs-number">512</span>=<span class="hljs-number">100</span>K   weights: <span class="hljs-number">0</span>
CONV3-<span class="hljs-number">512</span>: [<span class="hljs-number">14</span>x14x512]  memory:  <span class="hljs-number">14</span>*<span class="hljs-number">14</span>*<span class="hljs-number">512</span>=<span class="hljs-number">100</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">512</span>)*<span class="hljs-number">512</span> = <span class="hljs-number">2</span>,<span class="hljs-number">359</span>,<span class="hljs-number">296</span>
CONV3-<span class="hljs-number">512</span>: [<span class="hljs-number">14</span>x14x512]  memory:  <span class="hljs-number">14</span>*<span class="hljs-number">14</span>*<span class="hljs-number">512</span>=<span class="hljs-number">100</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">512</span>)*<span class="hljs-number">512</span> = <span class="hljs-number">2</span>,<span class="hljs-number">359</span>,<span class="hljs-number">296</span>
CONV3-<span class="hljs-number">512</span>: [<span class="hljs-number">14</span>x14x512]  memory:  <span class="hljs-number">14</span>*<span class="hljs-number">14</span>*<span class="hljs-number">512</span>=<span class="hljs-number">100</span>K   weights: (<span class="hljs-number">3</span>*<span class="hljs-number">3</span>*<span class="hljs-number">512</span>)*<span class="hljs-number">512</span> = <span class="hljs-number">2</span>,<span class="hljs-number">359</span>,<span class="hljs-number">296</span>
POOL2: [<span class="hljs-number">7</span>x7x512]  memory:  <span class="hljs-number">7</span>*<span class="hljs-number">7</span>*<span class="hljs-number">512</span>=<span class="hljs-number">25</span>K  weights: <span class="hljs-number">0</span>
FC: [<span class="hljs-number">1</span>x1x4096]  memory:  <span class="hljs-number">4096</span>  weights: <span class="hljs-number">7</span>*<span class="hljs-number">7</span>*<span class="hljs-number">512</span>*<span class="hljs-number">4096</span> = <span class="hljs-number">102</span>,<span class="hljs-number">760</span>,<span class="hljs-number">448</span>
FC: [<span class="hljs-number">1</span>x1x4096]  memory:  <span class="hljs-number">4096</span>  weights: <span class="hljs-number">4096</span>*<span class="hljs-number">4096</span> = <span class="hljs-number">16</span>,<span class="hljs-number">777</span>,<span class="hljs-number">216</span>
FC: [<span class="hljs-number">1</span>x1x1000]  memory:  <span class="hljs-number">1000</span> weights: <span class="hljs-number">4096</span>*<span class="hljs-number">1000</span> = <span class="hljs-number">4</span>,<span class="hljs-number">096</span>,<span class="hljs-number">000</span>

TOTAL memory: <span class="hljs-number">24</span>M * <span class="hljs-number">4</span> bytes ~= <span class="hljs-number">93</span>MB / image (only forward! ~*<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> bwd)
TOTAL params: <span class="hljs-number">138</span>M parameters</code></pre>

<p>有意思的是，大家会注意到，在VGGNet这样一个神经网络里，大多数的内存消耗在前面的卷积层，而大多数需要训练的参数却集中在最后的全连接层，比如上上面的例子里，全连接层有1亿权重参数，总共神经网里也就1.4亿权重参数。</p>



<h3 id="44-考虑点">4.4 考虑点</h3>

<p>组一个实际可用的卷积神经网络最大的瓶颈是GPU的内存。毕竟现在很多GPU只有3/4/6GB的内存，最大的GPU也就12G内存，所以我们应该在设计卷积神经网的时候多加考虑：</p>

<ul>
<li>很大的一部分内存开销来源于卷积层的激励函数个数和保存的梯度数量。</li>
<li>保存的权重参数也是内存的主要消耗处，包括反向传播要用到的梯度，以及你用momentum, Adagrad, or RMSProp这些算法时候的中间存储值。</li>
<li>数据batch以及其他的类似版本信息或者来源信息等也会消耗一部分内存。</li>
</ul>



<h2 id="5-更多的卷积神经网络参考资料">5. 更多的卷积神经网络参考资料</h2>

<ul>
<li><a href="http://deeplearning.net/tutorial/lenet.html">DeepLearning.net tutorial</a>是一个用Theano完整实现卷积神经网的教程。</li>
<li><a href="https://code.google.com/p/cuda-convnet2/">cuda-convnet2</a>是多GPU并行化的实现。</li>
<li><a href="http://cs.stanford.edu/people/karpathy/convnetjs/demo/cifar10.html">ConvNetJS CIFAR-10 demo</a>允许你手动设定参数，然后直接在浏览器看卷积神经网络的结果。</li>
<li><a href="http://caffe.berkeleyvision.org/">Caffe</a>，主流卷积神经网络开源库之一。</li>
<li><a href="https://github.com/nagadomi/kaggle-cifar10-torch7">Example Torch 7 ConvNet</a>，在CIFAR-10上错误率只有7%的卷积神经网络实现。</li>
<li><a href="https://www.kaggle.com/c/cifar-10/forums/t/10493/train-you-very-own-deep-convolutional-network/56310">Ben Graham’s Sparse ConvNet</a>，CIFAR-10上错误率只有4%的实现。</li>
<li><a href="http://deepsense.io/deep-learning-right-whale-recognition-kaggle/?from=singlemessage&amp;isappinstalled=0#rd">Face recognition for right whales using deep learning</a>，Kaggle看图识别濒临灭绝右鲸比赛的冠军队伍卷积神经网络。</li>
</ul>
            <div>
                作者：yaoqiang2011 发表于2016/1/19 19:27:09 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50542880">原文链接</a>
            </div>
            <div>
            阅读：14628 评论：6 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50542880#comments" target="_blank">查看评论</a>
            </div>
[原]深度学习与计算机视觉系列(6)_神经网络结构与神经元激励函数
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a>  <br />
时间：2016年1月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50447834">http://blog.csdn.net/han_xiaoyang/article/details/50447834</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1神经元与含义">1.神经元与含义</h2>

<p>大家都知道最开始深度学习与神经网络，是受人脑的神经元启发设计出来的。所以我们按照惯例也交代一下背景，从生物学的角度开始介绍，当然也是对神经网络研究的先驱们致一下敬。</p>



<h3 id="11-神经元激励与连接">1.1 神经元激励与连接</h3>

<p>大家都知道，人脑的基本计算单元叫做神经元。现代生物学表明，人的神经系统中大概有860亿神经元，而这数量巨大的神经元之间大约是通过<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 6.083em; display: inline-block;"><span style="display: inline-block; width: 4.856em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="msubsup" id="MathJax-Span-3"><span style="display: inline-block; width: 1.816em; height: 0px;"><span><span class="mn" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">10</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-5"><span class="mrow" id="MathJax-Span-6"><span class="mn" id="MathJax-Span-7" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">14</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-9"><span style="display: inline-block; width: 1.816em; height: 0px;"><span><span class="mn" id="MathJax-Span-10" style="font-family: STIXGeneral-Regular;">10</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-11"><span class="mrow" id="MathJax-Span-12"><span class="mn" id="MathJax-Span-13" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">15</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>个突触连接起来的。下面有一幅示意图，粗略地描绘了一下人体神经元与我们简化过后的数学模型。每个神经元都从树突接受信号，同时顺着某个轴突传递信号。而每个神经元都有很多轴突和其他的神经元树突连接。而我们可以看到右边简化的神经元计算模型中，<code>信号</code>也是顺着<code>轴突</code>(比如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-14" style="width: 1.229em; display: inline-block;"><span style="display: inline-block; width: 0.963em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-15"><span class="msubsup" id="MathJax-Span-16"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-17" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-18" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>)传递，然后在轴突处受到激励(<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-19" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-20"><span class="msubsup" id="MathJax-Span-21"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-22" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-23" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>倍)然后变成<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-24" style="width: 2.616em; display: inline-block;"><span style="display: inline-block; width: 2.083em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-25"><span class="msubsup" id="MathJax-Span-26"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-27" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-28" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-29"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-30" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-31" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。我们可以这么理解这个模型：在信号的传导过程中，<strong>突触可以控制传导到下一个神经元的信号强弱(数学模型中的权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-32" style="width: 0.881em; display: inline-block;"><span style="display: inline-block; width: 0.674em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-33"><span class="mi" id="MathJax-Span-34" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>)，而这种强弱是可以学习到的</strong>。在基本生物模型中，树突传导信号到神经元细胞，然后这些信号被加和在一块儿了，如果加和的结果被神经元感知超过了某种阈值，那么神经元就被激活，同时沿着轴突向下一个神经元传导信号。在我们简化的数学计算模型中，<strong>我们假定有一个『激励函数』来控制加和的结果对神经元的刺激程度，从而控制着是否激活神经元和向后传导信号</strong>。比如说，我们在逻辑回归中用到的sigmoid函数就是一种激励函数，因为对于求和的结果输入，sigmoid函数总会输出一个0-1之间的值，我们可以认为这个值表明信号的强度、或者神经元被激活和传导信号的概率。</p>

<p><img alt="神经元生物学模型" src="http://cs231n.github.io/assets/nn1/neuron.png" title="" /> <br />
<img alt="神经元数学模型" src="http://cs231n.github.io/assets/nn1/neuron_model.jpeg" title="" /></p>

<p>下面是一个简单的程序例子，表明前向传播中单个神经元做的事情：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Neuron</span>:</span>
  <span class="hljs-comment"># ... </span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">forward</span><span class="hljs-params">(inputs)</span>:</span>
    <span class="hljs-string">""" 
    假定输入和权重都是1维的numpy数组，同时bias是一个数 
    """</span>
    cell_body_sum = np.sum(inputs * self.weights) + self.bias
    firing_rate = <span class="hljs-number">1.0</span> / (<span class="hljs-number">1.0</span> + math.exp(-cell_body_sum)) <span class="hljs-comment"># sigmoid activation function</span>
    <span class="hljs-keyword">return</span> firing_rate</code></pre>

<p>稍加解释，每个神经元对于输入和权重做内积，加上偏移量bias，然后通过激励函数(比如说这里是sigmoid函数)，然后输出结果。</p>

<p><strong>特别说明</strong>：实际生物体内的神经元相当复杂，比如说，神经元的种类就灰常灰常多，它们分别有不同的功能。而加和信号之后的激励函数的非线性变换，也比数学上模拟出来的函数复杂得多。我们用数学建模的神经网络只是一个非常简化后的模型，有兴趣的话你可以阅读<a href="https://physics.ucsd.edu/neurophysics/courses/physics_171/annurev.neuro.28.061604.135703.pdf">材料1</a>或者<a href="http://www.sciencedirect.com/science/article/pii/S0959438814000130">材料2</a>。</p>



<h3 id="12-单个神经元的分类作用">1.2 单个神经元的分类作用</h3>

<p>以sigmoid函数作为神经元的激励函数为例，这个大家可能稍微熟悉一点，毕竟我们<a href="http://blog.csdn.net/han_xiaoyang/article/details/49123419">逻辑回归部分</a>重点提到了这个非线性的函数，把输入值压缩成0-1之间的一个概率值。而通过这个非线性映射和设定的阈值，我们可以把空间切分开，分别对应正样本区域和负样本区域。而对应回现在的神经元场景，我们如果稍加拟人化，可以认为神经元具备了<strong>喜欢</strong>(概率接近1)和<strong>不喜欢</strong>(概率接近0)线性划分的某个空间区域的能力。这也就是说，只要调整好权重，单个神经元可以对空间做线性分割。</p>

<p><strong>二值Softmax分类器</strong> <br />
对于Softmax分类器详细的内容欢迎参见<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">前面的博文系列</a>，我们标记<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-35" style="width: 0.749em; display: inline-block;"><span style="display: inline-block; width: 0.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-36"><span class="mi" id="MathJax-Span-37" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>为sigmoid映射函数，则<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-38" style="width: 7.683em; display: inline-block;"><span style="display: inline-block; width: 6.136em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-39"><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-41" style="font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-42"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mo" id="MathJax-Span-43" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-44" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-45"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-46" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-47" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-48"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-49" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-50" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-51" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-52" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-53" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>可视作<strong>二分类问题</strong>中属于某个类的概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-54" style="width: 8.376em; display: inline-block;"><span style="display: inline-block; width: 6.669em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-55"><span class="mi" id="MathJax-Span-56" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-58"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-59" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-60" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-61" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-62" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-63" style="font-family: STIXGeneral-Regular;">∣</span><span class="msubsup" id="MathJax-Span-64"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-65" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-66" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-67" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-68" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-69" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，当然，这样我们也可以得到相反的那个类别的概率为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-70" style="width: 20.483em; display: inline-block;"><span style="display: inline-block; width: 16.376em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-71"><span class="mi" id="MathJax-Span-72" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-73" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-74"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-75" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-76" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-77" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-79" style="font-family: STIXGeneral-Regular;">∣</span><span class="msubsup" id="MathJax-Span-80"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-81" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-82" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-83" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-85" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-86" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-87" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-88" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-89" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-90" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-91"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-92" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-93" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-94" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-95" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-96" style="font-family: STIXGeneral-Regular;">∣</span><span class="msubsup" id="MathJax-Span-97"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-98" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-99" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-100" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-101" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-102" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。根据前面博文提到的知识，我们可以使用互熵损失作为这个二值线性分类器的损失函数(loss function)，而最优化损失函数得到的一组参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-103" style="width: 2.349em; display: inline-block;"><span style="display: inline-block; width: 1.869em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-104"><span class="mi" id="MathJax-Span-105" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-106" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-107" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，就能帮助我们将空间线性分割，得到二值分类器。当然，和逻辑回归中看到的一样，最后神经元预测的结果y值如果大于0.5，那我们会判定它属于这个类别，反之则属于另外一个类别。</p>

<p><strong>二值SVM分类器</strong> <br />
同样的，我们可以设定max-margin hinge loss作为损失函数，从而将神经元训练成一个二值支持向量机分类器。详细的内容依旧欢迎大家查看<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">之前的博客</a>。</p>

<p><strong>对于正则化的解释</strong> <br />
对于正则化的损失函数(不管是SVM还是Softmax)，其实我们在神经元的生物特性上都能找到对应的解释，我们可以将其(正则化项的作用)视作信号在神经元传递过程中的逐步淡化/衰减(gradual forgetting)，因为正则化项的作用是在每次迭代过程中，控制住权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-108" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-109"><span class="mi" id="MathJax-Span-110" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的幅度，往0上靠拢。</p>

<blockquote>
  <p>单个神经元的作用，可视作完成一个二分类的分类器(比如Softmax或者SVM分类器)</p>
</blockquote>



<h3 id="13-常用激励函数">1.3 常用激励函数</h3>

<p>每一次输入和权重w线性组合之后，都会通过一个激励函数(也可以叫做非线性激励函数)，经非线性变换后输出。实际的神经网络中有一些可选的激励函数，我们一一说明一下最常见的几种：</p>



<h4 id="131-sigmoid">1.3.1 sigmoid</h4>

<p></p><center> <br />
<img alt="sigmoid图像" src="http://cs231n.github.io/assets/nn1/sigmoid.jpeg" title="" /> <br />
</center> <br />
sigmoid函数提到的次数太多，相信大家都知道了。数学形式很简单，是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-111" style="width: 9.443em; display: inline-block;"><span style="display: inline-block; width: 7.523em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-114" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-115" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-116" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-117" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-118" style="font-family: STIXGeneral-Regular;">1</span><span class="texatom" id="MathJax-Span-119"><span class="mrow" id="MathJax-Span-120"><span class="mo" id="MathJax-Span-121" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mo" id="MathJax-Span-122" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-123" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-124" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-125"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-126" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mo" id="MathJax-Span-129" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-130" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-131" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，图像如上图所示，功能是把一个实数压缩至0到1之间。输入的数字非常大的时候，结果会接近1，而非常大的负数作为输入，则会得到接近0的结果。不得不说，早期的神经网络中，sigmoid函数作为激励函数使用非常之多，因为大家觉得它很好地解释了神经元受到刺激后是否被激活和向后传递的场景(从几乎没有被激活，也就是0，到完全被激活，也就是1)。不过似乎近几年的实际应用场景中，比较少见到它的身影，它主要的缺点有2个：<p></p>

<ul>
<li>sigmoid函数在实际梯度下降中，容易<strong>饱和</strong>和<strong>终止梯度传递</strong>。我们来解释一下，大家知道反向传播过程，依赖于计算的梯度，在一元函数中，即斜率。而在sigmoid函数图像上，大家可以很明显看到，在纵坐标接近0和1的那些位置(也就是输入信号的幅度很大的时候)，斜率都趋于0了。我们回想一下反向传播的过程，我们最后用于迭代的梯度，是由中间这些梯度值结果相乘得到的，因此如果中间的局部梯度值非常小，直接会把最终梯度结果拉近0，也就是说，残差回传的过程，因为sigmoid函数的<strong>饱和</strong>被<strong>杀死了</strong>。说个极端的情况，如果一开始初始化权重的时候，我们取值不是很恰当，而激励函数又全用的sigmoid函数，那么很有可能神经元一个不剩地<strong>饱和</strong>到<strong>无法学习</strong>，整个神经网络也根本没办法训练起来。</li>
<li>sigmoid函数的输出没有<code>0中心化</code>，这是一个比较闹心的事情，因为每一层的输出都要作为下一层的输入，而未0中心化会直接影响梯度下降，我们这么举个例子吧，如果输出的结果均值不为0，举个极端的例子，全部为正的话(例如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-132" style="width: 6.509em; display: inline-block;"><span style="display: inline-block; width: 5.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-133"><span class="mi" id="MathJax-Span-134" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-135" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-136"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-137" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-138" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-139" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-140" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-141" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>中所有<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-142" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; width: 2.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-143"><span class="mi" id="MathJax-Span-144" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-145" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mn" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>)，那么反向传播回传到<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-147" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-148"><span class="mi" id="MathJax-Span-149" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>上的梯度将全部为负，这带来的后果是，梯度更新的时候，不是平缓地迭代变化，而是类似锯齿状的突变。当然，要多说一句的是，这个缺点相对于第一个缺点，还稍微好一点，第一个缺点的后果是，很多场景下，神经网络根本没办法学习。</li>
</ul>



<h4 id="132-tanh">1.3.2 Tanh</h4>

<p></p><center> <br />
<img alt="Tanh函数" src="http://cs231n.github.io/assets/nn1/tanh.jpeg" title="" /> <br />
</center> <br />
Tanh函数的图像如上图所示。它会将输入值压缩至-1到1之间，当然，它同样也有sigmoid函数里说到的第一个缺点，在很大或者很小的输入值下，神经元很容易饱和。但是它缓解了第二个缺点，它的输出是0中心化的。所以在实际应用中，tanh激励函数还是比sigmoid要用的多一些的。<p></p>



<h4 id="133-relu">1.3.3 ReLU</h4>

<p></p><center> <br />
<img alt="ReLU函数图像" src="http://cs231n.github.io/assets/nn1/relu.jpeg" title="" /> <br />
</center> <br />
ReLU是修正线性单元(The Rectified Linear Unit)的简称，近些年使用的非常多，图像如上图所示。它对于输入x计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-150" style="width: 8.376em; display: inline-block;"><span style="display: inline-block; width: 6.669em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-151"><span class="mi" id="MathJax-Span-152" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-153" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-154" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-155" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-156" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-157" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-159" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-160" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-161" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-162" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-163" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-164" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。换言之，以0为分界线，左侧都为0，右侧是y=x这条直线。<p></p>

<p>它有它对应的优势，也有缺点：</p>

<ul>
<li>优点1：实验表明，它的使用，相对于sigmoid和tanh，可以非常大程度地提升随机梯度下降的收敛速度。不过有意思的是，很多人说，这个结果的原因是它是线性的，而不像sigmoid和tanh一样是非线性的。具体的收敛速度结果对比如下图，收敛速度大概能快上6倍： <br />
<center> <br />
<img alt="ReLU与收敛速度" src="http://cs231n.github.io/assets/nn1/alexplot.jpeg" title="" /> <br />
</center></li>
<li>优点2：相对于tanh和sigmoid激励神经元，求梯度不要简单太多好么！！！毕竟，是线性的嘛。。。</li>
<li>缺点1：ReLU单元也有它的缺点，在训练过程中，它其实挺脆弱的，有时候甚至会<strong>挂掉</strong>。举个例子说吧，如果一个很大的梯度<code>流经</code>ReLU单元，那权重的更新结果可能是，在此之后任何的数据点都没有办法再激活它了。一旦这种情况发生，那本应经这个ReLU回传的梯度，将永远变为0。当然，这和参数设置有关系，所以我们要特别小心，再举个实际的例子哈，如果学习速率被设的太高，结果你会发现，训练的过程中可能有高达40%的ReLU单元都挂掉了。所以我们要小心设定初始的学习率等参数，在一定程度上控制这个问题。</li>
</ul>



<h4 id="134-leaky-relu">1.3.4 Leaky ReLU</h4>

<p>上面不是提到ReLU单元的弱点了嘛，所以孜孜不倦的ML researcher们，就尝试修复这个问题咯，他们做了这么一件事，在x&lt;0的部分，leaky ReLU不再让y的取值为0了，而是也设定为一个坡度很小(比如斜率0.01)的直线。f(x)因此是一个分段函数，x&lt;0时，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-165" style="width: 4.909em; display: inline-block;"><span style="display: inline-block; width: 3.896em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-166"><span class="mi" id="MathJax-Span-167" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-168" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-169" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-170" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-171" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-172" style="font-family: STIXGeneral-Italic;">α</span><span class="mi" id="MathJax-Span-173" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>(<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-174" style="width: 0.749em; display: inline-block;"><span style="display: inline-block; width: 0.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-175"><span class="mi" id="MathJax-Span-176" style="font-family: STIXGeneral-Italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是一个很小的常数)，x&gt;0时，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-177" style="width: 4.216em; display: inline-block;"><span style="display: inline-block; width: 3.363em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-178"><span class="mi" id="MathJax-Span-179" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-180" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-181" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-182" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-184" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。有一些researcher们说这样一个形式的激励函数帮助他们取得更好的效果，不过似乎并不是每次都比ReLU有优势。</p>



<h4 id="135-maxout">1.3.5 Maxout</h4>

<p>也有一些其他的激励函数，它们并不是对<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-185" style="width: 4.963em; display: inline-block;"><span style="display: inline-block; width: 3.949em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-186"><span class="msubsup" id="MathJax-Span-187"><span style="display: inline-block; width: 1.549em; height: 0px;"><span><span class="mi" id="MathJax-Span-188" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-189" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-190" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-191" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-192" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>做非线性映射<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-193" style="width: 6.349em; display: inline-block;"><span style="display: inline-block; width: 5.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-194"><span class="mi" id="MathJax-Span-195" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-196" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-197"><span style="display: inline-block; width: 1.549em; height: 0px;"><span><span class="mi" id="MathJax-Span-198" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-199" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-200" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-201" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-202" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。一个近些年非常popular的激励函数是Maxout(详细内容请参见<a href="http://www-etud.iro.umontreal.ca/~goodfeli/maxout.html">Maxout</a>)。简单说来，它是ReLU和Leaky ReLU的一个泛化版本。对于输入x，Maxout神经元计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-204" style="width: 13.229em; display: inline-block;"><span style="display: inline-block; width: 10.563em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-205"><span class="mo" id="MathJax-Span-206" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-208"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-209" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-210" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-211" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-212" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-213" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-214"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-215" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-216" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-217" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-218"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-219" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-220" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-221" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-222" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-223" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-224"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-225" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-226" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-227" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。有意思的是，如果你仔细观察，你会发现ReLU和Leaky ReLU都是它的一个特殊形式(比如ReLU，你只需要把<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-228" style="width: 3.203em; display: inline-block;"><span style="display: inline-block; width: 2.563em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-229"><span class="msubsup" id="MathJax-Span-230"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-231" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-232" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-233" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-234"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-235" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-236" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>设为0)。因此Maxout神经元继承了ReLU单元的优点，同时又没有『一不小心就挂了』的担忧。如果要说缺点的话，你也看到了，相比之于ReLU，因为有2次线性映射运算，因此计算量也double了。</p>



<h3 id="14-激励函数神经元小总结">1.4 激励函数/神经元小总结</h3>

<p>以上就是我们总结的常用的神经元和激励函数类型。顺便说一句，即使从计算和训练的角度看来是可行的，实际应用中，其实我们很少会把多种激励函数混在一起使用。</p>

<p>那我们咋选用神经元/激励函数呢？一般说来，用的最多的依旧是ReLU，但是我们确实得小心设定学习率，同时在训练过程中，还得时不时看看神经元此时的状态(是否还『活着』)。当然，如果你非常担心神经元训练过程中挂掉，你可以试试Leaky ReLU和Maxout。额，少用sigmoid老古董吧，有兴趣倒是可以试试tanh，不过话说回来，通常状况下，它的效果不如ReLU/Maxout。</p>



<h2 id="2-神经网络结构">2. 神经网络结构</h2>



<h3 id="21-层级连接结构">2.1 层级连接结构</h3>

<p>神经网络的结构其实之前也提过，是一种单向的层级连接结构，每一层可能有多个神经元。再形象一点说，就是每一层的输出将会作为下一层的输入数据，当然，这个图一定是没有循环的，不然数据流就有点混乱了。一般情况下，单层内的这些神经元之间是没有连接的。最常见的一种神经网络结构就是<strong>全连接层级</strong>神经网络，也就是相邻两层之间，每个神经元和每个神经元都是相连的，单层内的神经元之间是没有关联的。下面是两个全连接层级神经网的示意图： <br />
</p><center> <br />
<img alt="2层神经网络" src="http://cs231n.github.io/assets/nn1/neural_net.jpeg" title="" /> <br />
<img alt="3层神经网络" src="http://cs231n.github.io/assets/nn1/neural_net2.jpeg" title="" /> <br />
</center> <br />
<strong>命名习俗</strong> <br />
有一点需要注意，我们再说N层神经网络的时候，通常的习惯是不把输入层计算在内，因此输入层直接连接输出层的，叫做单层神经网络。从这个角度上说，其实我们的<strong>逻辑回归</strong>和<strong>SVM</strong>是单层神经网络的特例。上图中两个神经网络分别是2层和3层的神经网络。<p></p>

<p><strong>输出层</strong> <br />
输出层是神经网络中比较特殊的一层，由于输出的内容通常是各类别的打分/概率(在分类问题中)，我们通常都不在输出层神经元中加激励函数。</p>

<p><strong>关于神经网络中的组件个数</strong> <br />
通常我们在确定一个神经网络的时候，有几个描述神经网络大小的参数会提及到。最常见的两个是神经元个数，以及细化一点说，我们可以认为是参数的个数。还是拿上面的图举例：</p>

<ul>
<li>第一个神经网络有4+2=6个神经元(我们不算输入层)，因此有[3*4]+[4*2]=20个权重和4+2=6个偏移量(bias项)，总共26个参数。</li>
<li>第二个神经网络有4+4+1个神经元，有[3*4]+[4*4]+[4*1]=32个权重，再加上4+4+1=9个偏移量(bias项)，一共有41个待学习的参数。</li>
</ul>

<p>给大家个具体的概念哈，现在实用的卷积神经网，大概有亿级别的参数，甚至可能有10-20层(因此是深度学习嘛)。不过不用担心这么多参数的训练问题，因此我们在卷积神经网里会有一些有效的方法，来共享参数，从而减少需要训练的量。</p>



<h3 id="22-神经网络的前向计算示例">2.2 神经网络的前向计算示例</h3>

<p>神经网络组织成以上的结构，一个重要的原因是，每一层到下一层的计算可以很方便地表示成矩阵之间的运算，就是一直重复<strong>权重和输入做内积后经过激励函数变换的过程</strong>。为了形象一点说明，我们还举上面的3层神经网络为例，输入是一个3*1的向量，而层和层之间的连接权重可以看做一个矩阵，比如第一个隐藏层的权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-237" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-238"><span class="msubsup" id="MathJax-Span-239"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-240" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-241" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是一个[4*3]的矩阵，偏移量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-242" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-243"><span class="msubsup" id="MathJax-Span-244"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-245" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-246" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是[4*1]的向量，因此用python中的numpy做内积操作<code>np.dot(W1,x)</code>实际上就计算出输入下一层的激励函数之前的结果，经激励函数作用之后的结果又作为新的输出。用简单的代码表示如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 3层神经网络的前向运算:</span>
f = <span class="hljs-keyword">lambda</span> x: <span class="hljs-number">1.0</span>/(<span class="hljs-number">1.0</span> + np.exp(-x)) <span class="hljs-comment"># 简单起见，我们还是用sigmoid作为激励函数吧</span>
x = np.random.randn(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>) <span class="hljs-comment"># 随机化一个输入</span>
h1 = f(np.dot(W1, x) + b1) <span class="hljs-comment"># 计算第一层的输出</span>
h2 = f(np.dot(W2, h1) + b2) <span class="hljs-comment"># 计算第二层的输出</span>
out = np.dot(W3, h2) + b3 <span class="hljs-comment"># 最终结果 (1x1)</span></code></pre>

<p>上述代码中，<code>W1,W2,W3,b1,b2,b3</code>都是<strong>待学习</strong>的神经网络参数。注意到我们这里所有的运算都是向量化/矩阵化之后的，x不再是一个数，而是包含训练集中一个batch的输入，这样并行运算会加快计算的速度，仔细看代码，最后一层是没有经过激励函数，直接输出的。</p>



<h3 id="23-神经网络的表达力与size">2.3 神经网络的表达力与size</h3>

<p>一个神经网络结构搭起来之后，它就包含了数以亿计的参数和函数。我们可以把它看做对输入的做了一个很复杂的函数映射，得到最后的结果用于完成空间的分割(分类问题中)。那我们的参数对于这个所谓的复杂映射有什么样的影响呢？</p>

<p>其实，包含一个隐藏层(2层神经网络)的神经网络已经具备大家期待的能力，即只要隐藏层的神经元个数足够，我们总能用它(2层神经网络)去逼近任何连续函数(即输入到输出的映射关系)。详细的内容可以参加<a href="http://www.dartmouth.edu/~gvc/Cybenko_MCSS.pdf">Approximation by Superpositions of Sigmoidal Function</a>或者<a href="http://neuralnetworksanddeeplearning.com/chap4.html">Michael Nielsen的介绍</a>。我们之前的博文<a href="http://blog.csdn.net/han_xiaoyang/article/details/50100367">手把手入门神经网络系列(1)_从初等数学的角度初探神经网络</a>也有提到。</p>

<p>问题是，如果单隐藏层的神经网络已经可以近似逼近任意的连续值函数，那么为什么我们还要用那么多层呢？很可惜的是，即使数学上我们可以用2层神经网近似几乎所有函数，但在实际的工程实践中，却是没啥大作用的。<strong>多隐藏层的神经网络比单隐藏层的神经网络工程效果好很多</strong>，即使从数学上看，表达能力应该是一致的。</p>

<p>不过还得说一句的是，通常情况下，<strong>我们工程中发现，3层神经网络效果优于2层神经网络，但是如果把层数再不断增加(4,5,6层)，对最后结果的帮助就没有那么大的跳变了。</strong>不过在卷积神经网上还是不一样的，<strong>深层的网络结构对于它的准确率有很大的帮助</strong>，直观理解的方式是，图像是一种深层的结构化数据，因此深层的卷积神经网络能够更准确地把这些层级信息表达出来。</p>



<h3 id="24-层数与参数设定的影响">2.4 层数与参数设定的影响</h3>

<p>一个很现实的问题是，我们拿到一个实际问题的时候，怎么知道应该如何去搭建一个网络结构，可以最好地解决这个问题？应该搭建几层？每一层又应该有多少个神经元？ <br />
我们直观理解一下这个问题，当我们加大层数以及每一层的神经元个数的时候，我们的神经网络<code>容量</code>变大了。更通俗一点说，<strong>神经网络的空间表达能力变得更丰富了</strong>。放到一个具体的例子里我们看看，加入我们现在要处理一个2分类问题，输入是2维的，我们训练3个不同神经元个数的单隐层神经网络，它们的平面表达能力对比画出来如下： <br />
<img alt="空间表达能力对比" src="http://cs231n.github.io/assets/nn1/layer_sizes.jpeg" title="" /></p>

<p>在上图中，我们可以看出来，更多的神经元，让神经网络有更好的拟合复杂空间函数的能力。但是任何事物都有双面性，拟合越来越精确带来的另外一个问题是，<strong>太容易过拟合了！！！</strong>，如果你很任性地做一个实验，在隐藏层中放入20个神经元，那对于上图这个一个平面，你完全可以做到100%把两类点分隔开，但是这样一个分类器太努力地学习和记住我们现在图上的这些点的分布状况了，以至于连噪声和离群点都被它学习下来了，这对于我们在新数据上的泛化能力，也是一个噩梦。</p>

<p>经我们上面的讨论之后，也许你会觉得，好像对于不那么复杂的问题，我们用更少数目的层数和神经元，会更不容易过拟合，效果好一些。但是<strong>这个想法是错误的！！！</strong>。<strong>永远不要用减少层数和神经元的方法来缓解过拟合！！！这会极大影响神经网络的表达能力！！！我们有其他的方法，比如说之前一直提到的正则化来缓解这个问题。</strong></p>

<p>不要使用少层少神经元的简单神经网络的另外一个原因是，其实我们用梯度下降等方法，在这种简单神经网上，更难训练得到合适的参数结果。对，你会和我说，简单神经网络的损失函数有更少的局部最低点，应该更好收敛。是的，确实是的，更好收敛，但是很快收敛到的这些个局部最低点，通常都是全局很差的。相反，大的神经网络，确实损失函数有更多的局部最低点，但是这些局部最低点，相对于上面的局部最低点，在实际中效果却更好一些。对于非凸的函数，我们很难从数学上给出100%精准的性质证明，大家要是感兴趣的话，可以参考论文<a href="http://arxiv.org/abs/1412.0233">The Loss Surfaces of Multilayer Networks</a>。</p>

<p>如果你愿意做多次实验，会发现，训练小的神经网络，最后的损失函数收敛到的最小值变动非常大。这意味着，如果你运气够好，那你maybe能找到一组相对较为合适的参数，但大多数情况下，你得到的参数只是在一个不太好的局部最低点上的。相反，大的神经网络，依旧不能保证收敛到最小的全局最低点，但是众多的局部最低点，都有相差不太大的效果，这意味着你不需要借助”运气”也能找到一个近似较优的参数组。</p>

<p>最后，我们提一下正则化，我们说了要用正则化来控制过拟合问题。正则话的参数是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-247" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-248"><span class="mi" id="MathJax-Span-249" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，它的大小体现我们对参数搜索空间的限制，设置小的话，参数可变动范围大，同时更可能过拟合，设置太大的话，对参数的抑制作用太强，以至于不太能很好地表征类别分布了。下图是我们在上个问题中，使用不同大小的正则化参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-250" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-251"><span class="mi" id="MathJax-Span-252" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>得到的平面分割结果。</p>

<p><img alt="正则化参数大小与泛化" src="http://cs231n.github.io/assets/nn1/reg_strengths.jpeg" title="" /></p>

<p>恩，总之一句话，我们在很多实际问题中，还是得使用多层多神经元的大神经网络，而使用正则化来减缓过拟合现象。</p>



<h2 id="3-其他参考资料">3. 其他参考资料</h2>

<ul>
<li><a href="http://www.deeplearning.net/tutorial/mlp.html">Theano的深度学习导读</a></li>
<li><a href="http://neuralnetworksanddeeplearning.com/chap1.html">Michael Nielsen的神经网络导论</a></li>
<li><a href="http://cs.stanford.edu/people/karpathy/convnetjs/">ConvNetJS demo</a></li>
</ul>
            <div>
                作者：yaoqiang2011 发表于2016/1/16 17:57:38 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50447834">原文链接</a>
            </div>
            <div>
            阅读：29609 评论：4 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50447834#comments" target="_blank">查看评论</a>
            </div>
[原]深度学习与计算机视觉系列(5)_反向传播与它的直观理解
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2015年12月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50321873">http://blog.csdn.net/han_xiaoyang/article/details/50321873</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-引言">1. 引言</h2>

<p>其实一开始要讲这部分内容，我是拒绝的，原因是我觉得有一种写高数课总结的感觉。而一般直观上理解反向传播算法就是求导的一个链式法则而已。但是偏偏理解这部分和其中的细节对于神经网络的设计和调整优化又是有用的，所以硬着头皮写写吧。</p>

<p><strong>问题描述与动机：</strong></p>

<ul>
<li><p>大家都知道的，其实我们就是在给定的图像像素向量x和对应的函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-5" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，然后我们希望能够计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-7" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>在<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-10" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-11"><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>上的梯度(<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-13" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; width: 2.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-14"><span class="mi" id="MathJax-Span-15" style="font-family: STIXGeneral-Regular;">∇</span><span class="mi" id="MathJax-Span-16" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-17" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>)</p></li>
<li><p>我们之所以想解决这个问题，是因为在神经网络中，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-20" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-21"><span class="mi" id="MathJax-Span-22" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>对应损失函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-23" style="width: 0.749em; display: inline-block;"><span style="display: inline-block; width: 0.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-24"><span class="mi" id="MathJax-Span-25" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，而输入<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-26" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-27"><span class="mi" id="MathJax-Span-28" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>则对应训练样本数据和神经网络的权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-29" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-30"><span class="mi" id="MathJax-Span-31" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。举一个特例，损失函数可以是SVM loss function，而输入则对应样本数据<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-32" style="width: 9.229em; display: inline-block;"><span style="display: inline-block; width: 7.363em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-33"><span class="mo" id="MathJax-Span-34" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-35"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-36" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-37" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-39"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-41" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-42" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-43" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-44" style="font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-45" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-46" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-47" style="font-family: STIXGeneral-Regular;">…</span><span class="mi" id="MathJax-Span-48" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和权重以及bias <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-49" style="width: 2.349em; display: inline-block;"><span style="display: inline-block; width: 1.869em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-50"><span class="mi" id="MathJax-Span-51" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-52" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-53" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。需要注意的一点是，在我们的场景下，通常我们认为训练数据是给定的，而权重是我们可以控制的变量。因此我们为了更新权重的等参数，使得损失函数值最小，我们通常是计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-54" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-55"><span class="mi" id="MathJax-Span-56" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>对参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-57" style="width: 2.349em; display: inline-block;"><span style="display: inline-block; width: 1.869em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-58"><span class="mi" id="MathJax-Span-59" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-61" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的梯度。不过我们计算其在<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-62" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-63"><span class="msubsup" id="MathJax-Span-64"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-65" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-66" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>上的梯度有时候也是有用的，比如如果我们想做可视化以及了解神经网络在『做什么』的时候。</p></li>
</ul>



<h2 id="2高数梯度偏导基础">2.高数梯度/偏导基础</h2>

<p>好了，现在开始复习高数课了，从最简单的例子开始，假如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-67" style="width: 5.869em; display: inline-block;"><span style="display: inline-block; width: 4.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-68"><span class="mi" id="MathJax-Span-69" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-70" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-71" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-72" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-73" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-74" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-75" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-76" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-77" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，那我们可以求这个函数对<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-78" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-79"><span class="mi" id="MathJax-Span-80" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-81" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-82"><span class="mi" id="MathJax-Span-83" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的偏导，如下： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-84" style="width: 25.336em; display: inline-block;"><span style="display: inline-block; width: 20.269em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-85"><span class="mi" id="MathJax-Span-86" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-87" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-88" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-89" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-90" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-91" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-92" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-93" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-94" style="font-family: STIXGeneral-Italic;">y</span><span class="mspace" id="MathJax-Span-95" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-96" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-97" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-98"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-99"><span class="mi" id="MathJax-Span-100" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-101" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-102"><span class="mi" id="MathJax-Span-103" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-104" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-105" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-106" style="font-family: STIXGeneral-Italic;">y</span><span class="mspace" id="MathJax-Span-107" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-108"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-109"><span class="mi" id="MathJax-Span-110" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-111" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-114" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-116" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>



<h3 id="21-解释">2.1 解释</h3>

<p>我们知道偏导数实际表示的含义：一个函数在给定变量所在维度，当前点附近的一个变化率。也就是： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-117" style="width: 15.043em; display: inline-block;"><span style="display: inline-block; width: 12.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-118"><span class="mfrac" id="MathJax-Span-119"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mrow" id="MathJax-Span-120"><span class="mi" id="MathJax-Span-121" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-122" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-123" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-124" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-125" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-126"><span class="mi" id="MathJax-Span-127" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-128" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-129" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-130"><span style="display: inline-block; width: 1.549em; height: 0px;"><span><span class="mo" id="MathJax-Span-131" style="font-family: STIXGeneral-Regular;">lim</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-132"><span class="mrow" id="MathJax-Span-133"><span class="mi" id="MathJax-Span-134" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">h</span><span class="mtext" id="MathJax-Span-135" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mo" id="MathJax-Span-136" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">→</span><span class="mn" id="MathJax-Span-137" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-138"><span style="display: inline-block; width: 6.189em; height: 0px;"><span><span class="mrow" id="MathJax-Span-139"><span class="mi" id="MathJax-Span-140" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-141" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-142" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-143" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-144" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-145" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-147" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-148" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-149" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-150" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-151" style="font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div> <br />
以上公式中的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-152" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; width: 1.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-153"><span class="mfrac" id="MathJax-Span-154"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-155" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-156"><span class="mi" id="MathJax-Span-157" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-158" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>作用在<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-159" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-160"><span class="mi" id="MathJax-Span-161" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>上，表示对x求偏导数，表示的是x维度上当前点位置周边很小区域的变化率。举个例子，如果<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-162" style="width: 7.149em; display: inline-block;"><span style="display: inline-block; width: 5.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-163"><span class="mi" id="MathJax-Span-164" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-165" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-166" style="font-family: STIXGeneral-Regular;">4</span><span class="mo" id="MathJax-Span-167" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-168" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-169" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-170" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-171" style="font-family: STIXGeneral-Regular;">3</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-172" style="width: 6.883em; display: inline-block;"><span style="display: inline-block; width: 5.496em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-173"><span class="mi" id="MathJax-Span-174" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-175" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-176" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-177" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-178" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-179" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-180" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-181" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-182" style="font-family: STIXGeneral-Regular;">12</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，那么x上的偏导<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-183" style="width: 4.483em; display: inline-block;"><span style="display: inline-block; width: 3.576em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-184"><span class="mfrac" id="MathJax-Span-185"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-186"><span class="mi" id="MathJax-Span-187" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-188" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-189"><span class="mi" id="MathJax-Span-190" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-191" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-193" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular;">3</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，这告诉我们如果这个变量(x)增大一个很小的量，那么整个表达式会以3倍这个量减小。我们把上面的公式变变形，可以这么看:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-195" style="width: 12.376em; display: inline-block;"><span style="display: inline-block; width: 9.869em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-196"><span class="mi" id="MathJax-Span-197" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-198" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-199" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-200" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-201" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-202" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-204" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-205" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-206" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-208" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-209" style="font-family: STIXGeneral-Italic;">h</span><span class="mfrac" id="MathJax-Span-210"><span style="display: inline-block; width: 1.549em; height: 0px;"><span><span class="mrow" id="MathJax-Span-211"><span class="mi" id="MathJax-Span-212" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-213" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mo" id="MathJax-Span-214" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-215" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-216" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-217"><span class="mi" id="MathJax-Span-218" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-219" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。同理，因为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-220" style="width: 3.629em; display: inline-block;"><span style="display: inline-block; width: 2.883em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-221"><span class="mfrac" id="MathJax-Span-222"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-223"><span class="mi" id="MathJax-Span-224" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-225" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-226"><span class="mi" id="MathJax-Span-227" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-228" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-229" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-230" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，我们将y的值增加一个很小的量h，则整个表达式变化4h。</p>

<blockquote>
  <p>每个维度/变量上的偏导，表示整个函数表达式，在这个值上的『敏感度』</p>
</blockquote>

<p>哦，对，我们说的梯度<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-231" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-232"><span class="mi" id="MathJax-Span-233" style="font-family: STIXGeneral-Regular;">∇</span><span class="mi" id="MathJax-Span-234" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>其实是一个偏导组成的向量，比如我们有<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-235" style="width: 11.576em; display: inline-block;"><span style="display: inline-block; width: 9.229em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-236"><span class="mi" id="MathJax-Span-237" style="font-family: STIXGeneral-Regular;">∇</span><span class="mi" id="MathJax-Span-238" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-239" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-240" style="font-family: STIXGeneral-Regular;">[</span><span class="mfrac" id="MathJax-Span-241"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-242"><span class="mi" id="MathJax-Span-243" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-244" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-245"><span class="mi" id="MathJax-Span-246" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-247" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-248" style="font-family: STIXGeneral-Regular;">,</span><span class="mfrac" id="MathJax-Span-249"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-250"><span class="mi" id="MathJax-Span-251" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-252" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-253"><span class="mi" id="MathJax-Span-254" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-255" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-256" style="font-family: STIXGeneral-Regular;">]</span><span class="mo" id="MathJax-Span-257" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-258" style="font-family: STIXGeneral-Regular;">[</span><span class="mi" id="MathJax-Span-259" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-260" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-261" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-262" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。即使严格意义上来说梯度是一个向量，但是大多数情况下，我们还是习惯直呼『x上的梯度』，而不是『x上的偏导』</p>

<p>大家都知道加法操作上的偏导数是这样的： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-263" style="width: 27.043em; display: inline-block;"><span style="display: inline-block; width: 21.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-264"><span class="mi" id="MathJax-Span-265" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-266" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-268" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-269" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-270" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-271" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-272" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-274" style="font-family: STIXGeneral-Italic;">y</span><span class="mspace" id="MathJax-Span-275" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-276" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-277" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-278"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-279"><span class="mi" id="MathJax-Span-280" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-281" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-282"><span class="mi" id="MathJax-Span-283" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-284" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-285" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-286" style="font-family: STIXGeneral-Regular;">1</span><span class="mspace" id="MathJax-Span-287" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-288"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-289"><span class="mi" id="MathJax-Span-290" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-291" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-292"><span class="mi" id="MathJax-Span-293" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-294" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-295" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-296" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>而对于一些别的操作，比如max函数，偏导数是这样的(后面的括号表示在这个条件下)： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-297" style="width: 100%; display: inline-block;"><span style="display: inline-block; width: 100%; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-298"><span style="display: inline-block; width: 100%; height: 0px;"><span><span class="mi" id="MathJax-Span-299" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-300" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-301" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-302" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-303" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-304" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-305" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-306" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-307" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-308" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-309" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-310" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-311" style="font-family: STIXGeneral-Regular;">)</span><span class="mspace" id="MathJax-Span-312" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-313" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-314" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-315"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-316"><span class="mi" id="MathJax-Span-317" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-318" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-319"><span class="mi" id="MathJax-Span-320" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-321" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-322" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-323" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-324" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-325" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-326" style="font-family: STIXGeneral-Regular;">&gt;<span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">=</span></span><span class="mi" id="MathJax-Span-327" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-328" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mspace" id="MathJax-Span-329" style="height: 0.003em; vertical-align: 0.003em; width: 2.563em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-330"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-331"><span class="mi" id="MathJax-Span-332" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-333" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-334"><span class="mi" id="MathJax-Span-335" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-336" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-337" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-338" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-339" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-340" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-341" style="font-family: STIXGeneral-Regular;">&gt;<span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">=</span></span><span class="mi" id="MathJax-Span-342" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-343" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.816em;"></span></span></span><span></span></span></span></div></p>



<h2 id="3-复杂函数偏导的链式法则">3. 复杂函数偏导的链式法则</h2>

<p>考虑一个麻烦一点的函数，比如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-344" style="width: 9.816em; display: inline-block;"><span style="display: inline-block; width: 7.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-345"><span class="mi" id="MathJax-Span-346" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-347" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-348" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-349" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-350" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-351" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-352" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-353" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-354" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-355" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-356" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-357" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-358" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-359" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-360" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。当然，这个表达式其实还没那么复杂，也可以直接求偏导。但是我们用一个非直接的思路去求解一下偏导，以帮助我们直观理解反向传播中。如果我们用换元法，把原函数拆成两个部分<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-361" style="width: 4.963em; display: inline-block;"><span style="display: inline-block; width: 3.949em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-362"><span class="mi" id="MathJax-Span-363" style="font-family: STIXGeneral-Italic;">q</span><span class="mo" id="MathJax-Span-364" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-365" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-366" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-367" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-368" style="width: 3.363em; display: inline-block;"><span style="display: inline-block; width: 2.669em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-369"><span class="mi" id="MathJax-Span-370" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-371" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-372" style="font-family: STIXGeneral-Italic;">q</span><span class="mi" id="MathJax-Span-373" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。对于这两个部分，我们知道怎么求解它们变量上的偏导：<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-374" style="width: 7.576em; display: inline-block;"><span style="display: inline-block; width: 6.029em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-375"><span class="mfrac" id="MathJax-Span-376"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-377"><span class="mi" id="MathJax-Span-378" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-379" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-380"><span class="mi" id="MathJax-Span-381" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-382" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-383" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-384" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-385" style="font-family: STIXGeneral-Regular;">,</span><span class="mfrac" id="MathJax-Span-386"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mrow" id="MathJax-Span-387"><span class="mi" id="MathJax-Span-388" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-389" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-390"><span class="mi" id="MathJax-Span-391" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-392" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-393" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-394" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-395" style="width: 7.736em; display: inline-block;"><span style="display: inline-block; width: 6.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-396"><span class="mfrac" id="MathJax-Span-397"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-398"><span class="mi" id="MathJax-Span-399" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-400" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-401"><span class="mi" id="MathJax-Span-402" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-403" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-404" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-405" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-406" style="font-family: STIXGeneral-Regular;">,</span><span class="mfrac" id="MathJax-Span-407"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-408"><span class="mi" id="MathJax-Span-409" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-410" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-411"><span class="mi" id="MathJax-Span-412" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-413" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-414" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-415" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，当然q是我们自己设定的一个变量，我们对他的偏导完全不感兴趣。 <br />
那『链式法则』告诉我们一个对上述偏导公式『串联』的方式，得到我们感兴趣的偏导数:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-416" style="width: 5.816em; display: inline-block;"><span style="display: inline-block; width: 4.643em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-417"><span class="mfrac" id="MathJax-Span-418"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-419"><span class="mi" id="MathJax-Span-420" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-421" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-422"><span class="mi" id="MathJax-Span-423" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-424" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-425" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-426"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-427"><span class="mi" id="MathJax-Span-428" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-429" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-430"><span class="mi" id="MathJax-Span-431" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-432" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-433"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-434"><span class="mi" id="MathJax-Span-435" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-436" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-437"><span class="mi" id="MathJax-Span-438" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-439" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>

<p>看个例子：</p>



<pre class="prettyprint"><code class="language-python hljs ">x = -<span class="hljs-number">2</span>; y = <span class="hljs-number">5</span>; z = -<span class="hljs-number">4</span>

<span class="hljs-comment"># 前向计算</span>
q = x + y <span class="hljs-comment"># q becomes 3</span>
f = q * z <span class="hljs-comment"># f becomes -12</span>

<span class="hljs-comment"># 类反向传播:</span>
<span class="hljs-comment"># 先算到了 f = q * z</span>
dfdz = q <span class="hljs-comment"># df/dz = q</span>
dfdq = z <span class="hljs-comment"># df/dq = z</span>
<span class="hljs-comment"># 再算到了 q = x + y</span>
dfdx = <span class="hljs-number">1.0</span> * dfdq <span class="hljs-comment"># dq/dx = 1 恩，链式法则</span>
dfdy = <span class="hljs-number">1.0</span> * dfdq <span class="hljs-comment"># dq/dy = 1</span></code></pre>

<p>链式法则的结果是，只剩下我们感兴趣的<code>[dfdx,dfdy,dfdz]</code>，也就是原函数在x,y,z上的偏导。这是一个简单的例子，之后的程序里面我们为了简洁，不会完整写出<code>dfdq</code>，而是用<code>dq</code>代替。</p>

<p>以下是这个计算的示意图： <br />
</p><center> <br />
<img alt="例1" src="http://7xo0y8.com1.z0.glb.clouddn.com/3_computer_vision/5.1.png?imageView/2/w/500/q/100" title="" /> <br />
</center><p></p>



<h2 id="4-反向传播的直观理解">4. 反向传播的直观理解</h2>

<p>一句话概括：反向传播的过程，实际上是一个由局部到全部的精妙过程。比如上面的电路图中，其实每一个『门』在拿到输入之后，都能计算2个东西：</p>

<ul>
<li>输出值</li>
<li>对应输入和输出的局部梯度</li>
</ul>

<p>而且很明显，每个门在进行这个计算的时候是完全独立的，不需要对电路图中其他的结构有了解。然而，在整个前向传输过程结束之后，在反向传播过程中，每个门却能逐步累积计算出它在整个电路输出上的梯度。<code>『链式法则』</code>告诉我们每一个门接收到后向传来的梯度，同时用它乘以自己算出的对每个输入的局部梯度，接着往后传。</p>

<p>以上面的图为例，来解释一下这个过程。加法门接收到输入[-2, 5]同时输出结果3。因为加法操作对两个输入的偏导都应该是1。电路后续的部分算出最终结果-12。在反向传播过程中，链式法则是这样做的：加法操作的输出3，在最后的乘法操作中，获得的梯度为-4，如果把整个网络拟人化，我们可以认为这代表着网络『想要』加法操作的结果小一点，而且是以4*的强度来减小。加法操作的门获得这个梯度-4以后，把它分别乘以本地的两个梯度(加法的偏导都是1)，1*-4=-4。如果输入x减小，那加法门的输出也会减小，这样乘法输出会相应的增加。</p>

<p>反向传播，可以看做网络中门与门之间的『关联对话』，它们『想要』自己的输出更大还是更小(以多大的幅度)，从而让最后的输出结果更大。</p>



<h2 id="5-sigmoid例子">5. Sigmoid例子</h2>

<p>上面举的例子其实在实际应用中很少见，我们很多时候见到的网络和门函数更复杂，但是不论它是什么样的，反向传播都是可以使用的，唯一的区别就是可能网络拆解出来的门函数布局更复杂一些。我们以之前的逻辑回归为例： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-440" style="width: 15.736em; display: inline-block;"><span style="display: inline-block; width: 12.589em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-441"><span class="mi" id="MathJax-Span-442" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-443" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-444" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-445" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-446" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-447" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-448" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-449"><span style="display: inline-block; width: 8.323em; height: 0px;"><span><span class="mn" id="MathJax-Span-450" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-451"><span class="mn" id="MathJax-Span-452" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-453" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-454"><span style="display: inline-block; width: 6.456em; height: 0px;"><span><span class="mi" id="MathJax-Span-455" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-456"><span class="mrow" id="MathJax-Span-457"><span class="mo" id="MathJax-Span-458" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mo" id="MathJax-Span-459" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-460"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-461" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-462" style="font-size: 50%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-463"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-464" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-465" style="font-size: 50%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-466" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-467"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-468" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-469" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-470"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-471" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-472" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-473" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-474"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-475" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-476" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-477" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div> <br />
这个看似复杂的函数，其实可以看做一些基础函数的组合，这些基础函数及他们的偏导如下： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-37-Frame"><span class="math" id="MathJax-Span-478" style="width: 100%; display: inline-block;"><span style="display: inline-block; width: 100%; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-479"><span style="display: inline-block; width: 100%; height: 0px;"><span><span class="mi" id="MathJax-Span-480" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-481" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-482" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-483" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-484" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-485"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mn" id="MathJax-Span-486" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-487" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mspace" id="MathJax-Span-488" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-489" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-490" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-491"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mrow" id="MathJax-Span-492"><span class="mi" id="MathJax-Span-493" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-494" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-495"><span class="mi" id="MathJax-Span-496" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-497" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-498" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-499" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-500" style="font-family: STIXGeneral-Regular;">1</span><span class="texatom" id="MathJax-Span-501"><span class="mrow" id="MathJax-Span-502"><span class="mo" id="MathJax-Span-503" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="msubsup" id="MathJax-Span-504"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-505" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-506" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mspace" id="MathJax-Span-507" style="height: 0.003em; vertical-align: 0.003em; width: 0.003em; display: inline-block; overflow: hidden;"></span><span class="msubsup" id="MathJax-Span-508"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-509" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-510" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-511" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-512" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-513" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-514" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-515" style="font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-516" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-517" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mspace" id="MathJax-Span-518" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-519" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-520" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-521"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mrow" id="MathJax-Span-522"><span class="mi" id="MathJax-Span-523" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-524" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-525"><span class="mi" id="MathJax-Span-526" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-527" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-528" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-529" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mspace" id="MathJax-Span-530" style="height: 0.003em; vertical-align: 0.003em; width: 0.003em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-531" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-532" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-533" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-534" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-535" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-536"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-537" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-538" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mspace" id="MathJax-Span-539" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-540" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-541" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-542"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mrow" id="MathJax-Span-543"><span class="mi" id="MathJax-Span-544" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-545" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-546"><span class="mi" id="MathJax-Span-547" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-548" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-549" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-550"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-551" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-552" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mspace" id="MathJax-Span-553" style="height: 0.003em; vertical-align: 0.003em; width: 0.003em; display: inline-block; overflow: hidden;"></span><span class="msubsup" id="MathJax-Span-554"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-555" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-556" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-557" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-558" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-559" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-560" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-561" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-562" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mspace" id="MathJax-Span-563" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-564" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-565" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-566"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mrow" id="MathJax-Span-567"><span class="mi" id="MathJax-Span-568" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-569" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-570"><span class="mi" id="MathJax-Span-571" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-572" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-573" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 10.723em;"></span></span></span><span></span></span></span></div> <br />
上述每一个基础函数都可以看做一个门，如此简单的初等函数组合在一块儿却能够完成逻辑回归中映射函数的复杂功能。下面我们画出神经网络，并给出具体输入输出和参数的数值： <br />
</p><center> <br />
<img alt="例2" src="http://7xo0y8.com1.z0.glb.clouddn.com/3_computer_vision/5.2.png" title="" /> <br />
</center> <br />
这个图中，[x0, x1]是输入，[w0, w1,w2]为可调参数，所以它做的事情是对输入做了一个线性计算(x和w的内积)，同时把结果放入sigmoid函数中，从而映射到(0,1)之间的数。<p></p>

<p>上面的例子中，w与x之间的内积分解为一长串的小函数连接完成，而后接的是sigmoid函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame"><span class="math" id="MathJax-Span-575" style="width: 2.136em; display: inline-block;"><span style="display: inline-block; width: 1.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-576"><span class="mi" id="MathJax-Span-577" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-578" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-579" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-580" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，有趣的是sigmoid函数看似复杂，求解倒是的时候却是有技巧的，如下：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-39-Frame"><span class="math" id="MathJax-Span-581" style="width: 100%; display: inline-block;"><span style="display: inline-block; width: 100%; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-582"><span style="display: inline-block; width: 100%; height: 0px;"><span><span class="mi" id="MathJax-Span-583" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-584" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-585" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-586" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-587" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-588"><span style="display: inline-block; width: 3.203em; height: 0px;"><span><span class="mn" id="MathJax-Span-589" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-590"><span class="mn" id="MathJax-Span-591" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-592" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-593"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-594" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-595"><span class="mrow" id="MathJax-Span-596"><span class="mo" id="MathJax-Span-597" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-598" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mspace" id="MathJax-Span-599" style="height: 0.003em; vertical-align: 0.003em; width: 0.003em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-600" style="font-family: STIXGeneral-Regular;">→</span><span class="mspace" id="MathJax-Span-601" style="height: 0.003em; vertical-align: 0.003em; width: 1.549em; display: inline-block; overflow: hidden;"></span><span class="mfrac" id="MathJax-Span-602"><span style="display: inline-block; width: 2.349em; height: 0px;"><span><span class="mrow" id="MathJax-Span-603"><span class="mi" id="MathJax-Span-604" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-605" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-606" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-607" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-608" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-609"><span class="mi" id="MathJax-Span-610" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-611" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-612" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-613"><span style="display: inline-block; width: 4.323em; height: 0px;"><span><span class="msubsup" id="MathJax-Span-614"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-615" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-616"><span class="mrow" id="MathJax-Span-617"><span class="mo" id="MathJax-Span-618" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-619" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mrow" id="MathJax-Span-620"><span class="mo" id="MathJax-Span-621" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-622" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-623" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-624"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-625" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-626"><span class="mrow" id="MathJax-Span-627"><span class="mo" id="MathJax-Span-628" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-629" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-630"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mo" id="MathJax-Span-631" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-632" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-633" style="font-family: STIXGeneral-Regular;">=</span><span class="mrow" id="MathJax-Span-634"><span class="mo" id="MathJax-Span-635"><span style="font-family: STIXSizeThreeSym;">(</span></span><span class="mfrac" id="MathJax-Span-636"><span style="display: inline-block; width: 4.909em; height: 0px;"><span><span class="mrow" id="MathJax-Span-637"><span class="mn" id="MathJax-Span-638" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-639" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-640"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-641" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-642"><span class="mrow" id="MathJax-Span-643"><span class="mo" id="MathJax-Span-644" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-645" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-646" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-647" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-648"><span class="mn" id="MathJax-Span-649" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-650" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-651"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-652" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-653"><span class="mrow" id="MathJax-Span-654"><span class="mo" id="MathJax-Span-655" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-656" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-657"><span style="font-family: STIXSizeThreeSym;">)</span></span></span><span class="mrow" id="MathJax-Span-658"><span class="mo" id="MathJax-Span-659"><span style="font-family: STIXSizeThreeSym;">(</span></span><span class="mfrac" id="MathJax-Span-660"><span style="display: inline-block; width: 3.203em; height: 0px;"><span><span class="mn" id="MathJax-Span-661" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-662"><span class="mn" id="MathJax-Span-663" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-664" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-665"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-666" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-667"><span class="mrow" id="MathJax-Span-668"><span class="mo" id="MathJax-Span-669" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-670" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-671"><span style="font-family: STIXSizeThreeSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-672" style="font-family: STIXGeneral-Regular;">=</span><span class="mrow" id="MathJax-Span-673"><span class="mo" id="MathJax-Span-674" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-675" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-676" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-677" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-678" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-679" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-680" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-681" style="font-family: STIXGeneral-Regular;">)</span></span><span class="mi" id="MathJax-Span-682" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-683" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-684" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-685" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 7.416em;"></span></span></span><span></span></span></span></div></p>

<p>你看，它的导数可以用自己很简单的重新表示出来。所以在计算导数的时候非常方便，比如sigmoid函数接收到的输入是1.0，输出结果是-0.73。那么我们可以非常方便地计算得到它的偏导为(1-0.73)*0.73~=0.2。我们看看在这个sigmoid函数部分反向传播的计算代码：</p>



<pre class="prettyprint"><code class="language-python hljs ">w = [<span class="hljs-number">2</span>,-<span class="hljs-number">3</span>,-<span class="hljs-number">3</span>] <span class="hljs-comment"># 我们随机给定一组权重</span>
x = [-<span class="hljs-number">1</span>, -<span class="hljs-number">2</span>]

<span class="hljs-comment"># 前向传播</span>
dot = w[<span class="hljs-number">0</span>]*x[<span class="hljs-number">0</span>] + w[<span class="hljs-number">1</span>]*x[<span class="hljs-number">1</span>] + w[<span class="hljs-number">2</span>]
f = <span class="hljs-number">1.0</span> / (<span class="hljs-number">1</span> + math.exp(-dot)) <span class="hljs-comment"># sigmoid函数</span>

<span class="hljs-comment"># 反向传播经过该sigmoid神经元</span>
ddot = (<span class="hljs-number">1</span> - f) * f <span class="hljs-comment"># sigmoid函数偏导</span>
dx = [w[<span class="hljs-number">0</span>] * ddot, w[<span class="hljs-number">1</span>] * ddot] <span class="hljs-comment"># 在x这条路径上的反向传播</span>
dw = [x[<span class="hljs-number">0</span>] * ddot, x[<span class="hljs-number">1</span>] * ddot, <span class="hljs-number">1.0</span> * ddot] <span class="hljs-comment"># 在w这条路径上的反向传播</span>
<span class="hljs-comment"># yes！就酱紫算完了！是不是很简单？</span></code></pre>



<h3 id="51-工程实现小提示">5.1 工程实现小提示</h3>

<p>回过头看看上头的代码，你会发现，实际写代码实现的时候，有一个技巧能帮助我们很容易地实现反向传播，我们会把前向传播的过程分解成反向传播很容易追溯回来的部分。</p>



<h2 id="6-反向传播实战复杂函数">6. 反向传播实战：复杂函数</h2>

<p>我们看一个稍复杂一些的函数： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-40-Frame"><span class="math" id="MathJax-Span-686" style="width: 12.909em; display: inline-block;"><span style="display: inline-block; width: 10.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-687"><span class="mi" id="MathJax-Span-688" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-689" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-690" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-691" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-692" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-693" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-694" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-695"><span style="display: inline-block; width: 6.243em; height: 0px;"><span><span class="mrow" id="MathJax-Span-696"><span class="mi" id="MathJax-Span-697" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-698" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-699" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-700" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-701" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-702" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-703"><span class="mi" id="MathJax-Span-704" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-705" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-706" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-707" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-708" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-709" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-710" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-711" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-712" style="font-family: STIXGeneral-Italic;">y</span><span class="msubsup" id="MathJax-Span-713"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mo" id="MathJax-Span-714" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-715" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div> <br />
额，插一句，这个函数没有任何实际的意义。我们提到它，仅仅是想举个例子来说明复杂函数的反向传播怎么使用。如果直接对这个函数求x或者y的偏导的话，你会得到一个很复杂的形式。但是如果你用反向传播去求解具体的梯度值的话，却完全没有这个烦恼。我们把这个函数分解成小部分，进行前向和反向传播计算，即可得到结果，前向传播计算的代码如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">x = <span class="hljs-number">3</span> <span class="hljs-comment"># 例子</span>
y = -<span class="hljs-number">4</span>

<span class="hljs-comment"># 前向传播</span>
sigy = <span class="hljs-number">1.0</span> / (<span class="hljs-number">1</span> + math.exp(-y)) <span class="hljs-comment"># 单值上的sigmoid函数</span>
num = x + sigy 
sigx = <span class="hljs-number">1.0</span> / (<span class="hljs-number">1</span> + math.exp(-x)) 
xpy = x + y      
xpysqr = xpy**<span class="hljs-number">2</span>                 
den = sigx + xpysqr
invden = <span class="hljs-number">1.0</span> / den                                       
f = num * invden <span class="hljs-comment"># 完成！                                </span></code></pre>

<p>注意到我们并没有一次性把前向传播最后结果算出来，而是刻意留出了很多中间变量，它们都是我们可以直接求解局部梯度的简单表达式。因此，计算反向传播就变得简单了：我们从最后结果往前看，前向运算中的每一个中间变量<code>sigy, num, sigx, xpy, xpysqr, den, invden</code>我们都会用到，只不过后向传回的偏导值乘以它们，得到反向传播的偏导值。反向传播计算的代码如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 局部函数表达式为 f = num * invden</span>
dnum = invden                              
dinvden = num    
<span class="hljs-comment"># 局部函数表达式为 invden = 1.0 / den </span>
dden = (-<span class="hljs-number">1.0</span> / (den**<span class="hljs-number">2</span>)) * dinvden                            
<span class="hljs-comment"># 局部函数表达式为 den = sigx + xpysqr</span>
dsigx = (<span class="hljs-number">1</span>) * dden
dxpysqr = (<span class="hljs-number">1</span>) * dden
<span class="hljs-comment"># 局部函数表达式为 xpysqr = xpy**2</span>
dxpy = (<span class="hljs-number">2</span> * xpy) * dxpysqr                                        <span class="hljs-comment">#(5)</span>
<span class="hljs-comment"># 局部函数表达式为 xpy = x + y</span>
dx = (<span class="hljs-number">1</span>) * dxpy                                                   
dy = (<span class="hljs-number">1</span>) * dxpy                                                   
<span class="hljs-comment"># 局部函数表达式为 sigx = 1.0 / (1 + math.exp(-x))</span>
dx += ((<span class="hljs-number">1</span> - sigx) * sigx) * dsigx <span class="hljs-comment"># 注意到这里用的是 += !!</span>
<span class="hljs-comment"># 局部函数表达式为 num = x + sigy</span>
dx += (<span class="hljs-number">1</span>) * dnum                                                  
dsigy = (<span class="hljs-number">1</span>) * dnum                                                
<span class="hljs-comment"># 局部函数表达式为 sigy = 1.0 / (1 + math.exp(-y))</span>
dy += ((<span class="hljs-number">1</span> - sigy) * sigy) * dsigy                                 
<span class="hljs-comment"># 完事！</span></code></pre>

<p>实际编程实现的时候，需要注意一下：</p>

<ul>
<li><strong>前向传播计算的时候注意保留部分中间变量</strong>：在反向传播计算的时候，会再次用到前向传播计算中的部分结果。这在反向传播计算的回溯时可大大加速。  </li>
</ul>



<h3 id="61-反向传播计算中的常见模式">6.1 反向传播计算中的常见模式</h3>

<p>即使因为搭建的神经网络结构形式和使用的神经元都不同，但是大多数情况下，后向计算中的梯度计算可以归到几种常见的模式上。比如，最常见的三种简单运算门(加、乘、最大)，他们在反向传播运算中的作用是非常简单和直接的。我们一起看看下面这个简单的神经网：</p>

<p></p><center> <br />
<img alt="例3" src="http://7xo0y8.com1.z0.glb.clouddn.com/3_computer_vision/5.3.png?imageView/2/w/500/q/100" title="" /> <br />
</center><p></p>

<p>上图里有我们提到的三种门add,max和multiply。</p>

<ul>
<li><strong>加运算门</strong>在反向传播运算中，不管输入值是多少，取得它output传回的梯度(gradient)然后均匀地分给两条输入路径。因为加法运算的偏导都是+1.0。</li>
<li><strong>max(取最大)门</strong>不像加法门，在反向传播计算中，它只会把传回的梯度回传给一条输入路径。因为max(x,y)只对x和y中较大的那个数，偏导为+1.0，而另一个数上的偏导是0。</li>
<li><strong>乘法门</strong>就更好理解了，因为x*y对x的偏导为y，而对y的偏导为x，因此在上图中x的梯度是-8.0，即-4.0*2.0</li>
</ul>

<p>因为梯度回传的原因，神经网络对输入非常敏感。我们拿乘法门来举例，如果输入的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-41-Frame"><span class="math" id="MathJax-Span-716" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-717"><span class="msubsup" id="MathJax-Span-718"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-719" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-720" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>全都变成原来1000倍，而权重w不变，那么在反向传播计算的时候，x路径上获得的回传梯度不变，而w上的梯度则会变大1000倍，这使得你不得不降低学习速率(learning rate)成原来的1/1000以维持平衡。<strong>因此在很多神经网络的问题中，输入数据的预处理也是非常重要的。</strong></p>



<h3 id="62-向量化的梯度运算">6.2 向量化的梯度运算</h3>

<p>上面所有的部分都是在单变量的函数上做的处理和运算，实际我们在处理很多数据(比如图像数据)的时候，维度都比较高，这时候我们就需要把单变量的函数反向传播扩展到向量化的梯度运算上，需要特别注意的是矩阵运算的每个矩阵维度，以及转置操作。</p>

<p>我们通过简单的矩阵运算来拓展前向和反向传播运算，示例代码如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 前向传播运算</span>
W = np.random.randn(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>)
X = np.random.randn(<span class="hljs-number">10</span>, <span class="hljs-number">3</span>)
D = W.dot(X)

<span class="hljs-comment"># 假如我们现在已经拿到了回传到D上的梯度dD</span>
dD = np.random.randn(*D.shape) <span class="hljs-comment"># 和D同维度</span>
dW = dD.dot(X.T) <span class="hljs-comment">#.T 操作计算转置， dW为W路径上的梯度</span>
dX = W.T.dot(dD)  <span class="hljs-comment">#dX为X路径上的梯度</span></code></pre>



<h2 id="7-总结">7. 总结</h2>

<p>直观地理解，反向传播可以看做图解求导的链式法则。 <br />
最后我们用一组图来说明实际优化过程中的正向传播与反向残差传播： <br />
</p><center> <br />
<img alt="1" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img02.gif" title="" /> <br />
<img alt="2" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img03.gif" title="" /> <br />
<img alt="3" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img04.gif" title="" /> <br />
<img alt="4" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img05.gif" title="" /> <br />
<img alt="5" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img06.gif" title="" /> <br />
<img alt="6" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img07.gif" title="" /> <br />
<img alt="7" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img08.gif" title="" /> <br />
<img alt="8" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img09.gif" title="" /> <br />
<img alt="9" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img10.gif" title="" /> <br />
<img alt="10" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img11.gif" title="" /> <br />
<img alt="11" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img12.gif" title="" /> <br />
<img alt="12" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img13.gif" title="" /> <br />
<img alt="13" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img14.gif" title="" /> <br />
<img alt="14" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img15.gif" title="" /> <br />
<img alt="15" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img16.gif" title="" /> <br />
<img alt="16" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img17.gif" title="" /> <br />
<img alt="17" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img18.gif" title="" /> <br />
<img alt="18" src="http://galaxy.agh.edu.pl/~vlsi/AI/backp_t_en/backprop_files/img19.gif" title="" /> <br />
</center><p></p>
            <div>
                作者：yaoqiang2011 发表于2016/1/16 17:17:19 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50321873">原文链接</a>
            </div>
            <div>
            阅读：23077 评论：1 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50321873#comments" target="_blank">查看评论</a>
            </div>
[原]深度学习与计算机视觉系列(9)_串一串神经网络之动手实现小例子
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年1月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50521072">http://blog.csdn.net/han_xiaoyang/article/details/50521072</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1引言">1.引言</h2>

<p>前面8小节，算从神经网络的结构、简单原理、数据准备与处理、神经元选择、损失函数选择等方面把神经网络过了一遍。这个部分我们打算把知识点串一串，动手实现一个简单的2维平面神经网络分类器，去分割平面上的不同类别样本点。为了循序渐进，我们打算先实现一个简单的线性分类器，然后再拓展到非线性的2层神经网络。我们可以看到简单的浅层神经网络，在这个例子上就能够有分割程度远高于线性分类器的效果。</p>



<h2 id="2样本数据的产生">2.样本数据的产生</h2>

<p>为了凸显一下神经网络强大的空间分割能力，我们打算产生出一部分对于线性分类器不那么容易分割的样本点，比如说我们生成一份螺旋状分布的样本点，如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">N = <span class="hljs-number">100</span> <span class="hljs-comment"># 每个类中的样本点</span>
D = <span class="hljs-number">2</span> <span class="hljs-comment"># 维度</span>
K = <span class="hljs-number">3</span> <span class="hljs-comment"># 类别个数</span>
X = np.zeros((N*K,D)) <span class="hljs-comment"># 样本input</span>
y = np.zeros(N*K, dtype=<span class="hljs-string">'uint8'</span>) <span class="hljs-comment"># 类别标签</span>
<span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> xrange(K):
  ix = range(N*j,N*(j+<span class="hljs-number">1</span>))
  r = np.linspace(<span class="hljs-number">0.0</span>,<span class="hljs-number">1</span>,N) <span class="hljs-comment"># radius</span>
  t = np.linspace(j*<span class="hljs-number">4</span>,(j+<span class="hljs-number">1</span>)*<span class="hljs-number">4</span>,N) + np.random.randn(N)*<span class="hljs-number">0.2</span> <span class="hljs-comment"># theta</span>
  X[ix] = np.c_[r*np.sin(t), r*np.cos(t)]
  y[ix] = j
<span class="hljs-comment"># 可视化一下我们的样本点</span>
plt.scatter(X[:, <span class="hljs-number">0</span>], X[:, <span class="hljs-number">1</span>], c=y, s=<span class="hljs-number">40</span>, cmap=plt.cm.Spectral)</code></pre>

<p>得到如下的样本分布： <br />
</p><center> <br />
<img alt="螺旋样本点集" src="http://cs231n.github.io/assets/eg/spiral_raw.png" title="" /> <br />
</center> <br />
紫色，红色和黄色分布代表不同的3种类别。<p></p>

<p>一般来说，<strong>拿到数据都要做预处理</strong>，包括之前提到的<strong>去均值和方差归一化</strong>。不过我们构造的数据幅度已经在-1到1之间了，所以这里不用做这个操作。</p>



<h2 id="3使用softmax线性分类器">3.使用Softmax线性分类器</h2>



<h3 id="31-初始化参数">3.1 初始化参数</h3>

<p>我们先在训练集上用softmax线性分类器试试。如我们在<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">之前的章节</a>提到的，我们这里用的softmax分类器，使用的是一个线性的得分函数/score function，使用的损失函数是互熵损失/cross-entropy loss。包含的参数包括得分函数里面用到的权重矩阵<code>W</code>和偏移量<code>b</code>，我们先随机初始化这些参数。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#随机初始化参数</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment">#D=2表示维度，K=3表示类别数</span>
W = <span class="hljs-number">0.01</span> * np.random.randn(D,K)
b = np.zeros((<span class="hljs-number">1</span>,K))</code></pre>



<h3 id="32-计算得分">3.2 计算得分</h3>

<p>线性的得分函数，将原始的数据映射到得分域非常简单，只是一个直接的矩阵乘法。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#使用得分函数计算得分</span>
scores = np.dot(X, W) + b</code></pre>

<p>在我们给的这个例子中，我们有2个2维点集，所以做完乘法过后，矩阵得分<code>scores</code>其实是一个[300*3]的矩阵，每一行都给出对应3各类别(紫，红，黄)的得分。</p>



<h3 id="33-计算损失">3.3 计算损失</h3>

<p>然后我们就要开始使用我们的损失函数计算<code>损失</code>了，我们之前也提到过，损失函数计算出来的结果代表着预测结果和真实结果之间的吻合度，我们的目标是最小化这个结果。直观一点理解，我们希望对每个样本而言，对应正确类别的得分高于其他类别的得分，如果满足这个条件，那么损失函数计算的结果是一个比较低的值，如果判定的类别不是正确类别，则结果值会很高。我们<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">之前</a>提到了，softmax分类器里面，使用的损失函数是互熵损失。一起回忆一下，假设<code>f</code>是得分向量，那么我们的互熵损失是用如下的形式定义的：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 11.363em; display: inline-block;"><span style="display: inline-block; width: 9.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="msubsup" id="MathJax-Span-3"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-5" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-7" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">log</span><span class="mrow" id="MathJax-Span-9"><span class="mo" id="MathJax-Span-10"><span style="font-family: STIXSizeFourSym;">(</span></span><span class="mfrac" id="MathJax-Span-11"><span style="display: inline-block; width: 2.616em; height: 0px;"><span><span class="msubsup" id="MathJax-Span-12"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-13" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-14"><span class="mrow" id="MathJax-Span-15"><span class="msubsup" id="MathJax-Span-16"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-17" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="msubsup" id="MathJax-Span-20"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-21" style="font-size: 50%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mi" id="MathJax-Span-22" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mrow" id="MathJax-Span-23"><span class="munderover" id="MathJax-Span-24"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mo" id="MathJax-Span-25" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-26" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-27"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-28" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-29"><span class="mrow" id="MathJax-Span-30"><span class="msubsup" id="MathJax-Span-31"><span style="display: inline-block; width: 0.483em; height: 0px;"><span><span class="mi" id="MathJax-Span-32" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-33" style="font-size: 50%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-34"><span style="font-family: STIXSizeFourSym;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.163em;"></span></span></span><span></span></span></span></div></p>

<p>直观地理解一下上述形式，就是Softmax分类器把类别得分向量<code>f</code>中每个值都看成对应三个类别的log似然概率。因此我们在求每个类别对应概率的时候，使用指数函数还原它，然后归一化。从上面形式里面大家也可以看得出来，得到的值总是在0到1之间的，因此从某种程度上说我们可以把它理解成概率。如果判定类别是错误类别，那么上述公式的结果就会趋于无穷，也就是说损失相当相当大，相反，如果判定类别正确，那么损失就接近<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-35" style="width: 5.443em; display: inline-block;"><span style="display: inline-block; width: 4.323em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-36"><span class="mi" id="MathJax-Span-37" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-38" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-39" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-40" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-41" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-42" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-43" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-44" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。这和我们直观理解上要最小化<code>损失</code>是完全吻合的。</p>

<p>当然，当然，别忘了，完整的损失函数定义，一定会加上正则化项，也就是说，完整的损失<code>L</code>应该有如下的形式：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-45" style="width: 100%; display: inline-block;"><span style="display: inline-block; width: 100%; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-46"><span style="display: inline-block; width: 100%; height: 0px;"><span><span class="mi" id="MathJax-Span-47" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-48" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-49"><span style="display: inline-block; width: 3.736em; height: 0px;"><span><span class="munderover" id="MathJax-Span-50"><span style="display: inline-block; width: 3.736em; height: 0px;"><span><span class="mrow" id="MathJax-Span-51"><span class="mfrac" id="MathJax-Span-52"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mn" id="MathJax-Span-53" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="munderover" id="MathJax-Span-55"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-56">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-57" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-58"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-59" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-60" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-61"><span style="display: inline-block; width: 3.736em; height: 0px;"><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.376em;"></span></span><span><span class="mtext" id="MathJax-Span-62" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">data loss</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-63" style="font-family: STIXGeneral-Regular;">+</span><span class="munderover" id="MathJax-Span-64"><span style="display: inline-block; width: 6.456em; height: 0px;"><span><span class="munderover" id="MathJax-Span-65"><span style="display: inline-block; width: 6.456em; height: 0px;"><span><span class="mrow" id="MathJax-Span-66"><span class="mfrac" id="MathJax-Span-67"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mn" id="MathJax-Span-68" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-69" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mi" id="MathJax-Span-70" style="font-family: STIXGeneral-Italic;">λ</span><span class="munderover" id="MathJax-Span-71"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-72">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-73" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="munderover" id="MathJax-Span-74"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-75">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-76" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-77"><span style="display: inline-block; width: 1.603em; height: 0px;"><span><span class="mi" id="MathJax-Span-78" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-79" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-80"><span class="mrow" id="MathJax-Span-81"><span class="mi" id="MathJax-Span-82" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-83" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-84" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-85"><span style="display: inline-block; width: 6.456em; height: 0px;"><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.376em;"></span></span><span><span class="mtext" id="MathJax-Span-86" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">regularization loss</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.283em;"></span></span><span><span class="mspace" id="MathJax-Span-87" style="height: 0.003em; vertical-align: 0.003em; width: 0.003em; display: inline-block; overflow: hidden;"></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.763em;"></span></span></span><span></span></span></span></div></p>

<p>好，我们实现以下，根据上面计算得到的得分<code>scores</code>，我们计算以下各个类别上的概率：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 用指数函数还原</span>
exp_scores = np.exp(scores)
<span class="hljs-comment"># 归一化</span>
probs = exp_scores / np.sum(exp_scores, axis=<span class="hljs-number">1</span>, keepdims=<span class="hljs-keyword">True</span>)</code></pre>

<p>在我们的例子中，我们最后得到了一个[300*3]的概率矩阵<code>prob</code>，其中每一行都包含属于3个类别的概率。然后我们就可以计算完整的互熵损失了：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#计算log概率和互熵损失</span>
corect_logprobs = -np.log(probs[range(num_examples),y])
data_loss = np.sum(corect_logprobs)/num_examples
<span class="hljs-comment">#加上正则化项</span>
reg_loss = <span class="hljs-number">0.5</span>*reg*np.sum(W*W)
loss = data_loss + reg_loss</code></pre>

<p>正则化强度<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-88" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-89"><span class="mi" id="MathJax-Span-90" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>在上述代码中是reg，最开始的时候我们可能会得到<code>loss=1.1</code>，是通过<code>np.log(1.0/3)</code>得到的(假定初始的时候属于3个类别的概率一样)，我们现在想最小化损失<code>loss</code></p>



<h3 id="34-计算梯度与梯度回传">3.4 计算梯度与梯度回传</h3>

<p>我们能够用损失函数评估预测值与真实值之间的差距，下一步要做的事情自然是最小化这个值。我们用传统的梯度下降来解决这个问题。多解释一句，梯度下降的过程是：我们先选取一组随机参数作为初始值，然后计算损失函数在这组参数上的梯度(负梯度的方向表明了损失函数减小的方向)，接着我们朝着负梯度的方向迭代和更新参数，不断重复这个过程直至损失函数最小化。为了清楚一点说明这个问题，我们引入一个中间变量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-91" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-92"><span class="mi" id="MathJax-Span-93" style="font-family: STIXGeneral-Italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，它是归一化后的概率向量，如下：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-94" style="width: 21.549em; display: inline-block;"><span style="display: inline-block; width: 17.229em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-95"><span class="msubsup" id="MathJax-Span-96"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-97" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-98" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-99" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-100"><span style="display: inline-block; width: 2.616em; height: 0px;"><span><span class="msubsup" id="MathJax-Span-101"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-102" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-103"><span class="mrow" id="MathJax-Span-104"><span class="msubsup" id="MathJax-Span-105"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-106" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-107" style="font-size: 50%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mrow" id="MathJax-Span-108"><span class="munderover" id="MathJax-Span-109"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mo" id="MathJax-Span-110" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-111" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-112"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-114"><span class="mrow" id="MathJax-Span-115"><span class="msubsup" id="MathJax-Span-116"><span style="display: inline-block; width: 0.483em; height: 0px;"><span><span class="mi" id="MathJax-Span-117" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-118" style="font-size: 50%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mspace" id="MathJax-Span-119" style="height: 0.003em; vertical-align: 0.003em; width: 5.123em; display: inline-block; overflow: hidden;"></span><span class="msubsup" id="MathJax-Span-120"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-121" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-122" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-123" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-124" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-125" style="font-family: STIXGeneral-Regular;">log</span><span class="mrow" id="MathJax-Span-126"><span class="mo" id="MathJax-Span-127"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">(</span></span></span><span class="msubsup" id="MathJax-Span-128"><span style="display: inline-block; width: 1.176em; height: 0px;"><span><span class="mi" id="MathJax-Span-129" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-130"><span class="mrow" id="MathJax-Span-131"><span class="msubsup" id="MathJax-Span-132"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-133" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-134" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="mo" id="MathJax-Span-135"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">)</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.149em;"></span></span></span><span></span></span></span></div></p>

<p>我们现在希望知道朝着哪个方向调整权重能够减小损失，也就是说，我们需要计算梯度<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-136" style="width: 3.576em; display: inline-block;"><span style="display: inline-block; width: 2.829em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-137"><span class="mi" id="MathJax-Span-138" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-139"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-140" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-141" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-142"><span class="mrow" id="MathJax-Span-143"><span class="mo" id="MathJax-Span-144" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-145" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-146"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-147" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-148" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。损失<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-149" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-150"><span class="msubsup" id="MathJax-Span-151"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-152" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-153" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>从<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-154" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-155"><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>计算而来，再退一步，依赖于<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-157" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-158"><span class="mi" id="MathJax-Span-159" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。于是我们又要做高数题，使用链式求导法则了，不过梯度的结果倒是非常简单：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-160" style="width: 11.043em; display: inline-block;"><span style="display: inline-block; width: 8.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-161"><span class="mfrac" id="MathJax-Span-162"><span style="display: inline-block; width: 1.443em; height: 0px;"><span><span class="mrow" id="MathJax-Span-163"><span class="mi" id="MathJax-Span-164" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-165"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-166" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-167" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-168"><span class="mi" id="MathJax-Span-169" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-170"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-171" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-172" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-173" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-174"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-175" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-176" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-177" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-178" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-179" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-180"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-181" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-182" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-184" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-185" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>解释一下，公式的最后一个部分表示<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-186" style="width: 3.203em; display: inline-block;"><span style="display: inline-block; width: 2.563em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-187"><span class="msubsup" id="MathJax-Span-188"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-189" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-190" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-191" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-192" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的时候，取值为1。整个公式其实非常的优雅和简单。假设我们计算的概率p=[0.2, 0.3, 0.5]，而中间的类别才是真实的结果类别。根据梯度求解公式，我们得到梯度<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-193" style="width: 10.403em; display: inline-block;"><span style="display: inline-block; width: 8.323em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-194"><span class="msubsup" id="MathJax-Span-195"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-196" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-197" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-198" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-199" style="font-family: STIXGeneral-Regular;">[</span><span class="mn" id="MathJax-Span-200" style="font-family: STIXGeneral-Regular;">0.2</span><span class="mo" id="MathJax-Span-201" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-202" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">0.7</span><span class="mo" id="MathJax-Span-204" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-205" style="font-family: STIXGeneral-Regular;">0.5</span><span class="mo" id="MathJax-Span-206" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。我们想想梯度的含义，其实这个结果是可解释性非常高的：大家都知道，梯度是最快上升方向，我们<strong>减掉</strong>它乘以步长才会让损失函数值减小。第1项和第3项(其实就是不正确的类别项)梯度为正，表明增加它们只会让最后的损失/loss增大，而我们的目标是减小loss；中间的梯度项-0.7其实再告诉我们，增加这一项，能减小损失<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-207" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-208"><span class="msubsup" id="MathJax-Span-209"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-210" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-211" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>，达到我们最终的目的。</p>

<p>我们依旧记<code>probs</code>为所有样本属于各个类别的概率，记<code>dscores</code>为得分上的梯度，我们可以有以下的代码：</p>



<pre class="prettyprint"><code class="language-python hljs ">dscores = probs
dscores[range(num_examples),y] -= <span class="hljs-number">1</span>
dscores /= num_examples</code></pre>

<p>我们计算的得分<code>scores = np.dot(X, W)+b</code>，因为上面已经算好了<code>scores</code>的梯度<code>dscores</code>，我们现在可以回传梯度计算W和b了：</p>



<pre class="prettyprint"><code class="language-python hljs ">dW = np.dot(X.T, dscores)
db = np.sum(dscores, axis=<span class="hljs-number">0</span>, keepdims=<span class="hljs-keyword">True</span>)
<span class="hljs-comment">#得记着正则化梯度哈</span>
dW += reg*W</code></pre>

<p>我们通过矩阵的乘法得到梯度部分，权重W的部分加上了正则化项的梯度。因为我们在设定正则化项的时候用了系数<code>0.5</code>(<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-212" style="width: 8.803em; display: inline-block;"><span style="display: inline-block; width: 7.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-213"><span class="mfrac" id="MathJax-Span-214"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-215" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-216"><span class="mi" id="MathJax-Span-217" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-218" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-219" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-220"><span style="display: inline-block; width: 0.483em; height: 0px;"><span><span class="mn" id="MathJax-Span-221" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-222" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mi" id="MathJax-Span-223" style="font-family: STIXGeneral-Italic;">λ</span><span class="msubsup" id="MathJax-Span-224"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-225" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-226" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-227" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-228" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-229" style="font-family: STIXGeneral-Italic;">λ</span><span class="mi" id="MathJax-Span-230" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>)，因此直接用<code>reg*W</code>就可以表示出正则化的梯度部分。</p>



<h3 id="35-参数迭代与更新">3.5 参数迭代与更新</h3>

<p>在得到所需的所有部分之后，我们就可以进行参数更新了：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#参数迭代更新</span>
W += -step_size * dW
b += -step_size * db</code></pre>



<h3 id="36-大杂合训练softmax分类器">3.6 大杂合：训练SoftMax分类器</h3>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#代码部分组一起，训练线性分类器</span>

<span class="hljs-comment">#随机初始化参数</span>
W = <span class="hljs-number">0.01</span> * np.random.randn(D,K)
b = np.zeros((<span class="hljs-number">1</span>,K))

<span class="hljs-comment">#需要自己敲定的步长和正则化系数</span>
step_size = <span class="hljs-number">1e-0</span>
reg = <span class="hljs-number">1e-3</span> <span class="hljs-comment">#正则化系数</span>

<span class="hljs-comment">#梯度下降迭代循环</span>
num_examples = X.shape[<span class="hljs-number">0</span>]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">200</span>):

  <span class="hljs-comment"># 计算类别得分, 结果矩阵为[N x K]</span>
  scores = np.dot(X, W) + b 

  <span class="hljs-comment"># 计算类别概率</span>
  exp_scores = np.exp(scores)
  probs = exp_scores / np.sum(exp_scores, axis=<span class="hljs-number">1</span>, keepdims=<span class="hljs-keyword">True</span>) <span class="hljs-comment"># [N x K]</span>

  <span class="hljs-comment"># 计算损失loss(包括互熵损失和正则化部分)</span>
  corect_logprobs = -np.log(probs[range(num_examples),y])
  data_loss = np.sum(corect_logprobs)/num_examples
  reg_loss = <span class="hljs-number">0.5</span>*reg*np.sum(W*W)
  loss = data_loss + reg_loss
  <span class="hljs-keyword">if</span> i % <span class="hljs-number">10</span> == <span class="hljs-number">0</span>:
    <span class="hljs-keyword">print</span> <span class="hljs-string">"iteration %d: loss %f"</span> % (i, loss)

  <span class="hljs-comment"># 计算得分上的梯度</span>
  dscores = probs
  dscores[range(num_examples),y] -= <span class="hljs-number">1</span>
  dscores /= num_examples

  <span class="hljs-comment"># 计算和回传梯度</span>
  dW = np.dot(X.T, dscores)
  db = np.sum(dscores, axis=<span class="hljs-number">0</span>, keepdims=<span class="hljs-keyword">True</span>)

  dW += reg*W <span class="hljs-comment"># 正则化梯度</span>

  <span class="hljs-comment">#参数更新</span>
  W += -step_size * dW
  b += -step_size * db</code></pre>

<p>得到结果：</p>



<pre class="prettyprint"><code class="language-python hljs ">iteration <span class="hljs-number">0</span>: loss <span class="hljs-number">1.096956</span>
iteration <span class="hljs-number">10</span>: loss <span class="hljs-number">0.917265</span>
iteration <span class="hljs-number">20</span>: loss <span class="hljs-number">0.851503</span>
iteration <span class="hljs-number">30</span>: loss <span class="hljs-number">0.822336</span>
iteration <span class="hljs-number">40</span>: loss <span class="hljs-number">0.807586</span>
iteration <span class="hljs-number">50</span>: loss <span class="hljs-number">0.799448</span>
iteration <span class="hljs-number">60</span>: loss <span class="hljs-number">0.794681</span>
iteration <span class="hljs-number">70</span>: loss <span class="hljs-number">0.791764</span>
iteration <span class="hljs-number">80</span>: loss <span class="hljs-number">0.789920</span>
iteration <span class="hljs-number">90</span>: loss <span class="hljs-number">0.788726</span>
iteration <span class="hljs-number">100</span>: loss <span class="hljs-number">0.787938</span>
iteration <span class="hljs-number">110</span>: loss <span class="hljs-number">0.787409</span>
iteration <span class="hljs-number">120</span>: loss <span class="hljs-number">0.787049</span>
iteration <span class="hljs-number">130</span>: loss <span class="hljs-number">0.786803</span>
iteration <span class="hljs-number">140</span>: loss <span class="hljs-number">0.786633</span>
iteration <span class="hljs-number">150</span>: loss <span class="hljs-number">0.786514</span>
iteration <span class="hljs-number">160</span>: loss <span class="hljs-number">0.786431</span>
iteration <span class="hljs-number">170</span>: loss <span class="hljs-number">0.786373</span>
iteration <span class="hljs-number">180</span>: loss <span class="hljs-number">0.786331</span>
iteration <span class="hljs-number">190</span>: loss <span class="hljs-number">0.786302</span></code></pre>

<p>190次循环之后，结果大致收敛了。我们评估一下准确度：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#评估准确度</span>
scores = np.dot(X, W) + b
predicted_class = np.argmax(scores, axis=<span class="hljs-number">1</span>)
<span class="hljs-keyword">print</span> <span class="hljs-string">'training accuracy: %.2f'</span> % (np.mean(predicted_class == y))</code></pre>

<p>输出结果为49%。不太好，对吧？实际上也是可理解的，你想想，一份螺旋形的数据，你偏执地要用一个线性分类器去分割，不管怎么调整这个线性分类器，都非常非常困难。我们可视化一下数据看看决策边界(decision boundaries)： <br />
</p><center> <br />
<img alt="线性分类器与决策边界" src="http://cs231n.github.io/assets/eg/spiral_linear.png" title="" /> <br />
</center><p></p>



<h2 id="4使用神经网络分类">4.使用神经网络分类</h2>

<p>从刚才的例子里可以看出，一个线性分类器，在现在的数据集上效果并不好。我们知道神经网络可以做非线性的分割，那我们就试试神经网络，看看会不会有更好的效果。对于这样一个简单问题，我们用单隐藏层的神经网络就可以了，这样一个神经网络我们需要2层的权重和偏移量：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 初始化参数</span>
h = <span class="hljs-number">100</span> <span class="hljs-comment"># 隐层大小(神经元个数)</span>
W = <span class="hljs-number">0.01</span> * np.random.randn(D,h)
b = np.zeros((<span class="hljs-number">1</span>,h))
W2 = <span class="hljs-number">0.01</span> * np.random.randn(h,K)
b2 = np.zeros((<span class="hljs-number">1</span>,K))</code></pre>

<p>然后前向计算的过程也稍有一些变化：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#2层神经网络的前向计算</span>
hidden_layer = np.maximum(<span class="hljs-number">0</span>, np.dot(X, W) + b) <span class="hljs-comment"># 用的 ReLU单元</span>
scores = np.dot(hidden_layer, W2) + b2</code></pre>

<p>注意到这里，和之前线性分类器中的得分计算相比，多了一行代码计算，我们首先计算第一层神经网络结果，然后作为第二层的输入，计算最后的结果。哦，对了，代码里大家也看的出来，我们这里使用的是ReLU神经单元。</p>

<p>其他的东西都没太大变化。我们依旧按照之前的方式去计算loss，然后计算梯度<code>dscores</code>。不过反向回传梯度的过程形式上也有一些小小的变化。我们看下面的代码，可能觉得和Softmax分类器里面看到的基本一样，但注意到我们用<code>hidden_layer</code>替换掉了之前的<code>X</code>:</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 梯度回传与反向传播</span>
<span class="hljs-comment"># 对W2和b2的第一次计算</span>
dW2 = np.dot(hidden_layer.T, dscores)
db2 = np.sum(dscores, axis=<span class="hljs-number">0</span>, keepdims=<span class="hljs-keyword">True</span>)</code></pre>

<p>恩，并没有完事啊，因为<code>hidden_layer</code>本身是一个包含其他参数和数据的函数，我们得计算一下它的梯度：</p>



<pre class="prettyprint"><code class="language-python hljs ">dhidden = np.dot(dscores, W2.T)</code></pre>

<p>现在我们有隐层输出的梯度了，下一步我们要反向传播到ReLU神经元了。不过这个计算非常简单，因为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-231" style="width: 6.883em; display: inline-block;"><span style="display: inline-block; width: 5.496em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-232"><span class="mi" id="MathJax-Span-233" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-234" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-235" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-236" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-237" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-238" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-239" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-240" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-241" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-242" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，同时我们又有<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-243" style="width: 7.309em; display: inline-block;"><span style="display: inline-block; width: 5.816em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-244"><span class="mfrac" id="MathJax-Span-245"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mrow" id="MathJax-Span-246"><span class="mi" id="MathJax-Span-247" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-248" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-249"><span class="mi" id="MathJax-Span-250" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-251" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-252" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-253" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-254" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-255" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-256" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mn" id="MathJax-Span-257" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-258" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。用链式法则串起来后，我们可以看到，回传的梯度大于0的时候，经过ReLU之后，保持原样；如果小于0，那本次回传就到此结束了。因此，我们这一部分非常简单：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#梯度回传经过ReLU</span>
dhidden[hidden_layer &lt;= <span class="hljs-number">0</span>] = <span class="hljs-number">0</span></code></pre>

<p>终于，翻山越岭，回到第一层，拿到总的权重和偏移量的梯度：</p>



<pre class="prettyprint"><code class="language-python hljs ">dW = np.dot(X.T, dhidden)
db = np.sum(dhidden, axis=<span class="hljs-number">0</span>, keepdims=<span class="hljs-keyword">True</span>)</code></pre>

<p>来，来，来。组一组，我们把整个神经网络的过程串起来：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 随机初始化参数</span>
h = <span class="hljs-number">100</span> <span class="hljs-comment"># 隐层大小</span>
W = <span class="hljs-number">0.01</span> * np.random.randn(D,h)
b = np.zeros((<span class="hljs-number">1</span>,h))
W2 = <span class="hljs-number">0.01</span> * np.random.randn(h,K)
b2 = np.zeros((<span class="hljs-number">1</span>,K))

<span class="hljs-comment"># 手动敲定的几个参数</span>
step_size = <span class="hljs-number">1e-0</span>
reg = <span class="hljs-number">1e-3</span> <span class="hljs-comment"># 正则化参数</span>

<span class="hljs-comment"># 梯度迭代与循环</span>
num_examples = X.shape[<span class="hljs-number">0</span>]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">10000</span>):

  hidden_layer = np.maximum(<span class="hljs-number">0</span>, np.dot(X, W) + b) <span class="hljs-comment">#使用的ReLU神经元</span>
  scores = np.dot(hidden_layer, W2) + b2

  <span class="hljs-comment"># 计算类别概率</span>
  exp_scores = np.exp(scores)
  probs = exp_scores / np.sum(exp_scores, axis=<span class="hljs-number">1</span>, keepdims=<span class="hljs-keyword">True</span>) <span class="hljs-comment"># [N x K]</span>

  <span class="hljs-comment"># 计算互熵损失与正则化项</span>
  corect_logprobs = -np.log(probs[range(num_examples),y])
  data_loss = np.sum(corect_logprobs)/num_examples
  reg_loss = <span class="hljs-number">0.5</span>*reg*np.sum(W*W) + <span class="hljs-number">0.5</span>*reg*np.sum(W2*W2)
  loss = data_loss + reg_loss
  <span class="hljs-keyword">if</span> i % <span class="hljs-number">1000</span> == <span class="hljs-number">0</span>:
    <span class="hljs-keyword">print</span> <span class="hljs-string">"iteration %d: loss %f"</span> % (i, loss)

  <span class="hljs-comment"># 计算梯度</span>
  dscores = probs
  dscores[range(num_examples),y] -= <span class="hljs-number">1</span>
  dscores /= num_examples

  <span class="hljs-comment"># 梯度回传</span>
  dW2 = np.dot(hidden_layer.T, dscores)
  db2 = np.sum(dscores, axis=<span class="hljs-number">0</span>, keepdims=<span class="hljs-keyword">True</span>)

  dhidden = np.dot(dscores, W2.T)

  dhidden[hidden_layer &lt;= <span class="hljs-number">0</span>] = <span class="hljs-number">0</span>
  <span class="hljs-comment"># 拿到最后W,b上的梯度</span>
  dW = np.dot(X.T, dhidden)
  db = np.sum(dhidden, axis=<span class="hljs-number">0</span>, keepdims=<span class="hljs-keyword">True</span>)

  <span class="hljs-comment"># 加上正则化梯度部分</span>
  dW2 += reg * W2
  dW += reg * W

  <span class="hljs-comment"># 参数迭代与更新</span>
  W += -step_size * dW
  b += -step_size * db
  W2 += -step_size * dW2
  b2 += -step_size * db2</code></pre>

<p>输出结果：</p>



<pre class="prettyprint"><code class="language-python hljs ">iteration <span class="hljs-number">0</span>: loss <span class="hljs-number">1.098744</span>
iteration <span class="hljs-number">1000</span>: loss <span class="hljs-number">0.294946</span>
iteration <span class="hljs-number">2000</span>: loss <span class="hljs-number">0.259301</span>
iteration <span class="hljs-number">3000</span>: loss <span class="hljs-number">0.248310</span>
iteration <span class="hljs-number">4000</span>: loss <span class="hljs-number">0.246170</span>
iteration <span class="hljs-number">5000</span>: loss <span class="hljs-number">0.245649</span>
iteration <span class="hljs-number">6000</span>: loss <span class="hljs-number">0.245491</span>
iteration <span class="hljs-number">7000</span>: loss <span class="hljs-number">0.245400</span>
iteration <span class="hljs-number">8000</span>: loss <span class="hljs-number">0.245335</span>
iteration <span class="hljs-number">9000</span>: loss <span class="hljs-number">0.245292</span></code></pre>

<p>现在的训练准确度为：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#计算分类准确度</span>
hidden_layer = np.maximum(<span class="hljs-number">0</span>, np.dot(X, W) + b)
scores = np.dot(hidden_layer, W2) + b2
predicted_class = np.argmax(scores, axis=<span class="hljs-number">1</span>)
<span class="hljs-keyword">print</span> <span class="hljs-string">'training accuracy: %.2f'</span> % (np.mean(predicted_class == y))</code></pre>

<p>你猜怎么着，准确度为98%，我们可视化一下数据和现在的决策边界： <br />
</p><center> <br />
<img alt="神经网络决策边界" src="http://cs231n.github.io/assets/eg/spiral_net.png" title="" /> <br />
</center> <br />
看起来效果比之前好多了，这充分地印证了我们在<a href="http://blog.csdn.net/han_xiaoyang/article/details/50100367">手把手入门神经网络系列(1)_从初等数学的角度初探神经网络</a>中提到的，神经网络对于空间强大的分割能力，对于非线性的不规则图形，能有很强的划分区域和区分类别能力。<p></p>
            <div>
                作者：yaoqiang2011 发表于2016/1/15 1:01:52 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50521072">原文链接</a>
            </div>
            <div>
            阅读：14361 评论：1 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50521072#comments" target="_blank">查看评论</a>
            </div>
[原]深度学习与计算机视觉系列(8)_神经网络训练与注意点
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年1月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50521064">http://blog.csdn.net/han_xiaoyang/article/details/50521064</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>



<h2 id="1训练">1.训练</h2>

<p>在前一节当中我们讨论了神经网络静态的部分：包括神经网络结构、神经元类型、数据部分、损失函数部分等。这个部分我们集中讲讲动态的部分，主要是训练的事情，集中在实际工程实践训练过程中要注意的一些点，如何找到最合适的参数。</p>



<h3 id="11-关于梯度检验">1.1 关于梯度检验</h3>

<p><a href="http://blog.csdn.net/han_xiaoyang/article/details/50178505">之前的博文</a>我们提到过，我们需要比对数值梯度和解析法求得的梯度，实际工程中这个过程非常容易出错，下面提一些小技巧和注意点：</p>

<p><strong>使用中心化公式</strong>，这一点我们之前也说过，使用如下的数值梯度计算公式： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 20.696em; display: inline-block;"><span style="display: inline-block; width: 16.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mfrac" id="MathJax-Span-3"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mrow" id="MathJax-Span-4"><span class="mi" id="MathJax-Span-5" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-7" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-8" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-9" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-10"><span class="mi" id="MathJax-Span-11" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-13" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-14"><span style="display: inline-block; width: 7.896em; height: 0px;"><span><span class="mrow" id="MathJax-Span-15"><span class="mi" id="MathJax-Span-16" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-17" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-20" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-21" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-22" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-23" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-24" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-25" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-26" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-27" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-28" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-29"><span class="mn" id="MathJax-Span-30" style="font-family: STIXGeneral-Regular;">2</span><span class="mi" id="MathJax-Span-31" style="font-family: STIXGeneral-Italic;">h</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mspace" id="MathJax-Span-32" style="height: 0.003em; vertical-align: 0.003em; width: 0.536em; display: inline-block; overflow: hidden;"></span><span class="mtext" id="MathJax-Span-33" style="font-family: STIXGeneral-Regular;">(<span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">好</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">形</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">式</span>)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div> <br />
而不是 <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-34" style="width: 24.536em; display: inline-block;"><span style="display: inline-block; width: 19.629em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-35"><span class="mfrac" id="MathJax-Span-36"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mrow" id="MathJax-Span-37"><span class="mi" id="MathJax-Span-38" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-39" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-40" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-41" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-42" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-43"><span class="mi" id="MathJax-Span-44" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-45" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-46" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-47"><span style="display: inline-block; width: 6.189em; height: 0px;"><span><span class="mrow" id="MathJax-Span-48"><span class="mi" id="MathJax-Span-49" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-50" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-51" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-52" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-53" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-54" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-55" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-56" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-58" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-59" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-60" style="font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mspace" id="MathJax-Span-61" style="height: 0.003em; vertical-align: 0.003em; width: 0.536em; display: inline-block; overflow: hidden;"></span><span class="mtext" id="MathJax-Span-62" style="font-family: STIXGeneral-Regular;">(<span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">非</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">心</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">化</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">形</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">式</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">要</span><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">用</span>)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div> <br />
即使看似上面的形式有着2倍的计算量，但是如果你有兴趣用把公式中的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-63" style="width: 4.163em; display: inline-block;"><span style="display: inline-block; width: 3.309em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-64"><span class="mi" id="MathJax-Span-65" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-66" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-67" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-68" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-69" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-70" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-71" style="width: 4.163em; display: inline-block;"><span style="display: inline-block; width: 3.309em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-72"><span class="mi" id="MathJax-Span-73" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-74" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-75" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-76" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-77" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>展开的话，你会发现上面公式出错率大概是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-79" style="width: 3.043em; display: inline-block;"><span style="display: inline-block; width: 2.403em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-80"><span class="mi" id="MathJax-Span-81" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-82" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-83"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-85" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-86" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>级别的，而下面公式则是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-87" style="width: 2.403em; display: inline-block;"><span style="display: inline-block; width: 1.923em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-88"><span class="mi" id="MathJax-Span-89" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-90" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-91" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-92" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，注意到<code>h</code>是很小的数，因此显然上面的公式要精准得多。</p>

<p><strong>使用相对误差做比较</strong>，这是实际工程中需要提到的另外一点，在我们得到数值梯度<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-93" style="width: 1.229em; display: inline-block;"><span style="display: inline-block; width: 0.963em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-94"><span class="msubsup" id="MathJax-Span-95"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-96" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-97" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-98" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>和解析梯度<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-99" style="width: 1.229em; display: inline-block;"><span style="display: inline-block; width: 0.963em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-100"><span class="msubsup" id="MathJax-Span-101"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-102" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-103" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-104" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>之后，我们如何去比较两者？第一反应是作差<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-105" style="width: 4.376em; display: inline-block;"><span style="display: inline-block; width: 3.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-106"><span class="texatom" id="MathJax-Span-107"><span class="mrow" id="MathJax-Span-108"><span class="mo" id="MathJax-Span-109" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-110"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-111" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-112" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-113" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-114" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-115"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-116" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-117" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-118" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-119"><span class="mrow" id="MathJax-Span-120"><span class="mo" id="MathJax-Span-121" style="font-family: STIXGeneral-Regular;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>对吧，或者顶多求一个平方。但是用绝对值是不可靠的，假如两个梯度的绝对值都在1.0左右，那么我们可以认为1e-4这样一个差值是非常小的，但是如果两个梯度本身就是1e-4级别的，那这个差值就相当大了。所以我们考虑相对误差： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-122" style="width: 9.283em; display: inline-block;"><span style="display: inline-block; width: 7.416em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-123"><span class="mfrac" id="MathJax-Span-124"><span style="display: inline-block; width: 7.149em; height: 0px;"><span><span class="mrow" id="MathJax-Span-125"><span class="mo" id="MathJax-Span-126" style="font-family: STIXGeneral-Regular;">∣</span><span class="msubsup" id="MathJax-Span-127"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-128" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-129" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-130" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-131" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-132"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-133" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-134" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-135" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-136" style="font-family: STIXGeneral-Regular;">∣</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-137"><span class="mo" id="MathJax-Span-138" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-139" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-140" style="font-family: STIXGeneral-Regular;">∣</span><span class="msubsup" id="MathJax-Span-141"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-142" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-143" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-144" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-145" style="font-family: STIXGeneral-Regular;">∣</span><span class="mo" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-147" style="font-family: STIXGeneral-Regular;">∣</span><span class="msubsup" id="MathJax-Span-148"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-149" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-150" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-151" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-152" style="font-family: STIXGeneral-Regular;">∣</span><span class="mo" id="MathJax-Span-153" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span></div> <br />
加max项的原因很简单：整体形式变得简单和对称。再提个小醒，别忘了避开分母中两项都为0的情况。OK，对于相对误差而言：</p>

<ul>
<li>相对误差&gt;1e-2意味着你的实现肯定是有问题的</li>
<li>1e-2&gt;相对误差&gt;1e-4，你会有点担心</li>
<li>1e-4&gt;相对误差，基本是OK的，但是要注意极端情况(使用tanh或者softmax时候出现kinks)那还是太大</li>
<li>1e-7&gt;相对误差，放心大胆使用</li>
</ul>

<p>哦，对对，还有一点，随着神经网络层数增多，相对误差是会增大的。这意味着，对于10层的神经网络，其实相对误差也许在1e-2级别就已经是可以正常使用的了。</p>

<p><strong>使用双精度浮点数</strong>。如果你使用单精度浮点数计算，那你的实现可能一点问题都没有，但是相对误差却很大。实际工程中出现过，从单精度切到双精度，相对误差立马从1e-2降到1e-8的情况。</p>

<p><strong>要留意浮点数的范围</strong>。一篇很好的文章是<a href="http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>。我们得保证计算时，所有的数都在浮点数的可计算范围内，太小的值(比如h)会带来计算上的问题。</p>

<p><strong>Kinks</strong>。它指的是一种会导致数值梯度和解析梯度不一致的情况。会出现在使用ReLU或者类似的神经单元上时，对于很小的负数，比如x=-1e-6，因为x&lt;0，所以解析梯度是绝对为0的，但是对于数值梯度而言，加入你计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-154" style="width: 4.163em; display: inline-block;"><span style="display: inline-block; width: 3.309em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-155"><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-157" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-159" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-160" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-161" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，取的h&gt;1e-6，那就跳到大于0的部分了，这样数值梯度就一定和解析梯度不一样了。而且这个并不是极端情况哦，对于一个像CIFAR-10这样级别的数据集，因为有50000个样本，会有450000个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-162" style="width: 4.749em; display: inline-block;"><span style="display: inline-block; width: 3.789em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-163"><span class="mi" id="MathJax-Span-164" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-165" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-166" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-167" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-168" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-169" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-170" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-171" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，会出现很多的kinks。</p>

<p>不过我们可以监控<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-172" style="width: 2.136em; display: inline-block;"><span style="display: inline-block; width: 1.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-173"><span class="mi" id="MathJax-Span-174" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-175" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-176" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>里的2项，比较大的那项如果存在跃过0的情况，那就要注意了。</p>

<p><strong>设定步长h要小心</strong>。h肯定不能特别大，这个大家都知道对吧。但我并不是说h要设定的非常小，其实h设定的非常小也会有问题，因为h太小程序可能会有精度问题。很有意思的是，有时候在实际情况中h如果从非常小调为1e-4或者1e-6反倒会突然计算变得正常。</p>

<p><strong>不要让正则化项盖过数据项</strong>。有时候会出现这个问题，因为损失函数是数据损失部分与正则化部分的求和。因此要特别注意正则化部分，你可以想象下，如果它盖过了数据部分，那么主要的梯度来源于正则化项，那这样根本就做不到正常的梯度回传和参数迭代更新。所以即使在检查数据部分的实现是否正确，也得先关闭正则化部分(系数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-177" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-178"><span class="mi" id="MathJax-Span-179" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>设为0)，再检查。</p>

<p><strong>注意dropout和其他参数</strong>。在检查数值梯度和解析梯度的时候，如果不把dropout和其他参数都『关掉』的话，两者之间是一定会有很大差值的。不过『关掉』它们的负面影响是，没有办法检查这些部分的梯度是否正确。所以，一个合理的方式是，在计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-180" style="width: 4.163em; display: inline-block;"><span style="display: inline-block; width: 3.309em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-181"><span class="mi" id="MathJax-Span-182" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-184" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-185" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-186" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-187" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-188" style="width: 4.163em; display: inline-block;"><span style="display: inline-block; width: 3.309em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-189"><span class="mi" id="MathJax-Span-190" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-191" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-192" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-193" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-194" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>之前，随机初始化<code>x</code>，然后再计算解析梯度。</p>

<p><strong>关于只检查几个维度</strong>。在实际情况中，梯度可能有上百万维参数。因此每个维度都检查一遍就不太现实了，一般都是只检查一些维度，然后假定其他的维度也都正确。要小心一点：要保证这些维度的每个参数都检查对比过了。</p>



<h3 id="12-训练前的检查工作">1.2 训练前的检查工作</h3>

<p>在开始训练之前，我们还得做一些检查，来确保不会运行了好一阵子，才发现计算代价这么大的训练其实并不正确。</p>

<p><strong>在初始化之后看一眼loss</strong>。其实我们在用很小的随机数初始化神经网络后，第一遍计算loss可以做一次检查(当然要记得把正则化系数设为0)。以CIFAR-10为例，如果使用Softmax分类器，我们预测应该可以拿到值为2.302左右的初始loss(因为10个类别，初始概率应该都未0.1，Softmax损失是-log(正确类别的概率):-ln(0.1)=2.302)。</p>

<p><strong>加回正则项</strong>，接着我们把正则化系数设为正常的小值，加回正则化项，这时候再算损失/loss，应该比刚才要大一些。</p>

<p><strong>试着去拟合一个小的数据集</strong>。最后一步，也是很重要的一步，在对大数据集做训练之前，我们可以先训练一个小的数据集(比如20张图片)，然后看看你的神经网络能够做到0损失/loss(当然，是指的正则化系数为0的情况下)，因为如果神经网络实现是正确的，在无正则化项的情况下，完全能够过拟合这一小部分的数据。</p>



<h3 id="13-训练过程中的监控">1.3 训练过程中的监控</h3>

<p>开始训练之后，我们可以通过监控一些指标来了解训练的状态。我们还记得有一些参数是我们认为敲定的，比如学习率，比如正则化系数。</p>

<ul>
<li><strong>损失/loss随每轮完整迭代后的变化</strong></li>
</ul>

<p>下面这幅图表明了不同的学习率下，我们每轮完整迭代(这里的一轮完整迭代指的是所有的样本都被过了一遍，因为随机梯度下降中batch size的大小设定可能不同，因此我们不选每次mini-batch迭代为周期)过后的loss应该呈现的变化状况： <br />
</p><center> <br />
<img alt="loss变化状况" src="http://cs231n.github.io/assets/nn3/learningrates.jpeg" title="" /> <br />
</center> <br />
合适的学习率可以保证每轮完整训练之后，loss都减小，且能在一段时间后降到一个较小的程度。太小的学习率下loss减小的速度很慢，如果太激进，设置太高的学习率，开始的loss减小速度非常可观，可是到了某个程度之后就不再下降了，在离最低点一段距离的地方反复，无法下降了。下图是实际训练CIFAR-10的时候，loss的变化情况： <br />
<center> <br />
<img alt="训练CIFAR-10的loss状况" src="http://cs231n.github.io/assets/nn3/loss.jpeg" title="" /> <br />
</center> <br />
大家可能会注意到上图的曲线有一些上下跳动，不稳定，这和随机梯度下降时候设定的batch size有关系。batch size非常小的情况下，会出现很大程度的不稳定，如果batch size设定大一些，会相对稳定一点。<p></p>

<ul>
<li><strong>训练集/验证集上的准确度</strong></li>
</ul>

<p>然后我们需要跟踪一下训练集和验证集上的准确度状况，以判断分类器所处的状态(过拟合程度如何)： <br />
</p><center> <br />
<img alt="训练集和验证集上的准确度曲线" src="http://cs231n.github.io/assets/nn3/accuracies.jpeg" title="" /> <br />
</center> <br />
随着时间推进，训练集和验证集上的准确度都会上升，如果训练集上的准确度到达一定程度后，两者之间的差值比较大，那就要注意一下，可能是过拟合现象，如果差值不大，那说明模型状况良好。<p></p>

<ul>
<li><strong>权重：权重更新部分 的比例</strong></li>
</ul>

<p>最后一个需要留意的量是权重更新幅度和当前权重幅度的壁纸。注意哦，是权重更新部分，不一定是计算出来的梯度哦(比如训练用的vanilla sgd，那这个值就是<code>梯度</code>和<code>学习率</code>的乘积)。最好对于每组参数都独立地检查这个比例。我们没法下定论，但是在之前的工程实践中，一个合适的比例大概是1e-3。如果你得到的比例比这个值小很多，那么说明学习率设定太低了，反之则是设定太高了。</p>

<ul>
<li><strong>每一层的 激励/梯度值 分布</strong></li>
</ul>

<p>如果初始化不正确，那整个训练过程会越来越慢，甚至直接停掉。不过我们可以很容易发现这个问题。体现最明显的数据是每一层的激励和梯度的方差(波动状况)。举个例子说，如果初始化不正确，很有可能从前到后逐层的激励(激励函数的输入部分)方差变化是如下的状况：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 我们用标准差为0.01均值为0的高斯分布值来初始化权重(这不合理)</span>
Layer <span class="hljs-number">0</span>: Variance: <span class="hljs-number">1.005315e+00</span>
Layer <span class="hljs-number">1</span>: Variance: <span class="hljs-number">3.123429e-04</span>
Layer <span class="hljs-number">2</span>: Variance: <span class="hljs-number">1.159213e-06</span>
Layer <span class="hljs-number">3</span>: Variance: <span class="hljs-number">5.467721e-10</span>
Layer <span class="hljs-number">4</span>: Variance: <span class="hljs-number">2.757210e-13</span>
Layer <span class="hljs-number">5</span>: Variance: <span class="hljs-number">3.316570e-16</span>
Layer <span class="hljs-number">6</span>: Variance: <span class="hljs-number">3.123025e-19</span>
Layer <span class="hljs-number">7</span>: Variance: <span class="hljs-number">6.199031e-22</span>
Layer <span class="hljs-number">8</span>: Variance: <span class="hljs-number">6.623673e-25</span></code></pre>

<p>大家看一眼上述的数值，就会发现，从前往后，激励值波动逐层降得非常厉害，这也就意味着反向算法中，计算回传梯度的时候，梯度都要接近0了，因此参数的迭代更新几乎就要衰减没了，显然不太靠谱。我们按照<a href="http://blog.csdn.net/han_xiaoyang/article/details/50451460">上一讲</a>中提到的方式正确初始化权重，再逐层看激励/梯度值的方差，会发现它们的方差衰减没那么厉害，近似在一个级别：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 重新正确设定权重:</span>
Layer <span class="hljs-number">0</span>: Variance: <span class="hljs-number">1.002860e+00</span>
Layer <span class="hljs-number">1</span>: Variance: <span class="hljs-number">7.015103e-01</span>
Layer <span class="hljs-number">2</span>: Variance: <span class="hljs-number">6.048625e-01</span>
Layer <span class="hljs-number">3</span>: Variance: <span class="hljs-number">8.517882e-01</span>
Layer <span class="hljs-number">4</span>: Variance: <span class="hljs-number">6.362898e-01</span>
Layer <span class="hljs-number">5</span>: Variance: <span class="hljs-number">4.329555e-01</span>
Layer <span class="hljs-number">6</span>: Variance: <span class="hljs-number">3.539950e-01</span>
Layer <span class="hljs-number">7</span>: Variance: <span class="hljs-number">3.809120e-01</span>
Layer <span class="hljs-number">8</span>: Variance: <span class="hljs-number">2.497737e-01</span></code></pre>

<p>再看逐层的激励波动情况，你会发现即使到最后一层，网络也还是『活跃』的，意味着反向传播中回传的梯度值也是够的，神经网络是一个积极learning的状态。</p>

<ul>
<li><strong>首层的可视化</strong></li>
</ul>

<p>最后再提一句，如果神经网络是用在图像相关的问题上，那么把首层的特征和数据画出来(可视化)可以帮助我们了解训练是否正常： <br />
</p><center> <br />
<img alt="可视化首层" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Ftest.png" title="" /> <br />
</center> <br />
上图的左右是一个正常和不正常情况下首层特征的可视化对比。左边的图中特征噪点较多，图像很『浑浊』，预示着可能训练处于『病态』过程：也许是学习率设定不正常，或者正则化系数设定太低了，或者是别的原因，可能神经网络不会收敛。右边的图中，特征很平滑和干净，同时相互间的区分度较大，这表明训练过程比较正常。<p></p>



<h3 id="14-关于参数更新部分的注意点">1.4 关于参数更新部分的注意点</h3>

<p>当我们确信解析梯度实现正确后，那就该在后向传播算法中使用它更新权重参数了。就单参数更新这个部分，也是有讲究的：</p>

<p>说起来，神经网络的最优化这个子话题在深度学习研究领域还真是很热。下面提一下大神们的论文中提到的方法，很多在实际应用中还真是很有效也很常用。</p>



<h4 id="141-随机梯度下降与参数更新">1.4.1 随机梯度下降与参数更新</h4>

<p><strong>vanilla update</strong></p>

<p>这是最简单的参数更新方式，拿到梯度之后，乘以设定的学习率，用现有的权重减去这个部分，得到新的权重参数(因为梯度表示变化率最大的增大方向，减去这个值之后，损失函数值才会下降)。记<code>x</code>为权重参数向量x，而梯度为<code>dx</code>，然后我们设定学习率为<code>learning_rate</code>，则最简单的参数更新大家都知道：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># Vanilla update</span>
x += - learning_rate * dx</code></pre>

<p>当然<code>learning_rate</code>是我们自己敲定的一个超变量值(在该更新方法中是全程不变的)，而且数学上可以保证，当学习率足够低的时候，经这个过程迭代后，损失函数不会增加。</p>

<p><strong>Momentum update</strong></p>

<p>这是上面参数更新方法的一种小小的优化，通常说来，在深层次的神经网络中，收敛效率更高一些(速度更快)。这种参数更新方式源于物理学角度的优化。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 物理动量角度启发的参数更新</span>
v = mu * v - learning_rate * dx <span class="hljs-comment"># 合入一部分附加速度</span>
x += v <span class="hljs-comment"># 更新参数</span></code></pre>

<p>这里<code>v</code>是初始化为0的一个值，<code>mu</code>是我们敲定的另外一个超变量(最常见的设定值为0.9，物理含义和摩擦力系数相关)，一个比较粗糙的理解是，(随机)梯度下降可以看做从山上下山到山底的过程，这种方式，相当于在下山的过程中，加上了一定的摩擦阻力，消耗掉一小部分动力系统的能量，这样会比较高效地在山底停住，而不是持续震荡。对了，其实我们也可以用交叉验证来选择最合适的<code>mu</code>值，一般我们会从[0.5, 0.9, 0.95, 0.99]里面选出最合适的。</p>

<p><strong>Nesterov Momentum</strong></p>

<p>这是momentum update的一个不同的版本，最近也用得很火。咳咳，据称，这种参数更新方法，有更好的凸函数和凸优化理论基础，而实际中的收敛效果也略优于momentum update。</p>

<p>此处的深层次原理，博主表示智商有点捉急…有兴趣的同学可以看看以下的2个材料：</p>

<ul>
<li>Yoshua Bengio大神的<a href="http://arxiv.org/pdf/1212.0901v2.pdf">Advances in optimizing Recurrent Networks</a>3.5节</li>
<li><a href="http://www.cs.utoronto.ca/~ilya/pubs/ilya_sutskever_phd_thesis.pdf">Ilya Sutskever’s thesis</a>7.2节</li>
</ul>

<p>它的思想对应着如下的代码：</p>



<pre class="prettyprint"><code class="language-python hljs ">x_ahead = x + mu * v
<span class="hljs-comment"># 考虑到这个时候的x已经有一些变化了</span>
v = mu * v - learning_rate * dx_ahead
x += v</code></pre>

<p>工程上更实用的一个版本是：</p>



<pre class="prettyprint"><code class="language-python hljs ">v_prev = v <span class="hljs-comment"># 当前状态先存储起来</span>
v = mu * v - learning_rate * dx <span class="hljs-comment"># 依旧按照Momentum update的方式更新</span>
x += -mu * v_prev + (<span class="hljs-number">1</span> + mu) * v <span class="hljs-comment"># 新的更新方式</span></code></pre>



<h4 id="142-衰减学习率">1.4.2 衰减学习率</h4>

<p>在实际训练过程中，随着训练过程推进，逐渐衰减学习率是很有必要的。我们继续回到下山的场景中，刚下山的时候，可能离最低点很远，那我步子迈大一点也没什么关系，可是快到山脚了，我还激进地大步飞奔，一不小心可能就迈过去了。所以还不如随着下山过程推进，逐步减缓一点点步伐。不过这个『火候』确实要好好把握，衰减太慢的话，最低段震荡的情况依旧；衰减太快的话，整个系统下降的『动力』衰减太快，很快就下降不动了。下面提一些常见的学习率衰减方式：</p>

<ul>
<li><strong>步伐衰减</strong>：这是很常见的一个衰减模式，每过一轮完整的训练周期(所有的图片都过了一遍)之后，学习率下降一些。比如比较常见的一个衰减率可能是每20轮完整训练周期，下降10%。不过最合适的值还真是依问题不同有变化。如果你在训练过程中，发现交叉验证集上呈现很高的错误率，还一直不下降，你可能就可以考虑考虑调整一下(衰减)学习率了。</li>
<li><strong>指数级别衰减</strong>：数学形式为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-196" style="width: 5.603em; display: inline-block;"><span style="display: inline-block; width: 4.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-197"><span class="mi" id="MathJax-Span-198" style="font-family: STIXGeneral-Italic;">α</span><span class="mo" id="MathJax-Span-199" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-200"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-201" style="font-family: STIXGeneral-Italic;">α</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-202" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-203"><span style="display: inline-block; width: 1.549em; height: 0px;"><span><span class="mi" id="MathJax-Span-204" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-205"><span class="mrow" id="MathJax-Span-206"><span class="mo" id="MathJax-Span-207" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-208" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-209" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，其中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-210" style="width: 2.509em; display: inline-block;"><span style="display: inline-block; width: 1.976em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-211"><span class="msubsup" id="MathJax-Span-212"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-213" style="font-family: STIXGeneral-Italic;">α</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-214" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-215" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-216" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是需要自己敲定的超参数，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-217" style="width: 0.429em; display: inline-block;"><span style="display: inline-block; width: 0.323em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-218"><span class="mi" id="MathJax-Span-219" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是迭代轮数。</li>
<li><strong>1/t衰减</strong>：有着数学形式为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-220" style="width: 7.896em; display: inline-block;"><span style="display: inline-block; width: 6.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-221"><span class="mi" id="MathJax-Span-222" style="font-family: STIXGeneral-Italic;">α</span><span class="mo" id="MathJax-Span-223" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-224"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-225" style="font-family: STIXGeneral-Italic;">α</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-226" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-227"><span class="mrow" id="MathJax-Span-228"><span class="mo" id="MathJax-Span-229" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mo" id="MathJax-Span-230" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-231" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-232" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-233" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-234" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-235" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的衰减模式，其中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-236" style="width: 2.509em; display: inline-block;"><span style="display: inline-block; width: 1.976em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-237"><span class="msubsup" id="MathJax-Span-238"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-239" style="font-family: STIXGeneral-Italic;">α</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-240" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-241" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-242" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是需要自己敲定的超参数，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-243" style="width: 0.429em; display: inline-block;"><span style="display: inline-block; width: 0.323em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-244"><span class="mi" id="MathJax-Span-245" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是迭代轮数。</li>
</ul>

<p>实际工程实践中，大家还是更倾向于使用<strong>步伐衰减</strong>，因为它包含的超参数少一些，计算简单一些，可解释性稍微高一点。</p>



<h4 id="143-二次迭代方法">1.4.3 二次迭代方法</h4>

<p>最优化问题里还有一个非常有名的<a href="http://en.wikipedia.org/wiki/Newton%27s_method_in_optimization">牛顿法</a>，它按照如下的方式进行迭代更新参数：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-246" style="width: 12.429em; display: inline-block;"><span style="display: inline-block; width: 9.923em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-247"><span class="mi" id="MathJax-Span-248" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-249" style="font-family: STIXGeneral-Regular;">←</span><span class="mi" id="MathJax-Span-250" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-251" style="font-family: STIXGeneral-Regular;">−</span><span class="mo" id="MathJax-Span-252" style="font-family: STIXGeneral-Regular;">[</span><span class="mi" id="MathJax-Span-253" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-254" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-255" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-256" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-257" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-258"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mo" id="MathJax-Span-259" style="font-family: STIXGeneral-Regular;">]</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-260"><span class="mrow" id="MathJax-Span-261"><span class="mo" id="MathJax-Span-262" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-263" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-264" style="font-family: STIXGeneral-Regular;">∇</span><span class="mi" id="MathJax-Span-265" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-266" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-268" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>这里的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-269" style="width: 2.936em; display: inline-block;"><span style="display: inline-block; width: 2.349em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-270"><span class="mi" id="MathJax-Span-271" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-272" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-274" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-275" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是<a href="http://en.wikipedia.org/wiki/Hessian_matrix">Hessian矩阵</a>，是函数的二阶偏微分。而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-276" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; width: 2.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-277"><span class="mi" id="MathJax-Span-278" style="font-family: STIXGeneral-Regular;">∇</span><span class="mi" id="MathJax-Span-279" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-280" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-281" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-282" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>和梯度下降里看到的一样，是一个梯度向量。直观理解是Hessian矩阵描绘出了损失函数的曲度，因此能让我们更高效地迭代和靠近最低点：乘以Hessian矩阵进行参数迭代会让在曲度较缓的地方，会用更激进的步长更新参数，而在曲度很陡的地方，步伐会放缓一些。因此相对一阶的更新算法，在这点上它还是有很足的优势的。</p>

<p>比较尴尬的是，实际深度学习过程中，直接使用二次迭代的方法并不是很实用。原因是直接计算Hessian矩阵是一个非常耗时耗资源的过程。举个例子说，一个一百万参数的神经网络的Hessian矩阵维度为[1000000*1000000]，算下来得占掉3725G的内存。当然，我们有<a href="http://en.wikipedia.org/wiki/Limited-memory_BFGS">L-BFGS</a>这种近似Hessian矩阵的算法，可以解决内存问题。但是L-BFGS一般在全部数据集上计算，而不像我们用的mini-batch SGD一样在小batch小batch上迭代。现在有很多人在努力研究这个问题，试图让L-BFGS也能以mini-batch的方式稳定迭代更新。但就目前而言，<strong>大规模数据上的深度学习很少用到L-BFGS或者类似的二次迭代方法，倒是随机梯度下降这种简单的算法被广泛地使用着。</strong></p>

<p>感兴趣的同学可以参考以下文献：</p>

<ul>
<li><a href="http://ai.stanford.edu/~ang/papers/icml11-OptimizationForDeepLearning.pdf">On Optimization Methods for Deep Learning</a>：2011年的论文比较随机梯度下降和L-BFGS</li>
<li><a href="http://research.google.com/archive/large_deep_networks_nips2012.html">Large Scale Distributed Deep Networks</a>：google brain组的论文，比较随机梯度下降和L-BFGS在大规模分布式优化上的差别。</li>
<li><a href="http://arxiv.org/abs/1311.2115">SFO</a>算法试图结合随机梯度下降和L-BFGS的优势。</li>
</ul>



<h4 id="144-逐参更新学习率">1.4.4 逐参更新学习率</h4>

<p>到目前为止大家看到的学习率更新方式，都是全局使用同样的学习率。调整学习率是一件很费时同时也容易出错的事情，因此大家一直希望有一种学习率自更新的方式，甚至可以细化到逐参数更新。现在确实有一些这种方法，其中大多数还需要额外的超参数设定，优势是在大多数超参数设定下，效果都比使用写死的学习率要好。下面稍微提一下常见的自适应方法(原谅博主底子略弱，没办法深入数学细节讲解)：</p>

<p><strong>Adagrad</strong>是Duchi等在论文<a href="http://www.jmlr.org/papers/volume12/duchi11a/duchi11a.pdf">Adaptive Subgradient Methods for Online Learning and Stochastic Optimization</a>中提出的自适应学习率算法。简单代码实现如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 假定梯度为dx，参数向量为x</span>
cache += dx**<span class="hljs-number">2</span>
x += - learning_rate * dx / np.sqrt(cache + <span class="hljs-number">1e-8</span>)</code></pre>

<p>其中变量<code>cache</code>有着和梯度一样的维度，然后我们用这个变量持续累加梯度平方。之后这个值被用作参数更新步骤中的归一化。这种方法的好处是，对于高梯度的权重，它们的有效学习率被降低了；而小梯度的权重迭代过程中学习率提升了。而分母开根号这一步非常重要，不开根号的效果远差于开根号的情况。平滑参数<code>1e-8</code>避免了除以0的情况。</p>

<p><strong>RMSprop</strong>是一种非常有效，然后好像还没有被公开发布的自适应学习率更新方法。有意思的是，现在使用这个方法的人，都引用的大神Geoff Hinton的coursera课程第6节的slide第29页。RMSProp方法对Adagrad算法做了一个简单的优化，以减缓它的迭代强度，它开方的部分cache做了一个平滑处理，大致的示意代码如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">cache = decay_rate * cache + (<span class="hljs-number">1</span> - decay_rate) * dx**<span class="hljs-number">2</span>
x += - learning_rate * dx / np.sqrt(cache + <span class="hljs-number">1e-8</span>)</code></pre>

<p>这里的<code>decay_rate</code>是一个手动敲定的超参数，我们通常会在[0.9, 0.99, 0.999]中取值。需要特别注意的是，<code>x+=</code>这个累加的部分和Adagrad是完全一样的，但是<code>cache</code>本身是迭代变化的。</p>

<p>另外的方法还有：</p>

<ul>
<li>Matthew Zeiler提出的<a href="http://arxiv.org/abs/1212.5701">Adadelta</a></li>
<li><a href="http://arxiv.org/abs/1412.6980">Adam: A Method for Stochastic Optimization</a></li>
<li><a href="http://arxiv.org/abs/1312.6055">Unit Tests for Stochastic Optimization</a></li>
</ul>

<p>下图是上述提到的多种参数更新方法下，损失函数最优化的示意图： <br />
</p><center> <br />
<img alt="参数更新1" src="http://cs231n.github.io/assets/nn3/opt2.gif" title="" /> <br />
<img alt="参数更新2" src="http://cs231n.github.io/assets/nn3/opt1.gif" title="" /> <br />
</center><p></p>



<h3 id="15-超参数的设定与优化">1.5 超参数的设定与优化</h3>

<p>神经网络的训练过程中，不可避免地要和很多超参数打交道，这是我们需要手动设定的，大致包括：</p>

<ul>
<li>初始学习率</li>
<li>学习率衰减程度</li>
<li>正则化系数/强度(包括l2正则化强度，dropout比例)</li>
</ul>

<p>对于大的深层次神经网络而言，我们需要很多的时间去训练。因此在此之前我们花一些时间去做超参数搜索，以确定最佳设定是非常有必要的。最直接的方式就是在框架实现的过程中，设计一个会持续变换超参数实施优化，并记录每个超参数下每一轮完整训练迭代下的验证集状态和效果。实际工程中，神经网络里确定这些超参数，我们一般很少使用n折交叉验证，一般使用一份固定的交叉验证集就可以了。</p>

<p>一般对超参数的尝试和搜索都是在log域进行的。例如，一个典型的学习率搜索序列就是<code>learning_rate = 10 ** uniform(-6, 1)</code>。我们先生成均匀分布的序列，再以10为底做指数运算，其实我们在正则化系数中也做了一样的策略。比如常见的搜索序列为[0.5, 0.9, 0.95, 0.99]。另外还得注意一点，如果交叉验证取得的最佳超参数结果在分布边缘，要特别注意，也许取的均匀分布范围本身就是不合理的，也许扩充一下这个搜索范围会有更好的参数。</p>



<h3 id="16-模型融合与优化">1.6 模型融合与优化</h3>

<p>实际工程中，一个能有效提高最后神经网络效果的方式是，训练出多个独立的模型，在预测阶段选结果中的众数。模型融合能在一定程度上缓解过拟合的现象，对最后的结果有一定帮助，我们有一些方式可以得到同一个问题的不同独立模型：</p>

<ul>
<li><strong>使用不同的初始化参数</strong>。先用交叉验证确定最佳的超参数，然后选取不同的初始值进行训练，结果模型能有一定程度的差别。</li>
<li><strong>选取交叉验证排序靠前的模型</strong>。在用交叉验证确定超参数的时候，选取top的部分超参数，分别进行训练和建模。</li>
<li><strong>选取训练过程中不同时间点的模型</strong>。神经网络训练确实是一件非常耗时的事情，因此有些人在模型训练到一定准确度之后，取不同的时间点的模型去做融合。不过比较明显的是，这样模型之间的差异性其实比较小，好处是一次训练也可以有模型融合的收益。</li>
</ul>

<p>还有一种常用的有效改善模型效果的方式是，对于训练后期，保留几份中间模型权重和最后的模型权重，对它们求一个平均，再在交叉验证集上测试结果。通常都会比直接训练的模型结果高出一两个百分点。直观的理解是，对于碗状的结构，有很多时候我们的权重都是在最低点附近跳来跳去，而没法真正到达最低点，而两个最低点附近的位置求平均，会有更高的概率落在离最低点更近的位置。</p>



<h3 id="2-总结">2. 总结</h3>

<ul>
<li>用一部分的数据测试你梯度计算是否正确，注意提到的注意点。</li>
<li>检查你的初始权重是否合理，在关掉正则化项的系统里，是否可以取得100%的准确度。</li>
<li>在训练过程中，对损失函数结果做记录，以及训练集和交叉验证集上的准确度。</li>
<li>最常见的权重更新方式是SGD+Momentum，推荐试试RMSProp自适应学习率更新算法。</li>
<li>随着时间推进要用不同的方式去衰减学习率。</li>
<li>用交叉验证等去搜索和找到最合适的超参数。</li>
<li>记得也做做模型融合的工作，对结果有帮助。</li>
</ul>
            <div>
                作者：yaoqiang2011 发表于2016/1/15 0:52:01 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50521064">原文链接</a>
            </div>
            <div>
            阅读：10759 评论：2 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50521064#comments" target="_blank">查看评论</a>
            </div>
[原]机器学习系列(6)_从白富美相亲看特征预处理与选择(下)
<p>作者：<a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a> &amp;&amp;<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年1月。 <br />
出处： <br />
<a href="http://blog.csdn.net/longxinchen_ml/article/details/50493845">http://blog.csdn.net/longxinchen_ml/article/details/50493845</a>， <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50503115">http://blog.csdn.net/han_xiaoyang/article/details/50503115</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>



<h2 id="1-剧情一挑螃蟹的秘密">1. 剧情一：挑螃蟹的秘密</h2>

<blockquote>
  <p><em>李雷与韩梅梅的关系发展得不错，趁国庆休假一起来天津玩。今天，李雷十分神秘地请韩梅梅去一家餐馆吃螃蟹。韩梅梅大失所望，这个餐馆很不起眼，感觉就像路边的老食堂。菜单都用粉笔写在黑板上，一点都不高档。一看价格，满黄螃蟹120块钱一只!这也太贵了。</em></p>
  
  <p><em>李雷看到了韩梅梅的神情，笑着解释道：“这家店老板有一个绝活——会看螃蟹。他能保证120块的螃蟹就是满黄。如果拆开来不是，这个螃蟹就不要钱，再换一个。靠着老板的绝活，这家店已经是几十年的老店了，在当地非常有名气。郭德纲、赵丽蓉这些天津社会名流都来这家店吃过螃蟹。”</em></p>
  
  <p><em>韩梅梅将信将疑。拆开螃蟹，饱满的蟹黄喷薄欲出。韩梅梅边吃边惊叹：“从没有吃个这么好吃的螃蟹！”</em></p>
  
  <p><em>李雷接着说:“老板的绝活密不外传，几十年来都自己上货。虽说是一个大老板，一年到头满身海鲜味。而且他也不开分店。”</em></p>
  
  <p><em>韩梅梅说：“那是，这么高明的绝活只有他自己知道才能挣钱啊。”这时，韩梅梅拂面而笑，突然想考一考自己的相亲对象，说：“李大码农，你不是做机器学习的吗？如果要你去用机器学习挑满黄的螃蟹，你怎么做？”</em></p>
</blockquote>



<h2 id="2-初步划定特征的范围获取特征">2. 初步划定特征的范围，获取特征</h2>

<p>李雷早就想过这个问题了。长期的职业素养让他对任何事情都想用机器学习的方法去鼓捣。李雷的基本思路是这样的，我们<strong>尽可能观察螃蟹更多的特征，从中找出与“螃蟹满黄”最相关的特征来，帮助我们去判断</strong>。当然特征有非常多，我们可以先<strong>头脑风暴</strong>一下：</p>

<ol>
<li>一些直观的特征：包括蟹壳的颜色和光泽度、钳子的大小、肚脐的形状、螃蟹腿的粗细和长度、眼睛的大小和颜色光泽、螃蟹的品种、重量、体积、腰围等等……</li>
<li>一些需要在互动过程中观察到的特征：螃蟹钳子的力量，对外界刺激的反应，用筷子触碰螃蟹眼睛后的反应，螃蟹行动的速度……</li>
<li>还有一些外部环境的特征： 收获螃蟹的季节，培养螃蟹的水域……</li>
</ol>

<blockquote>
  <p><em>韩梅梅插话到：“这么多特征我头都大了，你还有完没完?”</em></p>
</blockquote>

<p>其实，如果真要穷举出所有的特征可能永远也举不完。但是我们<strong>目的很明确</strong>——判断螃蟹是否是满黄。所以我们只关心跟这个问题（“标签”）相关的特征，它们只占所有特征中很小一部分。<strong>怕就怕一些糊涂的需求方连目的都不明确就要求一通乱搞，即便出来了一堆结果，也不知道有什么用。</strong></p>

<p>头脑风暴完之后，很重要的一点就是<strong>找到对这个问题有长期经验的人，虚心向他们学习。人脑其实是一个很好的特征筛选器</strong>，这些经验可以给我们非常多的指导和启发，极大地减少我们试错的工作量。比如我们可以直接去找海鲜市场问螃蟹贩子，去田间地头找螃蟹养殖户，去海鲜饭店去问有经验的采购员和厨师……他们的<strong>最一线的经验是特征工程中的宝贵财富</strong>。</p>

<p>但这里需要考虑<strong>将经验转换成可量化的指标</strong>，才能便于机器学习。比如人们可能会说螃蟹很“活跃”、很“精神”，或者很“慵懒”。这些特征需要转换成一些可量化指标去衡量，具体怎么转换也有很大学问。</p>

<p>接下来要考虑的问题是对这些特征的<strong>可用性进行简单的评估</strong>。比如：</p>

<ol>
<li>特征获取、描述难度</li>
<li>数据的规模</li>
<li>特征的准确率</li>
<li>特征的覆盖率</li>
<li>其他</li>
</ol>

<p>我们<strong>通过明确目标，头脑风暴，咨询专家，特征量化，可用性评估等流程，就基本划定了特征范围</strong>。</p>



<h2 id="3-剧情二特征预处理的门道">3. 剧情二：“特征预处理”的门道</h2>

<blockquote>
  <p><em>李雷说完，便拿出自己的平板，给韩梅梅看自己某个项目中搜集的初始特征。这些特征被放在一张巨大的表里。</em></p>
  
  <p><em>韩梅梅看着这些密密麻麻的数字，心想：看李雷说得头头是道，但还是没告诉我怎么挑，不能让他轻易绕过去。</em></p>
  
  <p><em>于是她说：“我看你这些特征数据有大有小，有些就是几万上下浮动，有些仅仅是小数点后好几位的微小变化，有些就是在0或1这两种可能中变化，有些连值都没有。你这些数据能用吗？”</em></p>
  
  <p><em>李雷说：“不能，要转换成标准件。”</em></p>
  
  <p><em>韩梅梅：“标准件？”</em></p>
</blockquote>



<h2 id="4-特征标准件">4. “特征标准件”</h2>

<p><strong>如果把机器学习过程当做一个加工厂的话，那输入的数据（特征、标签）就是原材料，输出的模型和判断结果就是产品。</strong>并不是胡乱扔进去任何原材料都能加工出合格产品的。<strong>原材料需要一个“预处理”过程才能方便地被算法处理</strong>。这些预处理后的数据，李雷起了个不够规范的名字，叫做<strong>“特征标准件”</strong>。</p>

<p>以二分类问题为例，<strong>不同的算法对“特征标准件”的要求是不同的</strong>。比如逻辑回归和神经网络，比较喜欢<strong>归一化之后在[-1,1]区间内浮动的特征</strong>。而贝叶斯方法，喜欢<strong>因子化之后的{0,1}分布的二元特征</strong>，每个特征只有“是”和“不是”两种可能的状态。</p>



<h2 id="5-连续特征与非连续特征">5. 连续特征与非连续特征</h2>

<p><strong>特征可以分为两类：“连续特征”和“非连续特征</strong>”。</p>

<p>“身高”、“体重”、“成绩”、“腰围”、“长度”、“宽度”、“体积”、“速度”等等，都是连续特征。<strong>连续特征能够比较方便地进行归一化</strong>。归一化的统一公式如下：</p>

<blockquote>
  <p></p><center> <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 4.749em; display: inline-block;"><span style="display: inline-block; width: 3.789em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="msubsup" id="MathJax-Span-3"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-5" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-7"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-10" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-11" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">μ</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-12" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>  <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-13" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-14"><span class="mi" id="MathJax-Span-15" style="font-family: STIXGeneral-Italic;">μ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>为所有样本数据的均值，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-16" style="width: 2.829em; display: inline-block;"><span style="display: inline-block; width: 2.243em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-17"><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-20" style="font-family: STIXGeneral-Italic;">μ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的步骤叫做去均值化</center> <p></p>
</blockquote>

<ol>
<li>当<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-21" style="width: 8.109em; display: inline-block;"><span style="display: inline-block; width: 6.456em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-22"><span class="mi" id="MathJax-Span-23" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-24" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-25"><span style="display: inline-block; width: 1.763em; height: 0px;"><span><span class="mi" id="MathJax-Span-26" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-27"><span class="mrow" id="MathJax-Span-28"><span class="mi" id="MathJax-Span-29" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-30" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-31" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-32" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-33"><span style="display: inline-block; width: 1.603em; height: 0px;"><span><span class="mi" id="MathJax-Span-34" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-35"><span class="mrow" id="MathJax-Span-36"><span class="mi" id="MathJax-Span-37" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-38" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-39" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>时，经过处理的数据在区间[-1,1]之间。</li>
<li>当<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-40" style="width: 13.016em; display: inline-block;"><span style="display: inline-block; width: 10.403em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-41"><span class="mi" id="MathJax-Span-42" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-43" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-44" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-45"><span class="mrow" id="MathJax-Span-46"><span class="mo" id="MathJax-Span-47"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-48"><span class="mrow" id="MathJax-Span-49"><span class="mo" id="MathJax-Span-50"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">所</span></span></span></span><span class="texatom" id="MathJax-Span-51"><span class="mrow" id="MathJax-Span-52"><span class="mo" id="MathJax-Span-53"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-54"><span class="mrow" id="MathJax-Span-55"><span class="mo" id="MathJax-Span-56"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">样</span></span></span></span><span class="texatom" id="MathJax-Span-57"><span class="mrow" id="MathJax-Span-58"><span class="mo" id="MathJax-Span-59"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">本</span></span></span></span><span class="texatom" id="MathJax-Span-60"><span class="mrow" id="MathJax-Span-61"><span class="mo" id="MathJax-Span-62"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-63"><span class="mrow" id="MathJax-Span-64"><span class="mo" id="MathJax-Span-65"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">标</span></span></span></span><span class="texatom" id="MathJax-Span-66"><span class="mrow" id="MathJax-Span-67"><span class="mo" id="MathJax-Span-68"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">准</span></span></span></span><span class="texatom" id="MathJax-Span-69"><span class="mrow" id="MathJax-Span-70"><span class="mo" id="MathJax-Span-71"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">差</span></span></span></span><span class="texatom" id="MathJax-Span-72"><span class="mrow" id="MathJax-Span-73"><span class="mo" id="MathJax-Span-74"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>时，经过处理的数据符合标准正态分布，即均值为0，标准差为1</li>
</ol>

<p>另一方面：“是否高富帅”、“是否白富美”、“螃蟹的品种”、“螃蟹所在的水域”、“收获螃蟹的季节”等等，都是非连续特征。<strong>非连续特征能够比较方便地进行因子化，或者它本身就是二元特征。</strong>方法如下：</p>

<blockquote>
  <p>特征“收获螃蟹的季节”：{春，夏，秋，冬} <strong>因子化</strong>后的结果为：</p>
  
  <ul>
  <li>特征“是否春”：{是，否}</li>
  <li>特征“是否夏”：{是，否}</li>
  <li>特征“是否秋”：{是，否}</li>
  <li>特征“是否冬”：{是，否}</li>
  </ul>
</blockquote>



<h2 id="6-两类特征的相互转化">6. 两类特征的相互转化</h2>

<p><strong>连续特征可以当非连续特征来用，非连续特征可以当连续特征来用</strong>。</p>

<p><strong>连续特征可以离散化非连续特征。</strong>比如“年龄”作为一个连续特征，假设它的取值范围是[0,100]。我们可以中间切一刀，比如选择60（岁）。大于等于60岁的就叫做“老年”，小于60岁的就是“非老年”，这样就转化成了一个二元特征了。<strong>怎么选择离散的分离边界也很有学问</strong>。</p>

<p>如果我们中间切两刀甚至更多刀，比如18（岁）和60（岁）。大于等于60岁的就叫做“老年”，18岁到60岁之间的就叫做“中青年”，小于18岁就叫做“未成年”。然后再把这3类因子化成3个二分类就够了：“是否老年”、“是否中青年”和“是否未成年”。</p>

<p></p><center> <img alt="等宽直方图" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160112_%E7%AD%89%E8%B7%9D%E7%A6%BB%E6%95%A3%E5%8C%96.jpg" title="" /></center> <p></p>

<p><strong>非连续特征因子化成二元特征{0,1}后可以直接当做[0,1]之间的连续特征来用。</strong>我们之前文章<a href="http://blog.csdn.net/han_xiaoyang/article/details/49797143">《机器学习系列(3)_逻辑回归应用之Kaggle泰坦尼克之灾》</a>就是这么使用的。</p>



<h2 id="7-去除特征之间的共线性">7. 去除特征之间的共线性</h2>

<p>我们在对离散特征<strong>因子化过程中细分到二元特征为止即可</strong>。那对于二元特征本身能否因子化成两个特征？比如以下例子：</p>

<blockquote>
  <p>特征“螃蟹的性别”：{公，母} ，可否转换为：</p>
  
  <ul>
  <li>特征“是否公螃蟹”：{是，否} </li>
  <li>特征“是否母螃蟹”：{是，否}</li>
  </ul>
</blockquote>

<p>这是不行的，因为这两个特征的信息完全一样，也叫做<strong>共线性</strong>。计算这两个特征之间的<strong>条件熵</strong>：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-75" style="width: 16.643em; display: inline-block;"><span style="display: inline-block; width: 13.283em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-76"><span class="mi" id="MathJax-Span-77" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-79" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-80"><span class="mrow" id="MathJax-Span-81"><span class="mo" id="MathJax-Span-82"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-83"><span class="mrow" id="MathJax-Span-84"><span class="mo" id="MathJax-Span-85"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">否</span></span></span></span><span class="texatom" id="MathJax-Span-86"><span class="mrow" id="MathJax-Span-87"><span class="mo" id="MathJax-Span-88"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">公</span></span></span></span><span class="texatom" id="MathJax-Span-89"><span class="mrow" id="MathJax-Span-90"><span class="mo" id="MathJax-Span-91"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">螃</span></span></span></span><span class="texatom" id="MathJax-Span-92"><span class="mrow" id="MathJax-Span-93"><span class="mo" id="MathJax-Span-94"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">蟹</span></span></span></span><span class="mo" id="MathJax-Span-95" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-96"><span class="mrow" id="MathJax-Span-97"><span class="mo" id="MathJax-Span-98" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-99" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-100"><span class="mrow" id="MathJax-Span-101"><span class="mo" id="MathJax-Span-102"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-103"><span class="mrow" id="MathJax-Span-104"><span class="mo" id="MathJax-Span-105"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">否</span></span></span></span><span class="texatom" id="MathJax-Span-106"><span class="mrow" id="MathJax-Span-107"><span class="mo" id="MathJax-Span-108"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">母</span></span></span></span><span class="texatom" id="MathJax-Span-109"><span class="mrow" id="MathJax-Span-110"><span class="mo" id="MathJax-Span-111"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">螃</span></span></span></span><span class="texatom" id="MathJax-Span-112"><span class="mrow" id="MathJax-Span-113"><span class="mo" id="MathJax-Span-114"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">蟹</span></span></span></span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-116" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-117" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-118" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p>也可以用<strong>计算条件熵的方法去衡量两类离散特征的差异性，方便去除共线性关系的特征</strong>。</p>

<p><strong>连续特征也有着共线性的情况</strong>，比如同一个品种的螃蟹腿的“长度”和“粗细”是共线性关系。也就是说，如果我们知道螃蟹腿的长度是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-119" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-120"><span class="mi" id="MathJax-Span-121" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>厘米，那么螃蟹腿的直径就是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-122" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-123"><span class="mi" id="MathJax-Span-124" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-125" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>厘米，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-126" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-127"><span class="mi" id="MathJax-Span-128" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是一个稳定的常数。因此我们只需要螃蟹腿的“长度”这一个特征就够了。那么连续特征的共线性如何去除？</p>

<p>可以计算两个变量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-129" style="width: 2.563em; display: inline-block;"><span style="display: inline-block; width: 2.029em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-130"><span class="mo" id="MathJax-Span-131" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-132" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-133" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-134" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-135" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的<strong>相关系数</strong>：</p>

<blockquote>
  <p></p><center> <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-136" style="width: 15.469em; display: inline-block;"><span style="display: inline-block; width: 12.376em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-137"><span class="msubsup" id="MathJax-Span-138"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-139" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-140"><span class="mrow" id="MathJax-Span-141"><span class="mi" id="MathJax-Span-142" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-143" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-144" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-145"><span style="display: inline-block; width: 2.403em; height: 0px;"><span><span class="mrow" id="MathJax-Span-146"><span class="mi" id="MathJax-Span-147" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-148" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-149" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-150" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-151" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-152" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-153" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-154" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-155"><span class="msubsup" id="MathJax-Span-156"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-157" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-158" style="font-size: 50%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-159"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-160" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-161" style="font-size: 50%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-162" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-163"><span style="display: inline-block; width: 5.763em; height: 0px;"><span><span class="mrow" id="MathJax-Span-164"><span class="mi" id="MathJax-Span-165" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-166" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-167" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-168" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-169" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-170" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-171" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-172" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="msqrt" id="MathJax-Span-173"><span style="display: inline-block; width: 5.656em; height: 0px;"><span><span class="mrow" id="MathJax-Span-174"><span class="mi" id="MathJax-Span-175" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-176" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-177" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-178" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-179" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-180" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-181" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-182" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-183" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-184" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-185" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-186" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-187" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-188" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-189" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-190" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-191" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span><span><span><span style="font-size: 70.7%; font-family: STIXGeneral-Regular;">√</span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
      <strong><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-192" style="width: 1.553em; display: inline-block;"><span style="display: inline-block; width: 1.191em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-193"><span class="msubsup" id="MathJax-Span-194"><span style="display: inline-block; width: 1.14em; height: 0px;"><span><span class="mi" id="MathJax-Span-195" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="texatom" id="MathJax-Span-196"><span class="mrow" id="MathJax-Span-197"><span class="mi" id="MathJax-Span-198" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-199" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span></span></span></span>的取值范围是[-1,1]，如果是0则统计独立，如果接近1则强相关。</strong></center> <p></p>
</blockquote>

<p>可以计算这些数据的<strong>协方差矩阵</strong>，进而求出相关系数矩阵。就可以比较任意两个特征了。 <br />
</p><center> <img alt="协方差矩阵" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160112_%E5%8D%8F%E6%96%B9%E5%B7%AE%E7%9F%A9%E9%98%B5.jpg" title="" /> <br />
<img alt="相关系数矩阵" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160112_%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0%E7%9F%A9%E9%98%B5.jpg" title="" /></center> <p></p>

<p>既然协方差矩阵都求了，那就干脆用<strong>主成分分析（PCA）</strong>吧，这样更省事。得到主成分，线性相关的那些量就直接被舍弃了。我们在前文<a href="http://blog.csdn.net/han_xiaoyang/article/details/50451460">《深度学习与计算机视觉系列(7)_神经网络数据预处理，正则化与损失函数》</a> 对PCA有相关论述。</p>

<p>感兴趣的同学可以试试把上述离散二元特征当做连续变量使用，构造几个数据，计算其相关系数并进行主成分分析。发现其相关系数就是-1，主成分分析后自动就变成一个主成分了。可见<strong>PCA对于连续特征与非连续特征都是去除共线性的通用方法</strong>。</p>



<h2 id="8-缺失值的处理">8. 缺失值的处理</h2>

<p>这个问题现在才讲，但实际过程中应该在前期去处理。掌握以下三点就够了：</p>

<ol>
<li>如果某个特征的缺失值比较多：可能就直接舍弃。</li>
<li>如果缺失值不是很多，而且是<strong>连续特征</strong>：可以考虑用<strong>回归</strong>方法去拟合，或者直接用<strong>众数、中位数、平均数</strong>等具体的值去替代即可。</li>
<li>如果缺失值不是很多，而且是<strong>非连续特征</strong>：可以尝试把<strong>缺失值当做一个新的类目</strong>去处理，可能也揭示了一定的客观现实。 </li>
</ol>



<h2 id="9-离群点的分析">9. 离群点的分析</h2>

<p>对于连续特征，最好看看其在样本中的分布。如果某些值偏离了主要聚集区域，可能需要单独抽出来分析，里面可能包含了更多的信息，可以这样画图方便观察： <br />
</p><center> <img alt="离群点" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160112_%E7%A6%BB%E7%BE%A4%E7%82%B9.jpg" title="" /></center> <p></p>



<h2 id="10-特征预处理小结">10. 特征预处理小结</h2>

<p>特征的预处理步骤比较多，相互之间的关系比较复杂。我们画了一张图以揭示它们之间的关系： <br />
</p><center> <img alt="特征预处理" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160112_%E7%89%B9%E5%BE%81%E9%A2%84%E5%A4%84%E7%90%86.jpg" title="" /></center> <p></p>



<h2 id="11-剧情三李雷另辟蹊径挑螃蟹">11. 剧情三：李雷另辟蹊径挑螃蟹</h2>

<blockquote>
  <p><em>韩梅梅长叹一口气：“终于听你叨逼叨逼说完了。”</em></p>
  
  <p><em>李雷说：“没办法啊，这块工作其实挺多的。我还要好多没说完……” “你打住”，韩梅梅赶紧说，“我算服了你了。但是李大码农，你还没有跟我说你怎么靠这些特征挑螃蟹呢。”</em></p>
  
  <p><em>李雷说：“不急，用逻辑回归……”韩梅梅说：“不要用逻辑回归，我已经从赵媒婆那知道了。你换个方法，用非连续特征来做。”韩梅梅存心想刁难她的相亲对象。</em></p>
  
  <p><em>李雷说：“那可以用贝叶斯。”</em></p>
</blockquote>



<h2 id="12-用贝叶斯方法挑螃蟹">12. 用贝叶斯方法挑螃蟹</h2>

<p>我们的标签用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-200" style="width: 6.563em; display: inline-block;"><span style="display: inline-block; width: 5.229em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-201"><span class="mi" id="MathJax-Span-202" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-204" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-205"><span class="mrow" id="MathJax-Span-206"><span class="mo" id="MathJax-Span-207"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-208"><span class="mrow" id="MathJax-Span-209"><span class="mo" id="MathJax-Span-210"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">满</span></span></span></span><span class="texatom" id="MathJax-Span-211"><span class="mrow" id="MathJax-Span-212"><span class="mo" id="MathJax-Span-213"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">黄</span></span></span></span><span class="mo" id="MathJax-Span-214" style="font-family: STIXGeneral-Regular;">”</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>来表示，相应的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-215" style="width: 7.736em; display: inline-block;"><span style="display: inline-block; width: 6.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-216"><span class="munderover" id="MathJax-Span-217"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-218" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-219"><span style="display: inline-block; width: 0.643em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-220" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-221" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-222"><span class="mrow" id="MathJax-Span-223"><span class="mo" id="MathJax-Span-224"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-225"><span class="mrow" id="MathJax-Span-226"><span class="mo" id="MathJax-Span-227"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-228"><span class="mrow" id="MathJax-Span-229"><span class="mo" id="MathJax-Span-230"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">满</span></span></span></span><span class="texatom" id="MathJax-Span-231"><span class="mrow" id="MathJax-Span-232"><span class="mo" id="MathJax-Span-233"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">黄</span></span></span></span><span class="mo" id="MathJax-Span-234" style="font-family: STIXGeneral-Regular;">”</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。Xi表示所有离散化的二元特征，如<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-235" style="width: 31.203em; display: inline-block;"><span style="display: inline-block; width: 24.963em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-236"><span class="msubsup" id="MathJax-Span-237"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-238" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-239" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-240" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-241" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-242"><span class="mrow" id="MathJax-Span-243"><span class="mo" id="MathJax-Span-244"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-245"><span class="mrow" id="MathJax-Span-246"><span class="mo" id="MathJax-Span-247"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">河</span></span></span></span><span class="texatom" id="MathJax-Span-248"><span class="mrow" id="MathJax-Span-249"><span class="mo" id="MathJax-Span-250"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">蟹</span></span></span></span><span class="mo" id="MathJax-Span-251" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-252"><span class="mrow" id="MathJax-Span-253"><span class="mo" id="MathJax-Span-254"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-255"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-256" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-257" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-258" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-259" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-260"><span class="mrow" id="MathJax-Span-261"><span class="mo" id="MathJax-Span-262"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-263"><span class="mrow" id="MathJax-Span-264"><span class="mo" id="MathJax-Span-265"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">秋</span></span></span></span><span class="texatom" id="MathJax-Span-266"><span class="mrow" id="MathJax-Span-267"><span class="mo" id="MathJax-Span-268"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">季</span></span></span></span><span class="texatom" id="MathJax-Span-269"><span class="mrow" id="MathJax-Span-270"><span class="mo" id="MathJax-Span-271"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">收</span></span></span></span><span class="texatom" id="MathJax-Span-272"><span class="mrow" id="MathJax-Span-273"><span class="mo" id="MathJax-Span-274"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">货</span></span></span></span><span class="mo" id="MathJax-Span-275" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-276"><span class="mrow" id="MathJax-Span-277"><span class="mo" id="MathJax-Span-278"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="msubsup" id="MathJax-Span-279"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-280" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-281" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-282" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-283" style="font-family: STIXGeneral-Regular;">”</span><span class="texatom" id="MathJax-Span-284"><span class="mrow" id="MathJax-Span-285"><span class="mo" id="MathJax-Span-286"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">钳</span></span></span></span><span class="texatom" id="MathJax-Span-287"><span class="mrow" id="MathJax-Span-288"><span class="mo" id="MathJax-Span-289"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">子</span></span></span></span><span class="texatom" id="MathJax-Span-290"><span class="mrow" id="MathJax-Span-291"><span class="mo" id="MathJax-Span-292"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-293"><span class="mrow" id="MathJax-Span-294"><span class="mo" id="MathJax-Span-295"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">力</span></span></span></span><span class="texatom" id="MathJax-Span-296"><span class="mrow" id="MathJax-Span-297"><span class="mo" id="MathJax-Span-298"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">量</span></span></span></span><span class="texatom" id="MathJax-Span-299"><span class="mrow" id="MathJax-Span-300"><span class="mo" id="MathJax-Span-301"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">大</span></span></span></span><span class="mo" id="MathJax-Span-302" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-303" style="font-family: STIXGeneral-Regular;">…</span><span class="mo" id="MathJax-Span-304" style="font-family: STIXGeneral-Regular;">…</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。于是在已知这些特征的情况下，该螃蟹“是满黄”的概率如下：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-305" style="width: 20.003em; display: inline-block;"><span style="display: inline-block; width: 16.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-306"><span class="mi" id="MathJax-Span-307" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-308" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-309" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-310"><span class="mrow" id="MathJax-Span-311"><span class="mo" id="MathJax-Span-312" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-313"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-314" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-315" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-316" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-317"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-318" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-319" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-320" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-321"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-322" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-323" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-324" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-325" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-326" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-327" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-328" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-329"><span style="display: inline-block; width: 6.669em; height: 0px;"><span><span class="mrow" id="MathJax-Span-330"><span class="mi" id="MathJax-Span-331" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-332" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-333"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-334" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-335" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-336" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-337"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-338" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-339" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-340" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-341"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-342" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-343" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-344" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-345" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-346" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-347"><span class="mrow" id="MathJax-Span-348"><span class="mo" id="MathJax-Span-349" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-350" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-351" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-352" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-353" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-354" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-355" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-356" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-357"><span class="mi" id="MathJax-Span-358" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-359" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-360"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-361" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-362" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-363" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-364"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-365" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-366" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-367" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-368"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-369" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-370" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-371" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-372" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-373" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-374" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>
</blockquote>

<p>其实，可以直接<strong>判断<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-375" style="width: 9.873em; display: inline-block;"><span style="display: inline-block; width: 7.651em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-376"><span class="mi" id="MathJax-Span-377" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-378" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-379" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="texatom" id="MathJax-Span-380"><span class="mrow" id="MathJax-Span-381"><span class="mo" id="MathJax-Span-382" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-383"><span style="display: inline-block; width: 1.088em; height: 0px;"><span><span class="mi" id="MathJax-Span-384" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mn" id="MathJax-Span-385" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-386" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-387"><span style="display: inline-block; width: 1.088em; height: 0px;"><span><span class="mi" id="MathJax-Span-388" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mn" id="MathJax-Span-389" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-390" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-391"><span style="display: inline-block; width: 1.088em; height: 0px;"><span><span class="mi" id="MathJax-Span-392" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mn" id="MathJax-Span-393" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-394" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-395" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-396" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-397" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>是否大于1/2</strong>即可。因为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-398" style="width: 8.749em; display: inline-block;"><span style="display: inline-block; width: 6.989em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-399"><span class="mi" id="MathJax-Span-400" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-401" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-402"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-403" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-404" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-405" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-406"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-407" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-408" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-409" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-410"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-411" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-412" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-413" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-414" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-415" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-416" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>这一项算起来比较麻烦，我们用以下方法直接把它约掉。</p>

<p>先求出螃蟹“不是满黄”的概率：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-417" style="width: 20.643em; display: inline-block;"><span style="display: inline-block; width: 16.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-418"><span class="mi" id="MathJax-Span-419" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-420" style="font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-421"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-422" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-423"><span style="display: inline-block; width: 0.643em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="texatom" id="MathJax-Span-424"><span class="mrow" id="MathJax-Span-425"><span class="mo" id="MathJax-Span-426" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-427"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-428" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-429" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-430" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-431"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-432" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-433" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-434" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-435"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-436" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-437" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-438" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-439" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-440" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-441" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-443"><span style="display: inline-block; width: 6.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-444"><span class="mi" id="MathJax-Span-445" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-446" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-447"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-448" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-449" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-450" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-451"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-452" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-453" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-454" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-455"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-456" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-457" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-458" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-459" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-460" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-461"><span class="mrow" id="MathJax-Span-462"><span class="mo" id="MathJax-Span-463" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-464"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-465" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-466"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-467" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-468" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-469" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-470" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-471"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-472" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-473"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-474" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-475"><span class="mi" id="MathJax-Span-476" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-477" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-478"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-479" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-480" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-481" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-482"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-483" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-484" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-485" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-486"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-487" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-488" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-489" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-491" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-492" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>
</blockquote>

<p>再两式相处，得到：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-493" style="width: 17.336em; display: inline-block;"><span style="display: inline-block; width: 13.869em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-494"><span class="mfrac" id="MathJax-Span-495"><span style="display: inline-block; width: 5.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-496"><span class="mi" id="MathJax-Span-497" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-498" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-499" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-500"><span class="mrow" id="MathJax-Span-501"><span class="mo" id="MathJax-Span-502" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-503"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-504" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-505" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-506" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-507"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-508" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-509" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-510" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-511"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-512" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-513" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-514" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-515" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-516" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-517" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-518"><span class="mi" id="MathJax-Span-519" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-520" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-521"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-522" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-523"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="texatom" id="MathJax-Span-524"><span class="mrow" id="MathJax-Span-525"><span class="mo" id="MathJax-Span-526" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-527"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-528" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-529" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-530" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-531"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-532" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-533" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-534" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-535"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-536" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-537" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-538" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-539" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-540" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-541" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-542" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-543"><span style="display: inline-block; width: 6.989em; height: 0px;"><span><span class="mrow" id="MathJax-Span-544"><span class="mi" id="MathJax-Span-545" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-546" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-547"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-548" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-549" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-550" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-551"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-552" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-553" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-554" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-555"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-556" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-557" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-558" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-559" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-560" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-561"><span class="mrow" id="MathJax-Span-562"><span class="mo" id="MathJax-Span-563" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-564" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-565" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-566" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-567" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-568" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-569" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-570" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-571"><span class="mi" id="MathJax-Span-572" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-573" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-574"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-575" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-576" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-577" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-578"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-579" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-580" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-581" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-582"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-583" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-584" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-585" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-586" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-587" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-588"><span class="mrow" id="MathJax-Span-589"><span class="mo" id="MathJax-Span-590" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-591"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-592" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-593"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-594" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-595" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-596" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-597" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-598"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-599" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-600"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-601" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>
</blockquote>

<p>这样就约去了P(X1,X2,X3…)。只<strong>需要判断<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-602" style="width: 6.928em; display: inline-block;"><span style="display: inline-block; width: 5.377em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-603"><span class="mfrac" id="MathJax-Span-604"><span style="display: inline-block; width: 5.119em; height: 0px;"><span><span class="mrow" id="MathJax-Span-605"><span class="mi" id="MathJax-Span-606" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-607" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-608" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="texatom" id="MathJax-Span-609"><span class="mrow" id="MathJax-Span-610"><span class="mo" id="MathJax-Span-611" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-612"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-613" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mn" id="MathJax-Span-614" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="mo" id="MathJax-Span-615" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-616"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-617" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mn" id="MathJax-Span-618" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="mo" id="MathJax-Span-619" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-620"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-621" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mn" id="MathJax-Span-622" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="mo" id="MathJax-Span-623" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-624" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-625" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-626" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mrow" id="MathJax-Span-627"><span class="mi" id="MathJax-Span-628" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-629" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-630"><span style="display: inline-block; width: 0.571em; height: 0px;"><span><span class="mi" id="MathJax-Span-631" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mo" id="MathJax-Span-632"><span style="display: inline-block; width: 0.468em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 3.982em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 3.982em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span></span><span class="texatom" id="MathJax-Span-633"><span class="mrow" id="MathJax-Span-634"><span class="mo" id="MathJax-Span-635" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-636"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-637" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mn" id="MathJax-Span-638" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="mo" id="MathJax-Span-639" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-640"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-641" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mn" id="MathJax-Span-642" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="mo" id="MathJax-Span-643" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-644"><span style="display: inline-block; width: 0.829em; height: 0px;"><span><span class="mi" id="MathJax-Span-645" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mn" id="MathJax-Span-646" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="mo" id="MathJax-Span-647" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-648" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-649" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-650" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.088em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span></span></span></span>是否大于1</strong>即可。但是，工程上用除法不太方便，两边同时取对数log，得到：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-651" style="width: 23.469em; display: inline-block;"><span style="display: inline-block; width: 18.776em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-652"><span class="mi" id="MathJax-Span-653" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-654" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-655" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-656"><span class="mrow" id="MathJax-Span-657"><span class="mfrac" id="MathJax-Span-658"><span style="display: inline-block; width: 5.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-659"><span class="mi" id="MathJax-Span-660" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-661" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-662" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-663"><span class="mrow" id="MathJax-Span-664"><span class="mo" id="MathJax-Span-665" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-666"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-667" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-668" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-669" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-670"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-671" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-672" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-673" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-674"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-675" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-676" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-677" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-678" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-679" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-680" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-681"><span class="mi" id="MathJax-Span-682" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-683" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-684"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-685" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-686"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="texatom" id="MathJax-Span-687"><span class="mrow" id="MathJax-Span-688"><span class="mo" id="MathJax-Span-689" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-690"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-691" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-692" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-693" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-694"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-695" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-696" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-697" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-698"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-699" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-700" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-701" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-702" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-703" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-704" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-705" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-706" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-707" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-708" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-709"><span class="mrow" id="MathJax-Span-710"><span class="mfrac" id="MathJax-Span-711"><span style="display: inline-block; width: 5.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-712"><span class="mi" id="MathJax-Span-713" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-714" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-715"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-716" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-717" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-718" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-719"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-720" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-721" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-722" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-723"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-724" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-725" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-726" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-727" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-728" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-729"><span class="mrow" id="MathJax-Span-730"><span class="mo" id="MathJax-Span-731" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-732" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-733" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-734"><span class="mi" id="MathJax-Span-735" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-736" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-737"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-738" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-739" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-740" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-741"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-742" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-743" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-744" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-745"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-746" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-747" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-748" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-749" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-750" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-751"><span class="mrow" id="MathJax-Span-752"><span class="mo" id="MathJax-Span-753" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-754"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-756"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-757" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-758" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-759" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-760" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-761" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-762"><span class="mrow" id="MathJax-Span-763"><span class="mfrac" id="MathJax-Span-764"><span style="display: inline-block; width: 1.603em; height: 0px;"><span><span class="mrow" id="MathJax-Span-765"><span class="mi" id="MathJax-Span-766" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-767" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-768" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-769" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-770"><span class="mi" id="MathJax-Span-771" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-772" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-773"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-774" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-775"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-776" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>
</blockquote>

<p>左边是螃蟹“是满黄”的<strong>逻辑发生比，只需要判断其是否大于0即可</strong>。</p>

<p>到目前为止，以上都是<strong>等价变换</strong>。</p>

<p>接下来我们引入贝叶斯方法中常用的条件独立假设：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-777" style="width: 27.896em; display: inline-block;"><span style="display: inline-block; width: 22.296em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-778"><span class="mi" id="MathJax-Span-779" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-780" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-781"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-782" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-783" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-784" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-785"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-786" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-787" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-788" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-789"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-790" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-791" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-792" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-793" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-794" style="font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-795"><span class="mrow" id="MathJax-Span-796"><span class="mo" id="MathJax-Span-797" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-798" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-799" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-800" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-801" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-802" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-803"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-804" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-805" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-806"><span class="mrow" id="MathJax-Span-807"><span class="mo" id="MathJax-Span-808" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-809" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-810" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-811" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-812" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-813" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-814"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-815" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-816" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-817"><span class="mrow" id="MathJax-Span-818"><span class="mo" id="MathJax-Span-819" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-820" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-821" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-822" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-823" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-824" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-825"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-826" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-827" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-828"><span class="mrow" id="MathJax-Span-829"><span class="mo" id="MathJax-Span-830" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-831" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-832" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-833" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-834" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-835" style="font-family: STIXGeneral-Regular;">.</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-836" style="width: 28.536em; display: inline-block;"><span style="display: inline-block; width: 22.829em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-837"><span class="mi" id="MathJax-Span-838" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-839" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-840"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-841" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-842" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-843" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-844"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-845" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-846" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-847" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-848"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-849" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-850" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-851" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-852" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-853" style="font-family: STIXGeneral-Regular;">.</span><span class="texatom" id="MathJax-Span-854"><span class="mrow" id="MathJax-Span-855"><span class="mo" id="MathJax-Span-856" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-857"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-858" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-859"><span style="display: inline-block; width: 0.643em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-860" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-861" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-862" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-863" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-864"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-865" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-866" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-867"><span class="mrow" id="MathJax-Span-868"><span class="mo" id="MathJax-Span-869" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-870"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-871" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-872"><span style="display: inline-block; width: 0.643em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-873" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-874" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-875" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-876" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-877"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-878" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-879" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-880"><span class="mrow" id="MathJax-Span-881"><span class="mo" id="MathJax-Span-882" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-883"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-884" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-885"><span style="display: inline-block; width: 0.643em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-886" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-887" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-888" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-889" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-890"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-891" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-892" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-893"><span class="mrow" id="MathJax-Span-894"><span class="mo" id="MathJax-Span-895" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-896"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-897" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-898"><span style="display: inline-block; width: 0.643em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-899" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-900" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-901" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-902" style="font-family: STIXGeneral-Regular;">.</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></center><p></p>
</blockquote>

<p>将它们带入上式，就变成了：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-903" style="width: 30.669em; display: inline-block;"><span style="display: inline-block; width: 24.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-904"><span style="display: inline-block; width: 24.536em; height: 0px;"><span><span class="mi" id="MathJax-Span-905" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-906" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-907" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-908"><span class="mrow" id="MathJax-Span-909"><span class="mfrac" id="MathJax-Span-910"><span style="display: inline-block; width: 5.069em; height: 0px;"><span><span class="mrow" id="MathJax-Span-911"><span class="mi" id="MathJax-Span-912" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-913" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-914" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-915"><span class="mrow" id="MathJax-Span-916"><span class="mo" id="MathJax-Span-917" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-918"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-919" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-920" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-921" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-922"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-923" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-924" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-925" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-926"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-927" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-928" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-929" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-930" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-931" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-932" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-933"><span class="mi" id="MathJax-Span-934" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-935" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-936"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-937" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-938"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="texatom" id="MathJax-Span-939"><span class="mrow" id="MathJax-Span-940"><span class="mo" id="MathJax-Span-941" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-942"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-943" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-944" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-945" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-946"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-947" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-948" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-949" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-950"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-951" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-952" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mo" id="MathJax-Span-953" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-954" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-955" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-956" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-957" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-958" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-959" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-960" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-961"><span class="mrow" id="MathJax-Span-962"><span class="mfrac" id="MathJax-Span-963"><span style="display: inline-block; width: 2.563em; height: 0px;"><span><span class="mrow" id="MathJax-Span-964"><span class="mi" id="MathJax-Span-965" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-966" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-967"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-968" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-969" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-970"><span class="mrow" id="MathJax-Span-971"><span class="mo" id="MathJax-Span-972" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-973" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-974" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-975"><span class="mi" id="MathJax-Span-976" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-977" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-978"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-979" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-980" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-981"><span class="mrow" id="MathJax-Span-982"><span class="mo" id="MathJax-Span-983" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-984"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-985" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-986"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-987" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-988" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-989" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-990" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-991" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-992"><span class="mrow" id="MathJax-Span-993"><span class="mfrac" id="MathJax-Span-994"><span style="display: inline-block; width: 2.563em; height: 0px;"><span><span class="mrow" id="MathJax-Span-995"><span class="mi" id="MathJax-Span-996" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-997" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-998"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-999" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1000" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1001"><span class="mrow" id="MathJax-Span-1002"><span class="mo" id="MathJax-Span-1003" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1004" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1005" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1006"><span class="mi" id="MathJax-Span-1007" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1008" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1009"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-1010" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1011" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1012"><span class="mrow" id="MathJax-Span-1013"><span class="mo" id="MathJax-Span-1014" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-1015"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-1016" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1017"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-1018" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1019" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1020" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1021" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1022" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1023"><span class="mrow" id="MathJax-Span-1024"><span class="mfrac" id="MathJax-Span-1025"><span style="display: inline-block; width: 2.563em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1026"><span class="mi" id="MathJax-Span-1027" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1028" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1029"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-1030" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1031" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1032"><span class="mrow" id="MathJax-Span-1033"><span class="mo" id="MathJax-Span-1034" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1035" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1036" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1037"><span class="mi" id="MathJax-Span-1038" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1039" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1040"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-1041" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-1042" style="font-size: 50%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1043"><span class="mrow" id="MathJax-Span-1044"><span class="mo" id="MathJax-Span-1045" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-1046"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-1047" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1048"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-1049" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1050" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-1051" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1052" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1053" style="font-family: STIXGeneral-Regular;">.</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-1054" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1055" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1056" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1057" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1058"><span class="mrow" id="MathJax-Span-1059"><span class="mfrac" id="MathJax-Span-1060"><span style="display: inline-block; width: 1.603em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1061"><span class="mi" id="MathJax-Span-1062" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1063" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1064" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1065" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1066"><span class="mi" id="MathJax-Span-1067" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1068" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-1069"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-1070" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1071"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-1072" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.123em;"></span></span></span><span></span></span></span></center><p></p>
</blockquote>

<p>于是我们得到了一个简单的求和式，<strong>只需要判断等式右边求和的结果是否大于0即可。而最关键的就是右边每一项都非常好求！</strong>假如训练集中所有的满黄螃蟹收集在一起，统计每一个特征出现的次数，除以满黄螃蟹的总数，就是其相应的条件（后验）概率了。再统计该特征在非满黄螃蟹集合中的条件（后验）概率，二者相除再取对数即可。</p>



<h2 id="13-用贝叶斯方法进行特征有效性分析">13. 用贝叶斯方法进行特征有效性分析</h2>

<p><strong>等式右边作为一个求和式，其中每个求和项<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-1073" style="width: 5.171em; display: inline-block;"><span style="display: inline-block; width: 3.982em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-1074"><span class="mi" id="MathJax-Span-1075" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1076" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1077" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1078"><span class="mrow" id="MathJax-Span-1079"><span class="mfrac" id="MathJax-Span-1080"><span style="display: inline-block; width: 2.483em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1081"><span class="mi" id="MathJax-Span-1082" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1083" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1084"><span style="display: inline-block; width: 0.726em; height: 0px;"><span><span class="mi" id="MathJax-Span-1085" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mi" id="MathJax-Span-1086" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1087"><span class="mrow" id="MathJax-Span-1088"><span class="mo" id="MathJax-Span-1089" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1090" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mo" id="MathJax-Span-1091" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mrow" id="MathJax-Span-1092"><span class="mi" id="MathJax-Span-1093" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1094" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1095"><span style="display: inline-block; width: 0.726em; height: 0px;"><span><span class="mi" id="MathJax-Span-1096" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mi" id="MathJax-Span-1097" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1098"><span class="mrow" id="MathJax-Span-1099"><span class="mo" id="MathJax-Span-1100" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-1101"><span style="display: inline-block; width: 0.571em; height: 0px;"><span><span class="mi" id="MathJax-Span-1102" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span class="mo" id="MathJax-Span-1103"><span style="display: inline-block; width: 0.468em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 3.982em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 3.982em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span></span><span class="mo" id="MathJax-Span-1104" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.088em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>的绝对值越大，其对结果的影响越强烈，相对应的特征就是显著特征。</strong>而绝对值比较小的特征就是非显著特征，剔除掉也不会很明显地影响结果。这就完成了一个<strong>特征筛选</strong>的过程。</p>

<p>我们再分析一下各个求和项的结构，里面的概率部分是后验概率，<strong>是特征相对于标签的后验概率</strong>。这个后验概率与我们上一篇文章<a href="http://blog.csdn.net/han_xiaoyang/article/details/50481967">《从白富美相亲看特征预处理与选择（上）》</a>中的后验概率方向相反，不要搞混淆了。</p>



<h2 id="14-贝叶斯与逻辑回归之间的关系">14. 贝叶斯与逻辑回归之间的关系</h2>

<p>我们继续看看这个求和项，是不是很像逻辑回归中的求和项？我们如果拿二元特征当做连续变量采用逻辑回归方法。其判别式如下：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-1105" style="width: 25.549em; display: inline-block;"><span style="display: inline-block; width: 20.429em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1106"><span class="mi" id="MathJax-Span-1107" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-1108" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-1109"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-1110" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1111" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1112"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1113" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1114" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1115" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-1116"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-1117" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1118" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1119"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1120" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1121" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1122" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-1123"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-1124" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1125" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1126"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-1127" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-1128" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1129" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-1130" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1131" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1132" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-1133" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-1134" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-1135" style="font-family: STIXGeneral-Regular;">;</span><span class="texatom" id="MathJax-Span-1136"><span class="mrow" id="MathJax-Span-1137"><span class="mo" id="MathJax-Span-1138"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">其</span></span></span></span><span class="texatom" id="MathJax-Span-1139"><span class="mrow" id="MathJax-Span-1140"><span class="mo" id="MathJax-Span-1141"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="msubsup" id="MathJax-Span-1142"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-1143" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1144" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-1145" style="font-family: STIXGeneral-Regular;">∈</span><span class="mo" id="MathJax-Span-1146" style="font-family: STIXGeneral-Regular;">{</span><span class="mn" id="MathJax-Span-1147" style="font-family: STIXGeneral-Regular;">0</span><span class="texatom" id="MathJax-Span-1148"><span class="mrow" id="MathJax-Span-1149"><span class="mo" id="MathJax-Span-1150"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="mn" id="MathJax-Span-1151" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-1152" style="font-family: STIXGeneral-Regular;">}</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>  </center><p></p>
</blockquote>

<p>二者的表达式惊人地相似！莫非<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-1153" style="width: 7.843em; display: inline-block;"><span style="display: inline-block; width: 6.243em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-1154"><span class="mi" id="MathJax-Span-1155" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1156" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-1157" style="font-family: STIXGeneral-Italic;">g</span><span class="texatom" id="MathJax-Span-1158"><span class="mrow" id="MathJax-Span-1159"><span class="mfrac" id="MathJax-Span-1160"><span style="display: inline-block; width: 2.456em; height: 0px;"><span><span class="mrow" id="MathJax-Span-1161"><span class="mi" id="MathJax-Span-1162" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1163" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1164"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-1165" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-1166" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1167"><span class="mrow" id="MathJax-Span-1168"><span class="mo" id="MathJax-Span-1169" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-1170" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-1171" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-1172"><span class="mi" id="MathJax-Span-1173" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-1174" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-1175"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-1176" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-1177" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="texatom" id="MathJax-Span-1178"><span class="mrow" id="MathJax-Span-1179"><span class="mo" id="MathJax-Span-1180" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="munderover" id="MathJax-Span-1181"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-1182" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mo" id="MathJax-Span-1183"><span style="display: inline-block; width: 0.483em; height: 0px;"><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎯<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span></span><span class="mo" id="MathJax-Span-1184" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1185" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-1186"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-1187" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-1188" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，二者一模一样？</p>

<p>感兴趣的同学可以自己举个例子试一下，发现还是有区别的，二者求出来的权重不一样。产生这样差别的原因是什么呢？</p>

<p>想必大家都猜到了。就是<strong>贝叶斯方法引入的两个条件独立假设。正因为这两个条件独立假设，贝叶斯方法直接跳过了逻辑回归中反复迭代用梯度下降法才能求出的各个权重。</strong></p>

<p>因此贝叶斯方法与逻辑回归的区别就是贝叶斯方法引入了一个更强的附加假设，而且可以直接通过统计结果求权重，而不必用梯度下降法。</p>

<p><strong>所以有些情况下贝叶斯方法求出来的结果不好，就可以考虑考虑是不是条件独立假设的原因</strong>。</p>

<p>因此，可以说<strong>“在某种假定下，可以证明：与朴素贝叶斯分类方法一样，许多神经网络和曲线拟合算法输出最大的后验假定。”</strong>——韩家炜：《数据挖掘：概念与技术（第三版）》</p>



<h2 id="15-剧情四李雷露馅儿了">15. 剧情四：李雷露馅儿了</h2>

<blockquote>
  <p><em>韩梅梅听完，十分感慨地说：“难怪机器学习能挑出正确的结果，难怪赵媒婆用机器学习方法从这么多人中能把你挑出里来。你还是有两下子嘛。”</em></p>
  
  <p><em>“废话，她是我干妈”，李雷志得意满，不小心说漏嘴。 韩梅梅：“什么？！”</em></p>
  
  <p><em>李雷后悔不已，尴尬地陪着笑脸说道：“梅梅，我错了，我不该瞒你这么久。”到了这个地步，李雷只能和盘托出了。</em></p>
</blockquote>



<h2 id="16-数据vs算法">16. 数据VS算法</h2>

<p>其实李雷早就知道韩妈妈要挑选相亲名单，如果按她的标准，李雷根本没法进入名单中。而李雷也猜想她会去找赵媒婆。他就早早地联系赵媒婆，跟她推销他的机器学习方法。赵媒婆终于被李雷忽悠动心了。李雷就帮她开发那个相亲算法。但其实赵媒婆的样本数量不够，特征数量却非常多，肯定会过拟合。李雷就跟她说他会多找一些相亲的数据。李雷能从哪里找啊，只能发动周围的同学，让他们找他们观察到的情侣案例。<strong>而在这些群体中，恰好中学、大学是同学的情侣比率非常高，而且很多男方是码农。而李雷刚好符合这个条件，李雷的评分就非常高了。</strong></p>

<p>因为<strong>样本选择本来就代表性不足，没能覆盖更多的青年群体，所以还是过拟合，只是偏向了李雷这边的概率而已</strong>。</p>

<p>可见，做机器学习虽然看起来比较炫酷的是算法，但真正关键的是数据。<strong>数据决定了你结果的上限，而算法只是尽可能逼近这个上限。</strong>而这点李雷并没有告诉赵媒婆。</p>

<p><strong>对样本情况的分析要在特征优化过程中尤其注意</strong>。整个流程图如下： <br />
</p><center> <img alt="特征处理" src="http://7xnkcs.com1.z0.glb.clouddn.com/20160112_%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.jpg" title="" /></center> <p></p>



<h2 id="17-特征选择的局限性">17. 特征选择的局限性</h2>

<p>而且，李雷并不觉得感情这样复杂的东西能够用赵媒婆那些量化的指标衡量好的。房子、车子、学历、文凭这些并不能衡量两个人之间的感情。一些非常重要的特征是难以量化的，比如<strong>两个人的“三观”、两个人对待感情的态度、两个人相互相处的独一无二的经历、两个人刻骨铭心的情感体验、那种两个人相信能够一辈子都在一起的笃定的感觉……这些至关重要的特征极其复杂，却非常难以量化。</strong>所以对于这类问题，机器学习的能力还是很有限的。</p>



<h2 id="18-剧情五尾声">18. 剧情五：尾声</h2>

<blockquote>
  <p><em>韩梅梅听完李雷，既生气，又好笑，还有一点点小感动：这小子为了感情还是蛮拼的。</em></p>
  
  <p><em>一段沉默之后，韩梅梅笑着对李雷说：“好了好了，我不怪你了。”李雷长舒一口气。</em></p>
  
  <p><em>韩梅梅继续说：“问个挑螃蟹的问题。你刚才选了这么多特征。为什么不考虑用B超直接照一下，看看里面什么东西不就成了吗？”</em></p>
  
  <p><em>李雷一听，犹如当头一棒，整个脑子都被草泥马占满了：“我去，这么简单的方法我怎么想不到？！”</em></p>
  
  <p><em>韩梅梅这时已经笑得肚子痛了，根本说不上话。</em></p>
  
  <p><em>李雷吐槽到：“梅梅，你太厉害了。我觉得机器永远也学不到的两样东西就是人类的情感和脑洞啊！”</em></p>
</blockquote>

<h2 id="19-后记">19. 后记</h2>

<p>其实博主也没有丧心病狂到抓只螃蟹去照B超，只是自己被这个想法逗乐了，大家开心就好哈。O(∩_∩)O~~</p>

<p>如果真要死磕，据说B超的穿透力比较弱，对骨骼、空气等很难达到深部，因此难以成像。但是通过声波的回声来判断，也是一个思路。就像有些人可以通过拍打西瓜听声音来判断它甜不甜的道理一样。</p>

<p>如果不用机械波而用电磁波，比如X射线，估计哪怕能看到螃蟹满黄顾客也不会吃了。顾客也会担心放射残留的。CT应该好些，但是贵呀。一套设备下来，螃蟹估计也不止120块钱了吧。没玩过CT，不知道成本多少……总之还是要考虑获取特征的成本的。</p>
            <div>
                作者：yaoqiang2011 发表于2016/1/12 11:54:51 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50503115">原文链接</a>
            </div>
            <div>
            阅读：26572 评论：4 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50503115#comments" target="_blank">查看评论</a>
            </div>
[原]机器学习系列(5)_从白富美相亲看特征预处理与选择(上)
<p>作者：<a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a> &amp;&amp;<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年1月。 <br />
出处： <br />
<a href="http://blog.csdn.net/longxinchen_ml/article/details/50471682">http://blog.csdn.net/longxinchen_ml/article/details/50471682</a>,  <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50481967">http://blog.csdn.net/han_xiaoyang/article/details/50481967</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-引言">1. 引言</h2>

<p>再过一个月就是春节，相信有很多码农就要准备欢天喜地地回家过（xiang）年(qin)了。我们今天也打算讲一个相亲的故事。</p>

<p>讲机器学习为什么要讲相亲？被讨论群里的小伙伴催着相亲，哦不，催着讲特征工程紧啊。只是我们不太敢讲这么复杂高深的东西，毕竟工程实践的经验太复杂了，没有统一的好解释的理论，一般的教材讲这方面的内容不多。我们就打算以一个相亲的故事为例，串一些特征工程的内容。</p>



<h2 id="2-故事背景">2. 故事背景</h2>

<p><strong>事先声明：本故事纯属虚构，如有雷同，纯属巧合！</strong></p>

<blockquote>
  <p><em>海归白富美韩梅梅刚回国，还没适应工作，母亲就催着相亲。以父母的关系，他们了解到的适龄单身男青年有100个。要从100个男生中找到1个理想的女婿，可谓百里挑一。韩梅梅母亲也担心女儿相亲多了会反感，打算草拟一个相亲名单，人数不多。怎么从中挑出优秀男青年就是一个首要的问题。</em></p>
</blockquote>



<h2 id="3-用机器学习的框架去分析">3. 用机器学习的框架去分析</h2>

<p>我们用机器学习的框架分析，在父母眼中，这100个男生最终将会分成两类：“女婿”（1人）和“非女婿”（99人）。“女婿”和“非女婿”就叫做“标签”。</p>

<p>而选择相亲名单的标准——如“是否高富帅”、“是否海归”等等——就叫作“特征”。<strong>最好能有一个特征能够精确定位理想女婿。但这太过理想了。比较现实的方法是从这些“特征”中选择、拆分、组合出最合适的特征，逐渐逼近我们的标签</strong>，以形成一个精简的相亲名单。而这个过程，就可以理解成特征处理、特征工程的过程。</p>

<p>但是，<strong>现实中的特征有千千万，拆分重组之后特征又是几何级数地增加，可能永远也穷举不完。因此需要有统一客观的指标来衡量这些特征对标签的识别能力，以便进一步地深入分析。</strong>而评估这些“特征”对我们的“标签”的有效程度的过程就叫作“<strong>特征有效性分析</strong>”。</p>



<h2 id="4-剧情一韩妈妈的如意算盘">4. 剧情一：韩妈妈的“如意算盘”</h2>

<blockquote>
  <p><em>为人父母嘛，总是希望女儿嫁得好。韩妈妈的第一反应的就是要找“高富帅”。先她先从这100个男生中挑了挑，符合高富帅这个标准的有5个人。</em></p>
  
  <p><em>韩妈妈的如意算盘是这样的：女婿就从这5个人中挑，概率就是20%，比之前的1%整整提高了20倍，嘿嘿嘿。。。</em></p>
</blockquote>



<h2 id="5-特征有效性分析">5. 特征有效性分析</h2>

<p>其实，这就韩妈妈不知不觉就走了一个特征有效性分析的过程。我们用图表演示一下： <br />
</p><center> <br />
 <img alt="图表" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image057.jpg" title="" /> <br />
 </center> <br />
考虑到各方面的概率，用下图表示更加直观： <br />
 <center> <br />
<img alt="条件概率" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image059.jpg" title="" /> <br />
 </center> <br />
为了表述方便，我们以随机挑女婿而不考虑任何特征的概率叫做“<strong>先验概率”</strong>（1%）。而中间的箭头中的概率则表示<strong>在已经知道样本所属特征前提下</strong>，属于女婿还是不属于女婿的概率，也可以叫作<strong>“标签相对于某个特征的后验概率”</strong>（20%）。而母亲的如意算盘就是<strong>考虑了上图中红圈部分的先验概率与后验概率（也可以叫条件概率）</strong>。这其实是一种很朴素的特征有效性分析的方法。而且她还做了个更加精确的数量化描述：<p></p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 13.229em; display: inline-block;"><span style="display: inline-block; width: 10.563em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mfrac" id="MathJax-Span-3"><span style="display: inline-block; width: 2.669em; height: 0px;"><span><span class="mrow" id="MathJax-Span-4"><span class="texatom" id="MathJax-Span-5"><span class="mrow" id="MathJax-Span-6"><span class="mo" id="MathJax-Span-7" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span></span></span><span class="texatom" id="MathJax-Span-8"><span class="mrow" id="MathJax-Span-9"><span class="mo" id="MathJax-Span-10" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-11"><span class="mrow" id="MathJax-Span-12"><span class="mo" id="MathJax-Span-13" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-14"><span class="mrow" id="MathJax-Span-15"><span class="mo" id="MathJax-Span-16" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mrow" id="MathJax-Span-17"><span class="texatom" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="mo" id="MathJax-Span-20" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">先</span></span></span></span><span class="texatom" id="MathJax-Span-21"><span class="mrow" id="MathJax-Span-22"><span class="mo" id="MathJax-Span-23" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-24"><span class="mrow" id="MathJax-Span-25"><span class="mo" id="MathJax-Span-26" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-27"><span class="mrow" id="MathJax-Span-28"><span class="mo" id="MathJax-Span-29" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-30" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-31"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mrow" id="MathJax-Span-32"><span class="mn" id="MathJax-Span-33" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">20</span><span class="mi" id="MathJax-Span-34" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-35"><span class="mn" id="MathJax-Span-36" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mi" id="MathJax-Span-37" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-39" style="font-family: STIXGeneral-Regular;">20</span><span class="texatom" id="MathJax-Span-40"><span class="mrow" id="MathJax-Span-41"><span class="mo" id="MathJax-Span-42"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="texatom" id="MathJax-Span-43"><span class="mrow" id="MathJax-Span-44"><span class="mo" id="MathJax-Span-45"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">倍</span></span></span></span><span class="texatom" id="MathJax-Span-46"><span class="mrow" id="MathJax-Span-47"><span class="mo" id="MathJax-Span-48"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。 <br />
   </center> <br />
  只是在工程上做除法可能运算会麻烦些，而两边同时取对数转换成减法则更方便：<p></p>
  
  <p></p><center> <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-49" style="width: 22.136em; display: inline-block;"><span style="display: inline-block; width: 17.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-50"><span class="mi" id="MathJax-Span-51" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-52" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-53" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-54" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-55"><span style="display: inline-block; width: 2.669em; height: 0px;"><span><span class="mrow" id="MathJax-Span-56"><span class="texatom" id="MathJax-Span-57"><span class="mrow" id="MathJax-Span-58"><span class="mo" id="MathJax-Span-59" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span></span></span><span class="texatom" id="MathJax-Span-60"><span class="mrow" id="MathJax-Span-61"><span class="mo" id="MathJax-Span-62" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-63"><span class="mrow" id="MathJax-Span-64"><span class="mo" id="MathJax-Span-65" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-66"><span class="mrow" id="MathJax-Span-67"><span class="mo" id="MathJax-Span-68" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mrow" id="MathJax-Span-69"><span class="texatom" id="MathJax-Span-70"><span class="mrow" id="MathJax-Span-71"><span class="mo" id="MathJax-Span-72" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">先</span></span></span></span><span class="texatom" id="MathJax-Span-73"><span class="mrow" id="MathJax-Span-74"><span class="mo" id="MathJax-Span-75" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-76"><span class="mrow" id="MathJax-Span-77"><span class="mo" id="MathJax-Span-78" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-79"><span class="mrow" id="MathJax-Span-80"><span class="mo" id="MathJax-Span-81" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-82" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-83" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-85" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-86" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-87" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-88"><span class="mrow" id="MathJax-Span-89"><span class="mo" id="MathJax-Span-90"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span></span></span><span class="texatom" id="MathJax-Span-91"><span class="mrow" id="MathJax-Span-92"><span class="mo" id="MathJax-Span-93"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-94"><span class="mrow" id="MathJax-Span-95"><span class="mo" id="MathJax-Span-96"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-97"><span class="mrow" id="MathJax-Span-98"><span class="mo" id="MathJax-Span-99"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="mo" id="MathJax-Span-100" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-101" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-102" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-103" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-104" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-105" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-106"><span class="mrow" id="MathJax-Span-107"><span class="mo" id="MathJax-Span-108"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">先</span></span></span></span><span class="texatom" id="MathJax-Span-109"><span class="mrow" id="MathJax-Span-110"><span class="mo" id="MathJax-Span-111"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-112"><span class="mrow" id="MathJax-Span-113"><span class="mo" id="MathJax-Span-114"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-115"><span class="mrow" id="MathJax-Span-116"><span class="mo" id="MathJax-Span-117"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span><span class="mo" id="MathJax-Span-118" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> </center><p></p>
  
  <p><strong>概率表示着选女婿的可能性或者确定性。在本例中，后验概率的确定性比先验概率的确定性更高。</strong>可见，“<strong>确定性的增加”可以作为特征有效性分析的一个指标。</strong></p>
</blockquote>

<p>我们进一步分析，无论先验概率还是后验概率，其本身是0-1之间的一个数，取完对数之后是一个负数，这在现实中不太方便找到其对应的现象解释。但是<strong>概率的倒数一定大于1，取完对数之后就是一个正数，就好找现实解释了</strong>。我们可以把这个<strong>“概率倒数的对数”理解成不确定性的指标。</strong>于是上式就变成：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-119" style="width: 21.336em; display: inline-block;"><span style="display: inline-block; width: 17.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-120"><span class="mi" id="MathJax-Span-121" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-122" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-123" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-124" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-125"><span style="display: inline-block; width: 2.669em; height: 0px;"><span><span class="mrow" id="MathJax-Span-126"><span class="texatom" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mo" id="MathJax-Span-129" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span></span></span><span class="texatom" id="MathJax-Span-130"><span class="mrow" id="MathJax-Span-131"><span class="mo" id="MathJax-Span-132" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-133"><span class="mrow" id="MathJax-Span-134"><span class="mo" id="MathJax-Span-135" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-136"><span class="mrow" id="MathJax-Span-137"><span class="mo" id="MathJax-Span-138" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mrow" id="MathJax-Span-139"><span class="texatom" id="MathJax-Span-140"><span class="mrow" id="MathJax-Span-141"><span class="mo" id="MathJax-Span-142" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">先</span></span></span></span><span class="texatom" id="MathJax-Span-143"><span class="mrow" id="MathJax-Span-144"><span class="mo" id="MathJax-Span-145" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-146"><span class="mrow" id="MathJax-Span-147"><span class="mo" id="MathJax-Span-148" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-149"><span class="mrow" id="MathJax-Span-150"><span class="mo" id="MathJax-Span-151" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-152" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-153" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-154" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-155" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-157" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-158"><span style="display: inline-block; width: 2.669em; height: 0px;"><span><span class="mn" id="MathJax-Span-159" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-160"><span class="texatom" id="MathJax-Span-161"><span class="mrow" id="MathJax-Span-162"><span class="mo" id="MathJax-Span-163" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">先</span></span></span></span><span class="texatom" id="MathJax-Span-164"><span class="mrow" id="MathJax-Span-165"><span class="mo" id="MathJax-Span-166" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-167"><span class="mrow" id="MathJax-Span-168"><span class="mo" id="MathJax-Span-169" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-170"><span class="mrow" id="MathJax-Span-171"><span class="mo" id="MathJax-Span-172" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-173" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-174" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-175" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-176" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-177" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-178" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-179"><span style="display: inline-block; width: 2.669em; height: 0px;"><span><span class="mn" id="MathJax-Span-180" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-181"><span class="texatom" id="MathJax-Span-182"><span class="mrow" id="MathJax-Span-183"><span class="mo" id="MathJax-Span-184" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span></span></span><span class="texatom" id="MathJax-Span-185"><span class="mrow" id="MathJax-Span-186"><span class="mo" id="MathJax-Span-187" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-188"><span class="mrow" id="MathJax-Span-189"><span class="mo" id="MathJax-Span-190" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-191"><span class="mrow" id="MathJax-Span-192"><span class="mo" id="MathJax-Span-193" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> </center><p></p>
  
  <p>这里面的<strong><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-195" style="width: 6.152em; display: inline-block;"><span style="display: inline-block; width: 4.757em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-196"><span class="mi" id="MathJax-Span-197" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-198" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-199" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-200" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-201"><span style="display: inline-block; width: 2.587em; height: 0px;"><span><span class="mrow" id="MathJax-Span-202"><span class="texatom" id="MathJax-Span-203"><span class="mrow" id="MathJax-Span-204"><span class="mo" id="MathJax-Span-205" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">后</span></span></span></span><span class="texatom" id="MathJax-Span-206"><span class="mrow" id="MathJax-Span-207"><span class="mo" id="MathJax-Span-208" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-209"><span class="mrow" id="MathJax-Span-210"><span class="mo" id="MathJax-Span-211" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-212"><span class="mrow" id="MathJax-Span-213"><span class="mo" id="MathJax-Span-214" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span><span><span class="mrow" id="MathJax-Span-215"><span class="texatom" id="MathJax-Span-216"><span class="mrow" id="MathJax-Span-217"><span class="mo" id="MathJax-Span-218" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">先</span></span></span></span><span class="texatom" id="MathJax-Span-219"><span class="mrow" id="MathJax-Span-220"><span class="mo" id="MathJax-Span-221" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">验</span></span></span></span><span class="texatom" id="MathJax-Span-222"><span class="mrow" id="MathJax-Span-223"><span class="mo" id="MathJax-Span-224" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">概</span></span></span></span><span class="texatom" id="MathJax-Span-225"><span class="mrow" id="MathJax-Span-226"><span class="mo" id="MathJax-Span-227" style="font-size: 70.7%;"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">率</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.088em;"></span></span></span></span><span class="mo" id="MathJax-Span-228" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span></strong>我们叫做<strong>互信息</strong>。</p>
  
  <p>因此，<strong>“不确定性的减少”可以作为特征有效性分析的一个指标。这个结论我们接下来将会反复用到。</strong></p>
</blockquote>



<h2 id="6-剧情二白富美巧劝慈母">6. 剧情二：白富美巧劝慈母</h2>

<blockquote>
  <p><em>韩妈妈半开玩笑地问韩梅梅：“我们家闺女只挑高富帅的怎么样？”女儿想了想，说：“如果人家看不上我们怎么办？”母亲笑着说：“我们的家境哪里差了？何况我们的女儿这么优秀，我们还看不上他们呢。”</em></p>
  
  <p><em>女儿说：“这就是说明我们双方不合适了。我们家条件虽然还不错，但是比下有余、比上不足，跟真正条件好的家庭比较起来我们根本不算事儿。如果一味挑高富帅，他们可能觉得我们只是看中他们的钱，反倒把我们家看低了。相反，要是真要有个真正对我好的男生，比什么都幸福，而他不一定必须是高富帅。毕竟跟我一起相处一辈子的是一个活生生的人，而不是他背后的东西嘛。”</em></p>
  
  <p><em>母亲很有感慨地说：“嗯，你能这样想我就放心了。梅梅真是长大了。那么，你打算怎么办？”女儿说道：“高富帅也得分人，踏实人品好的也可以接触一下，但是玩心太重不会照顾人的我就不喜欢。估计高富帅里面这两种人一半一半吧。很多男生并不是高富帅，其中没准也有合适的人呢。”</em></p>
</blockquote>



<h2 id="7-特征有效性分析">7. 特征有效性分析</h2>

<p>现在特征的分布发生了新变化。按韩梅梅的分析，高富帅中可能有一半她就不会喜欢，而不是高富帅的男生中没准有合适的人。我们可以简单假设高富帅中与非高富帅中各有0.5个合适的人。则分析图表如下： <br />
  </p><center><img alt="图表" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image061.jpg" title="" />  </center> <br />
   <center> <br />
 <img alt="条件概率" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image063.jpg" title="" /> </center><p></p>

<p>现在的情况是，<strong>“是不是女婿”的可能性同时分布在“是高富帅”和“不是高富帅”中，</strong>单独衡量“高富帅”本身的后验概率已经不够描述特征的整体效果了。<strong>我们可以有一个考虑特征整体情况的指标。</strong></p>

<p>还是回到之前的那句话：</p>

<blockquote>
  <p>“<strong>不确定性的减少”可以作为特征有效性分析的一个指标。</strong></p>
</blockquote>

<p>我们之前考虑了“是女婿”的不确定性是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-229" style="width: 4.003em; display: inline-block;"><span style="display: inline-block; width: 3.203em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-230"><span class="mi" id="MathJax-Span-231" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-232" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-233" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-234" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-235"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mn" id="MathJax-Span-236" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-237"><span class="mn" id="MathJax-Span-238" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mi" id="MathJax-Span-239" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-240" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，相应的“不是女婿”的不确定性是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-241" style="width: 4.483em; display: inline-block;"><span style="display: inline-block; width: 3.576em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-242"><span class="mi" id="MathJax-Span-243" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-244" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-245" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-246" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-247"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mn" id="MathJax-Span-248" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-249"><span class="mn" id="MathJax-Span-250" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">99</span><span class="mi" id="MathJax-Span-251" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-252" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，那么<strong>标签“是否女婿”作为整体的平均不确定性则可以理解为这两个状态的加权平均：</strong></p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-253" style="width: 27.736em; display: inline-block;"><span style="display: inline-block; width: 22.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-254"><span class="mi" id="MathJax-Span-255" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-256"><span class="mrow" id="MathJax-Span-257"><span class="mo" id="MathJax-Span-258"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-259" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-260"><span class="mrow" id="MathJax-Span-261"><span class="mo" id="MathJax-Span-262"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-263" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-264" style="font-family: STIXGeneral-Regular;">1</span><span class="mi" id="MathJax-Span-265" style="font-family: STIXGeneral-Regular;">%</span><span class="mo" id="MathJax-Span-266" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-268" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-269" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-270" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-271"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mn" id="MathJax-Span-272" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-273"><span class="mn" id="MathJax-Span-274" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mi" id="MathJax-Span-275" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-276" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-277" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-278" style="font-family: STIXGeneral-Regular;">99</span><span class="mi" id="MathJax-Span-279" style="font-family: STIXGeneral-Regular;">%</span><span class="mo" id="MathJax-Span-280" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-281" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-282" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-283" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-284" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-285"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mn" id="MathJax-Span-286" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-287"><span class="mn" id="MathJax-Span-288" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">99</span><span class="mi" id="MathJax-Span-289" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-290" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-291" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-292" style="font-family: STIXGeneral-Regular;">0.08079</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。(<strong>全文假定对数log的底数取为2</strong>)</p>
  
  <p>这就是传说中的<strong>信息熵</strong>。我们用Y表示标签，用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-293" style="width: 3.843em; display: inline-block;"><span style="display: inline-block; width: 3.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-294"><span class="mi" id="MathJax-Span-295" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-296"><span class="mrow" id="MathJax-Span-297"><span class="mo" id="MathJax-Span-298"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-299" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-300"><span class="mrow" id="MathJax-Span-301"><span class="mo" id="MathJax-Span-302"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>表示“是否女婿”的信息熵，也就是其整体的<strong>平均不确定性</strong>。</p>
</blockquote>

<p>那么<strong>考虑特征（“是否高帅富”）后的标签（“是否女婿”）的平均不确定性</strong>怎么衡量？我们用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-303" style="width: 15.043em; display: inline-block;"><span style="display: inline-block; width: 12.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-304"><span class="mi" id="MathJax-Span-305" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-306" style="font-family: STIXGeneral-Regular;">:</span><span class="mo" id="MathJax-Span-307" style="font-family: STIXGeneral-Regular;">{</span><span class="mo" id="MathJax-Span-308" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-309"><span class="mrow" id="MathJax-Span-310"><span class="mo" id="MathJax-Span-311"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-312"><span class="mrow" id="MathJax-Span-313"><span class="mo" id="MathJax-Span-314"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-315"><span class="mrow" id="MathJax-Span-316"><span class="mo" id="MathJax-Span-317"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-318"><span class="mrow" id="MathJax-Span-319"><span class="mo" id="MathJax-Span-320"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-321" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-322" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-323" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-324"><span class="mrow" id="MathJax-Span-325"><span class="mo" id="MathJax-Span-326"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-327"><span class="mrow" id="MathJax-Span-328"><span class="mo" id="MathJax-Span-329"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-330"><span class="mrow" id="MathJax-Span-331"><span class="mo" id="MathJax-Span-332"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-333"><span class="mrow" id="MathJax-Span-334"><span class="mo" id="MathJax-Span-335"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-336"><span class="mrow" id="MathJax-Span-337"><span class="mo" id="MathJax-Span-338"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-339" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-340" style="font-family: STIXGeneral-Regular;">}</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>来表示特征。其实，与上面的思路类似，我们在<strong>已知特征为“是高富帅”的前提下，“是否女婿”这个标签的整体平均不确定性可以用相对“是高富帅”的后验概率来求出</strong>：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-341" style="width: 25.603em; display: inline-block;"><span style="display: inline-block; width: 20.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-342"><span style="display: inline-block; width: 20.483em; height: 0px;"><span><span class="mi" id="MathJax-Span-343" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-344" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-345" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-346"><span class="mrow" id="MathJax-Span-347"><span class="mo" id="MathJax-Span-348" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-349" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-350" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-351" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-352"><span class="mrow" id="MathJax-Span-353"><span class="mo" id="MathJax-Span-354"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-355"><span class="mrow" id="MathJax-Span-356"><span class="mo" id="MathJax-Span-357"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-358"><span class="mrow" id="MathJax-Span-359"><span class="mo" id="MathJax-Span-360"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-361"><span class="mrow" id="MathJax-Span-362"><span class="mo" id="MathJax-Span-363"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-364" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-365" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-366" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-367" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-368" style="font-family: STIXGeneral-Regular;">0.5</span><span class="texatom" id="MathJax-Span-369"><span class="mrow" id="MathJax-Span-370"><span class="mo" id="MathJax-Span-371" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-372" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-373" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-374" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-375" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-376" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-377" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-378" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-379"><span style="display: inline-block; width: 2.029em; height: 0px;"><span><span class="mn" id="MathJax-Span-380" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-381"><span class="mo" id="MathJax-Span-382" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-383" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0.5</span><span class="texatom" id="MathJax-Span-384"><span class="mrow" id="MathJax-Span-385"><span class="mo" id="MathJax-Span-386" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-387" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-388" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-389" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-390" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-391" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-392" style="font-family: STIXGeneral-Regular;">4.5</span><span class="texatom" id="MathJax-Span-393"><span class="mrow" id="MathJax-Span-394"><span class="mo" id="MathJax-Span-395" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-396" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-397" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-398" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-399" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-400" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-401" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-402" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-403"><span style="display: inline-block; width: 2.029em; height: 0px;"><span><span class="mn" id="MathJax-Span-404" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-405"><span class="mo" id="MathJax-Span-406" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-407" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4.5</span><span class="texatom" id="MathJax-Span-408"><span class="mrow" id="MathJax-Span-409"><span class="mo" id="MathJax-Span-410" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-411" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-412" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-413" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-414" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-415" style="font-family: STIXGeneral-Regular;">0.46900</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.323em;"></span></span></span><span></span></span></span></p>
</blockquote>

<p><strong>在已知特征为“不是高富帅”的前提下，“是否女婿”这个标签的整体平均不确定性可以用相对“不是高富帅”的后验概率来求出：</strong></p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-416" style="width: 28.643em; display: inline-block;"><span style="display: inline-block; width: 22.883em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-417"><span style="display: inline-block; width: 22.883em; height: 0px;"><span><span class="mi" id="MathJax-Span-418" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-419" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-420" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-421"><span class="mrow" id="MathJax-Span-422"><span class="mo" id="MathJax-Span-423" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-424" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-425" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-426" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-427"><span class="mrow" id="MathJax-Span-428"><span class="mo" id="MathJax-Span-429"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-430"><span class="mrow" id="MathJax-Span-431"><span class="mo" id="MathJax-Span-432"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-433"><span class="mrow" id="MathJax-Span-434"><span class="mo" id="MathJax-Span-435"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-436"><span class="mrow" id="MathJax-Span-437"><span class="mo" id="MathJax-Span-438"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-439"><span class="mrow" id="MathJax-Span-440"><span class="mo" id="MathJax-Span-441"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-443" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-444" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-445" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-446" style="font-family: STIXGeneral-Regular;">0.5</span><span class="texatom" id="MathJax-Span-447"><span class="mrow" id="MathJax-Span-448"><span class="mo" id="MathJax-Span-449" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-450" style="font-family: STIXGeneral-Regular;">95</span><span class="mo" id="MathJax-Span-451" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-452" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-453" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-454" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-455" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-456" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-457"><span style="display: inline-block; width: 2.403em; height: 0px;"><span><span class="mn" id="MathJax-Span-458" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-459"><span class="mo" id="MathJax-Span-460" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-461" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0.5</span><span class="texatom" id="MathJax-Span-462"><span class="mrow" id="MathJax-Span-463"><span class="mo" id="MathJax-Span-464" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-465" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">95</span><span class="mo" id="MathJax-Span-466" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-467" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-468" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-469" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-470" style="font-family: STIXGeneral-Regular;">94.5</span><span class="texatom" id="MathJax-Span-471"><span class="mrow" id="MathJax-Span-472"><span class="mo" id="MathJax-Span-473" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-474" style="font-family: STIXGeneral-Regular;">95</span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-476" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-477" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-478" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-479" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-480" style="font-family: STIXGeneral-Regular;">(</span><span class="mfrac" id="MathJax-Span-481"><span style="display: inline-block; width: 2.723em; height: 0px;"><span><span class="mn" id="MathJax-Span-482" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-483"><span class="mo" id="MathJax-Span-484" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-485" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">94.5</span><span class="texatom" id="MathJax-Span-486"><span class="mrow" id="MathJax-Span-487"><span class="mo" id="MathJax-Span-488" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-489" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">95</span><span class="mo" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-491" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-492" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-493" style="font-family: STIXGeneral-Regular;">0.04741</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.323em;"></span></span></span><span></span></span></span>。</p>
</blockquote>

<p>因此，<strong>已知特征(无论具体是“是高富帅”还是“不是高富帅”)情况下的标签平均不确定性为前面两种情况的加权平均：</strong></p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-494" style="width: 3.683em; display: inline-block;"><span style="display: inline-block; width: 2.936em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-495"><span class="mi" id="MathJax-Span-496" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-497" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-498" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-499"><span class="mrow" id="MathJax-Span-500"><span class="mo" id="MathJax-Span-501" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-502" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-503" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-504" style="width: 29.229em; display: inline-block;"><span style="display: inline-block; width: 23.363em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-505"><span style="display: inline-block; width: 23.363em; height: 0px;"><span><span class="mo" id="MathJax-Span-506" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-507" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-508" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-509" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-510" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-511" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-512"><span class="mrow" id="MathJax-Span-513"><span class="mo" id="MathJax-Span-514"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-515"><span class="mrow" id="MathJax-Span-516"><span class="mo" id="MathJax-Span-517"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-518"><span class="mrow" id="MathJax-Span-519"><span class="mo" id="MathJax-Span-520"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-521"><span class="mrow" id="MathJax-Span-522"><span class="mo" id="MathJax-Span-523"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-524" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-525" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-526" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-527" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-528" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-529" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-530"><span class="mrow" id="MathJax-Span-531"><span class="mo" id="MathJax-Span-532" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-533" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-534" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-535" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-536"><span class="mrow" id="MathJax-Span-537"><span class="mo" id="MathJax-Span-538"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-539"><span class="mrow" id="MathJax-Span-540"><span class="mo" id="MathJax-Span-541"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-542"><span class="mrow" id="MathJax-Span-543"><span class="mo" id="MathJax-Span-544"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-545"><span class="mrow" id="MathJax-Span-546"><span class="mo" id="MathJax-Span-547"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-548" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-549" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-550" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-551" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-552" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-553" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-554" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-555" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-556"><span class="mrow" id="MathJax-Span-557"><span class="mo" id="MathJax-Span-558"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-559"><span class="mrow" id="MathJax-Span-560"><span class="mo" id="MathJax-Span-561"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-562"><span class="mrow" id="MathJax-Span-563"><span class="mo" id="MathJax-Span-564"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-565"><span class="mrow" id="MathJax-Span-566"><span class="mo" id="MathJax-Span-567"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-568"><span class="mrow" id="MathJax-Span-569"><span class="mo" id="MathJax-Span-570"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-571" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-572" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-573" style="font-family: STIXGeneral-Regular;">×</span><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-575" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-576" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-577"><span class="mrow" id="MathJax-Span-578"><span class="mo" id="MathJax-Span-579" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-580" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-581" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-582" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-583"><span class="mrow" id="MathJax-Span-584"><span class="mo" id="MathJax-Span-585"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-586"><span class="mrow" id="MathJax-Span-587"><span class="mo" id="MathJax-Span-588"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-589"><span class="mrow" id="MathJax-Span-590"><span class="mo" id="MathJax-Span-591"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-592"><span class="mrow" id="MathJax-Span-593"><span class="mo" id="MathJax-Span-594"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-595"><span class="mrow" id="MathJax-Span-596"><span class="mo" id="MathJax-Span-597"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="mo" id="MathJax-Span-598" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-599" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span> <br />
  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-600" style="width: 25.976em; display: inline-block;"><span style="display: inline-block; width: 20.749em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-601"><span class="mo" id="MathJax-Span-602" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-603" style="font-family: STIXGeneral-Regular;">5</span><span class="texatom" id="MathJax-Span-604"><span class="mrow" id="MathJax-Span-605"><span class="mo" id="MathJax-Span-606" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-607" style="font-family: STIXGeneral-Regular;">100</span><span class="mo" id="MathJax-Span-608" style="font-family: STIXGeneral-Regular;">×</span><span class="mn" id="MathJax-Span-609" style="font-family: STIXGeneral-Regular;">0.46900</span><span class="mo" id="MathJax-Span-610" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-611" style="font-family: STIXGeneral-Regular;">95</span><span class="texatom" id="MathJax-Span-612"><span class="mrow" id="MathJax-Span-613"><span class="mo" id="MathJax-Span-614" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-615" style="font-family: STIXGeneral-Regular;">100</span><span class="mo" id="MathJax-Span-616" style="font-family: STIXGeneral-Regular;">×</span><span class="mn" id="MathJax-Span-617" style="font-family: STIXGeneral-Regular;">0.04741</span><span class="mo" id="MathJax-Span-618" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-619" style="font-family: STIXGeneral-Regular;">0.06849</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  这就是传说中的<strong>条件熵</strong>。</p>
</blockquote>

<p>所以，<strong>考虑特征后，标签的“不确定性的减少”</strong>为：</p>

<blockquote>
  <p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-620" style="width: 21.016em; display: inline-block;"><span style="display: inline-block; width: 16.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-621"><span class="mi" id="MathJax-Span-622" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-623"><span class="mrow" id="MathJax-Span-624"><span class="mo" id="MathJax-Span-625"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-626" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-627" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-628" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-629"><span class="mrow" id="MathJax-Span-630"><span class="mo" id="MathJax-Span-631"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-632" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-633" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-634"><span class="mrow" id="MathJax-Span-635"><span class="mo" id="MathJax-Span-636"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-637" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-638"><span class="mrow" id="MathJax-Span-639"><span class="mo" id="MathJax-Span-640"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-641" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-642" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-643" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-644" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-645"><span class="mrow" id="MathJax-Span-646"><span class="mo" id="MathJax-Span-647" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-648" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-649" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-650" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-651" style="font-family: STIXGeneral-Regular;">0.01230</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> <br />
  这个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-652" style="width: 4.696em; display: inline-block;"><span style="display: inline-block; width: 3.736em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-653"><span class="mi" id="MathJax-Span-654" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-655"><span class="mrow" id="MathJax-Span-656"><span class="mo" id="MathJax-Span-657"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-658" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-659" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-660" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-661"><span class="mrow" id="MathJax-Span-662"><span class="mo" id="MathJax-Span-663"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>就叫做<strong>平均互信息</strong>。</p>
</blockquote>

<p>我们用同样的方法去评价之前母亲设想的女婿只在高富帅中的理想情况（也就是女婿只在高富帅中产生的情况）的互信息<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-664" style="width: 11.043em; display: inline-block;"><span style="display: inline-block; width: 8.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-665"><span class="mi" id="MathJax-Span-666" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-667"><span class="mrow" id="MathJax-Span-668"><span class="mo" id="MathJax-Span-669"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-670" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-671" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-672"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-673" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-674" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-675"><span class="mrow" id="MathJax-Span-676"><span class="mo" id="MathJax-Span-677"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-678" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-679" style="font-family: STIXGeneral-Regular;">0.04470</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>

<p>平均互信息<strong>从理想情况的0.04470下降到0.01230，也就是说原以为特征“是否高富帅”与标签“是否女婿”的相关性很高，后来发现相关性其实是比较低的。</strong>可见理想很丰满，现实很骨感。</p>



<h2 id="8-剧情三白富美重定名单">8. 剧情三：白富美重定名单</h2>

<blockquote>
  <p><em>其实，韩梅梅没有说出来的话是她有一个青梅竹马的码农叫李雷。她出国之前的对他的印象还不错。如果按母亲的标准李雷肯定排除在相亲名单外了，而她想给他一个机会。</em></p>
  
  <p><em>这时母亲说话了：“我们家女儿考虑得挺好，那相亲名单你来定吧。”女儿说：“不是高富帅的男生也该好好区分一下，那些品行端正、气度不凡、踏实肯干的潜力股的男生我也比较欣赏，其他的就暂且不考虑了。”母亲说：“就是说可以从高富帅中挑出部分品德好的，还有从不是高帅富的男生中挑出部分潜力股，共同组成一个新的名单，我们的女婿就在这里面了?”女儿不好意思地说：“妈妈您真着急，八字还没一撇呢。”</em></p>
  
  <p><em>接着，韩梅梅母女俩从高富帅中挑了2个口碑不错的，又从不是高富帅的男生中条了10个很不错的。最终组成了12人的相亲名单。李雷的名字在其中。</em></p>
</blockquote>



<h2 id="9-拆分重组成为新特征">9. 拆分重组成为新特征</h2>

<p>其实以上韩梅梅母女俩完成了一次特征的拆分与重组过程。具体图示如下: <br />
 </p><center><img alt="特征拆分重组" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image065.jpg" title="" /> </center><p></p>

<p>这里用“潜帅德”表示韩梅梅对“品行端正、气度不凡、踏实肯干的潜力股”的特征的描述。</p>

<p><strong>特征进行拆分与重组的过程在特征工程中经常出现。</strong>因为当你对特征与标签的相关性有定量的评估方法后，会<strong>筛选出那些不那么显著的特征（如本例中的“是否高富帅”），然后去分析考核指标这么低的原因，启发你引入新的特征（如本例中的“是否品德良好”、“是否有潜力”）将原有特征拆分重组</strong>，可能会有更好的效果。而这些生成的新特征，<strong>又要经过特征有效性分析来最终评估。如此反复迭代。</strong></p>



<h2 id="10-特征有效性分析">10. 特征有效性分析</h2>

<p></p><center><img alt="新特征条件概率" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image067.jpg" title="" /> </center><p></p>

<p>我们用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-680" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-681"><span class="msubsup" id="MathJax-Span-682"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-683" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-684" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>来表示新特征，与上面的思路类似，我们计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-685" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-686"><span class="msubsup" id="MathJax-Span-687"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-688" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-689" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>的平均互信息：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-690" style="width: 22.136em; display: inline-block;"><span style="display: inline-block; width: 17.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-691"><span class="mi" id="MathJax-Span-692" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-693"><span class="mrow" id="MathJax-Span-694"><span class="mo" id="MathJax-Span-695"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-696" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-697" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-698"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-699" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-700" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-701"><span class="mrow" id="MathJax-Span-702"><span class="mo" id="MathJax-Span-703"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-704" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-705" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-706"><span class="mrow" id="MathJax-Span-707"><span class="mo" id="MathJax-Span-708"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-709" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-710"><span class="mrow" id="MathJax-Span-711"><span class="mo" id="MathJax-Span-712"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-713" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-714" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-715" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-716" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-717"><span class="mrow" id="MathJax-Span-718"><span class="mo" id="MathJax-Span-719" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-720"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-721" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-722" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-723" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-724" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-725" style="font-family: STIXGeneral-Regular;">0.03114</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> </center><p></p>
</blockquote>

<p><strong>与之前的平均互信息<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-726" style="width: 10.7em; display: inline-block;"><span style="display: inline-block; width: 8.271em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-727"><span class="mi" id="MathJax-Span-728" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="texatom" id="MathJax-Span-729"><span class="mrow" id="MathJax-Span-730"><span class="mo" id="MathJax-Span-731"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-732" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mo" id="MathJax-Span-733" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-734" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="texatom" id="MathJax-Span-735"><span class="mrow" id="MathJax-Span-736"><span class="mo" id="MathJax-Span-737"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 78%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-738" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-739" style="font-family: STIXGeneral-Regular;">0.01230</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>比起来，有了显著提高</strong>。可见新特征<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-740" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-741"><span class="msubsup" id="MathJax-Span-742"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-743" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-744" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>比之前的特征<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-745" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-746"><span class="mi" id="MathJax-Span-747" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>更有效。</p>



<h2 id="11-剧情四韩妈妈给名单分级">11. 剧情四:韩妈妈给名单分级</h2>

<blockquote>
  <p><em>在跟韩梅梅聊完之后，韩妈妈转念一想:“为什么非要有一份相亲名单？可以把这12个人再分成两类，第一类是高富帅的，先相亲。这些觉得不合适后再考虑剩下的10个人啊。”</em></p>
</blockquote>



<h2 id="12-特征有效性分析">12. 特征有效性分析</h2>

<p></p><center><img alt="X3" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image069.jpg" title="" /> </center><p></p>

<p>我们继续分析，用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-748" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-749"><span class="msubsup" id="MathJax-Span-750"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-751" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-752" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>来表示新特征，与上面的思路类似，我们计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-753" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-754"><span class="msubsup" id="MathJax-Span-755"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-756" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-757" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>的平均互信息：</p>

<blockquote>
  <p></p><center><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-758" style="width: 22.136em; display: inline-block;"><span style="display: inline-block; width: 17.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-759"><span class="mi" id="MathJax-Span-760" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-761"><span class="mrow" id="MathJax-Span-762"><span class="mo" id="MathJax-Span-763"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-764" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-765" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-766"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-767" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-768" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-769"><span class="mrow" id="MathJax-Span-770"><span class="mo" id="MathJax-Span-771"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-772" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-773" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-774"><span class="mrow" id="MathJax-Span-775"><span class="mo" id="MathJax-Span-776"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-777" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-778"><span class="mrow" id="MathJax-Span-779"><span class="mo" id="MathJax-Span-780"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-781" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-782" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-783" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-784" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-785"><span class="mrow" id="MathJax-Span-786"><span class="mo" id="MathJax-Span-787" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-788"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-789" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-790" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-791" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-792" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-793" style="font-family: STIXGeneral-Regular;">0.03593</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> </center><p></p>
</blockquote>

<p>与之前的平均互信息<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-794" style="width: 11.043em; display: inline-block;"><span style="display: inline-block; width: 8.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-795"><span class="mi" id="MathJax-Span-796" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-797"><span class="mrow" id="MathJax-Span-798"><span class="mo" id="MathJax-Span-799"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-800" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-801" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-802"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-803" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-804" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="texatom" id="MathJax-Span-805"><span class="mrow" id="MathJax-Span-806"><span class="mo" id="MathJax-Span-807"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">）</span></span></span></span><span class="mo" id="MathJax-Span-808" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-809" style="font-family: STIXGeneral-Regular;">0.03114</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>比起来，又有了一定的提高。可见新特征<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-810" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-811"><span class="msubsup" id="MathJax-Span-812"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-813" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-814" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>比之前的特征<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-815" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-816"><span class="msubsup" id="MathJax-Span-817"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-818" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-819" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>更有效。</p>

<p>韩妈妈真是为女儿的相亲操碎了心。</p>



<h2 id="13-剧情五韩妈妈问计赵媒婆">13. 剧情五：韩妈妈问计赵媒婆</h2>

<blockquote>
  <p><em>韩妈妈思索完之后抑制不住内心的兴奋，想找人倾诉。这时她正好在路上碰见了赵媒婆。赵媒婆在韩妈妈的老闺蜜圈中享有盛誉，相亲非常有经验。</em></p>
  
  <p><em>赵媒婆听了韩妈妈的诉说后，微微一笑，说：“你这个名单不够专业。”韩妈妈大为诧异。赵媒婆继续说：“高、富、帅三个特征本来就是相互独立的三个特征，你硬生生地绑在一起，多少大好青年被你给甩掉了。后面的潜力股啊、人品端正啊什么的都类似。”韩妈妈恍然大悟:“真是这样啊。”</em> </p>
  
  <p><em>赵媒婆说：“其实你这里最大的问题是这些特征的评估都是拍脑袋决定，没有充分的现实数据做支撑，很可能会犯错误的。”韩妈妈暗暗点头，心生佩服。</em></p>
  
  <p><em>赵媒婆接着说：“还有一个问题，你准备了两份名单，也就是把人群分成了三份，你算平均互信息只能评价整体的，具体到每一份人群你怎么对他们评价？”韩妈妈想了想，说：“我们可以直接用相对于某个具体条件的信息熵啊。”赵媒婆说：“何苦这么麻烦呢？”</em></p>
  
  <p><em>韩妈妈听她话里有话，打算继续问下去。</em></p>
</blockquote>



<h2 id="14-评价特征选项的两个方法">14. 评价特征选项的两个方法</h2>

<p>在赵媒婆最后一个问题中，韩妈妈所说的其实是可以计算以下三个值来评估具体的特征选项：</p>

<ul>
<li><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-820" style="width: 11.043em; display: inline-block;"><span style="display: inline-block; width: 8.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-821"><span class="mi" id="MathJax-Span-822" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-823" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-824" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-825"><span class="mrow" id="MathJax-Span-826"><span class="mo" id="MathJax-Span-827" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-828"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-829" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-830" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-831" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-832" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-833"><span class="mrow" id="MathJax-Span-834"><span class="mo" id="MathJax-Span-835"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-836"><span class="mrow" id="MathJax-Span-837"><span class="mo" id="MathJax-Span-838"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-839"><span class="mrow" id="MathJax-Span-840"><span class="mo" id="MathJax-Span-841"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="texatom" id="MathJax-Span-842"><span class="mrow" id="MathJax-Span-843"><span class="mo" id="MathJax-Span-844"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">德</span></span></span></span><span class="mo" id="MathJax-Span-845" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-846" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></li>
<li><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-847" style="width: 10.029em; display: inline-block;"><span style="display: inline-block; width: 8.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-848"><span class="mi" id="MathJax-Span-849" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-850" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-851" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-852"><span class="mrow" id="MathJax-Span-853"><span class="mo" id="MathJax-Span-854" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-855"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-856" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-857" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-858" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-859" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-860"><span class="mrow" id="MathJax-Span-861"><span class="mo" id="MathJax-Span-862"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">潜</span></span></span></span><span class="texatom" id="MathJax-Span-863"><span class="mrow" id="MathJax-Span-864"><span class="mo" id="MathJax-Span-865"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="texatom" id="MathJax-Span-866"><span class="mrow" id="MathJax-Span-867"><span class="mo" id="MathJax-Span-868"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">德</span></span></span></span><span class="mo" id="MathJax-Span-869" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-870" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></li>
<li><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-871" style="width: 19.043em; display: inline-block;"><span style="display: inline-block; width: 15.203em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-872"><span class="mi" id="MathJax-Span-873" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-874" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-875" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-876"><span class="mrow" id="MathJax-Span-877"><span class="mo" id="MathJax-Span-878" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-879"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-880" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-881" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-882" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-883" style="font-family: STIXGeneral-Regular;">“</span><span class="texatom" id="MathJax-Span-884"><span class="mrow" id="MathJax-Span-885"><span class="mo" id="MathJax-Span-886"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-887"><span class="mrow" id="MathJax-Span-888"><span class="mo" id="MathJax-Span-889"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-890"><span class="mrow" id="MathJax-Span-891"><span class="mo" id="MathJax-Span-892"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">高</span></span></span></span><span class="texatom" id="MathJax-Span-893"><span class="mrow" id="MathJax-Span-894"><span class="mo" id="MathJax-Span-895"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">富</span></span></span></span><span class="texatom" id="MathJax-Span-896"><span class="mrow" id="MathJax-Span-897"><span class="mo" id="MathJax-Span-898"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="texatom" id="MathJax-Span-899"><span class="mrow" id="MathJax-Span-900"><span class="mo" id="MathJax-Span-901"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">德</span></span></span></span><span class="texatom" id="MathJax-Span-902"><span class="mrow" id="MathJax-Span-903"><span class="mo" id="MathJax-Span-904"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">且</span></span></span></span><span class="texatom" id="MathJax-Span-905"><span class="mrow" id="MathJax-Span-906"><span class="mo" id="MathJax-Span-907"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">不</span></span></span></span><span class="texatom" id="MathJax-Span-908"><span class="mrow" id="MathJax-Span-909"><span class="mo" id="MathJax-Span-910"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="texatom" id="MathJax-Span-911"><span class="mrow" id="MathJax-Span-912"><span class="mo" id="MathJax-Span-913"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">潜</span></span></span></span><span class="texatom" id="MathJax-Span-914"><span class="mrow" id="MathJax-Span-915"><span class="mo" id="MathJax-Span-916"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">帅</span></span></span></span><span class="texatom" id="MathJax-Span-917"><span class="mrow" id="MathJax-Span-918"><span class="mo" id="MathJax-Span-919"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">德</span></span></span></span><span class="mo" id="MathJax-Span-920" style="font-family: STIXGeneral-Regular;">”</span><span class="mo" id="MathJax-Span-921" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></li>
</ul>

<p>而这三个值<strong>在之前计算条件熵<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-922" style="width: 4.344em; display: inline-block;"><span style="display: inline-block; width: 3.362em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-923"><span class="mi" id="MathJax-Span-924" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mo" id="MathJax-Span-925" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-926" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="texatom" id="MathJax-Span-927"><span class="mrow" id="MathJax-Span-928"><span class="mo" id="MathJax-Span-929" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-930"><span style="display: inline-block; width: 1.088em; height: 0px;"><span><span class="mi" id="MathJax-Span-931" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mn" id="MathJax-Span-932" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span><span class="mo" id="MathJax-Span-933" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span></span></span></span>的过程中就已经计算出来了。</strong>所以比较起来应该很方便。</p>

<p>但<strong>其实更简单的方法用他们相对于所需要标签的后验概率</strong>评价。如下图红色的部分，比较大小就可以找出评价较好的特征。 <br />
  </p><center><img alt="X3" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image071.jpg" title="" /> </center><p></p>

<p>显然“高富帅德”的评分最高（0.25），“潜帅德”的评分次之（0.05），“不是高富帅德且不是潜帅德”评分最差（0）。符合韩妈妈的预期。</p>

<p>然而，赵媒婆的想说的并不是这种方法，而是逻辑回归……</p>



<h2 id="15-剧情六赵媒婆的数据库">15. 剧情六：赵媒婆的数据库</h2>

<blockquote>
  <p><em>赵媒婆不等韩妈妈说话，就直接拿出了自己的神器:一个平板电脑。然后打开她的相亲数据库，点了点鼠标，一张巨大的表展现出来。韩妈妈目瞪口呆：“现在媒婆都用高科技了？”赵媒婆傲娇地说:“那是。”</em></p>
  
  <p><em>这张大表是她这么多年来全国各地相亲介绍的所有男生信息，分别标注了每个男生的升高、年龄、年薪、长相特点、教育经历、工作经历、是否海归、工作年限、工作公司、工作地点、出身地、是否有户口、是否公务员、具体职业、行业、性格倾向等等信息。</em></p>
  
  <p><em>她还有一张女生信息表，另外一张男生女生相亲情况表（相亲成功、相亲不成、继续发展、未接触）。媒婆一一给韩妈妈解释这些信息。韩妈妈连连惊呼。</em></p>
  
  <p><em>赵媒婆接着说道：“我们可以从里面找出跟你女儿情况相近的一些女生信息，再把跟她们相过亲的男生找出来，把其中相亲成功的归为一类，剩下的归为另一类。然后假设男生的每个特征对相亲成功都有贡献，贡献的权重为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-934" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-935"><span class="msubsup" id="MathJax-Span-936"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-937" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-938" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。我们用逻辑回归的方法可以求出这些权重，把这些权重大的特征挑出来，你再用它们来找女婿就方便了。”</em></p>
  
  <p><em>韩妈妈说：“逻~辑~什么？”赵媒婆说：“高科技了，你不懂的。不过给我干儿子写了个<a href="http://blog.csdn.net/han_xiaoyang/article/details/49332321">博客</a>来介绍，你可以看看。”</em></p>
</blockquote>



<h2 id="16-特征筛选与特征工程工作流">16. 特征筛选与特征工程工作流</h2>

<p>呃，我们什么时候成赵媒婆的干儿子了?先不管这些。逻辑回归并不是什么高科技，在<a href="http://blog.csdn.net/han_xiaoyang/article/details/49123419">前面的文章</a>里已有简单的解释。我们在这里就补充说明一下为什么可以用权重来衡量特征的贡献。以下是一个典型的逻辑回归过程： <br />
  </p><center><img alt="逻辑回归" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image072.jpg" title="" /> </center><p></p>

<p>我们期望<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-939" style="width: 2.136em; display: inline-block;"><span style="display: inline-block; width: 1.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-940"><span class="mi" id="MathJax-Span-941" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-942" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-943" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-944" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的概率越大越好，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-945" style="width: 4.109em; display: inline-block;"><span style="display: inline-block; width: 3.256em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-946"><span class="mi" id="MathJax-Span-947" style="font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-948" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-949" style="font-family: STIXGeneral-Italic;">g</span><span class="mi" id="MathJax-Span-950" style="font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-951" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-952" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-953" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>函数是个单调递增函数，所以z越大越好，<strong>在所有特征都归一化的前提下，显然是权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-37-Frame"><span class="math" id="MathJax-Span-954" style="width: 1.295em; display: inline-block;"><span style="display: inline-block; width: 0.984em; height: 0px; font-size: 129%;"><span><span class="mrow" id="MathJax-Span-955"><span class="msubsup" id="MathJax-Span-956"><span style="display: inline-block; width: 0.933em; height: 0px;"><span><span class="mi" id="MathJax-Span-957" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span><span class="mi" id="MathJax-Span-958" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.328em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span></span></span></span>越大越好。</strong>因此与<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame"><span class="math" id="MathJax-Span-959" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-960"><span class="msubsup" id="MathJax-Span-961"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-962" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-963" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>对应的特征就是我们要寻找的显著特征。而那些权重小的特征就可以先不考虑了。这就完成了一个最简单的特征筛选的过程。</p>

<p>当然，这里所说的权重大可以指的是权重的<strong>绝对值</strong>很大，比如特征“富”的权重是-100，是一个很小的数，但这也就意味着“不富”的权重会很大，以至于显著影响我们的z的结果。所以这也是一个显著特征。</p>

<p>需要补充一下的是，<strong>在工程实践中，权重的幅度和正则化也有关系。L1正则化会把特征拉稀疏</strong>，会产出一部分0特征。而不是0的那些特征，是有作用的特征。所以L1正则化其实具备一定的特征选择（feature selection）的作用。尤其是很高维空间的feature，用<strong>L1正则化，其实能帮助做一下feature selection的。而L2正则化，则会把各个维度的权重拉平均一些</strong>，抑制住各个维度权重幅度的方差。但是抑制归抑制，最后的权重还是会有大小差异，就像上文说的，绝对值大的权重，对应的特征区分度好一些。</p>

<p><strong>对于那些不够显著的特征</strong>，我们需要分析一下这个特征的具体情况是怎样，<strong>是否需要对其进行重新拆分与重组，拆分重组后新的特征又可以进行特征有效性分析。如此不断迭代反复，</strong>就可以挑选出比较理想的特征了。</p>

<p>我们用以下整个<strong>工作流大致展现这个过程</strong>。由于很多内容没有展开，我们先把名字写进去，在后续的文章中继续扩展。 <br />
<img alt="工作流" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_0106image074.jpg" title="" /></p>



<h2 id="17-剧情七韩妈妈新名单尘埃落定">17. 剧情七：韩妈妈新名单尘埃落定</h2>

<blockquote>
  <p><em>在韩妈妈与赵媒婆的尽心鼓捣下，最终生成了一个只有4个人的相亲名单。其中只剩下一名高富帅，另外三人中有一人正是李雷。韩妈妈拿着新名单给女儿看，韩梅梅沉默半晌，心想李雷在四人名单中怎么也能存在，莫非这也是缘分？</em></p>
</blockquote>



<h2 id="18-小结">18. 小结</h2>

<p>本文中主要讲了一些特征有效性分析的方法，包括用互信息，平均互信息，条件熵，后验概率，逻辑回归权重等方法对特征与标签的相关性进行了评估。有了这些评估做基础，可以筛选出显著的特征，并对对不显著的特征进行分析、拆分和重组，最终形成新的特征并反复迭代。本文略过了一些特征预处理的方法，并对特征有效性评估的阐述不够充分，我们将在接下来的文章中予以讨论。</p>
            <div>
                作者：yaoqiang2011 发表于2016/1/8 12:20:33 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50481967">原文链接</a>
            </div>
            <div>
            阅读：17799 评论：8 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50481967#comments" target="_blank">查看评论</a>
            </div>
[原]机器学习系列(4)_机器学习算法一览，应用建议与解决思路
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a>  <br />
时间：2016年1月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50469334">http://blog.csdn.net/han_xiaoyang/article/details/50469334</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1引言">1.引言</h2>

<p>提起笔来写这篇博客，突然有点愧疚和尴尬。愧疚的是，工作杂事多，加之懒癌严重，导致这个系列一直没有更新，向关注该系列的同学们道个歉。尴尬的是，按理说，机器学习介绍与算法一览应该放在最前面写，详细的应用建议应该在讲完机器学习常用算法之后写，突然莫名奇妙在中间插播这么一篇，好像有点打乱主线。 <br />
老话说『亡羊补牢，为时未晚』，前面开头忘讲的东西，咱在这块儿补上。我们先带着大家过一遍传统机器学习算法，基本思想和用途。把问题解决思路和方法应用建议提前到这里的想法也很简单，希望能提前给大家一些小建议，对于某些容易出错的地方也先给大家打个预防针，这样在理解后续相应机器学习算法之后，使用起来也有一定的章法。</p>



<h2 id="2机器学习算法简述">2.机器学习算法简述</h2>

<p>按照不同的分类标准，可以把机器学习的算法做不同的分类。</p>



<h3 id="21-从机器学习问题角度分类">2.1 从机器学习问题角度分类</h3>

<p>我们先从机器学习问题本身分类的角度来看，我们可以分成下列类型的算法：</p>

<ul>
<li>监督学习算法</li>
</ul>

<p>机器学习中有一大部分的问题属于<code>『监督学习』</code>的范畴，简单口语化地说明，这类问题中，给定的训练样本中，每个样本的输入<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>都对应一个确定的结果<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-4" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-5"><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，我们需要训练出一个模型(数学上看是一个<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-7" style="width: 3.149em; display: inline-block;"><span style="display: inline-block; width: 2.509em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-10" style="font-family: STIXGeneral-Regular;">→</span><span class="mi" id="MathJax-Span-11" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的映射关系<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-12" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-13"><span class="mi" id="MathJax-Span-14" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>)，在未知的样本<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-15" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-16"><span class="msup" id="MathJax-Span-17"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-19" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>给定后，我们能对结果<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-20" style="width: 1.069em; display: inline-block;"><span style="display: inline-block; width: 0.856em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-21"><span class="msup" id="MathJax-Span-22"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mi" id="MathJax-Span-23" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-24" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>做出预测。</p>

<p>这里的预测结果如果是<strong>离散值</strong>(很多时候是类别类型，比如邮件分类问题中的垃圾邮件/普通邮件，比如用户会/不会购买某商品)，那么我们把它叫做分类问题(classification problem)；如果预测结果是<strong>连续值</strong>(比如房价，股票价格等等)，那么我们把它叫做回归问题(regression problem)。</p>

<p>有一系列的机器学习算法是用以解决<strong>监督学习问题的</strong>，比如最经典的用于分类问题的朴素贝叶斯、逻辑回归、支持向量机等等；比如说用于回归问题的线性回归等等。</p>

<ul>
<li>无监督学习</li>
</ul>

<p>有另外一类问题，给我们的样本并没有给出『标签/标准答案』，就是一系列的样本。而我们需要做的事情是，在一些样本中抽取出通用的规则。这叫做<code>『无监督学习』</code>。包括关联规则和聚类算法在内的一系列机器学习算法都属于这个范畴。</p>

<ul>
<li>半监督学习</li>
</ul>

<p>这类问题给出的训练数据，有一部分有标签，有一部分没有标签。我们想学习出数据组织结构的同时，也能做相应的预测。此类问题相对应的机器学习算法有自训练(Self-Training)、直推学习(Transductive Learning)、生成式模型(Generative Model)等。</p>

<p>总体说来，最常见是前两类问题，而对应前两类问题的一些机器学习算法如下：</p>

<p><img alt="机器学习算法" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_conceptml_algorithms.png" title="" /></p>



<h3 id="22-从算法的功能角度分类">2.2 从算法的功能角度分类</h3>

<p>我们也可以从算法的共性(比如功能，运作方式)角度对机器学习算法分类。下面我们根据算法的共性去对它们归个类。不过需要注意的是，我们下面的归类方法可能对分类和回归有比较强的倾向性，而这两类问题也是最常遇到的。</p>



<h4 id="221-回归算法regression-algorithms">2.2.1 回归算法(Regression Algorithms)</h4>

<p></p><center> <br />
<img alt="回归算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Regression-Algorithms.png" title="" /> <br />
</center> <br />
回归算法是一种通过最小化预测值与实际结果值之间的差距，而得到输入特征之间的最佳组合方式的一类算法。对于连续值预测有线性回归等，而对于离散值/类别预测，我们也可以把逻辑回归等也视作回归算法的一种，常见的回归算法如下：<p></p>

<ul>
<li>Ordinary Least Squares Regression (OLSR)</li>
<li>Linear Regression</li>
<li>Logistic Regression</li>
<li>Stepwise Regression</li>
<li>Locally Estimated Scatterplot Smoothing (LOESS)</li>
<li>Multivariate Adaptive Regression Splines (MARS)</li>
</ul>



<h4 id="222-基于实例的算法instance-based-algorithms">2.2.2 基于实例的算法(Instance-based Algorithms)</h4>

<p></p><center> <br />
<img alt="基于实例的算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Instance-based-Algorithms.png" title="" /> <br />
</center> <br />
这里所谓的基于实例的算法，我指的是我们最后建成的模型，对原始数据样本实例依旧有很强的依赖性。这类算法在做预测决策时，一般都是使用某类相似度准则，去比对待预测的样本和原始样本的相近度，再给出相应的预测结果。常见的基于实例的算法有：<p></p>

<ul>
<li>k-Nearest Neighbour (kNN)</li>
<li>Learning Vector Quantization (LVQ)</li>
<li>Self-Organizing Map (SOM)</li>
<li>Locally Weighted Learning (LWL)</li>
</ul>



<h4 id="223-决策树类算法decision-tree-algorithms">2.2.3 决策树类算法(Decision Tree Algorithms)</h4>

<p></p><center> <br />
<img alt="决策树类算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Decision-Tree-Algorithms.png" title="" /> <br />
</center> <br />
决策树类算法，会基于原始数据特征，构建一颗包含很多决策路径的树。预测阶段选择路径进行决策。常见的决策树算法包括：<p></p>

<ul>
<li>Classification and Regression Tree (CART)</li>
<li>Iterative Dichotomiser 3 (ID3)</li>
<li>C4.5 and C5.0 (different versions of a powerful approach)</li>
<li>Chi-squared Automatic Interaction Detection (CHAID)</li>
<li>M5</li>
<li>Conditional Decision Trees</li>
</ul>



<h4 id="224-贝叶斯类算法bayesian-algorithms">2.2.4 贝叶斯类算法(Bayesian Algorithms)</h4>

<p></p><center> <br />
<img alt="贝叶斯类算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Bayesian-Algorithms.png" title="" /> <br />
</center> <br />
这里说的贝叶斯类算法，指的是在分类和回归问题中，隐含使用了贝叶斯原理的算法。包括：<p></p>

<ul>
<li>Naive Bayes</li>
<li>Gaussian Naive Bayes</li>
<li>Multinomial Naive Bayes</li>
<li>Averaged One-Dependence Estimators (AODE)</li>
<li>Bayesian Belief Network (BBN)</li>
<li>Bayesian Network (BN)</li>
</ul>



<h4 id="225-聚类算法clustering-algorithms">2.2.5 聚类算法(Clustering Algorithms)</h4>

<p></p><center> <br />
<img alt="聚类算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Clustering-Algorithms.png" title="" /> <br />
</center> <br />
聚类算法做的事情是，把输入样本聚成围绕一些中心的『数据团』，以发现数据分布结构的一些规律。常用的聚类算法包括：<p></p>

<ul>
<li>k-Means</li>
<li>Hierarchical Clustering</li>
<li>Expectation Maximisation (EM)</li>
</ul>



<h4 id="226-关联规则算法association-rule-learning-algorithms">2.2.6 关联规则算法(Association Rule Learning Algorithms)</h4>

<p></p><center> <br />
<img alt="关联规则算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Assoication-Rule-Learning-Algorithms.png" title="" /> <br />
</center> <br />
关联规则算法是这样一类算法：它试图抽取出，最能解释观察到的训练样本之间关联关系的规则，也就是获取一个事件和其他事件之间依赖或关联的知识，常见的关联规则算法有：<p></p>

<ul>
<li>Apriori algorithm</li>
<li>Eclat algorithm</li>
</ul>



<h4 id="227-人工神经网络类算法artificial-neural-network-algorithms">2.2.7 人工神经网络类算法(Artificial Neural Network Algorithms)</h4>

<p></p><center> <br />
<img alt="人工神经网络类算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Artificial-Neural-Network-Algorithms.png" title="" /> <br />
</center> <br />
这是受人脑神经元工作方式启发而构造的一类算法。需要提到的一点是，我把『深度学习』单拎出来了，这里说的人工神经网络偏向于更传统的感知算法，主要包括：<p></p>

<ul>
<li>Perceptron</li>
<li>Back-Propagation</li>
<li>Radial Basis Function Network (RBFN)</li>
</ul>



<h4 id="228-深度学习deep-learning-algorithms">2.2.8 深度学习(Deep Learning Algorithms)</h4>

<p></p><center> <br />
<img alt="深度学习" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Deep-Learning-Algorithms.png" title="" /> <br />
</center> <br />
深度学习是近年来非常火的机器学习领域，相对于上面列的人工神经网络算法，它通常情况下，有着更深的层次和更复杂的结构。有兴趣的同学可以看看我们另一个系列<a href="http://blog.csdn.net/column/details/dl-computer-vision.html">机器学习与计算机视觉</a>，最常见的深度学习算法包括：<p></p>

<ul>
<li>Deep Boltzmann Machine (DBM)</li>
<li>Deep Belief Networks (DBN)</li>
<li>Convolutional Neural Network (CNN)</li>
<li>Stacked Auto-Encoders</li>
</ul>



<h4 id="229-降维算法dimensionality-reduction-algorithms">2.2.9 降维算法(Dimensionality Reduction Algorithms)</h4>

<p></p><center> <br />
<img alt="降维算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Dimensional-Reduction-Algorithms.png" title="" /> <br />
</center> <br />
从某种程度上说，降维算法和聚类其实有点类似，因为它也在试图发现原始训练数据的固有结构，但是降维算法在试图，用更少的信息(更低维的信息)总结和描述出原始信息的大部分内容。 <br />
有意思的是，降维算法一般在数据的可视化，或者是降低数据计算空间有很大的作用。它作为一种机器学习的算法，很多时候用它先处理数据，再灌入别的机器学习算法学习。主要的降维算法包括：<p></p>

<ul>
<li>Principal Component Analysis (PCA)</li>
<li>Principal Component Regression (PCR)</li>
<li>Partial Least Squares Regression (PLSR)</li>
<li>Sammon Mapping</li>
<li>Multidimensional Scaling (MDS)</li>
<li>Linear Discriminant Analysis (LDA)</li>
<li>Mixture Discriminant Analysis (MDA)</li>
<li>Quadratic Discriminant Analysis (QDA)</li>
<li>Flexible Discriminant Analysis (FDA)</li>
</ul>



<h4 id="2210-模型融合算法ensemble-algorithms">2.2.10 模型融合算法(Ensemble Algorithms)</h4>

<p></p><center> <br />
<img alt="模型融合算法" src="http://3qeqpr26caki16dnhd19sv6by6v.wpengine.netdna-cdn.com/wp-content/uploads/2013/11/Ensemble-Algorithms.png" title="" /> <br />
</center> <br />
严格意义上来说，这不算是一种机器学习算法，而更像是一种优化手段/策略，它通常是结合多个简单的弱机器学习算法，去做更可靠的决策。拿分类问题举个例，直观的理解，就是单个分类器的分类是可能出错，不可靠的，但是如果多个分类器投票，那可靠度就会高很多。常用的模型融合增强方法包括：<p></p>

<ul>
<li>Random Forest</li>
<li>Boosting</li>
<li>Bootstrapped Aggregation (Bagging)</li>
<li>AdaBoost</li>
<li>Stacked Generalization (blending)</li>
<li>Gradient Boosting Machines (GBM)</li>
<li>Gradient Boosted Regression Trees (GBRT)</li>
</ul>



<h3 id="23-机器学习算法使用图谱">2.3 机器学习算法使用图谱</h3>

<p>scikit-learn作为一个丰富的python机器学习库，实现了绝大多数机器学习的算法，有相当多的人在使用，于是我这里很无耻地把machine learning cheat sheet for sklearn搬过来了，原文可以看<a href="http://peekaboo-vision.blogspot.de/2013/01/machine-learning-cheat-sheet-for-scikit.html">这里</a>。哈哈，既然讲机器学习，我们就用机器学习的语言来解释一下，这是针对实际应用场景的各种条件限制，对scikit-learn里完成的算法构建的一颗决策树，每一组条件都是对应一条路径，能找到相对较为合适的一些解决方法，具体如下：</p>

<p><img alt="sklearn机器学习算法使用图谱" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_conceptsklearn_ml_cheat_sheet.png" title="" /></p>

<p>首先样本量如果非常少的话，其实所有的机器学习算法都没有办法从里面『学到』通用的规则和模式，so多弄点数据是王道。然后根据问题是有/无监督学习和连续值/离散值预测，分成了<code>分类</code>、<code>聚类</code>、<code>回归</code>和<code>维度约减</code>四个方法类，每个类里根据具体情况的不同，又有不同的处理方法。</p>



<h2 id="3-机器学习问题解决思路">3. 机器学习问题解决思路</h2>

<p>上面带着代价走马观花过了一遍机器学习的若干算法，下面我们试着总结总结在拿到一个实际问题的时候，如果着手使用机器学习算法去解决问题，其中的一些注意点以及核心思路。主要包括以下内容：</p>

<ul>
<li><strong>拿到数据后怎么了解数据(可视化)</strong></li>
<li><strong>选择最贴切的机器学习算法</strong></li>
<li><strong>定位模型状态(过/欠拟合)以及解决方法</strong></li>
<li><strong>大量极的数据的特征分析与可视化</strong></li>
<li><strong>各种损失函数(loss function)的优缺点及如何选择</strong></li>
</ul>

<p>多说一句，这里写的这个小教程，主要是作为一个通用的建议和指导方案，你不一定要严格按照这个流程解决机器学习问题。</p>



<h3 id="31-数据与可视化">3.1 数据与可视化</h3>

<p>我们先使用scikit-learn的make_classification函数来生产一份分类数据，然后模拟一下拿到实际数据后我们需要做的事情。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#numpy科学计算工具箱</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment">#使用make_classification构造1000个样本，每个样本有20个feature</span>
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> make_classification
X, y = make_classification(<span class="hljs-number">1000</span>, n_features=<span class="hljs-number">20</span>, n_informative=<span class="hljs-number">2</span>, 
                           n_redundant=<span class="hljs-number">2</span>, n_classes=<span class="hljs-number">2</span>, random_state=<span class="hljs-number">0</span>)
<span class="hljs-comment">#存为dataframe格式</span>
<span class="hljs-keyword">from</span> pandas <span class="hljs-keyword">import</span> DataFrame
df = DataFrame(np.hstack((X, y[:, <span class="hljs-keyword">None</span>])),columns = range(<span class="hljs-number">20</span>) + [<span class="hljs-string">"class"</span>])</code></pre>

<p>我们生成了一份包含1000个分类数据样本的数据集，每个样本有20个数值特征。同时我们把数据存储至pandas中的<code>DataFrame</code>数据结构中。我们取前几行的数据看一眼：</p>



<pre class="prettyprint"><code class="language-python hljs ">df[:<span class="hljs-number">6</span>]</code></pre>

<p></p><center> <br />
<img alt="前6行" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept6_rows.png" title="" /> <br />
</center><p></p>

<p>不幸的是，肉眼看数据，尤其是维度稍微高点的时候，很有可能看花了也看不出看不出任何线索。幸运的是，我们对于图像的理解力，比数字好太多，而又有相当多的工具可以帮助我们『可视化』数据分布。</p>

<blockquote>
  <p>我们在处理任何数据相关的问题时，了解数据都是很有必要的，而可视化可以帮助我们更好地直观理解数据的分布和特性</p>
</blockquote>

<p>数据的可视化有很多工具包可以用，比如下面我们用来做数据可视化的工具包<a href="http://stanford.edu/~mwaskom/software/seaborn/">Seaborn</a>。最简单的可视化就是数据散列分布图和柱状图，这个可以用Seanborn的<code>pairplot</code>来完成。以下图中2种颜色表示2种不同的类，因为20维的可视化没有办法在平面表示，我们取出了一部分维度，两两组成pair看数据在这2个维度平面上的分布状况，代码和结果如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-comment">#使用pairplot去看不同特征维度pair下数据的空间分布状况</span>
_ = sns.pairplot(df[:<span class="hljs-number">50</span>], vars=[<span class="hljs-number">8</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">19</span>], hue=<span class="hljs-string">"class"</span>, size=<span class="hljs-number">1.5</span>)
plt.show()</code></pre>

<p></p><center> <br />
<img alt="pair_plot下数据分布状况" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_conceptpairlot_distrib.png" title="" /> <br />
</center><p></p>

<p>我们从散列图和柱状图上可以看出，确实有些维度的特征相对其他维度，有更好的区分度，比如第11维和14维看起来很有区分度。这两个维度上看，数据点是近似线性可分的。而12维和19维似乎呈现出了很高的负相关性。接下来我们用Seanborn中的<code>corrplot</code>来计算计算各维度特征之间(以及最后的类别)的相关性。代码和结果图如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">10</span>))
_ = sns.corrplot(df, annot=<span class="hljs-keyword">False</span>)
plt.show()</code></pre>

<p></p><center> <br />
<img alt="各位特征相关性" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fcov.png" title="" /> <br />
</center><p></p>

<p>相关性图很好地印证了我们之前的想法，可以看到第11维特征和第14维特征和类别有极强的相关性，同时它们俩之间也有极高的相关性。而第12维特征和第19维特征却呈现出极强的负相关性。强相关的特征其实包含了一些冗余的特征，而除掉上图中颜色较深的特征，其余特征包含的信息量就没有这么大了，它们和最后的类别相关度不高，甚至各自之间也没什么先惯性。</p>

<p>插一句，这里的维度只有20，所以这个相关度计算并不费太大力气，然而实际情形中，你完全有可能有远高于这个数字的特征维度，同时样本量也可能多很多，那种情形下我们可能要先做一些处理，再来实现可视化了。别着急，一会儿我们会讲到。</p>



<h3 id="32-机器学习算法选择">3.2 机器学习算法选择</h3>

<p>数据的情况我们大致看了一眼，确定一些特征维度之后，我们可以考虑先选用机器学习算法做一个baseline的系统出来了。这里我们继续参照上面提到过的<a href="http://1.bp.blogspot.com/-ME24ePzpzIM/UQLWTwurfXI/AAAAAAAAANw/W3EETIroA80/s1600/drop_shadows_background.png">机器学习算法使用图谱</a>。 <br />
我们只有1000个数据样本，是分类问题，同时是一个有监督学习，因此我们根据图谱里教的方法，使用<code>LinearSVC</code>(support vector classification with linear kernel)试试。注意，<code>LinearSVC</code>需要选择正则化方法以缓解过拟合问题；我们这里选择使用最多的L2正则化，并把惩罚系数C设为10。我们改写一下sklearn中的学习曲线绘制函数，画出训练集和交叉验证集上的得分：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> LinearSVC
<span class="hljs-keyword">from</span> sklearn.learning_curve <span class="hljs-keyword">import</span> learning_curve
<span class="hljs-comment">#绘制学习曲线，以确定模型的状况</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">plot_learning_curve</span><span class="hljs-params">(estimator, title, X, y, ylim=None, cv=None,
                        train_sizes=np.linspace<span class="hljs-params">(<span class="hljs-number">.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">5</span>)</span>)</span>:</span>
    <span class="hljs-string">"""
    画出data在某模型上的learning curve.
    参数解释
    ----------
    estimator : 你用的分类器。
    title : 表格的标题。
    X : 输入的feature，numpy类型
    y : 输入的target vector
    ylim : tuple格式的(ymin, ymax), 设定图像中纵坐标的最低点和最高点
    cv : 做cross-validation的时候，数据分成的份数，其中一份作为cv集，其余n-1份作为training(默认为3份)
    """</span>

    plt.figure()
    train_sizes, train_scores, test_scores = learning_curve(
        estimator, X, y, cv=<span class="hljs-number">5</span>, n_jobs=<span class="hljs-number">1</span>, train_sizes=train_sizes)
    train_scores_mean = np.mean(train_scores, axis=<span class="hljs-number">1</span>)
    train_scores_std = np.std(train_scores, axis=<span class="hljs-number">1</span>)
    test_scores_mean = np.mean(test_scores, axis=<span class="hljs-number">1</span>)
    test_scores_std = np.std(test_scores, axis=<span class="hljs-number">1</span>)

    plt.fill_between(train_sizes, train_scores_mean - train_scores_std,
                     train_scores_mean + train_scores_std, alpha=<span class="hljs-number">0.1</span>,
                     color=<span class="hljs-string">"r"</span>)
    plt.fill_between(train_sizes, test_scores_mean - test_scores_std,
                     test_scores_mean + test_scores_std, alpha=<span class="hljs-number">0.1</span>, color=<span class="hljs-string">"g"</span>)
    plt.plot(train_sizes, train_scores_mean, <span class="hljs-string">'o-'</span>, color=<span class="hljs-string">"r"</span>,
             label=<span class="hljs-string">"Training score"</span>)
    plt.plot(train_sizes, test_scores_mean, <span class="hljs-string">'o-'</span>, color=<span class="hljs-string">"g"</span>,
             label=<span class="hljs-string">"Cross-validation score"</span>)

    plt.xlabel(<span class="hljs-string">"Training examples"</span>)
    plt.ylabel(<span class="hljs-string">"Score"</span>)
    plt.legend(loc=<span class="hljs-string">"best"</span>)
    plt.grid(<span class="hljs-string">"on"</span>) 
    <span class="hljs-keyword">if</span> ylim:
        plt.ylim(ylim)
    plt.title(title)
    plt.show()

<span class="hljs-comment">#少样本的情况情况下绘出学习曲线</span>
plot_learning_curve(LinearSVC(C=<span class="hljs-number">10.0</span>), <span class="hljs-string">"LinearSVC(C=10.0)"</span>,
                    X, y, ylim=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.01</span>),
                    train_sizes=np.linspace(<span class="hljs-number">.05</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="学习曲线1" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Flearning_curve_1.png" title="" /> <br />
</center><p></p>

<p>这幅图上，我们发现随着样本量的增加，训练集上的得分有一定程度的下降，交叉验证集上的得分有一定程度的上升，但总体说来，两者之间有很大的差距，训练集上的准确度远高于交叉验证集。这其实意味着我们的模型处于<strong>过拟合</strong>的状态，也即模型太努力地刻画训练集，一不小心把很多噪声的分布也拟合上了，导致在新数据上的泛化能力变差了。</p>



<h4 id="321-过拟合的定位与解决">3.2.1 过拟合的定位与解决</h4>

<p>问题来了，<strong>过拟合咋办？</strong> <br />
针对过拟合，有几种办法可以处理：</p>

<ul>
<li><strong>增大样本量</strong></li>
</ul>

<p>这个比较好理解吧，过拟合的主要原因是模型太努力地去<strong>记住</strong>训练样本的分布状况，而加大样本量，可以使得训练集的分布更加具备普适性，噪声对整体的影响下降。恩，我们提高点样本量试试：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#增大一些样本量</span>
plot_learning_curve(LinearSVC(C=<span class="hljs-number">10.0</span>), <span class="hljs-string">"LinearSVC(C=10.0)"</span>,
                    X, y, ylim=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.1</span>),
                    train_sizes=np.linspace(<span class="hljs-number">.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="学习曲线2" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Flearning_curve_2.png" title="" /> <br />
</center><p></p>

<p>是不是发现问题好了很多？随着我们增大训练样本量，我们发现训练集和交叉验证集上的得分差距在减少，最后它们已经非常接近了。增大样本量，最直接的方法当然是<strong>想办法去采集相同场景下的新数据</strong>，如果实在做不到，也可以试试在已有数据的基础上做一些人工的处理生成新数据(比如图像识别中，我们可能可以对图片做镜像变换、旋转等等)，当然，这样做一定要谨慎，强烈建议想办法采集真实数据。</p>

<ul>
<li><strong>减少特征的量(只用我们觉得有效的特征)</strong></li>
</ul>

<p>比如在这个例子中，我们之前的数据可视化和分析的结果表明，第11和14维特征包含的信息对识别类别非常有用，我们可以只用它们。</p>



<pre class="prettyprint"><code class="language-python hljs ">plot_learning_curve(LinearSVC(C=<span class="hljs-number">10.0</span>), <span class="hljs-string">"LinearSVC(C=10.0) Features: 11&amp;14"</span>, X[:, [<span class="hljs-number">11</span>, <span class="hljs-number">14</span>]], y, ylim=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>), train_sizes=np.linspace(<span class="hljs-number">.05</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="特征选择后" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2F11%2614.png" title="" /> <br />
</center><p></p>

<p>从上图上可以看出，过拟合问题也得到一定程度的缓解。不过我们这是自己观察后，手动选出11和14维特征。那能不能自动进行特征组合和选择呢，其实我们当然可以遍历特征的组合样式，然后再进行特征选择(前提依旧是这里特征的维度不高，如果高的话，遍历所有的组合是一个非常非常非常耗时的过程！！)：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn.pipeline <span class="hljs-keyword">import</span> Pipeline
<span class="hljs-keyword">from</span> sklearn.feature_selection <span class="hljs-keyword">import</span> SelectKBest, f_classif
<span class="hljs-comment"># SelectKBest(f_classif, k=2) 会根据Anova F-value选出 最好的k=2个特征</span>

plot_learning_curve(Pipeline([(<span class="hljs-string">"fs"</span>, SelectKBest(f_classif, k=<span class="hljs-number">2</span>)), <span class="hljs-comment"># select two features</span>
                               (<span class="hljs-string">"svc"</span>, LinearSVC(C=<span class="hljs-number">10.0</span>))]), <span class="hljs-string">"SelectKBest(f_classif, k=2) + LinearSVC(C=10.0)"</span>, X, y, ylim=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>), train_sizes=np.linspace(<span class="hljs-number">.05</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="自动特征选择" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fbest_2.png" title="" /> <br />
</center><p></p>

<p>如果你自己跑一下程序，会发现在我们自己手造的这份数据集上，这个特征筛选的过程超级顺利，但依旧像我们之前提过的一样，这是因为特征的维度不太高。 <br />
从另外一个角度看，我们之所以做特征选择，是想降低模型的复杂度，而更不容易刻画到噪声数据的分布。从这个角度出发，我们还可以有(1)多项式你和模型中降低多项式次数 (2)神经网络中减少神经网络的层数和每层的结点数 (c)SVM中增加RBF-kernel的bandwidth等方式来降低模型的复杂度。 <br />
话说回来，即使以上提到的办法降低模型复杂度后，好像能在一定程度上缓解过拟合，但是我们一般还是不建议一遇到过拟合，就用这些方法处理，优先用下面的方法：</p>

<ul>
<li><strong>增强正则化作用(比如说这里是减小LinearSVC中的C参数)</strong> <br />
正则化是我认为在不损失信息的情况下，最有效的缓解过拟合现象的方法。</li>
</ul>



<pre class="prettyprint"><code class="language-python hljs ">plot_learning_curve(LinearSVC(C=<span class="hljs-number">0.1</span>), <span class="hljs-string">"LinearSVC(C=0.1)"</span>, X, y, ylim=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>), train_sizes=np.linspace(<span class="hljs-number">.05</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="调整正则化参数" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fregularization.png" title="" /> <br />
</center><p></p>

<p>调整正则化系数后，发现确实过拟合现象有一定程度的缓解，但依旧是那个问题，我们现在的系数是自己敲定的，有没有办法可以自动选择最佳的这个参数呢？可以。我们可以在交叉验证集上做grid-search查找最好的正则化系数(对于大数据样本，我们依旧需要考虑时间问题，这个过程可能会比较慢):</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn.grid_search <span class="hljs-keyword">import</span> GridSearchCV
estm = GridSearchCV(LinearSVC(), 
                   param_grid={<span class="hljs-string">"C"</span>: [<span class="hljs-number">0.001</span>, <span class="hljs-number">0.01</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">10.0</span>]})
plot_learning_curve(estm, <span class="hljs-string">"LinearSVC(C=AUTO)"</span>, 
                    X, y, ylim=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>),
                    train_sizes=np.linspace(<span class="hljs-number">.05</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">5</span>))
<span class="hljs-keyword">print</span> <span class="hljs-string">"Chosen parameter on 100 datapoints: %s"</span> % estm.fit(X[:<span class="hljs-number">500</span>], y[:<span class="hljs-number">500</span>]).best_params_</code></pre>

<p>在500个点得到的结果是：{‘C’: 0.01} <br />
使用新的C参数，我们再看看学习曲线： <br />
</p><center> <br />
<img alt="C取0.01的学习曲线" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fauto_%20regularization.png" title="" /> <br />
</center><p></p>

<p>对于特征选择的部分，我打算多说几句，我们刚才看过了用sklearn.feature_selection中的SelectKBest来选择特征的过程，也提到了在高维特征的情况下，这个过程可能会非常非常慢。那我们有别的办法可以进行特征选择吗？比如说，我们的分类器自己能否甄别那些特征是对最后的结果有益的？这里有个实际工作中用到的小技巧。</p>

<p>我们知道：</p>

<ul>
<li><strong>l2正则化，它对于最后的特征权重的影响是，尽量打散权重到每个特征维度上，不让权重集中在某些维度上，出现权重特别高的特征。</strong></li>
<li><strong>而l1正则化，它对于最后的特征权重的影响是，让特征获得的权重稀疏化，也就是对结果影响不那么大的特征，干脆就拿不着权重。</strong></li>
</ul>

<p>那基于这个理论，我们可以把SVC中的正则化替换成l1正则化，让其自动甄别哪些特征应该留下权重。</p>



<pre class="prettyprint"><code class="language-python hljs ">plot_learning_curve(LinearSVC(C=<span class="hljs-number">0.1</span>, penalty=<span class="hljs-string">'l1'</span>, dual=<span class="hljs-keyword">False</span>), <span class="hljs-string">"LinearSVC(C=0.1, penalty='l1')"</span>, X, y, ylim=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>), train_sizes=np.linspace(<span class="hljs-number">.05</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="使用l1正则化" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fl1_regularization.png" title="" /> <br />
</center><p></p>

<p>好了，我们一起来看看最后特征获得的权重：</p>



<pre class="prettyprint"><code class="language-python hljs ">estm = LinearSVC(C=<span class="hljs-number">0.1</span>, penalty=<span class="hljs-string">'l1'</span>, dual=<span class="hljs-keyword">False</span>)
estm.fit(X[:<span class="hljs-number">450</span>], y[:<span class="hljs-number">450</span>])  <span class="hljs-comment"># 用450个点来训练</span>
<span class="hljs-keyword">print</span> <span class="hljs-string">"Coefficients learned: %s"</span> % est.coef_
<span class="hljs-keyword">print</span> <span class="hljs-string">"Non-zero coefficients: %s"</span> % np.nonzero(estm.coef_)[<span class="hljs-number">1</span>]</code></pre>

<p>得到结果：</p>



<pre class="prettyprint"><code class="language-python hljs ">Coefficients learned: [[ <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.01857999</span>
   <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.004135</span>    <span class="hljs-number">0.</span>          <span class="hljs-number">1.05241369</span>
   <span class="hljs-number">0.01971419</span>  <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>          <span class="hljs-number">0.</span>         -<span class="hljs-number">0.05665314</span>
   <span class="hljs-number">0.14106505</span>  <span class="hljs-number">0.</span>        ]]
Non-zero coefficients: [<span class="hljs-number">5</span> <span class="hljs-number">9</span> <span class="hljs-number">11</span> <span class="hljs-number">12</span> <span class="hljs-number">17</span> <span class="hljs-number">18</span>]</code></pre>

<p>你看，5 9 11 12 17 18这些维度的特征获得了权重，而第11维权重最大，也说明了它影响程度最大。</p>



<h4 id="322-欠拟合定位与解决">3.2.2 欠拟合定位与解决</h4>

<p>我们再随机生成一份数据[1000*20]的数据(但是分布和之前有变化)，重新使用LinearSVC来做分类。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#构造一份环形数据</span>
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> make_circles
X, y = make_circles(n_samples=<span class="hljs-number">1000</span>, random_state=<span class="hljs-number">2</span>)
<span class="hljs-comment">#绘出学习曲线</span>
plot_learning_curve(LinearSVC(C=<span class="hljs-number">0.25</span>),<span class="hljs-string">"LinearSVC(C=0.25)"</span>,X, y, ylim=(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.0</span>),train_sizes=np.linspace(<span class="hljs-number">.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="环形数据的学习曲线" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Flearning_curve_3.png" title="" /> <br />
</center><p></p>

<p>简直烂出翔了有木有，二分类问题，我们做随机猜测，准确率都有0.5，这比随机猜测都高不了多少！！！怎么办？</p>

<p>不要盲目动手收集更多资料，或者调整正则化参数。我们从学习曲线上其实可以看出来，训练集上的准确度和交叉验证集上的准确度都很低，这其实就对应了我们说的『欠拟合』状态。别急，我们回到我们的数据，还是可视化看看：</p>



<pre class="prettyprint"><code class="language-python hljs ">f = DataFrame(np.hstack((X, y[:, <span class="hljs-keyword">None</span>])), columns = range(<span class="hljs-number">2</span>) + [<span class="hljs-string">"class"</span>])
_ = sns.pairplot(df, vars=[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], hue=<span class="hljs-string">"class"</span>, size=<span class="hljs-number">3.5</span>)</code></pre>

<p></p><center> <br />
<img alt="环形数据可视化" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fdata_visualization.png" title="" /> <br />
</center><p></p>

<p>你发现什么了，<strong>数据根本就没办法线性分割！！！</strong>，所以你再找更多的数据，或者调整正则化参数，都是无济于事的！！！</p>

<p>那我们又怎么解决欠拟合问题呢？通常有下面一些方法：</p>

<ul>
<li><strong>调整你的特征(找更有效的特征！！)</strong> <br />
比如说我们观察完现在的数据分布，然后我们先对数据做个映射：</li>
</ul>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 加入原始特征的平方项作为新特征</span>
X_extra = np.hstack((X, X[:, [<span class="hljs-number">0</span>]]**<span class="hljs-number">2</span> + X[:, [<span class="hljs-number">1</span>]]**<span class="hljs-number">2</span>))

plot_learning_curve(LinearSVC(C=<span class="hljs-number">0.25</span>), <span class="hljs-string">"LinearSVC(C=0.25) + distance feature"</span>, X_extra, y, ylim=(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.0</span>), train_sizes=np.linspace(<span class="hljs-number">.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="平方映射后的准确度" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fnon-linear-feature.png" title="" /> <br />
</center> <br />
卧槽，少年，这准确率，被吓尿了有木有啊！！！所以你看，选用的特征影响太大了，当然，我们这里是人工模拟出来的数据，分布太明显了，实际数据上，会比这个麻烦一些，但是在特征上面下的功夫还是很有回报的。<p></p>

<ul>
<li><strong>使用更复杂一点的模型(比如说用非线性的核函数)</strong> <br />
我们对模型稍微调整了一下，用了一个复杂一些的非线性rbf kernel：</li>
</ul>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> SVC
<span class="hljs-comment"># note: we use the original X without the extra feature</span>
plot_learning_curve(SVC(C=<span class="hljs-number">2.5</span>, kernel=<span class="hljs-string">"rbf"</span>, gamma=<span class="hljs-number">1.0</span>), <span class="hljs-string">"SVC(C=2.5, kernel='rbf', gamma=1.0)"</span>,X, y, ylim=(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.0</span>), train_sizes=np.linspace(<span class="hljs-number">.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">5</span>))</code></pre>

<p></p><center> <br />
<img alt="rbf核SVM学习曲线" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Fcomplex_model.png" title="" /> <br />
</center><p></p>

<p>你看，效果依旧很赞。</p>



<h3 id="33-关于大数据样本集和高维特征空间">3.3 关于大数据样本集和高维特征空间</h3>

<p>我们在小样本的toy dataset上，怎么捣鼓都有好的方法。但是当数据量和特征样本空间膨胀非常厉害时，很多东西就没有那么好使了，至少是一个很耗时的过程。举个例子说，我们现在重新生成一份数据集，但是这次，我们生成更多的数据，更高的特征维度，而分类的类别也提高到5。</p>



<h4 id="331-大数据情形下的模型选择与学习曲线">3.3.1 大数据情形下的模型选择与学习曲线</h4>

<p>在上面提到的那样一份数据上，我们用LinearSVC可能就会有点慢了，我们注意到<a href="http://1.bp.blogspot.com/-ME24ePzpzIM/UQLWTwurfXI/AAAAAAAAANw/W3EETIroA80/s1600/drop_shadows_background.png">机器学习算法使用图谱</a>推荐我们使用<code>SGDClassifier</code>。其实本质上说，这个模型也是一个线性核函数的模型，不同的地方是，它使用了随机梯度下降做训练，所以每次并没有使用全部的样本，收敛速度会快很多。再多提一点，<code>SGDClassifier</code>对于特征的幅度非常敏感，也就是说，我们在把数据灌给它之前，应该先对特征做幅度调整，当然，用sklearn的<code>StandardScaler</code>可以很方便地完成这一点。</p>

<p><code>StandardScaler</code>每次只使用一部分(mini-batch)做训练，在这种情况下，我们使用交叉验证(cross-validation)并不是很合适，我们会使用相对应的progressive validation：简单解释一下，estimator每次只会拿下一个待训练batch在本次做评估，然后训练完之后，再在这个batch上做一次评估，看看是否有优化。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#生成大样本，高纬度特征数据</span>
X, y = make_classification(<span class="hljs-number">200000</span>, n_features=<span class="hljs-number">200</span>, n_informative=<span class="hljs-number">25</span>, n_redundant=<span class="hljs-number">0</span>, n_classes=<span class="hljs-number">10</span>, class_sep=<span class="hljs-number">2</span>, random_state=<span class="hljs-number">0</span>)

<span class="hljs-comment">#用SGDClassifier做训练，并画出batch在训练前后的得分差</span>
<span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> SGDClassifier
est = SGDClassifier(penalty=<span class="hljs-string">"l2"</span>, alpha=<span class="hljs-number">0.001</span>)
progressive_validation_score = []
train_score = []
<span class="hljs-keyword">for</span> datapoint <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, <span class="hljs-number">199000</span>, <span class="hljs-number">1000</span>):
    X_batch = X[datapoint:datapoint+<span class="hljs-number">1000</span>]
    y_batch = y[datapoint:datapoint+<span class="hljs-number">1000</span>]
    <span class="hljs-keyword">if</span> datapoint &gt; <span class="hljs-number">0</span>:
        progressive_validation_score.append(est.score(X_batch, y_batch))
    est.partial_fit(X_batch, y_batch, classes=range(<span class="hljs-number">10</span>))
    <span class="hljs-keyword">if</span> datapoint &gt; <span class="hljs-number">0</span>:
        train_score.append(est.score(X_batch, y_batch))

plt.plot(train_score, label=<span class="hljs-string">"train score"</span>)
plt.plot(progressive_validation_score, label=<span class="hljs-string">"progressive validation score"</span>)
plt.xlabel(<span class="hljs-string">"Mini-batch"</span>)
plt.ylabel(<span class="hljs-string">"Score"</span>)
plt.legend(loc=<span class="hljs-string">'best'</span>)  
plt.show()                     </code></pre>

<p>得到如下的结果： <br />
</p><center> <br />
<img alt="SGDClassifier学习曲线" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2FSGDClassifier.png" title="" /> <br />
</center><p></p>

<p>从这个图上的得分，我们可以看出在50个mini-batch迭代之后，数据上的得分就已经变化不大了。但是好像得分都不太高，所以我们猜测一下，这个时候我们的数据，处于<strong>欠拟合</strong>状态。我们刚才在小样本集合上提到了，如果欠拟合，我们可以使用更复杂的模型，比如把核函数设置为非线性的，但遗憾的是像rbf核函数是没有办法和<code>SGDClassifier</code>兼容的。因此我们只能想别的办法了，比如这里，我们可以把<code>SGDClassifier</code>整个替换掉了，用<code>多层感知神经网</code>来完成这个任务，我们之所以会想到<code>多层感知神经网</code>，是因为它也是一个用随机梯度下降训练的算法，同时也是一个非线性的模型。当然根据<a href="http://1.bp.blogspot.com/-ME24ePzpzIM/UQLWTwurfXI/AAAAAAAAANw/W3EETIroA80/s1600/drop_shadows_background.png">机器学习算法使用图谱</a>，也可以使用<strong>核估计(kernel-approximation)</strong>来完成这个事情。</p>



<h4 id="332-大数据量下的可视化">3.3.2 大数据量下的可视化</h4>

<p>大样本数据的可视化是一个相对比较麻烦的事情，一般情况下我们都要用到<strong>降维的方法先处理特征</strong>。我们找一个例子来看看，可以怎么做，比如我们数据集取经典的『手写数字集』，首先找个方法看一眼这个图片数据集。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#直接从sklearn中load数据集</span>
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_digits
digits = load_digits(n_class=<span class="hljs-number">6</span>)
X = digits.data
y = digits.target
n_samples, n_features = X.shape
<span class="hljs-keyword">print</span> <span class="hljs-string">"Dataset consist of %d samples with %d features each"</span> % (n_samples, n_features)

<span class="hljs-comment"># 绘制数字示意图</span>
n_img_per_row = <span class="hljs-number">20</span>
img = np.zeros((<span class="hljs-number">10</span> * n_img_per_row, <span class="hljs-number">10</span> * n_img_per_row))
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n_img_per_row):
    ix = <span class="hljs-number">10</span> * i + <span class="hljs-number">1</span>
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(n_img_per_row):
        iy = <span class="hljs-number">10</span> * j + <span class="hljs-number">1</span>
        img[ix:ix + <span class="hljs-number">8</span>, iy:iy + <span class="hljs-number">8</span>] = X[i * n_img_per_row + j].reshape((<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))

plt.imshow(img, cmap=plt.cm.binary)
plt.xticks([])
plt.yticks([])
_ = plt.title(<span class="hljs-string">'A selection from the 8*8=64-dimensional digits dataset'</span>)
plt.show()</code></pre>

<p></p><center> <br />
<img alt="数字示意图" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2F8*8.png" title="" /> <br />
</center><p></p>

<p>我们总共有1083个训练样本，包含手写数字(0,1,2,3,4,5)，每个样本图片中的像素点平铺开都是64位，这个维度显然是没办法直接可视化的。下面我们基于<a href="http://scikit-learn.org/stable/auto_examples/manifold/plot_lle_digits.html#example-manifold-plot-lle-digits-py">scikit-learn的示例教程</a>对特征用各种方法做降维处理，再可视化。</p>

<p><strong>随机投射</strong> <br />
我们先看看，把数据随机投射到两个维度上的结果：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#import所需的package</span>
<span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> (manifold, decomposition, random_projection)
rp = random_projection.SparseRandomProjection(n_components=<span class="hljs-number">2</span>, random_state=<span class="hljs-number">42</span>)

<span class="hljs-comment">#定义绘图函数</span>
<span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> offsetbox
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">plot_embedding</span><span class="hljs-params">(X, title=None)</span>:</span>
    x_min, x_max = np.min(X, <span class="hljs-number">0</span>), np.max(X, <span class="hljs-number">0</span>)
    X = (X - x_min) / (x_max - x_min)

    plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>))
    ax = plt.subplot(<span class="hljs-number">111</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(X.shape[<span class="hljs-number">0</span>]):
        plt.text(X[i, <span class="hljs-number">0</span>], X[i, <span class="hljs-number">1</span>], str(digits.target[i]),
                 color=plt.cm.Set1(y[i] / <span class="hljs-number">10.</span>),
                 fontdict={<span class="hljs-string">'weight'</span>: <span class="hljs-string">'bold'</span>, <span class="hljs-string">'size'</span>: <span class="hljs-number">12</span>})

    <span class="hljs-keyword">if</span> hasattr(offsetbox, <span class="hljs-string">'AnnotationBbox'</span>):
        <span class="hljs-comment"># only print thumbnails with matplotlib &gt; 1.0</span>
        shown_images = np.array([[<span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>]])  <span class="hljs-comment"># just something big</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(digits.data.shape[<span class="hljs-number">0</span>]):
            dist = np.sum((X[i] - shown_images) ** <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)
            <span class="hljs-keyword">if</span> np.min(dist) &lt; <span class="hljs-number">4e-3</span>:
                <span class="hljs-comment"># don't show points that are too close</span>
                <span class="hljs-keyword">continue</span>
            shown_images = np.r_[shown_images, [X[i]]]
            imagebox = offsetbox.AnnotationBbox(
                offsetbox.OffsetImage(digits.images[i], cmap=plt.cm.gray_r),
                X[i])
            ax.add_artist(imagebox)
    plt.xticks([]), plt.yticks([])
    <span class="hljs-keyword">if</span> title <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
        plt.title(title)

<span class="hljs-comment">#记录开始时间</span>
start_time = time.time()
X_projected = rp.fit_transform(X)
plot_embedding(X_projected, <span class="hljs-string">"Random Projection of the digits (time: %.3fs)"</span> % (time.time() - start_time))</code></pre>

<p>结果如下： <br />
</p><center> <br />
<img alt="2方向随机投射图" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Frandom_projection.png" title="" /> <br />
</center><p></p>

<p><strong>PCA降维</strong> <br />
在维度约减/降维领域有一个非常强大的算法叫做PCA(Principal Component Analysis，主成分分析)，它能将原始的绝大多数信息用维度远低于原始维度的几个主成分表示出来。PCA在我们现在的数据集上效果还不错，我们来看看用PCA对原始特征降维至2维后，原始样本在空间的分布状况：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> (manifold, decomposition, random_projection)
<span class="hljs-comment">#TruncatedSVD 是 PCA的一种实现</span>
X_pca = decomposition.TruncatedSVD(n_components=<span class="hljs-number">2</span>).fit_transform(X)
<span class="hljs-comment">#记录时间</span>
start_time = time.time()
plot_embedding(X_pca,<span class="hljs-string">"Principal Components projection of the digits (time: %.3fs)"</span> % (time.time() - start_time))</code></pre>

<p>得到的结果如下： <br />
</p><center> <br />
<img alt="PCA后的可视化" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2FPCA.png" title="" /> <br />
</center><p></p>

<p>我们可以看出，效果还不错，不同的手写数字在2维平面上，显示出了区域集中性。即使它们之间有一定的重叠区域。</p>

<p>如果我们用一些<strong>非线性的变换</strong>来做降维操作，从原始的64维降到2维空间，效果更好，比如这里我们用到一个技术叫做t-SNE，sklearn的manifold对其进行了实现：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> (manifold, decomposition, random_projection)
<span class="hljs-comment">#降维</span>
tsne = manifold.TSNE(n_components=<span class="hljs-number">2</span>, init=<span class="hljs-string">'pca'</span>, random_state=<span class="hljs-number">0</span>)
start_time = time.time()
X_tsne = tsne.fit_transform(X)
<span class="hljs-comment">#绘图</span>
plot_embedding(X_tsne,
               <span class="hljs-string">"t-SNE embedding of the digits (time: %.3fs)"</span> % (time.time() - start_time))</code></pre>

<p></p><center> <br />
<img alt="非线性降维手写数字分布图" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Ft-SNE.png" title="" /> <br />
</center><p></p>

<p>我们发现结果非常的惊人，似乎这个非线性变换降维过后，仅仅2维的特征，就可以将原始数据的不同类别，在平面上很好地划分开。不过t-SNE也有它的缺点，一般说来，相对于线性变换的降维，它需要更多的计算时间。也不太适合在大数据集上全集使用。</p>



<h3 id="34-损失函数的选择">3.4 损失函数的选择</h3>

<p>损失函数的选择对于问题的解决和优化，非常重要。我们先来看一眼各种不同的损失函数：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.plot <span class="hljs-keyword">as</span> plt
<span class="hljs-comment"># 改自http://scikit-learn.org/stable/auto_examples/linear_model/plot_sgd_loss_functions.html</span>
xmin, xmax = -<span class="hljs-number">4</span>, <span class="hljs-number">4</span>
xx = np.linspace(xmin, xmax, <span class="hljs-number">100</span>)
plt.plot([xmin, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, xmax], [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>], <span class="hljs-string">'k-'</span>,
         label=<span class="hljs-string">"Zero-one loss"</span>)
plt.plot(xx, np.where(xx &lt; <span class="hljs-number">1</span>, <span class="hljs-number">1</span> - xx, <span class="hljs-number">0</span>), <span class="hljs-string">'g-'</span>,
         label=<span class="hljs-string">"Hinge loss"</span>)
plt.plot(xx, np.log2(<span class="hljs-number">1</span> + np.exp(-xx)), <span class="hljs-string">'r-'</span>,
         label=<span class="hljs-string">"Log loss"</span>)
plt.plot(xx, np.exp(-xx), <span class="hljs-string">'c-'</span>,
         label=<span class="hljs-string">"Exponential loss"</span>)
plt.plot(xx, -np.minimum(xx, <span class="hljs-number">0</span>), <span class="hljs-string">'m-'</span>,
         label=<span class="hljs-string">"Perceptron loss"</span>)

plt.ylim((<span class="hljs-number">0</span>, <span class="hljs-number">8</span>))
plt.legend(loc=<span class="hljs-string">"upper right"</span>)
plt.xlabel(<span class="hljs-string">r"Decision function $f(x)$"</span>)
plt.ylabel(<span class="hljs-string">"$L(y, f(x))$"</span>)
plt.show()</code></pre>

<p>得到结果图像如下：</p>

<p></p><center> <br />
<img alt="损失函数对比" src="http://7xo0y8.com1.z0.glb.clouddn.com/ml_concept%2Floss_function.png" title="" /> <br />
</center><p></p>

<p>不同的损失函数有不同的优缺点：</p>

<ul>
<li><strong>0-1损失函数(zero-one loss)</strong>非常好理解，直接对应分类问题中判断错的个数。但是比较尴尬的是它是一个非凸函数，这意味着其实不是那么实用。</li>
<li><strong>hinge loss</strong>(SVM中使用到的)的健壮性相对较高(对于异常点/噪声不敏感)。但是它没有那么好的概率解释。</li>
<li><strong>log损失函数(log-loss)</strong>的结果能非常好地表征概率分布。因此在很多场景，尤其是多分类场景下，如果我们需要知道结果属于每个类别的置信度，那这个损失函数很适合。缺点是它的健壮性没有那么强，相对hinge loss会对噪声敏感一些。</li>
<li><strong>多项式损失函数(exponential loss)</strong>(AdaBoost中用到的)对离群点/噪声非常非常敏感。但是它的形式对于boosting算法简单而有效。</li>
<li><strong>感知损失(perceptron loss)</strong>可以看做是hinge loss的一个变种。hinge loss对于判定边界附近的点(正确端)惩罚力度很高。而perceptron loss，只要样本的判定类别结果是正确的，它就是满意的，而不管其离判定边界的距离。优点是比hinge loss简单，缺点是因为不是max-margin boundary，所以得到模型的泛化能力没有hinge loss强。</li>
</ul>



<h2 id="4-总结">4. 总结</h2>

<p>全文到此就结束了。先走马观花看了一遍机器学习的算法，然后给出了对应scikit-learn的『秘密武器』<a href="http://1.bp.blogspot.com/-ME24ePzpzIM/UQLWTwurfXI/AAAAAAAAANw/W3EETIroA80/s1600/drop_shadows_background.png">机器学习算法使用图谱</a>，紧接着从<strong>了解数据(可视化)</strong>、<strong>选择机器学习算法</strong>、<strong>定位过/欠拟合及解决方法</strong>、<strong>大量极的数据可视化</strong>和<strong>损失函数优缺点与选择</strong>等方面介绍了实际机器学习问题中的一些思路和方法。本文和文章<a href="http://blog.csdn.net/han_xiaoyang/article/details/49797143">机器学习系列(3)_逻辑回归应用之Kaggle泰坦尼克之灾</a>都提及了一些处理实际机器学习问题的思路和方法，有相似和互补之处，欢迎大家参照着看。</p>
            <div>
                作者：yaoqiang2011 发表于2016/1/6 15:35:17 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50469334">原文链接</a>
            </div>
            <div>
            阅读：24129 评论：4 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50469334#comments" target="_blank">查看评论</a>
            </div>
[原]深度学习与计算机视觉系列(7)_神经网络数据预处理，正则化与损失函数
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a> <br />
时间：2016年1月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50451460">http://blog.csdn.net/han_xiaoyang/article/details/50451460</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-引言">1. 引言</h2>

<p>上一节我们讲完了各种激励函数的优缺点和选择，以及网络的大小以及正则化对神经网络的影响。这一节我们讲一讲输入数据预处理、正则化以及损失函数设定的一些事情。</p>



<h2 id="2-数据与网络的设定">2. 数据与网络的设定</h2>

<p>前一节提到前向计算涉及到的组件(主要是神经元)设定。神经网络结构和参数设定完毕之后，我们就得到得分函数/score function(忘记的同学们可以翻看一下之前的<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">博文</a>)，总体说来，一个完整的神经网络就是在不断地进行线性映射(权重和input的内积)和非线性映射(部分激励函数作用)的过程。这一节我们会展开来讲讲<strong>数据预处理</strong>，<strong>权重初始化</strong>和<strong>损失函数</strong>的事情。</p>



<h2 id="21-数据预处理">2.1 数据预处理</h2>

<p>在卷积神经网处理图像问题的时候，图像数据有3种常见的预处理可能会用到，如下。我们假定数据表示成矩阵为<code>X</code>，其中我们假定<code>X</code>是[N*D]维矩阵(N是样本数据量，D为单张图片的数据向量长度)。</p>

<ul>
<li><strong>去均值</strong>，这是最常见的图片数据预处理，简单说来，它做的事情就是，对待训练的每一张图片的特征，都减去全部训练集图片的特征均值，这么做的直观意义就是，我们把输入数据各个维度的数据都中心化到0了。使用python的numpy工具包，这一步可以用<code>X -= np.mean(X, axis = 0)</code>轻松实现。当然，其实这里也有不同的做法：简单一点，我们可以直接求出所有像素的均值，然后每个像素点都减掉这个相同的值；稍微优化一下，我们在RGB三个颜色通道分别做这件事。</li>
<li><strong>归一化</strong>，归一化的直观理解含义是，我们做一些工作去保证所有的维度上数据都在一个变化幅度上。通常我们有两种方法来实现归一化。一个是在数据都去均值之后，每个维度上的数据都除以这个维度上数据的标准差(<code>X /= np.std(X, axis = 0)</code>)。另外一种方式是我们除以数据绝对值最大值，以保证所有的数据归一化后都在-1到1之间。多说一句，其实在任何你觉得各维度幅度变化非常大的数据集上，你都可以考虑归一化处理。不过对于图像而言，其实这一步反倒可做可不做，因为大家都知道，像素的值变化区间都在[0,255]之间，所以其实图像输入数据天生幅度就是一致的。</li>
</ul>

<p>上述两个操作对于数据的作用，画成示意图，如下： <br />
<img alt="数据的去均值与归一化" src="http://cs231n.github.io/assets/nn2/prepro1.jpeg" title="" /></p>

<ul>
<li><strong>PCA和白化/whitening</strong>，这是另外一种形式的数据预处理。在经过去均值操作之后，我们可以计算数据的协方差矩阵，从而可以知道数据各个维度之间的相关性，简单示例代码如下：</li>
</ul>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 假定输入数据矩阵X是[N*D]维的</span>
X -= np.mean(X, axis = <span class="hljs-number">0</span>) <span class="hljs-comment"># 去均值</span>
cov = np.dot(X.T, X) / X.shape[<span class="hljs-number">0</span>] <span class="hljs-comment"># 计算协方差</span></code></pre>

<p>得到的结果矩阵中元素(i,j)表示原始数据中，第i维和第j维直接爱你的相关性。有意思的是，其实协方差矩阵的对角线包含了每个维度的变化幅度。另外，我们都知道协方差矩阵是对称的，我们可以在其上做矩阵奇异值分解(SVD factorization)：</p>



<pre class="prettyprint"><code class="language-python hljs ">U,S,V = np.linalg.svd(cov)</code></pre>

<p>其中U为特征向量，我们如果相对原始数据(去均值之后)做去相关操作，只需要进行如下运算：</p>



<pre class="prettyprint"><code class="language-python hljs ">Xrot = np.dot(X, U)</code></pre>

<p>这么理解一下可能更好，U是一组正交基向量。所以我们可以看做把原始数据<code>X</code>投射到这组维度保持不变的正交基底上，从而也就完成了对原始数据的去相关。如果去相关之后你再求一下<code>Xrot</code>的协方差矩阵，你会发现这时候的协方差矩阵是一个对角矩阵了。而numpy中的<code>np.linalg.svd</code>更好的一个特性是，它返回的U是对特征值排序过的，这也就意味着，我们可以用它进行降维操作。我们可以只取top的一些特征向量，然后做和原始数据做矩阵乘法，这个时候既降维减少了计算量，同时又保存下了绝大多数的原始数据信息，这就是所谓的<strong>主成分分析/PCA</strong>：</p>



<pre class="prettyprint"><code class="language-python hljs ">Xrot_reduced = np.dot(X, U[:,:<span class="hljs-number">100</span>])</code></pre>

<p>这个操作之后，我们把原始数据集矩阵从[N*D]降维到[N*100]，保存了前100个能包含绝大多数数据信息的维度。实际应用中，你在PCA降维之后的数据集上，做各种机器学习的训练，在节省空间和时间的前提下，依旧能有很好的训练准确度。</p>

<p>最后我们再提一下<strong>whitening</strong>操作。所谓whitening，就是把各个特征轴上的数据除以特征向量，从而达到在每个特征轴上都归一化幅度的结果。whitening变换的几何意义和理解是，如果输入的数据是多变量高斯，那whitening之后的 数据是一个均值为0而不同方差的高斯矩阵。这一步简单代码实现如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#白化数据</span>
Xwhite = Xrot / np.sqrt(S + <span class="hljs-number">1e-5</span>)</code></pre>

<p>提个醒：whitening操作会有严重化噪声的可能。注意到我们在上述代码中，分母的部分加入了一个很小的数1e-5，以防止出现除以0的情况。但是数据中的噪声部分可能会因whitening操作而变大，因为这个操作的本质是把输入的每个维度都拉到差不多的幅度，那么本不相关的有微弱幅度变化的噪声维度，也被拉到了和其他维度同样的幅度。当然，我们适当提高坟墓中的安全因子(1e-5)可以在一定程度上缓解这个问题。</p>

<p>下图为原始数据到<strong>去相关</strong>到<strong>白化</strong>之后的数据分布示意图： <br />
<img alt="去相关与白化" src="http://cs231n.github.io/assets/nn2/prepro2.jpeg" title="" /></p>

<p>我们来看看真实数据集上的操作与得到的结果，也许能对这些过程有更清晰一些的认识。大家都还记得CIFAR-10图像数据集吧。训练集大小为50000*3072，也就是说，每张图片都被展成一个3072维度的列向量了。然后我们对原始50000*3072数据矩阵做SVD分解，进行上述一些操作，再可视化一下，得到的结果示意图如下：</p>

<p><img alt="CIFAR-10降维与可视化" src="http://cs231n.github.io/assets/nn2/cifar10pca.jpeg" title="" /></p>

<p>我们稍加解释一下，最左边是49张原始图片；左起第2幅图是最3072个特征向量中最top的144个，这144个特征向量包含了绝大多数数据变量信息，而其实它们代表的是图片中低频的信息；左起第3幅图表示PCA降维操作之后的49张图片，使用上面求得的144个特征向量。我们可以观察到图片好像被蒙上了一层东西一样，模糊化了，这也就表明了我们的top144个特征向量捕捉到的都是图像的低频信息，不过我们发现图像的绝大多数信息确实被保留下来了；最右图是whitening的144个数通过乘以<code>U.transpose()[:144,:]</code>还原回图片的样子，有趣的是，我们发现，现在低频信息基本都被滤掉了，剩下一些高频信息被放大呈现。</p>

<p><strong>实际工程中</strong>，因为这个部分讲到数据预处理，我们就把基本的几种数据预处理都讲了一遍，但实际卷积神经网中，我们并没有用到去相关和whitening操作。当然，去均值是非常非常重要的，而每个像素维度的归一化也是常用的操作。</p>

<p><strong>特别说明</strong>，需要特别说明的一点是，上述的预处理操作，<strong>一定都是在训练集上先预算的，然后应用在交叉验证/测试集上的</strong>。举个例子，有些同学会先把所有的图片放一起，求均值，然后减掉均值，再把这份数据分作训练集和测试集，这是不对的亲！！！</p>



<h3 id="22-权重初始化">2.2 权重初始化</h3>

<p>我们之前已经看过一个完整的神经网络，是怎么样通过神经元和连接搭建起来的，以及如何对数据做预处理。在训练神经网络之前，我们还有一个任务要做，那就是初始化参数。</p>

<p><strong>错误的想法：全部初始化为0</strong>，有些同学说，那既然要训练和收敛嘛，初始值就随便设定，简单一点就全设为0好了。亲，这样是绝对不行的！！！为啥呢？我们在神经网络训练完成之前，是不可能预知神经网络最后的权重具体结果的，但是根据我们归一化后的数据，我们可以假定，大概有半数左右的权重是正数，而另外的半数是负数。但设定全部初始权重都为0的结果是，网络中每个神经元都计算出一样的结果，然后在反向传播中有一样的梯度结果，因此迭代之后的变化情况也都一样，这意味着这个神经网络的权重没有办法差异化，也就没有办法学习到东西。</p>

<p><strong>很小的随机数</strong>，其实我们依旧希望初始的权重是较小的数，趋于0，但是就像我们刚刚讨论过的一样，不要真的是0。综合上述想法，在实际场景中，我们通常会把初始权重设定为非常小的数字，然后正负尽量一半一半。这样，初始的时候权重都是不一样的很小随机数，然后迭代过程中不会再出现迭代一致的情况。举个例子，我们可能可以这样初始化一个权重矩阵<code>W=0.0001*np.random.randn(D,H)</code>。这个初始化的过程，使得每个神经元的权重向量初始化为多维高斯中的随机采样向量，所以神经元的初始权重值指向空间中的随机方向。</p>

<p><strong>特别说明</strong>：其实不一定更小的初始值会比大值有更好的效果。我们这么想，一个有着非常小的权重的神经网络在后向传播过程中，回传的梯度也是非常小的。这样回传的”信号”流会相对也较弱，对于层数非常多的深度神经网络，这也是一个问题，回传到最前的迭代梯度已经很小了。</p>

<p><strong>方差归一化</strong>，上面提到的建议有一个小问题，对于随机初始化的神经元参数下的输出，其分布的方差随着输入的数量，会增长。我们实际上可以通过除以总输入数目的平方根，归一化每个神经元的输出方差到1。也就是说，我们倾向于初始化神经元的权重向量为<code>w = np.random.randn(n) / sqrt(n)</code>，其中n为输入数。</p>

<p>我们从数学的角度，简单解释一下，为什么上述操作可以归一化方差。考虑在激励函数之前的权重w与输入x的内积<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 6.349em; display: inline-block;"><span style="display: inline-block; width: 5.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-5"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-7" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-8" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-9"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-10" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-11" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-12"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-13" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-14" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>部分，我们计算一下<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-15" style="width: 0.536em; display: inline-block;"><span style="display: inline-block; width: 0.429em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-16"><span class="mi" id="MathJax-Span-17" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的方差：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-18" style="width: 33.336em; display: inline-block;"><span style="display: inline-block; width: 26.669em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-19"><span class="mtable" id="MathJax-Span-20"><span style="display: inline-block; width: 26.296em; height: 0px;"><span><span style="display: inline-block; width: 2.563em; height: 0px;"><span><span class="mtd" id="MathJax-Span-21"><span class="mrow" id="MathJax-Span-22"><span class="mtext" id="MathJax-Span-23" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-24" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-25" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-26" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-43"><span class="mrow" id="MathJax-Span-44"></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mtd" id="MathJax-Span-61"><span class="mrow" id="MathJax-Span-62"></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mtd" id="MathJax-Span-116"><span class="mrow" id="MathJax-Span-117"></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mtd" id="MathJax-Span-137"><span class="mrow" id="MathJax-Span-138"></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 13.709em;"></span></span><span><span style="display: inline-block; width: 23.736em; height: 0px;"><span><span class="mtd" id="MathJax-Span-27"><span class="mrow" id="MathJax-Span-28"><span class="mo" id="MathJax-Span-29" style="font-family: STIXGeneral-Regular;">=</span><span class="mtext" id="MathJax-Span-30" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-31" style="font-family: STIXGeneral-Regular;">(</span><span class="munderover" id="MathJax-Span-32"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-33">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-34" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-35" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-36"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-37" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-38" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-39"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-41" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-42" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-45"><span class="mrow" id="MathJax-Span-46"><span class="mo" id="MathJax-Span-47" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-48"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-49">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-50" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-51" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-52" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-53" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-54"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-55" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-56" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-57"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-58" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-59" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-63"><span class="mrow" id="MathJax-Span-64"><span class="mo" id="MathJax-Span-65" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-66"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-67">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-68" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-69" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-70" style="font-family: STIXGeneral-Regular;">[</span><span class="mi" id="MathJax-Span-71" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-72" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-73"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-74" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-75" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-76" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-77"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mo" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">]</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-79" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-80" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-81" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-82"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-83" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-84" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-85" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-86" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-87" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-88" style="font-family: STIXGeneral-Regular;">[</span><span class="mo" id="MathJax-Span-89" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-90"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-91" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-92" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-93" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-94"><span style="display: inline-block; width: 0.803em; height: 0px;"><span><span class="mo" id="MathJax-Span-95" style="font-family: STIXGeneral-Regular;">]</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-96" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-97" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-98" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-99"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-100" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-101" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-102" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-103" style="font-family: STIXGeneral-Regular;">+</span><span class="mtext" id="MathJax-Span-104" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-105" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-106"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-107" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-108" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-109" style="font-family: STIXGeneral-Regular;">)</span><span class="mtext" id="MathJax-Span-110" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-111" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-112"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-114" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-118"><span class="mrow" id="MathJax-Span-119"><span class="mo" id="MathJax-Span-120" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-121"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-122">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-123" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-124" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-125" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-126" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-127"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-128" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-129" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-130" style="font-family: STIXGeneral-Regular;">)</span><span class="mtext" id="MathJax-Span-131" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-132" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-133"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-134" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-135" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-136" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-139"><span class="mrow" id="MathJax-Span-140"><span class="mo" id="MathJax-Span-141" style="font-family: STIXGeneral-Regular;">=</span><span class="mrow" id="MathJax-Span-142"><span class="mo" id="MathJax-Span-143" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-144" style="font-family: STIXGeneral-Italic;">n</span><span class="mtext" id="MathJax-Span-145" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-147" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-148" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-149" style="font-family: STIXGeneral-Regular;">)</span></span><span class="mtext" id="MathJax-Span-150" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-151" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-152" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-153" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="display: inline-block; width: 0px; height: 14.829em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span></div></p>

<p>注意，这个推导的前2步用到了方差的性质。第3步我们假定输入均值为0，因此<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-154" style="width: 9.336em; display: inline-block;"><span style="display: inline-block; width: 7.469em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-155"><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-157" style="font-family: STIXGeneral-Regular;">[</span><span class="msubsup" id="MathJax-Span-158"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-159" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-160" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-161" style="font-family: STIXGeneral-Regular;">]</span><span class="mo" id="MathJax-Span-162" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-163" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-164" style="font-family: STIXGeneral-Regular;">[</span><span class="msubsup" id="MathJax-Span-165"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-166" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-167" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-168" style="font-family: STIXGeneral-Regular;">]</span><span class="mo" id="MathJax-Span-169" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-170" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。不过这是我们的一个假设，实际情况下并不一定是这样的，比如ReLU单元的均值就是正的。最后一步我们假定<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-171" style="width: 2.776em; display: inline-block;"><span style="display: inline-block; width: 2.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-172"><span class="msubsup" id="MathJax-Span-173"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-174" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-175" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-176" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-177"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-178" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-179" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是独立分布。我们想让s的方差和输入x的方差一致，因此我们想让w的方差取值为1/n，又因为我们有公式<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-180" style="width: 10.616em; display: inline-block;"><span style="display: inline-block; width: 8.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-181"><span class="mtext" id="MathJax-Span-182" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-184" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-185" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-186" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-187" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-188"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-189" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-190" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mtext" id="MathJax-Span-191" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-193" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，所以a应该取值为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-195" style="width: 4.909em; display: inline-block;"><span style="display: inline-block; width: 3.896em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-196"><span class="mi" id="MathJax-Span-197" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-198" style="font-family: STIXGeneral-Regular;">=</span><span class="msqrt" id="MathJax-Span-199"><span style="display: inline-block; width: 2.029em; height: 0px;"><span><span class="mrow" id="MathJax-Span-200"><span class="mn" id="MathJax-Span-201" style="font-family: STIXGeneral-Regular;">1</span><span class="texatom" id="MathJax-Span-202"><span class="mrow" id="MathJax-Span-203"><span class="mo" id="MathJax-Span-204" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-205" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="display: inline-block; width: 1.283em; height: 0px;"><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="font-family: STIXVariants;">√</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，numpy里的实现为<code>w = np.random.randn(n) / sqrt(n)</code>。</p>

<p>对于初始化权重还有一些类似的研究和建议，比如说Glorot在论文<a href="http://jmlr.org/proceedings/papers/v9/glorot10a/glorot10a.pdf">Understanding the difficulty of training deep feedforward neural networks</a>就推荐使用能满足<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-206" style="width: 11.896em; display: inline-block;"><span style="display: inline-block; width: 9.496em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-207"><span class="mtext" id="MathJax-Span-208" style="font-family: STIXGeneral-Regular;">Var</span><span class="mo" id="MathJax-Span-209" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-210" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-211" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-212" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-213" style="font-family: STIXGeneral-Regular;">2</span><span class="texatom" id="MathJax-Span-214"><span class="mrow" id="MathJax-Span-215"><span class="mo" id="MathJax-Span-216" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mo" id="MathJax-Span-217" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-218"><span style="display: inline-block; width: 1.176em; height: 0px;"><span><span class="mi" id="MathJax-Span-219" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-220"><span class="mrow" id="MathJax-Span-221"><span class="mi" id="MathJax-Span-222" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-223" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-224" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-225"><span style="display: inline-block; width: 1.496em; height: 0px;"><span><span class="mi" id="MathJax-Span-226" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-227"><span class="mrow" id="MathJax-Span-228"><span class="mi" id="MathJax-Span-229" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-230" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-231" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-232" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的权重初始化。其中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-233" style="width: 3.949em; display: inline-block;"><span style="display: inline-block; width: 3.149em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-234"><span class="msubsup" id="MathJax-Span-235"><span style="display: inline-block; width: 1.176em; height: 0px;"><span><span class="mi" id="MathJax-Span-236" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-237"><span class="mrow" id="MathJax-Span-238"><span class="mi" id="MathJax-Span-239" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-240" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-241" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-242"><span style="display: inline-block; width: 1.496em; height: 0px;"><span><span class="mi" id="MathJax-Span-243" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-244"><span class="mrow" id="MathJax-Span-245"><span class="mi" id="MathJax-Span-246" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-247" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-248" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是前一层和后一层的神经元个数。而另外一篇比较新的论文<a href="http://arxiv.org/abs/1502.01852">Delving Deep into Rectifiers: Surpassing Human-Level Performance on ImageNet Classification</a>，则指出尤其对于ReLU神经元，我们初始化方差应该为2.0/n，也<strong>就是<code>w = np.random.randn(n) * sqrt(2.0/n)</code>，</strong>目前的神经网络中使用了很多ReLU单元，因此这个设定其实在实际应用中使用最多。</p>

<p><strong>偏移量/bias初始化</strong>：相对而言，bias项初始化就简单一些。我们很多时候简单起见，直接就把它们都设为0.在ReLU单元中，有些同学会使用很小的数字(比如0.01)来代替0作为所有bias项的初始值，他们解释说这样也能保证ReLU单元一开始就是被激活的，因此反向传播过程中不会终止掉回传的梯度。不过似乎实际的实验过程中，这个优化并不是每次都能起到作用的，因此很多时候我们还是直接把bias项都初始化为0。</p>



<h3 id="23-正则化">2.3 正则化</h3>

<p>在前一节里我们说了我们要通过正则化来控制神经网络，使得它不那么容易过拟合。有几种正则化的类型供选择：</p>

<ul>
<li><p><strong>L2正则化</strong>，这个我们之前就提到过，非常常见。实现起来也很简单，我们在损失函数里，加入对每个参数的惩罚度。也就是说，对于每个权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-249" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-250"><span class="mi" id="MathJax-Span-251" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，我们在损失函数里加入一项<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-252" style="width: 3.149em; display: inline-block;"><span style="display: inline-block; width: 2.509em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-253"><span class="mfrac" id="MathJax-Span-254"><span style="display: inline-block; width: 0.483em; height: 0px;"><span><span class="mn" id="MathJax-Span-255" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-256" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mi" id="MathJax-Span-257" style="font-family: STIXGeneral-Italic;">λ</span><span class="msubsup" id="MathJax-Span-258"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-259" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-260" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，其中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-261" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-262"><span class="mi" id="MathJax-Span-263" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是我们可调整的正则化强度。顺便说一句，这里在前面加上1/2的原因是，求导/梯度的时候，刚好变成<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-264" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-265"><span class="mi" id="MathJax-Span-266" style="font-family: STIXGeneral-Italic;">λ</span><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>而不是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-268" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; width: 1.656em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-269"><span class="mn" id="MathJax-Span-270" style="font-family: STIXGeneral-Regular;">2</span><span class="mi" id="MathJax-Span-271" style="font-family: STIXGeneral-Italic;">λ</span><span class="mi" id="MathJax-Span-272" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。L2正则化理解起来也很简单，它对于特别大的权重有很高的惩罚度，以求让权重的分配均匀一些，而不是集中在某一小部分的维度上。我们再想想，加入L2正则化项，其实意味着，在梯度下降参数更新的时候，每个权重以W += -lambda*W的程度被拉向0。</p></li>
<li><p><strong>L1正则化</strong>，这也是一种很常见的正则化形式。在L1正则化中，我们对于每个权重<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-273" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-274"><span class="mi" id="MathJax-Span-275" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的惩罚项为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-276" style="width: 1.976em; display: inline-block;"><span style="display: inline-block; width: 1.549em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-277"><span class="mi" id="MathJax-Span-278" style="font-family: STIXGeneral-Italic;">λ</span><span class="texatom" id="MathJax-Span-279"><span class="mrow" id="MathJax-Span-280"><span class="mo" id="MathJax-Span-281" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-282" style="font-family: STIXGeneral-Italic;">w</span><span class="texatom" id="MathJax-Span-283"><span class="mrow" id="MathJax-Span-284"><span class="mo" id="MathJax-Span-285" style="font-family: STIXGeneral-Regular;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。有时候，你甚至可以看到大神们混着L1和L2正则化用，也就是说加入惩罚项<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-286" style="width: 7.683em; display: inline-block;"><span style="display: inline-block; width: 6.136em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-287"><span class="msubsup" id="MathJax-Span-288"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-289" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-290" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-291" style="font-family: STIXGeneral-Regular;">∣</span><span class="mi" id="MathJax-Span-292" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-293" style="font-family: STIXGeneral-Regular;">∣</span><span class="mo" id="MathJax-Span-294" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-295"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-296" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-297" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-298"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-299" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-300" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，L1正则化有其独特的特性，它会让模型训练过程中，权重特征向量逐渐地稀疏化，这意味着到最后，我们只留下了对结果影响最大的一部分权重，而其他不相关的输入(例如『噪声』)因为得不到权重被抑制。<strong>所以通常L2正则化后的特征向量是一组很分散的小值，而L1正则化只留下影响较大的权重。在实际应用中，如果你不是特别要求只保留部分特征，那么L2正则化通常能得到比L1正则化更好的效果</strong></p></li>
<li><p><strong>最大范数约束</strong>，另外一种正则化叫做最大范数约束，它直接限制了一个上行的权重边界，然后约束每个神经元上的权重都要满足这个约束。实际应用中是这样实现的，我们不添加任何的惩罚项，就按照正常的损失函数计算，只不过在得到每个神经元的权重向量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-301" style="width: 0.963em; display: inline-block;"><span style="display: inline-block; width: 0.749em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-302"><span class="texatom" id="MathJax-Span-303"><span class="mrow" id="MathJax-Span-304"><span class="munderover" id="MathJax-Span-305"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-306" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="height: 0.003em; vertical-align: 0.003em; width: 0.429em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-307" style="font-family: STIXGeneral-Regular;">⃗&nbsp;<span></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>之后约束它满足<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-308" style="width: 5.016em; display: inline-block;"><span style="display: inline-block; width: 4.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-309"><span class="mo" id="MathJax-Span-310" style="font-family: STIXGeneral-Regular;">∥</span><span class="texatom" id="MathJax-Span-311"><span class="mrow" id="MathJax-Span-312"><span class="munderover" id="MathJax-Span-313"><span style="display: inline-block; width: 0.696em; height: 0px;"><span><span class="mi" id="MathJax-Span-314" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="height: 0.003em; vertical-align: 0.003em; width: 0.429em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-315" style="font-family: STIXGeneral-Regular;">⃗&nbsp;<span></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-316"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mo" id="MathJax-Span-317" style="font-family: STIXGeneral-Regular;">∥</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-318" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-319" style="font-family: STIXGeneral-Regular;">&lt;</span><span class="mi" id="MathJax-Span-320" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。有些人提到这种正则化方式帮助他们提高最后的模型效果。另外，这种正则化方式倒是有一点很吸引人：在神经网络训练学习率设定很高的时候，它也能很好地约束住权重更新变化，不至于直接挂掉。</p></li>
<li><p><strong>Dropout</strong>，亲，这个是我们实际神经网络训练中，用的非常多的一种正则化手段，同时也相当有效。Srivastava等人的论文<a href="http://www.cs.toronto.edu/~rsalakhu/papers/srivastava14a.pdf">Dropout: A Simple Way to Prevent Neural Networks from Overfitting</a>最早提到用dropout这种方式作为正则化手段。一句话概括它，就是：在训练过程中，我们对每个神经元，都以概率p保持它是激活状态，1-p的概率直接关闭它。</p></li>
</ul>

<p>下图是一个3层的神经网络的dropout示意图： <br />
</p><center> <br />
<img alt="Dropout示意图" src="http://cs231n.github.io/assets/nn2/dropout.jpeg" title="" /> <br />
</center> <br />
可以这么理解，在训练过程中呢，我们对全体神经元，以概率p做了一个采样，只有选出的神经元要进行参数更新。所以最后就从左图的全连接到右图的Dropout过后神经元连接图了。需要多说一句的是，在测试阶段，我们不用dropout，而是直接从概率的角度，对权重配以一个概率值。<p></p>

<p>简单的Dropout代码如下(这是简易实现版本，但是不建议使用，我们会分析为啥，并在之后给出优化版)：</p>



<pre class="prettyprint"><code class="language-python hljs ">
p = <span class="hljs-number">0.5</span> <span class="hljs-comment"># 设定dropout的概率，也就是保持一个神经元激活状态的概率</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">train_step</span><span class="hljs-params">(X)</span>:</span>
  <span class="hljs-string">""" X contains the data """</span>

  <span class="hljs-comment"># 3层神经网络前向计算</span>
  H1 = np.maximum(<span class="hljs-number">0</span>, np.dot(W1, X) + b1)
  U1 = np.random.rand(*H1.shape) &lt; p <span class="hljs-comment"># 第一次Dropout</span>
  H1 *= U1 <span class="hljs-comment"># drop!</span>
  H2 = np.maximum(<span class="hljs-number">0</span>, np.dot(W2, H1) + b2)
  U2 = np.random.rand(*H2.shape) &lt; p <span class="hljs-comment"># 第二次Dropout</span>
  H2 *= U2 <span class="hljs-comment"># drop!</span>
  out = np.dot(W3, H2) + b3

  <span class="hljs-comment"># 反向传播: 计算梯度... (这里省略)</span>
  <span class="hljs-comment"># 参数更新... (这里省略)</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">predict</span><span class="hljs-params">(X)</span>:</span>
  <span class="hljs-comment"># 加上Dropout之后的前向计算</span>
  H1 = np.maximum(<span class="hljs-number">0</span>, np.dot(W1, X) + b1) * p 
  H2 = np.maximum(<span class="hljs-number">0</span>, np.dot(W2, H1) + b2) * p 
  out = np.dot(W3, H2) + b3</code></pre>

<p>上述代码中，在<code>train_step</code>函数中，我们做了2次Dropout。我们甚至可以在输入层做一次dropout。反向传播过程保持不变，除了我们要考虑一下<code>U1,U2</code></p>

<p>很重要的一点是，大家仔细看<code>predict</code>函数部分，我们不再dropout了，而是对于每个隐层的输出，都用概率p做了一个幅度变换。可以从数学期望的角度去理解这个做法，我们考虑一个神经元的输出为x(没有dropout的情况下)，它的输出的数学期望为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-321" style="width: 7.043em; display: inline-block;"><span style="display: inline-block; width: 5.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-322"><span class="mi" id="MathJax-Span-323" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-324" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-325" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-326" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-327" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-328" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-329" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-330" style="font-family: STIXGeneral-Regular;">)</span><span class="mn" id="MathJax-Span-331" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，那我们在测试阶段，如果直接把每个输出x都做变换<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-332" style="width: 3.736em; display: inline-block;"><span style="display: inline-block; width: 2.989em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-333"><span class="mi" id="MathJax-Span-334" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-335" style="font-family: STIXGeneral-Regular;">→</span><span class="mi" id="MathJax-Span-336" style="font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-337" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，其实是可以保持一样的数学期望的。</p>

<p>上述代码的写法有一些缺陷，我们必须在测试阶段对每个神经的输出都以p的概率输出。考虑到实际应用中，测试阶段对于时间的要求非常高，我们可以考虑反着来，代码实现的时候用<code>inverted dropout</code>，即在训练阶段就做相反的幅度变换/scaling(除以p)，这样在测试阶段，我们可以直接把权重拿来使用，而不用附加很多步用p做scaling的过程。<code>inverted dropout</code>的示例代码如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-string">""" 
Inverted Dropout的版本，把本该花在测试阶段的时间，转移到训练阶段，从而提高testing部分的速度
"""</span>

p = <span class="hljs-number">0.5</span> <span class="hljs-comment"># dropout的概率，也就是保持一个神经元激活状态的概率</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">train_step</span><span class="hljs-params">(X)</span>:</span>
  <span class="hljs-comment"># f3层神经网络前向计算</span>
  H1 = np.maximum(<span class="hljs-number">0</span>, np.dot(W1, X) + b1)
  U1 = (np.random.rand(*H1.shape) &lt; p) / p <span class="hljs-comment"># 注意到这个dropout中我们除以p，做了一个inverted dropout</span>
  H1 *= U1 <span class="hljs-comment"># drop!</span>
  H2 = np.maximum(<span class="hljs-number">0</span>, np.dot(W2, H1) + b2)
  U2 = (np.random.rand(*H2.shape) &lt; p) / p <span class="hljs-comment"># 这个dropout中我们除以p，做了一个inverted dropout</span>
  H2 *= U2 <span class="hljs-comment"># drop!</span>
  out = np.dot(W3, H2) + b3

  <span class="hljs-comment"># 反向传播: 计算梯度... (这里省略)</span>
  <span class="hljs-comment"># 参数更新... (这里省略)</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">predict</span><span class="hljs-params">(X)</span>:</span>
  <span class="hljs-comment"># 直接前向计算，无需再乘以p</span>
  H1 = np.maximum(<span class="hljs-number">0</span>, np.dot(W1, X) + b1) 
  H2 = np.maximum(<span class="hljs-number">0</span>, np.dot(W2, H1) + b2)
  out = np.dot(W3, H2) + b3</code></pre>

<p>对于dropout这个部分如果你有更深的兴趣，欢迎阅读以下文献： <br />
1) 2014 Srivastava 的论文<a href="http://www.cs.toronto.edu/~rsalakhu/papers/srivastava14a.pdf">Dropout paper</a> <br />
2) <a href="http://papers.nips.cc/paper/4882-dropout-training-as-adaptive-regularization.pdf">Dropout Training as Adaptive Regularization</a></p>

<ul>
<li><strong>bias项的正则化</strong>，其实我们在<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">之前的博客</a>中提到过，我们大部分时候并不对偏移量项做正则化，因为它们也没有和数据直接有乘法等交互，也就自然不会影响到最后结果中某个数据维度的作用。不过如果你愿意对它做正则化，倒也不会影响最后结果，毕竟总共有那么多权重项，才那么些bias项，所以一般也不会影响结果。</li>
</ul>

<p><strong>实际应用中</strong>：我们最常见到的是，在全部的交叉验证集上使用L2正则化，同时我们在每一层之后用dropout，很常见的dropout概率为p=0.5，你也可以通过交叉验证去调整这个值。</p>



<h3 id="24-损失函数">2.4 损失函数</h3>

<p>刚才讨论了数据预处理、权重初始化与正则化相关的问题。现在我们回到训练需要的关键之一：损失函数。对于这么复杂的神经网络，我们也得有一个评估准则去评估预测值和真实结果之间的吻合度，也就是损失函数。神经网络里的损失函数，实际上是计算出了每个样本上的loss，再求平均之后的一个形式，即<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-338" style="width: 6.616em; display: inline-block;"><span style="display: inline-block; width: 5.283em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-339"><span class="mi" id="MathJax-Span-340" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-341" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-342"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mn" id="MathJax-Span-343" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-344" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="munderover" id="MathJax-Span-345"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mo" id="MathJax-Span-346" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-347" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-348"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-349" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-350" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，其中N是训练样本数。</p>



<h4 id="241-分类问题">2.4.1 分类问题</h4>

<ul>
<li><strong>分类问题</strong>是到目前为止我们一直在讨论的。我们假定一个数据集中每个样本都有唯一一个正确的标签/类别。我们之前提到过有两种损失函数可以使用，其一是SVM的hinge loss:</li>
</ul>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-351" style="width: 14.616em; display: inline-block;"><span style="display: inline-block; width: 11.683em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-352"><span class="msubsup" id="MathJax-Span-353"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-354" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-355" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-356" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-357"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-358">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="texatom" id="MathJax-Span-359"><span class="mrow" id="MathJax-Span-360"><span class="mi" id="MathJax-Span-361" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-362" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">≠</span><span class="msubsup" id="MathJax-Span-363"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-364" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-365" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-366" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-367" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-368" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-369" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-370"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-371" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-372" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-373" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-374"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-375" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-376"><span class="mrow" id="MathJax-Span-377"><span class="msubsup" id="MathJax-Span-378"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-379" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-380" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="mo" id="MathJax-Span-381" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-382" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-383" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>另外一个是Softmax分类器中用到的互熵损失:</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-384" style="width: 11.363em; display: inline-block;"><span style="display: inline-block; width: 9.069em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-385"><span class="msubsup" id="MathJax-Span-386"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-387" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-388" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-389" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-390" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-391" style="font-family: STIXGeneral-Regular;">log</span><span class="mrow" id="MathJax-Span-392"><span class="mo" id="MathJax-Span-393"><span style="font-family: STIXSizeFourSym;">(</span></span><span class="mfrac" id="MathJax-Span-394"><span style="display: inline-block; width: 2.616em; height: 0px;"><span><span class="msubsup" id="MathJax-Span-395"><span style="display: inline-block; width: 1.389em; height: 0px;"><span><span class="mi" id="MathJax-Span-396" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-397"><span class="mrow" id="MathJax-Span-398"><span class="msubsup" id="MathJax-Span-399"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-400" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-401"><span class="mrow" id="MathJax-Span-402"><span class="msubsup" id="MathJax-Span-403"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-404" style="font-size: 50%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mi" id="MathJax-Span-405" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mrow" id="MathJax-Span-406"><span class="munderover" id="MathJax-Span-407"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mo" id="MathJax-Span-408" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-409" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-410"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-411" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-412"><span class="mrow" id="MathJax-Span-413"><span class="msubsup" id="MathJax-Span-414"><span style="display: inline-block; width: 0.483em; height: 0px;"><span><span class="mi" id="MathJax-Span-415" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-416" style="font-size: 50%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-417"><span style="font-family: STIXSizeFourSym;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.163em;"></span></span></span><span></span></span></span></div></p>

<ul>
<li><p><strong>问题：特别多的类别数</strong>。当类别标签特别特别多的时候(比如ImageNet包含22000个类别)，<a href="http://arxiv.org/pdf/1310.4546.pdf">层次化的Softmax</a>，它将类别标签建成了一棵树，这样任何一个类别，其实就对应tree的一条路径，然后我们在每个树的结点上都训练一个Softmax以区分是左分支还是右分支。</p></li>
<li><p><strong>属性分类</strong>，上述的两种损失函数都假定，对于每个样本，我们只有一个正确的答案<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-418" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-419"><span class="msubsup" id="MathJax-Span-420"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-421" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-422" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>。但是在有些场景下，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-423" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-424"><span class="msubsup" id="MathJax-Span-425"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-426" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-427" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是一个二值的向量，每个元素都代表有没有某个属性，这时候我们怎么办呢？举个例子说，Instagram上的图片可以看作一大堆hashtag里的一个tag子集，所有一张图片可以有多个tag。对于这种情况，大家可能会想到一个最简单的处理方法，就是对每个属性值都建一个二分类的分类器。比如，对应某个类别的二分类器可能有如下形式的损失函数：</p></li>
</ul>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-428" style="width: 13.069em; display: inline-block;"><span style="display: inline-block; width: 10.456em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-429"><span class="msubsup" id="MathJax-Span-430"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-431" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-432" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-433" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-434"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-435">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-436" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-437" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-438" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-439" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-440" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-441" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-443"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-444" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-445"><span class="mrow" id="MathJax-Span-446"><span class="mi" id="MathJax-Span-447" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-448" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-449"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-450" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-451" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-452" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>其中的求和是针对有所的类别j，而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-453" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-454"><span class="msubsup" id="MathJax-Span-455"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-456" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-457"><span class="mrow" id="MathJax-Span-458"><span class="mi" id="MathJax-Span-459" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-460" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是1或者-1(取决于第i个样本是否有第j个属性的标签)，打分向量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-461" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-462"><span class="msubsup" id="MathJax-Span-463"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-464" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-465" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>在类别/标签被预测到的情况下为正，其他情况为负。注意到如果正样本有比+1小的得分，或者负样本有比-1大的得分，那么损失/loss就一直在累积。</p>

<p>另外一个也许有效的解决办法是，我们可以对每个属性，都单独训练一个逻辑回归分类器，一个二分类的逻辑回归分类器只有0，1两个类别，属于1的概率为：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-466" style="width: 25.016em; display: inline-block;"><span style="display: inline-block; width: 20.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-467"><span class="mi" id="MathJax-Span-468" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-469" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-470" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-472" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-473" style="font-family: STIXGeneral-Regular;">∣</span><span class="mi" id="MathJax-Span-474" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-476" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-477" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-478" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-479" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-480" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-481"><span style="display: inline-block; width: 5.496em; height: 0px;"><span><span class="mn" id="MathJax-Span-482" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-483"><span class="mn" id="MathJax-Span-484" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-485" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-486"><span style="display: inline-block; width: 3.629em; height: 0px;"><span><span class="mi" id="MathJax-Span-487" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-488"><span class="mrow" id="MathJax-Span-489"><span class="mo" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mo" id="MathJax-Span-491" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-492"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-493" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-494" style="font-size: 50%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span><span class="mi" id="MathJax-Span-495" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-496" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-497" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-498" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-499" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-500" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-501" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-502"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-503" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-504" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-505" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-506" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-507" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-508" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>又因为0，1两类的概率和为1，所以归属于类别0的概率为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-509" style="width: 21.443em; display: inline-block;"><span style="display: inline-block; width: 17.123em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-510"><span class="mi" id="MathJax-Span-511" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-512" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-513" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-514" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-515" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-516" style="font-family: STIXGeneral-Regular;">∣</span><span class="mi" id="MathJax-Span-517" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-518" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-519" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-520" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-521" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-522" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-523" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-524" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-525" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-526" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-527" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-528" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-529" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-530" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-531" style="font-family: STIXGeneral-Regular;">∣</span><span class="mi" id="MathJax-Span-532" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-533" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-534" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-535" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-536" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-537" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。一个样本在<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-538" style="width: 9.016em; display: inline-block;"><span style="display: inline-block; width: 7.203em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-539"><span class="mi" id="MathJax-Span-540" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-541" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-542"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-543" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-544" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-545" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-546" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-547" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-548" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-549" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mn" id="MathJax-Span-550" style="font-family: STIXGeneral-Regular;">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的情况下被判定为1，对应sigmoid函数化简一下，对应的是得分<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-551" style="width: 6.563em; display: inline-block;"><span style="display: inline-block; width: 5.229em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-552"><span class="msubsup" id="MathJax-Span-553"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-554" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-555" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-556" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-557" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-558" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-559" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mn" id="MathJax-Span-560" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。这时候的损失函数可以定义为最大化似然概率的形式，也就是：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-561" style="width: 23.843em; display: inline-block;"><span style="display: inline-block; width: 19.043em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-562"><span class="msubsup" id="MathJax-Span-563"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-564" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-565" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-566" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-567"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-568">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-569" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-570"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-571" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-572"><span class="mrow" id="MathJax-Span-573"><span class="mi" id="MathJax-Span-574" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-575" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mi" id="MathJax-Span-576" style="font-family: STIXGeneral-Regular;">log</span><span class="mo" id="MathJax-Span-577"></span><span class="mo" id="MathJax-Span-578" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-579" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-580" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-581"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-582" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-583" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-584" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-585" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-586" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-587" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-588" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-589" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-590"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-591" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-592"><span class="mrow" id="MathJax-Span-593"><span class="mi" id="MathJax-Span-594" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-595" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-596" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-597" style="font-family: STIXGeneral-Regular;">log</span><span class="mo" id="MathJax-Span-598"></span><span class="mo" id="MathJax-Span-599" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-600" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-601" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-602" style="font-family: STIXGeneral-Italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-603" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-604"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-605" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-606" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-607" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-608" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>其中标签<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-609" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-610"><span class="msubsup" id="MathJax-Span-611"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-612" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-613"><span class="mrow" id="MathJax-Span-614"><span class="mi" id="MathJax-Span-615" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-616" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>为1(正样本)或者0(负样本)，而<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-617" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; width: 0.483em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-618"><span class="mi" id="MathJax-Span-619" style="font-family: STIXGeneral-Italic;">δ</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是sigmoid函数。</p>



<h4 id="242-回归问题">2.4.2 回归问题</h4>

<p>回归是另外一类机器学习问题，主要用于预测连续值属性，比如房子的价格或者图像中某些东西的长度等。对于回归问题，我们一般计算预测值和实际值之间的差值，然后再求L2范数或者L1范数用于衡量。其中对一个样本(一张图片)计算的L2范数损失为：</p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-37-Frame"><span class="math" id="MathJax-Span-620" style="width: 7.629em; display: inline-block;"><span style="display: inline-block; width: 6.083em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-621"><span class="msubsup" id="MathJax-Span-622"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-623" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-624" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-625" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-626" style="font-family: STIXGeneral-Regular;">∥</span><span class="mi" id="MathJax-Span-627" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-628" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-629"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-630" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-631" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-632"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mo" id="MathJax-Span-633" style="font-family: STIXGeneral-Regular;">∥</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-634" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-635" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>而L1范数损失函数是如下的形式： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-38-Frame"><span class="math" id="MathJax-Span-636" style="width: 16.909em; display: inline-block;"><span style="display: inline-block; width: 13.496em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-637"><span class="msubsup" id="MathJax-Span-638"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-639" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-640" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-641" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-642" style="font-family: STIXGeneral-Regular;">∥</span><span class="mi" id="MathJax-Span-643" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-644" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-645"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-646" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-647" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-648"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mo" id="MathJax-Span-649" style="font-family: STIXGeneral-Regular;">∥</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-650" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-651" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-652"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-653">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="mi" id="MathJax-Span-654" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-655" style="font-family: STIXGeneral-Regular;">∣</span><span class="msubsup" id="MathJax-Span-656"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mi" id="MathJax-Span-657" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-658" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-659" style="font-family: STIXGeneral-Regular;">−</span><span class="mo" id="MathJax-Span-660" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-661"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-662" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-663" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-664"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mo" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-666" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-667" style="font-family: STIXGeneral-Regular;">∣</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p><strong><em>注意</em></strong>：</p>

<ul>
<li><strong>回归问题中用到的L2范数损失，比分类问题中的Softmax分类器用到的损失函数，更难优化。</strong>直观想一想这个问题，一个神经网络最后输出离散的判定类别，比训练它去输出一个个和样本结果对应的连续值，要简单多了。</li>
<li>我们前面的<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">博文</a>中提到过，其实Softmax这种分类器，对于输出的打分结果具体值是不怎么在乎的，它只在乎各个类别之间的打分幅度有没有差很多(比如二分类两个类别的得分是1和9，与0.1和0.9)。</li>
<li>再一个，L2范数损失健壮性更差一些，异常点和噪声都可能改变损失函数的幅度，而带来大的梯度偏差。</li>
<li>一般情况下，<strong>对于回归问题，我们都会首先考虑，这个问题能否转化成对应的分类问题</strong>，比如说我们把输出值划分成不同的区域(切成一些桶)。举个例子，如果我们要预测一部电影的豆瓣打分，我们可以考虑把得分结果分成1-5颗星，而转化成一个分类问题。</li>
<li>如果你觉得问题确实没办法转化成分类问题，那要小心使用L2范数损失：举个例子，<strong>在神经网络中，在L2损失函数之前使用dropout是不合适的。</strong></li>
</ul>

<blockquote>
  <p>如果我们遇到回归问题，首先要想想，是否完全没有可能把结果离散化之后，把这个问题转化成一个分类问题。</p>
</blockquote>



<h2 id="3-总结">3. 总结</h2>

<p>总结一下：</p>

<ul>
<li>在很多神经网络的问题中，我们都建议<strong>对数据特征做预处理，去均值，然后归一化到[-1,1]之间。</strong></li>
<li>从一个标准差为<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-39-Frame"><span class="math" id="MathJax-Span-668" style="width: 2.616em; display: inline-block;"><span style="display: inline-block; width: 2.083em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-669"><span class="msqrt" id="MathJax-Span-670"><span style="display: inline-block; width: 2.029em; height: 0px;"><span><span class="mrow" id="MathJax-Span-671"><span class="mn" id="MathJax-Span-672" style="font-family: STIXGeneral-Regular;">2</span><span class="texatom" id="MathJax-Span-673"><span class="mrow" id="MathJax-Span-674"><span class="mo" id="MathJax-Span-675" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-676" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="display: inline-block; width: 1.283em; height: 0px;"><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>‾<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span style="font-family: STIXVariants;">√</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>的高斯分布中初始化权重，其中n为输入的个数。</li>
<li><strong>使用L2正则化(或者最大范数约束)和dropout来减少神经网络的过拟合。</strong></li>
<li>对于分类问题，我们最常见的损失函数依旧是SVM hinge loss和Softmax互熵损失。</li>
</ul>
            <div>
                作者：yaoqiang2011 发表于2016/1/3 16:43:01 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50451460">原文链接</a>
            </div>
            <div>
            阅读：33557 评论：2 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50451460#comments" target="_blank">查看评论</a>
            </div>
[原]手把手入门神经网络系列(2)_74行代码实现手写数字识别
<p>作者： <a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a>&amp;&amp;<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a>  <br />
时间：2015年12月。 <br />
出处： <br />
<a href="http://blog.csdn.net/longxinchen_ml/article/details/50281247">http://blog.csdn.net/longxinchen_ml/article/details/50281247</a>， <br />
<a href="http://blog.csdn.net/han_xiaoyang/article/details/50282141">http://blog.csdn.net/han_xiaoyang/article/details/50282141</a> <br />
声明：版权所有，转载请联系作者并注明出处，谢谢。</p>



<h2 id="1-引言不要站在岸上学游泳">1、   引言：不要站在岸上学游泳</h2>

<p>“机器学习”是一个很实践的过程。就像刚开始学游泳，你在只在岸上比划一堆规定动作还不如先跳到水里熟悉水性学习来得快。以我们学习“机器学习”的经验来看，很多高大上的概念刚开始不懂也没关系，先写个东西来跑跑，有个感觉了之后再学习那些概念和理论就快多了。如果别人已经做好了轮子，直接拿过来用则更快。因此，<strong>本文直接用<a href="http://michaelnielsen.org/">Michael Nielsen</a>先生的代码（<a href="https://github.com/mnielsen/neural-networks-and-deep-learning.git">github地址</a>，<a href="https://github.com/mnielsen/neural-networks-and-deep-learning/archive/master.zip">压缩包地址</a>）作为例子，给大家展现神经网络分析的普遍过程：导入数据，训练模型，优化模型，启发式理解等</strong>。</p>

<p>本文假设大家已经了解python的基本语法，并在自己机器上运行过简单python脚本。</p>



<h2 id="2-我们要解决的问题手写数字识别">2、    我们要解决的问题：手写数字识别</h2>

<p>手写数字识别是机器学习领域中一个经典的问题，是一个看似对人类很简单却对程序十分复杂的问题。很多早期的验证码就是利用这个特点来区分人类和程序行为的，当然此处就不提12306近乎反人类的奇葩验证码了。 <br />
</p><center> <br />
<img alt="验证码图" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13QQ%E5%9B%BE%E7%89%8720151213104442.jpg" title="" /> <br />
</center> <br />
回到手写数字识别，比如我们要识别出一个手写的“9”，人类可能通过识别“上半部分一个圆圈，右下方引出一条竖线”就能进行判断。但用程序表达就似乎很困难了，你需要考虑非常多的描述方式，考虑非常多的特殊情况，最终发现程序写得非常复杂而且效果不好。<p></p>

<p>而用（机器学习）神经网络的方法，则提供了另一个思路：<strong>获取大量的手写数字的图像，并且已知它们表示的是哪个数字，以此为训练样本集合，自动生成一套模型（如神经网络的对应程序），依靠它来识别新的手写数字。</strong> <br />
</p><center> <br />
<img alt="手写数字" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image001.jpg" title="" /> <br />
</center> <br />
本文中采用的数据集就是<strong>著名的“MNIST数据集”</strong>。它的收集者之一是人工智能领域著名的科学家——Yann LeCu。这个数据集有60000个训练样本数据集和10000个测试用例。运用本文展示的单隐层神经网络，就可以达到96%的正确率。<p></p>



<h2 id="3图解解决问题的思路">3、图解：解决问题的思路</h2>

<p>我们可以用下图展示上面的粗略思路。 <br />
</p><center> <br />
<img alt="粗略思路" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image002.jpg" title="" /> <br />
</center> <br />
但是如何由“训练集”来“生成模型”呢？<p></p>

<p><strong>在这里我们使用反复推荐的逆推法——假设这个模型已经生成了，它应该满足什么样的特性，再以此特性为条件反过来求出模型。</strong></p>

<p>可以推想而知，<strong>被生成的模型应该对于训练集的区分效果非常好，也就是相应的训练误差非常低。</strong>比如有一个未知其相应权重和偏移的神经网络，而训练神经网络的过程就是逐步确定这些未知参数的过程，最终使得这些参数确定的模型在训练集上的误差达到最小值。我们将会<strong>设计一个数量指标衡量这个误差，如果训练误差没有达到最小，我们将继续调整参数，直到这个指标达到最小</strong>。但这样训练出来的模型我们<strong>仍无法保证它面对新的数据仍会有这样好的识别效果，就需要用测试集对模型进行考核</strong>，得出的测试结果作为对模型的评价。因此，上图就可以细化成下图： <br />
</p><center> <br />
<img alt="细化成下图" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image003.jpg" title="" /> <br />
</center> <br />
但是，<strong>如果我们已经生成了多个模型，怎么从中选出最好的模型？</strong>一个自然的思路就是通过比较不同模型在测试集上的误差，挑选出误差最小的模型。这个想法看似没什么问题，但是随着你测试的模型增多，你会觉得用测试集筛选出来的模型也不那么可信。比如我们增加一个神经网络的隐藏层节点，就会产生新的对应权重，产生一个新的模型。但是我也不知道增加多少个节点是合适的，所以比较全面的想法就是尝试测试不同的节点数x∈(1,2,3,4,…,100), 来观察这些不同模型的测试误差，并挑出误差最小的模型。<strong>这时我们发现我们的模型其实多出来了一个参数x， 我们挑选模型的过程就是确定最优化的参数x 的过程。这个分析过程与上面训练参数的思路如出一辙！</strong>只是这个过程是基于同一个测试集，而不训练集。那么，不同的神经网络的层数是不是也是一个新的参数y∈(1,2,3,4,…,100), 也要经过这么个过程来“训练”？<p></p>

<p>我们会发现我们<strong>之前生成模型过程中很多不变的部分</strong>其实都是可以变换调节的，这些也是新的参数，比如训练次数、梯度下降过程的步长、规范化参数、学习回合数、minibatch 值等等，我们把他们叫做超参数。<strong>超参数是影响所求参数最终取值的参数，是机器学习模型里面的框架参数，可以理解成参数的参数</strong>，它们通常是手工设定，不断试错调整的，或者对一系列穷举出来的参数组合一通进行枚举（网格搜索）来确定。但无论如何，这也是基于同样一个数据集反复验证优化的结果。在这个数据集上最后的结果并不一定在新的数据继续有效。所以为了评估这个模型的识别效果，就需要用<strong>新的测试集</strong>对模型进行考核，得出的测试结果作为对模型的评价。这个新的测试集我们就直接叫“测试集”，之前那个用于筛选超参数的测试集，我们就叫做“<strong>交叉验证集</strong>”。筛选模型的过程其实就是交叉验证的过程。</p>

<p>所以，规范的方法的是<strong>将数据集拆分成三个集合：训练集、交叉验证集、测试集，然后依次训练参数、超参数，最终得到最优的模型。</strong></p>

<p>因此，上图可以进一步细化成下图： <br />
</p><center> <br />
<img alt="进一步细化成下图" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image005.jpg" title="" /> <br />
</center> <br />
或者下图： <br />
<center> <br />
<img alt="进一步细化成下图2" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image007.jpg" title="" /> <br />
</center> <br />
可见机器学习过程<strong>是一个反复迭代不断优化的过程。其中很大一部分工作是在调整参数和超参数。</strong><p></p>

<h2 id="4先跑跑再说初步运行代码">4、先跑跑再说：初步运行代码</h2>

<p>Michael Nielsen的代码封装得很好，只需以下5行命令就可以生成神经网络并测试结果，并达到94.76%的正确率！。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> mnist_loader
<span class="hljs-keyword">import</span> network
<span class="hljs-comment"># 将数据集拆分成三个集合：训练集、交叉验证集、测试集</span>
training_data, validation_data, test_data = mnist_loader.load_data_wrapper()
<span class="hljs-comment"># 生成神经网络对象，神经网络结构为三层，每层节点数依次为（784, 30, 10）</span>
net = network.Network([<span class="hljs-number">784</span>, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>])
<span class="hljs-comment"># 用（mini-batch）梯度下降法训练神经网络（权重与偏移），并生成测试结果。</span>
<span class="hljs-comment"># 训练回合数=30, 用于随机梯度下降法的最小样本数=10，学习率=3.0</span>
net.SGD(training_data, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3.0</span>, test_data=test_data)</code></pre>

<ul>
<li><p>第一个命令的功能是：将数据集拆分成三个集合：训练集、交叉验证集、测试集。</p></li>
<li><p>第二个命令的功能是：生成神经网络对象，神经网络结构为三层，每层节点数依次为（784, 30, 10）。</p></li>
<li><p>第三个命令的功能是：用（mini-batch）梯度下降法训练神经网络（权重与偏移），并生成测试结果。</p></li>
<li>该命令设定了三个超参数：训练回合数=30, 用于随机梯度下降法的最小样本数（mini-batch-size）=10，步长=3.0。</li>
</ul>

<p>本文并不打算详细解释随机梯度下降法的细节，感兴趣的同学请阅读前文<a href="http://blog.csdn.net/longxinchen_ml/article/details/50178845">《深度学习与计算机视觉系列(4)_最优化与随机梯度下降》</a></p>

<p>总共的输出结果如下：</p>



<pre class="prettyprint"><code class=" hljs ">Epoch 0: 9045 / 10000
Epoch 1: 9207 / 10000
Epoch 2: 9273 / 10000
Epoch 3: 9302 / 10000
Epoch 4: 9320 / 10000
Epoch 5: 9320 / 10000
Epoch 6: 9366 / 10000
Epoch 7: 9387 / 10000
Epoch 8: 9427 / 10000
Epoch 9: 9402 / 10000
Epoch 10: 9400 / 10000
Epoch 11: 9442 / 10000
Epoch 12: 9448 / 10000
Epoch 13: 9441 / 10000
Epoch 14: 9443 / 10000
Epoch 15: 9479 / 10000
Epoch 16: 9459 / 10000
Epoch 17: 9446 / 10000
Epoch 18: 9467 / 10000
Epoch 19: 9470 / 10000
Epoch 20: 9459 / 10000
Epoch 21: 9484 / 10000
Epoch 22: 9479 / 10000
Epoch 23: 9475 / 10000
Epoch 24: 9482 / 10000
Epoch 25: 9489 / 10000
Epoch 26: 9489 / 10000
Epoch 27: 9478 / 10000
Epoch 28: 9480 / 10000
Epoch 29: 9476 / 10000</code></pre>



<h2 id="5神经网络如何识别手写数字启发式理解">5、神经网络如何识别手写数字：启发式理解</h2>

<p>首先，我们解释一下神经网络每层的功能。 <br />
</p><center> <br />
<img alt="神经网络每层" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image010.jpg" title="" /> <br />
</center> <br />
第一层是输入层。因为mnist数据集中每一个手写数字样本是一个28*28像素的图像，因此对于每一个样本，其输入的信息就是每一个像素对应的灰度，<strong>总共有28*28=784个像素，故这一层有784个节点</strong>。<p></p>

<p>第三层是输出层。因为阿拉伯数字总共有10个，我们就要将样本分成10个类别，因此输出层我们采用10个节点。<strong>当样本属于某一类（某个数字）的时候，则该类（该数字）对应的节点为1，而剩下9个节点为0，如[0,0,0,1,0,0,0,0,0,0]。</strong></p>

<p>因此，我们每一个样本（手写数字的图像）可以用一个超长的784维的向量表示其特征，而用一个10维向量表示该样本所属的类别（代表的真实数字），或者叫做标签。</p>

<p>mnist的数据就是这样表示的。所以，如果你想看训练集中第n个样本的784维特征向量，直接看<strong>training_data[n][0]</strong>就可以找到，而要看其所属的标签，看<strong>training_data[n][1]</strong>就够了。</p>

<p>那么，第二层神经网络所代表的意义怎么理解？这其实是很难的。但是我们可以有一个启发式地理解，<strong>比如用中间层的某一个节点表示图像中的某一个小区域的特定图像。</strong>这样，我们可以假设中间层的头4个节点依次用来识别图像左上、右上、左下、右下4个区域是否存在这样的特征的。</p>

<p><img alt="左上" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image012.jpg" title="" /><img alt="右上、左下、右下" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image014.jpg" title="" /></p>

<p>如果这四个节点的值都很高，说明这四个区域同时满足这些特征。将以上的四个部分拼接起来，我们会发现，输入样本很可能就是一个手写“0”！ <br />
</p><center> <br />
<img alt="0" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image015.jpg" title="" /> <br />
</center> <br />
因此，<strong>同一层的几个神经元同时被激活了意味着输入样本很可能是某个数字。</strong><p></p>

<p>当然，这只是对神经网络作用机制的一个启发式理解。<strong>真实的过程却并不一定是这样。</strong>但通过启发式理解，我们可以对神经网络作用机制有一个更加直观的认识。</p>

<p>由此可见，神经网络能够识别手写数字的关键是它有能够对特定的图像激发特定的节点。而神经网络之所以能够针对性地激发这些节点，关键是它具有能够适应相关问题场景的权重和偏移。那这些权重和偏移如何训练呢？</p>



<h2 id="6神经网络如何训练进一步阅读代码">6、神经网络如何训练：进一步阅读代码</h2>

<p>上文已经图解的方式介绍了机器学习解决问题的一般思路，但是具体到神经网络将是如何训练呢？</p>

<p>其实最快的方式是直接阅读代码。我们将代码的结构用下图展示出来，<strong>运用其内置函数名表示基本过程，发现与我们上文分析的思路一模一样</strong>： <br />
</p><center> <br />
<img alt="分析思路" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image016.jpg" title="" /> <br />
</center> <br />
简单解释一下，在神经网络模型中：<p></p>

<ul>
<li>所需要求的关键参数就是：神经网络的权重(self.weights)和偏移(self.biases)。</li>
<li>超参数是：隐藏层的节点数=30，训练回合数(epochs)=30, 用于随机梯度下降法的最小样本数（mini_batch_size）=10，步长(eta)=3.0。</li>
<li>用随机梯度下降法调整参数： <img alt="梯度下降" src="http://7xnkcs.com1.z0.glb.clouddn.com/2015/12/13image018.jpg" title="" /></li>
<li>用反向传播法求出随机梯度下降法所需要的梯度（偏导数）: backprop()</li>
<li>用输出向量减去标签向量衡量训练误差：cost_derivative() = output_activations-y</li>
</ul>

<p>全部代码如下（去掉注释之后，只有74行）：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-string">"""
network.py
~~~~~~~~~~

A module to implement the stochastic gradient descent learning
algorithm for a feedforward neural network.  Gradients are calculated
using backpropagation.  Note that I have focused on making the code
simple, easily readable, and easily modifiable.  It is not optimized,
and omits many desirable features.
"""</span>

<span class="hljs-comment">#### Libraries</span>
<span class="hljs-comment"># Standard library</span>
<span class="hljs-keyword">import</span> random

<span class="hljs-comment"># Third-party libraries</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Network</span><span class="hljs-params">(object)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, sizes)</span>:</span>
        <span class="hljs-string">"""The list ``sizes`` contains the number of neurons in the
        respective layers of the network.  For example, if the list
        was [2, 3, 1] then it would be a three-layer network, with the
        first layer containing 2 neurons, the second layer 3 neurons,
        and the third layer 1 neuron.  The biases and weights for the
        network are initialized randomly, using a Gaussian
        distribution with mean 0, and variance 1.  Note that the first
        layer is assumed to be an input layer, and by convention we
        won't set any biases for those neurons, since biases are only
        ever used in computing the outputs from later layers."""</span>
        self.num_layers = len(sizes)
        self.sizes = sizes
        self.biases = [np.random.randn(y, <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> sizes[<span class="hljs-number">1</span>:]]
        self.weights = [np.random.randn(y, x)
                        <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> zip(sizes[:-<span class="hljs-number">1</span>], sizes[<span class="hljs-number">1</span>:])]

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">feedforward</span><span class="hljs-params">(self, a)</span>:</span>
        <span class="hljs-string">"""Return the output of the network if ``a`` is input."""</span>
        <span class="hljs-keyword">for</span> b, w <span class="hljs-keyword">in</span> zip(self.biases, self.weights):
            a = sigmoid(np.dot(w, a)+b)
        <span class="hljs-keyword">return</span> a

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">SGD</span><span class="hljs-params">(self, training_data, epochs, mini_batch_size, eta,
            test_data=None)</span>:</span>
        <span class="hljs-string">"""Train the neural network using mini-batch stochastic
        gradient descent.  The ``training_data`` is a list of tuples
        ``(x, y)`` representing the training inputs and the desired
        outputs.  The other non-optional parameters are
        self-explanatory.  If ``test_data`` is provided then the
        network will be evaluated against the test data after each
        epoch, and partial progress printed out.  This is useful for
        tracking progress, but slows things down substantially."""</span>
        <span class="hljs-keyword">if</span> test_data: n_test = len(test_data)
        n = len(training_data)
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> xrange(epochs):
            random.shuffle(training_data)
            mini_batches = [
                training_data[k:k+mini_batch_size]
                <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">0</span>, n, mini_batch_size)]
            <span class="hljs-keyword">for</span> mini_batch <span class="hljs-keyword">in</span> mini_batches:
                self.update_mini_batch(mini_batch, eta)
            <span class="hljs-keyword">if</span> test_data:
                <span class="hljs-keyword">print</span> <span class="hljs-string">"Epoch {0}: {1} / {2}"</span>.format(
                    j, self.evaluate(test_data), n_test)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">print</span> <span class="hljs-string">"Epoch {0} complete"</span>.format(j)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_mini_batch</span><span class="hljs-params">(self, mini_batch, eta)</span>:</span>
        <span class="hljs-string">"""Update the network's weights and biases by applying
        gradient descent using backpropagation to a single mini batch.
        The ``mini_batch`` is a list of tuples ``(x, y)``, and ``eta``
        is the learning rate."""</span>
        nabla_b = [np.zeros(b.shape) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> self.biases]
        nabla_w = [np.zeros(w.shape) <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> self.weights]
        <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> mini_batch:
            delta_nabla_b, delta_nabla_w = self.backprop(x, y)
            nabla_b = [nb+dnb <span class="hljs-keyword">for</span> nb, dnb <span class="hljs-keyword">in</span> zip(nabla_b, delta_nabla_b)]
            nabla_w = [nw+dnw <span class="hljs-keyword">for</span> nw, dnw <span class="hljs-keyword">in</span> zip(nabla_w, delta_nabla_w)]
        self.weights = [w-(eta/len(mini_batch))*nw
                        <span class="hljs-keyword">for</span> w, nw <span class="hljs-keyword">in</span> zip(self.weights, nabla_w)]
        self.biases = [b-(eta/len(mini_batch))*nb
                       <span class="hljs-keyword">for</span> b, nb <span class="hljs-keyword">in</span> zip(self.biases, nabla_b)]

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">backprop</span><span class="hljs-params">(self, x, y)</span>:</span>
        <span class="hljs-string">"""Return a tuple ``(nabla_b, nabla_w)`` representing the
        gradient for the cost function C_x.  ``nabla_b`` and
        ``nabla_w`` are layer-by-layer lists of numpy arrays, similar
        to ``self.biases`` and ``self.weights``."""</span>
        nabla_b = [np.zeros(b.shape) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> self.biases]
        nabla_w = [np.zeros(w.shape) <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> self.weights]
        <span class="hljs-comment"># feedforward</span>
        activation = x
        activations = [x] <span class="hljs-comment"># list to store all the activations, layer by layer</span>
        zs = [] <span class="hljs-comment"># list to store all the z vectors, layer by layer</span>
        <span class="hljs-keyword">for</span> b, w <span class="hljs-keyword">in</span> zip(self.biases, self.weights):
            z = np.dot(w, activation)+b
            zs.append(z)
            activation = sigmoid(z)
            activations.append(activation)
        <span class="hljs-comment"># backward pass</span>
        delta = self.cost_derivative(activations[-<span class="hljs-number">1</span>], y) * \
            sigmoid_prime(zs[-<span class="hljs-number">1</span>])
        nabla_b[-<span class="hljs-number">1</span>] = delta
        nabla_w[-<span class="hljs-number">1</span>] = np.dot(delta, activations[-<span class="hljs-number">2</span>].transpose())
        <span class="hljs-comment"># Note that the variable l in the loop below is used a little</span>
        <span class="hljs-comment"># differently to the notation in Chapter 2 of the book.  Here,</span>
        <span class="hljs-comment"># l = 1 means the last layer of neurons, l = 2 is the</span>
        <span class="hljs-comment"># second-last layer, and so on.  It's a renumbering of the</span>
        <span class="hljs-comment"># scheme in the book, used here to take advantage of the fact</span>
        <span class="hljs-comment"># that Python can use negative indices in lists.</span>
        <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">2</span>, self.num_layers):
            z = zs[-l]
            sp = sigmoid_prime(z)
            delta = np.dot(self.weights[-l+<span class="hljs-number">1</span>].transpose(), delta) * sp
            nabla_b[-l] = delta
            nabla_w[-l] = np.dot(delta, activations[-l-<span class="hljs-number">1</span>].transpose())
        <span class="hljs-keyword">return</span> (nabla_b, nabla_w)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">evaluate</span><span class="hljs-params">(self, test_data)</span>:</span>
        <span class="hljs-string">"""Return the number of test inputs for which the neural
        network outputs the correct result. Note that the neural
        network's output is assumed to be the index of whichever
        neuron in the final layer has the highest activation."""</span>
        test_results = [(np.argmax(self.feedforward(x)), y)
                        <span class="hljs-keyword">for</span> (x, y) <span class="hljs-keyword">in</span> test_data]
        <span class="hljs-keyword">return</span> sum(int(x == y) <span class="hljs-keyword">for</span> (x, y) <span class="hljs-keyword">in</span> test_results)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cost_derivative</span><span class="hljs-params">(self, output_activations, y)</span>:</span>
        <span class="hljs-string">"""Return the vector of partial derivatives \partial C_x /
        \partial a for the output activations."""</span>
        <span class="hljs-keyword">return</span> (output_activations-y)

<span class="hljs-comment">#### Miscellaneous functions</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sigmoid</span><span class="hljs-params">(z)</span>:</span>
    <span class="hljs-string">"""The sigmoid function."""</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">1.0</span>/(<span class="hljs-number">1.0</span>+np.exp(-z))

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sigmoid_prime</span><span class="hljs-params">(z)</span>:</span>
    <span class="hljs-string">"""Derivative of the sigmoid function."""</span>
    <span class="hljs-keyword">return</span> sigmoid(z)*(<span class="hljs-number">1</span>-sigmoid(z))</code></pre>



<h2 id="7神经网络如何优化训练超参数与多种模型对比">7、神经网络如何优化：训练超参数与多种模型对比</h2>

<p>由以上分析可知，神经网络只需要74行代码就可以完成编程，<strong>可见机器学习真正困难的地方并不在编程，而在你对数学过程本身，和对它与现实问题的对应关系有深入的理解</strong>。理解深入后，你才能写出这样的程序，并<strong>对其进行精微的调优</strong>。</p>

<p>我们初步的结果已经是94.76%的正确率了。但如果要将准确率提得更高怎么办？</p>

<p>这其实是一个开放的问题，有许多方法都可以尝试。我们这里仅仅是抛砖引玉。</p>

<p>首先，隐藏层只有30个节点。由我们之前对隐藏层的启发式理解可以猜测，神经网络的识别能力其实与隐藏层对一些细节的识别能力正相关。如果<strong>隐藏层的节点</strong>更多的话，其识别能力应该会更强的。那么我们设定100个隐藏层节点试试？</p>



<pre class="prettyprint"><code class="language-python hljs ">net = network.Network([<span class="hljs-number">784</span>, <span class="hljs-number">100</span>, <span class="hljs-number">10</span>])
net.SGD(training_data, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3.0</span>, test_data=test_data)</code></pre>

<p>发现结果如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">Epoch <span class="hljs-number">0</span>: <span class="hljs-number">6669</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">1</span>: <span class="hljs-number">6755</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">2</span>: <span class="hljs-number">6844</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">3</span>: <span class="hljs-number">6833</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">4</span>: <span class="hljs-number">6887</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">5</span>: <span class="hljs-number">7744</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">6</span>: <span class="hljs-number">7778</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">7</span>: <span class="hljs-number">7876</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">8</span>: <span class="hljs-number">8601</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">9</span>: <span class="hljs-number">8643</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">10</span>: <span class="hljs-number">8659</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">11</span>: <span class="hljs-number">8665</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">12</span>: <span class="hljs-number">8683</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">13</span>: <span class="hljs-number">8700</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">14</span>: <span class="hljs-number">8694</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">15</span>: <span class="hljs-number">8699</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">16</span>: <span class="hljs-number">8715</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">17</span>: <span class="hljs-number">8770</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">18</span>: <span class="hljs-number">9611</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">19</span>: <span class="hljs-number">9632</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">20</span>: <span class="hljs-number">9625</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">21</span>: <span class="hljs-number">9632</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">22</span>: <span class="hljs-number">9651</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">23</span>: <span class="hljs-number">9655</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">24</span>: <span class="hljs-number">9653</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">25</span>: <span class="hljs-number">9658</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">26</span>: <span class="hljs-number">9653</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">27</span>: <span class="hljs-number">9664</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">28</span>: <span class="hljs-number">9655</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">29</span>: <span class="hljs-number">9672</span> / <span class="hljs-number">10000</span></code></pre>

<p><strong>发现，我们只是改了一个超参数，准确率就从94.76%提升到96.72%！</strong></p>

<p>这里强调一下，<strong>更加规范的模型调优方法是将多个模型用交叉验证集的结果来横向比较，选出最优模型后再用一个新的测试集来最终评估该模型。</strong>本文为了与之前的结果比较，才采用了测试集而不是交叉验证集。<strong>读者千万不要学博主这样做哈，因为这很有可能会过拟合。这是工程实践中数据挖掘人员经常犯的错误，我们之后会专门写篇博文探讨</strong>。</p>

<p>我们现在回来继续调优我们的模型。那么还有其他的隐藏节点数更合适吗？这个我们也不知道。常见的方法是用几何级数增长的数列（如：10，100，1000，……）去尝试，然后不断确定合适的区间，最终确定一个相对最优的值。</p>

<p>但是即便如此，我们也只尝试了一个超参数，还有其他的超参数没有调优呢。我们于是尝试另一个超参数：<strong>步长</strong>。之前的步长是3.0，但是我们可能觉得学习速率太慢了。那么尝试一个更大的步长试试？比如100？</p>



<pre class="prettyprint"><code class="language-python hljs ">net = network.Network([<span class="hljs-number">784</span>, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>])
net.SGD(training_data, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100.0</span>, test_data=test_data)</code></pre>

<p>发现结果如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">Epoch <span class="hljs-number">0</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">1</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">2</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">3</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">4</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">5</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">6</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">7</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">8</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">9</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">10</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">11</span>: <span class="hljs-number">1002</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">12</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">13</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">14</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">15</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">16</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">17</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">18</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">19</span>: <span class="hljs-number">1001</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">20</span>: <span class="hljs-number">1000</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">21</span>: <span class="hljs-number">1000</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">22</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">23</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">24</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">25</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">26</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">27</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">28</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">29</span>: <span class="hljs-number">999</span> / <span class="hljs-number">10000</span></code></pre>

<p>发现准确率低得不忍直视，看来步长设得太长了。根本跑不到最低点。那么我们设定一个小的步长试试？比如0.01。</p>



<pre class="prettyprint"><code class="language-python hljs ">net = network.Network([<span class="hljs-number">784</span>, <span class="hljs-number">100</span>, <span class="hljs-number">10</span>])
net.SGD(training_data, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0.001</span>, test_data=test_data)</code></pre>

<p>结果如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">Epoch <span class="hljs-number">0</span>: <span class="hljs-number">790</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">1</span>: <span class="hljs-number">846</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">2</span>: <span class="hljs-number">854</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">3</span>: <span class="hljs-number">904</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">4</span>: <span class="hljs-number">944</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">5</span>: <span class="hljs-number">975</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">6</span>: <span class="hljs-number">975</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">7</span>: <span class="hljs-number">975</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">8</span>: <span class="hljs-number">975</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">9</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">10</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">11</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">12</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">13</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">14</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">15</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">16</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">17</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">18</span>: <span class="hljs-number">974</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">19</span>: <span class="hljs-number">976</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">20</span>: <span class="hljs-number">979</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">21</span>: <span class="hljs-number">981</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">22</span>: <span class="hljs-number">1004</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">23</span>: <span class="hljs-number">1157</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">24</span>: <span class="hljs-number">1275</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">25</span>: <span class="hljs-number">1323</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">26</span>: <span class="hljs-number">1369</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">27</span>: <span class="hljs-number">1403</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">28</span>: <span class="hljs-number">1429</span> / <span class="hljs-number">10000</span>
Epoch <span class="hljs-number">29</span>: <span class="hljs-number">1451</span> / <span class="hljs-number">10000</span></code></pre>

<p>呃，发现准确率同样低得不忍直视。但是有一个优点，准确率是稳步提升的。<strong>说明模型在大方向上应该还是对的。如果在调试模型的时候忽视了这个细节，你可能真的找不到合适的参数。</strong></p>

<p>可见，我们第一次尝试的神经网络结构的超参数设定还是比较不错的。但是真实的应用场景中，基本没有这样好的运气，很可能刚开始测试出来的结果全是奇葩生物，长得违反常理，就像来自另一个次元似的。这是数据挖掘工程师常见的情况。此时最应该做的，就是遏制住心中数万草泥马的咆哮奔腾，静静地观察测试结果的分布规律，尝试找到些原因，再继续将模型试着调优下去，与此同时，做好从一个坑跳入下一个坑的心理准备。当然，<strong>在机器学习工程师前赴后继的填坑过程中，还是总结出了一些调优规律。我们会在接下来专门写博文分析。</strong></p>

<p>当然，以上的调优都没有逃出神经网络模型本身的范围。但是可不可能其他的模型效果更好？比如传说中的<strong>支持向量机</strong>？关于支持向量机的解读已经超越了本文的篇幅，我们也考虑专门撰写博文分析。但是在这里我们只是引用一下在<a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/">scikit-learn</a>中提供好的接口，底层是用性能更好的C语言封装的著名的<a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/">LIBSVM</a>。</p>

<p>相关代码也在Michael Nielsen的文件中。直接引入，并运行一个方法即可。</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> mnist_svm
mnist_svm.svm_baseline()</code></pre>

<p>我们看看结果：</p>



<pre class="prettyprint"><code class="language-python hljs ">Baseline classifier using an SVM.
<span class="hljs-number">9435</span> of <span class="hljs-number">10000</span> values correct.</code></pre>

<p>94.35%，好像比我们的神经网络低一点啊。看来我们的神经网络模型还是更优秀一些？</p>

<p>然而，实际情况并非如此。因为我们用的只是scikit-learn给支持向量机的设好的默认参数。<strong>支持向量机同样有一大堆可调的超参数，以提升模型的效果</strong>。 跟据 <a href="http://peekaboo-vision.blogspot.ca/">Andreas Mueller</a>的<a href="http://peekaboo-vision.blogspot.de/2010/09/mnist-for-ever.html">这篇博文</a>，调整好超参数的支持向量机能够达到98.5%的准确度！比我们刚才最好的神经网络提高了1.8个百分点！</p>

<p>然而，故事并没有结束。2013年，通过深度神经网络，研究者可以达到99.79%的准确度！而且，他们并没有运用很多高深的技术。很多技术在我们接下来的博文中都可以继续介绍。</p>

<p>所以，从目前的准确度来看：</p>

<blockquote>
  <p>简单的支持向量机&lt;浅层神经网络&lt;调优的支持向量机&lt;深度神经网络</p>
</blockquote>

<p>但还是要提醒一下，炫酷的算法固然重要，但是良好的数据集有时候比算法更重要。Michael Nielsen专门写了一个公式来来表达他们的关系：</p>

<blockquote>
  <p><strong>精致的算法 ≤ 简单的算法 + 良好的训练数据</strong>  <br />
  sophisticated algorithm ≤ simple learning algorithm + good training data.</p>
</blockquote>

<p>所以为了调优模型，往往要溯源到数据本身，好的数据真的会有好的结果。</p>



<h2 id="8小结与下期预告">8、小结与下期预告</h2>

<p>以上我们只是粗略地展示了用神经网络分析问题的基本过程，很多深入的内容并没有展开。我们将会在接下来的博文中进行深入探讨。</p>

<p>在该系列下一篇博文中，我们试图直接探讨深度神经网络的表现能力，并提供一个启发式理解。敬请关注。</p>
            <div>
                作者：yaoqiang2011 发表于2015/12/13 12:36:20 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50282141">原文链接</a>
            </div>
            <div>
            阅读：20995 评论：0 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50282141#comments" target="_blank">查看评论</a>
            </div>
[原]深度学习与计算机视觉系列(4)_最优化与随机梯度下降
<p>作者：<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a>  <br />
时间：2015年12月。 <br />
出处：<a href="http://blog.csdn.net/han_xiaoyang/article/details/50178505">http://blog.csdn.net/han_xiaoyang/article/details/50178505</a> <br />
声明：版权所有，转载请联系作者并注明出处</p>

<h2 id="1-引言">1. 引言</h2>

<p>上一节<a href="http://blog.csdn.net/han_xiaoyang/article/details/49999583">深度学习与计算机视觉系列(3)_线性SVM与SoftMax分类器</a>中提到两个对图像识别至关重要的概念：</p>

<ol>
<li>用于把原始像素信息映射到不同类别得分的<strong>得分函数/score function</strong></li>
<li>用于评估参数W效果(评估该参数下每类得分和实际得分的吻合度)的<strong>损失函数/loss function</strong></li>
</ol>

<p>其中对于线性SVM，我们有：</p>

<ol>
<li>得分函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 7.736em; display: inline-block;"><span style="display: inline-block; width: 6.189em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-5"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-7" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-10" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-11" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="msubsup" id="MathJax-Span-13"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-14" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-15" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></li>
<li>损失函数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-16" style="width: 27.096em; display: inline-block;"><span style="display: inline-block; width: 21.656em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-17"><span style="display: inline-block; width: 21.656em; height: 0px;"><span><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-20"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mn" id="MathJax-Span-21" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-22" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="munderover" id="MathJax-Span-23"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mo" id="MathJax-Span-24" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-25" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="munderover" id="MathJax-Span-26"><span style="display: inline-block; width: 2.296em; height: 0px;"><span><span class="mo" id="MathJax-Span-27" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-28"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-31" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">≠</span><span class="msubsup" id="MathJax-Span-32"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-33" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-34" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mrow" id="MathJax-Span-35"><span class="mo" id="MathJax-Span-36"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">[</span></span></span><span class="mo" id="MathJax-Span-37" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-39" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-40" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-41" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-42" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-43"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-44" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-45" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-46" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-47" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="msubsup" id="MathJax-Span-48"><span style="display: inline-block; width: 0.643em; height: 0px;"><span><span class="mo" id="MathJax-Span-49" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-50" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-51" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-52" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-53" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-54"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-55" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-56" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-58" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="msubsup" id="MathJax-Span-59"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-61"><span class="mrow" id="MathJax-Span-62"><span class="msubsup" id="MathJax-Span-63"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-64" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-65" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="mo" id="MathJax-Span-66" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-67" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-68" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-69"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">]</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="mo" id="MathJax-Span-70" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-71" style="font-family: STIXGeneral-Italic;">α</span><span class="mi" id="MathJax-Span-72" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-73" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-74" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-75" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span></li>
</ol>

<p>在取到合适的参数W的情况下，我们根据原始像素计算得到的预测结果和实际结果吻合度非常高，这时候损失函数得到的值就很小。</p>

<p>这节我们就讲讲，怎么得到这个合适的参数W，使得损失函数取值最小化。也就是<strong>最优化</strong>的过程。</p>



<h2 id="2-损失函数可视化">2. 损失函数可视化</h2>

<p>我们在计算机视觉中看到的损失函数，通常都是定义在非常高维的空间里的(比如CIFAR-10的例子里一个线性分类器的权重矩阵W是10 x 3073维的，总共有30730个参数 -_-||)，人要直接『看到』它的形状/变化是非常困难的。但是机智的同学们，总是能想出一些办法，把损失函数在某种程度上可视化的。比如说，我们可以把高维投射到一个向量/方向(1维)或者一个面(2维)上，从而能直观地『观察』到一些变化。</p>

<p>举个例子说，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-76" style="width: 33.976em; display: inline-block;"><span style="display: inline-block; width: 27.149em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-77"><span style="display: inline-block; width: 27.149em; height: 0px;"><span><span class="texatom" id="MathJax-Span-78"><span class="mrow" id="MathJax-Span-79"><span class="mo" id="MathJax-Span-80"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">我</span></span></span></span><span class="texatom" id="MathJax-Span-81"><span class="mrow" id="MathJax-Span-82"><span class="mo" id="MathJax-Span-83"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">们</span></span></span></span><span class="texatom" id="MathJax-Span-84"><span class="mrow" id="MathJax-Span-85"><span class="mo" id="MathJax-Span-86"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="texatom" id="MathJax-Span-87"><span class="mrow" id="MathJax-Span-88"><span class="mo" id="MathJax-Span-89"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">以</span></span></span></span><span class="texatom" id="MathJax-Span-90"><span class="mrow" id="MathJax-Span-91"><span class="mo" id="MathJax-Span-92"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">对</span></span></span></span><span class="texatom" id="MathJax-Span-93"><span class="mrow" id="MathJax-Span-94"><span class="mo" id="MathJax-Span-95"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span></span></span></span><span class="texatom" id="MathJax-Span-96"><span class="mrow" id="MathJax-Span-97"><span class="mo" id="MathJax-Span-98"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">个</span></span></span></span><span class="texatom" id="MathJax-Span-99"><span class="mrow" id="MathJax-Span-100"><span class="mo" id="MathJax-Span-101"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">权</span></span></span></span><span class="texatom" id="MathJax-Span-102"><span class="mrow" id="MathJax-Span-103"><span class="mo" id="MathJax-Span-104"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">重</span></span></span></span><span class="texatom" id="MathJax-Span-105"><span class="mrow" id="MathJax-Span-106"><span class="mo" id="MathJax-Span-107"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">矩</span></span></span></span><span class="texatom" id="MathJax-Span-108"><span class="mrow" id="MathJax-Span-109"><span class="mo" id="MathJax-Span-110"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">阵</span></span></span></span><span class="mi" id="MathJax-Span-111" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-112" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-113"><span class="mrow" id="MathJax-Span-114"><span class="mo" id="MathJax-Span-115"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">例</span></span></span></span><span class="texatom" id="MathJax-Span-116"><span class="mrow" id="MathJax-Span-117"><span class="mo" id="MathJax-Span-118"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">如</span></span></span></span><span class="mi" id="MathJax-Span-119" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-120" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-121" style="font-family: STIXGeneral-Italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-122" style="font-family: STIXGeneral-Italic;">A</span><span class="mi" id="MathJax-Span-123" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-124" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-125" style="font-family: STIXGeneral-Regular;">10</span><span class="texatom" id="MathJax-Span-126"><span class="mrow" id="MathJax-Span-127"><span class="mo" id="MathJax-Span-128"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-129"><span class="mrow" id="MathJax-Span-130"><span class="mo" id="MathJax-Span-131"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">是</span></span></span></span><span class="mn" id="MathJax-Span-132" style="font-family: STIXGeneral-Regular;">30730</span><span class="texatom" id="MathJax-Span-133"><span class="mrow" id="MathJax-Span-134"><span class="mo" id="MathJax-Span-135"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">个</span></span></span></span><span class="texatom" id="MathJax-Span-136"><span class="mrow" id="MathJax-Span-137"><span class="mo" id="MathJax-Span-138"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">参</span></span></span></span><span class="texatom" id="MathJax-Span-139"><span class="mrow" id="MathJax-Span-140"><span class="mo" id="MathJax-Span-141"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="mo" id="MathJax-Span-142" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-143"><span class="mrow" id="MathJax-Span-144"><span class="mo" id="MathJax-Span-145"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="texatom" id="MathJax-Span-146"><span class="mrow" id="MathJax-Span-147"><span class="mo" id="MathJax-Span-148"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">可</span></span></span></span><span class="texatom" id="MathJax-Span-149"><span class="mrow" id="MathJax-Span-150"><span class="mo" id="MathJax-Span-151"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">以</span></span></span></span><span class="texatom" id="MathJax-Span-152"><span class="mrow" id="MathJax-Span-153"><span class="mo" id="MathJax-Span-154"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">找</span></span></span></span><span class="texatom" id="MathJax-Span-155"><span class="mrow" id="MathJax-Span-156"><span class="mo" id="MathJax-Span-157"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">到</span></span></span></span><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="texatom" id="MathJax-Span-159"><span class="mrow" id="MathJax-Span-160"><span class="mo" id="MathJax-Span-161"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">维</span></span></span></span><span class="texatom" id="MathJax-Span-162"><span class="mrow" id="MathJax-Span-163"><span class="mo" id="MathJax-Span-164"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">度</span></span></span></span><span class="texatom" id="MathJax-Span-165"><span class="mrow" id="MathJax-Span-166"><span class="mo" id="MathJax-Span-167"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">空</span></span></span></span><span class="texatom" id="MathJax-Span-168"><span class="mrow" id="MathJax-Span-169"><span class="mo" id="MathJax-Span-170"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">间</span></span></span></span><span class="texatom" id="MathJax-Span-171"><span class="mrow" id="MathJax-Span-172"><span class="mo" id="MathJax-Span-173"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-174"><span class="mrow" id="MathJax-Span-175"><span class="mo" id="MathJax-Span-176"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-177"><span class="mrow" id="MathJax-Span-178"><span class="mo" id="MathJax-Span-179"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span></span></span></span><span class="texatom" id="MathJax-Span-180"><span class="mrow" id="MathJax-Span-181"><span class="mo" id="MathJax-Span-182"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">条</span></span></span></span><span class="texatom" id="MathJax-Span-183"><span class="mrow" id="MathJax-Span-184"><span class="mo" id="MathJax-Span-185"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">直</span></span></span></span><span class="texatom" id="MathJax-Span-186"><span class="mrow" id="MathJax-Span-187"><span class="mo" id="MathJax-Span-188"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">线</span></span></span></span><span class="texatom" id="MathJax-Span-189"><span class="mrow" id="MathJax-Span-190"><span class="mo" id="MathJax-Span-191"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span><span class="texatom" id="MathJax-Span-192"><span class="mrow" id="MathJax-Span-193"><span class="mo" id="MathJax-Span-194"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">然</span></span></span></span><span class="texatom" id="MathJax-Span-195"><span class="mrow" id="MathJax-Span-196"><span class="mo" id="MathJax-Span-197"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">后</span></span></span></span><span class="texatom" id="MathJax-Span-198"><span class="mrow" id="MathJax-Span-199"><span class="mo" id="MathJax-Span-200"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">沿</span></span></span></span><span class="texatom" id="MathJax-Span-201"><span class="mrow" id="MathJax-Span-202"><span class="mo" id="MathJax-Span-203"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">着</span></span></span></span><span class="texatom" id="MathJax-Span-204"><span class="mrow" id="MathJax-Span-205"><span class="mo" id="MathJax-Span-206"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">这</span></span></span></span><span class="texatom" id="MathJax-Span-207"><span class="mrow" id="MathJax-Span-208"><span class="mo" id="MathJax-Span-209"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">条</span></span></span></span><span class="texatom" id="MathJax-Span-210"><span class="mrow" id="MathJax-Span-211"><span class="mo" id="MathJax-Span-212"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">线</span></span></span></span><span class="texatom" id="MathJax-Span-213"><span class="mrow" id="MathJax-Span-214"><span class="mo" id="MathJax-Span-215"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">，</span></span></span></span><span class="texatom" id="MathJax-Span-216"><span class="mrow" id="MathJax-Span-217"><span class="mo" id="MathJax-Span-218"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">计</span></span></span></span><span class="texatom" id="MathJax-Span-219"><span class="mrow" id="MathJax-Span-220"><span class="mo" id="MathJax-Span-221"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">算</span></span></span></span><span class="texatom" id="MathJax-Span-222"><span class="mrow" id="MathJax-Span-223"><span class="mo" id="MathJax-Span-224"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">一</span></span></span></span><span class="texatom" id="MathJax-Span-225"><span class="mrow" id="MathJax-Span-226"><span class="mo" id="MathJax-Span-227"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">下</span></span></span></span><span class="texatom" id="MathJax-Span-228"><span class="mrow" id="MathJax-Span-229"><span class="mo" id="MathJax-Span-230"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">损</span></span></span></span><span class="texatom" id="MathJax-Span-231"><span class="mrow" id="MathJax-Span-232"><span class="mo" id="MathJax-Span-233"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">失</span></span></span></span><span class="texatom" id="MathJax-Span-234"><span class="mrow" id="MathJax-Span-235"><span class="mo" id="MathJax-Span-236"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">函</span></span></span></span><span class="texatom" id="MathJax-Span-237"><span class="mrow" id="MathJax-Span-238"><span class="mo" id="MathJax-Span-239"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-240"><span class="mrow" id="MathJax-Span-241"><span class="mo" id="MathJax-Span-242"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">值</span></span></span></span><span class="texatom" id="MathJax-Span-243"><span class="mrow" id="MathJax-Span-244"><span class="mo" id="MathJax-Span-245"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-246"><span class="mrow" id="MathJax-Span-247"><span class="mo" id="MathJax-Span-248"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">变</span></span></span></span><span class="texatom" id="MathJax-Span-249"><span class="mrow" id="MathJax-Span-250"><span class="mo" id="MathJax-Span-251"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">化</span></span></span></span><span class="texatom" id="MathJax-Span-252"><span class="mrow" id="MathJax-Span-253"><span class="mo" id="MathJax-Span-254"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">情</span></span></span></span><span class="texatom" id="MathJax-Span-255"><span class="mrow" id="MathJax-Span-256"><span class="mo" id="MathJax-Span-257"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 80%; font-style: normal; font-weight: normal;">况</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span></span></span></span>。具体一点说，就是我们找到一个方向<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-258" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-259"><span class="msubsup" id="MathJax-Span-260"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-261" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-262" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>(维度要和W一样，才能表示W的维度空间的一个方向/一条直线)，然后我们给不同的a值，计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-263" style="width: 6.403em; display: inline-block;"><span style="display: inline-block; width: 5.123em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-264"><span class="mi" id="MathJax-Span-265" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-266" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-268" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-269" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-270"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-271" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-272" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，这样，如果a取得足够密，其实我们就能够在一定程度上描绘出损失函数沿着这个方向的变化了。</p>

<p>同样，如果我们给两个方向<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-274" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-275"><span class="msubsup" id="MathJax-Span-276"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-277" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-278" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-279" style="width: 1.709em; display: inline-block;"><span style="display: inline-block; width: 1.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-280"><span class="msubsup" id="MathJax-Span-281"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-282" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-283" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>，那么我们可以确定一个平面，我们再取不同值的a和b，计算<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-284" style="width: 10.243em; display: inline-block;"><span style="display: inline-block; width: 8.163em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-285"><span class="mi" id="MathJax-Span-286" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-287" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-288" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-289" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-290" style="font-family: STIXGeneral-Italic;">a</span><span class="msubsup" id="MathJax-Span-291"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-292" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-293" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-294" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-295" style="font-family: STIXGeneral-Italic;">b</span><span class="msubsup" id="MathJax-Span-296"><span style="display: inline-block; width: 1.283em; height: 0px;"><span><span class="mi" id="MathJax-Span-297" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-298" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-299" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的值，那么我们就可以大致绘出在这个平面上，损失函数的变化情况了。</p>

<p>根据上面的方法，我们画出了下面3个图。最上面的图是调整a的不同取值，绘出的损失函数变化曲线(越高值越大)；中间和最后一个图是调整a与b的取值，绘出的损失函数变化图(蓝色表示损失小，红色表示损失大)，中间是在一个图片样本上计算的损失结果，最下图为100张图片上计算的损失结果的一个平均。显然沿着直线方向得到的曲线底端为最小的损失值点，而曲面呈现的碗状图形<code>碗底</code>为损失函数取值最小处。 <br />
</p><center> <br />
<img alt="损失函数沿直线投影图" src="http://cs231n.github.io/assets/svm1d.png" title="" /> <br />
<img alt="损失函数沿平面投影图2" src="http://cs231n.github.io/assets/svm_one.jpg" title="" /> <br />
<img alt="损失函数沿平面投影图2" src="http://cs231n.github.io/assets/svm_all.jpg" title="" /> <br />
</center><p></p>

<p>我们从数学的角度，来尝试解释一下，上面的凹曲线是怎么出来的。对于第i个样本，我们知道它的损失函数值为： <br />
</p><center> <br />
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-300" style="width: 20.003em; display: inline-block;"><span style="display: inline-block; width: 16.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-301"><span class="msubsup" id="MathJax-Span-302"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-303" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-304" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-305" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-306"><span style="display: inline-block; width: 2.296em; height: 0px;"><span><span class="mo" id="MathJax-Span-307" style="font-family: STIXGeneral-Regular; vertical-align: 0.003em;">∑</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-308"><span class="mrow" id="MathJax-Span-309"><span class="mi" id="MathJax-Span-310" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-311" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">≠</span><span class="msubsup" id="MathJax-Span-312"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-313" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-314" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mrow" id="MathJax-Span-315"><span class="mo" id="MathJax-Span-316"><span style="font-family: STIXSizeTwoSym;">[</span></span><span class="mo" id="MathJax-Span-317" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-318" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-319" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-320" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-321"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-322" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-323" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-324" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-325"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-326" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-327" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-328" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-329"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-330" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-331" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-332"><span class="mrow" id="MathJax-Span-333"><span class="msubsup" id="MathJax-Span-334"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-335" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-336" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-337"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-338" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-339" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-340" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-341" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-342" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-343"><span style="font-family: STIXSizeTwoSym;">]</span></span></span></span><span style="display: inline-block; width: 0px; height: 3.523em;"></span></span></span><span></span></span></span> <br />
</center> <br />
在所有的样本上的损失函数值，是它们损失函数值(<code>max(0,-)</code>，因此最小值为0)的平均值。为了更好理解，我们假定训练集里面有3个样本，都是1维的，同时总共有3个类别。所以SVM损失(暂时不考虑正则化项)可以表示为如下的式子：<p></p>



<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-344" style="width: 31.736em; display: inline-block;"><span style="display: inline-block; width: 25.389em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-345"><span class="mtable" id="MathJax-Span-346"><span style="display: inline-block; width: 25.016em; height: 0px;"><span><span style="display: inline-block; width: 2.029em; height: 0px;"><span><span class="mtd" id="MathJax-Span-347"><span class="mrow" id="MathJax-Span-348"><span class="msubsup" id="MathJax-Span-349"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-350" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-351" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-352" style="font-family: STIXGeneral-Regular;">=</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-400"><span class="mrow" id="MathJax-Span-401"><span class="msubsup" id="MathJax-Span-402"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-403" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-404" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-405" style="font-family: STIXGeneral-Regular;">=</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-453"><span class="mrow" id="MathJax-Span-454"><span class="msubsup" id="MathJax-Span-455"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-456" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-457" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-458" style="font-family: STIXGeneral-Regular;">=</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-506"><span class="mrow" id="MathJax-Span-507"><span class="mi" id="MathJax-Span-508" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-509" style="font-family: STIXGeneral-Regular;">=</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.029em;"></span></span><span><span style="display: inline-block; width: 22.989em; height: 0px;"><span><span class="mtd" id="MathJax-Span-353"><span class="mrow" id="MathJax-Span-354"><span class="mo" id="MathJax-Span-355" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-356" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-357" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-358" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-359"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-360" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-361" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-362" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-363"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-364" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-365" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-366" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-367"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-368" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-369" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-370" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-371"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-372" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-373" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-374" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-375" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-376" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-377" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-378" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-379" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-380" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-381" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-382"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-383" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-384" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-385" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-386"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-387" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-388" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-389" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-390"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-391" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-392" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-393" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-394"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-395" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-396" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-397" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-398" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-399" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-406"><span class="mrow" id="MathJax-Span-407"><span class="mo" id="MathJax-Span-408" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-409" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-410" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-411" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-412"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-413" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-414" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-415" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-416"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-417" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-418" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-419" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-420"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-421" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-422" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-423" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-424"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-425" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-426" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-427" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-428" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-429" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-430" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-431" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-432" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-433" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-434" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-435"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-436" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-437" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-438" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-439"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-440" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-441" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-443"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-444" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-445" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-446" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-447"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-448" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-449" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-450" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-451" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-452" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-459"><span class="mrow" id="MathJax-Span-460"><span class="mo" id="MathJax-Span-461" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-462" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-463" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-464" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-465"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-466" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-467" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-468" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-469"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-470" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-471" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-472" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-473"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-474" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-475" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-476" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-477"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-478" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-479" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-480" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-481" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-482" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-483" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-484" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-485" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-486" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-487" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-488"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-489" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-491" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-492"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-493" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-494" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-495" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-496"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-497" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-498" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mn" id="MathJax-Span-499" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-500"><span style="display: inline-block; width: 0.909em; height: 0px;"><span><span class="mi" id="MathJax-Span-501" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-502" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-503" style="font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-504" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-505" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mtd" id="MathJax-Span-510"><span class="mrow" id="MathJax-Span-511"><span class="mo" id="MathJax-Span-512" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-513"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-514" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-515" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-516" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-517"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-518" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-519" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-520" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-521"><span style="display: inline-block; width: 1.016em; height: 0px;"><span><span class="mi" id="MathJax-Span-522" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-523" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-524" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-525"><span class="mrow" id="MathJax-Span-526"><span class="mo" id="MathJax-Span-527" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-528" style="font-family: STIXGeneral-Regular;">3</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span></div></p>

<p>因为这个例子里的样本都是1维的，因此其实<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-529" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-530"><span class="msubsup" id="MathJax-Span-531"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-532" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-533" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame"><span class="math" id="MathJax-Span-534" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-535"><span class="msubsup" id="MathJax-Span-536"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="mi" id="MathJax-Span-537" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-538" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>都是实数。拿<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame"><span class="math" id="MathJax-Span-539" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-540"><span class="msubsup" id="MathJax-Span-541"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-542" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-543" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>举例，损失函数里，大于0的值其实都和<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame"><span class="math" id="MathJax-Span-544" style="width: 1.496em; display: inline-block;"><span style="display: inline-block; width: 1.176em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-545"><span class="msubsup" id="MathJax-Span-546"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-547" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-548" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>是线性关系的，而最小值为0。因此，我们可以想象成，三条折线『合体』得到的最终曲线，如下图所示： <br />
<img alt="曲线的形成" src="http://cs231n.github.io/assets/svmbowl.png" title="" /></p>

<p>插几句题外话，从之前碗状结构的示意图，你可能会猜到SVM损失函数是一个凸函数，而对于凸函数的最小值求解方法有很多种。但之后当我们把损失函数f扩充到神经网络之后，损失函数将变成一个非凸函数，而如果依旧可视化的话，我们看到的将不再是一个碗状结构，而是凹凸不平的。</p>



<h2 id="3-最优化">3. 最优化</h2>

<p>在我们现在这个问题中，所谓的『最优化』其实指的就是找到能让损失函数最小的参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-549" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-550"><span class="mi" id="MathJax-Span-551" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。如果大家看过或者了解<code>凸优化</code>的话，我们下面介绍的方法，对你而言可能太简单了，有点<code>原始</code>，但是大家别忘了，我们后期要处理的是神经网络的损失函数，那可不是一个凸函数哦，所以我们还是一步步来一起看看，如果去实现最优化问题。</p>



<h3 id="31-策略1随机搜寻不太实用">3.1 策略1：随机搜寻(不太实用)</h3>

<p>以一个笨方法开始，我们知道，当我们手头上有参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-552" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-553"><span class="mi" id="MathJax-Span-554" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>后，我们是可以计算损失函数，评估参数合适程度的。所以最直接粗暴的方法就是，我们尽量多地去试参数，然后从里面选那个让损失函数最小的，作为最后的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-555" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-556"><span class="mi" id="MathJax-Span-557" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>。代码当然很简单，如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 假设 X_train 是训练集 (例如. 3073 x 50,000)</span>
<span class="hljs-comment"># 假设 Y_train 是类别结果 (例如. 1D array of 50,000)</span>

bestloss = float(<span class="hljs-string">"inf"</span>) <span class="hljs-comment"># 初始化一个最大的float值</span>
<span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">1000</span>):
  W = np.random.randn(<span class="hljs-number">10</span>, <span class="hljs-number">3073</span>) * <span class="hljs-number">0.0001</span> <span class="hljs-comment"># 随机生成一组参数</span>
  loss = L(X_train, Y_train, W) <span class="hljs-comment"># 计算损失函数</span>
  <span class="hljs-keyword">if</span> loss &lt; bestloss: <span class="hljs-comment"># 比对已搜寻中最好的结果</span>
    bestloss = loss
    bestW = W
  <span class="hljs-keyword">print</span> <span class="hljs-string">'in attempt %d the loss was %f, best %f'</span> % (num, loss, bestloss)

<span class="hljs-comment"># prints:</span>
<span class="hljs-comment"># in attempt 0 the loss was 9.401632, best 9.401632</span>
<span class="hljs-comment"># in attempt 1 the loss was 8.959668, best 8.959668</span>
<span class="hljs-comment"># in attempt 2 the loss was 9.044034, best 8.959668</span>
<span class="hljs-comment"># in attempt 3 the loss was 9.278948, best 8.959668</span>
<span class="hljs-comment"># in attempt 4 the loss was 8.857370, best 8.857370</span>
<span class="hljs-comment"># in attempt 5 the loss was 8.943151, best 8.857370</span>
<span class="hljs-comment"># in attempt 6 the loss was 8.605604, best 8.605604</span>
<span class="hljs-comment"># ... (trunctated: continues for 1000 lines)</span></code></pre>

<p>一通随机试验和搜寻之后，我们会拿到试验结果中最好的参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-558" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-559"><span class="mi" id="MathJax-Span-560" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，然后在测试集上看看效果：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment"># 假定 X_test 为 [3073 x 10000], Y_test 为 [10000 x 1]</span>
scores = Wbest.dot(Xte_cols) <span class="hljs-comment"># 10 x 10000, 计算类别得分</span>
<span class="hljs-comment"># 找到最高得分作为结果</span>
Yte_predict = np.argmax(scores, axis = <span class="hljs-number">0</span>)
<span class="hljs-comment"># 计算准确度</span>
np.mean(Yte_predict == Yte)
<span class="hljs-comment"># 返回 0.1555</span></code></pre>

<p>随机搜寻得到的参数W，在测试集上的准确率为<strong>15.5%</strong>，总共10各类别，我们不做任何预测只是随机猜的结果应该是10%，好像稍高一点，但是…大家也看到了…这个准确率…实在是没办法在实际应用中使用。</p>



<h3 id="32-策略2随机局部搜索">3.2 策略2：随机局部搜索</h3>

<p>上一个策略完全就是盲搜，要想找到全局最优的那个结果基本是不可能的。它最大的缺点，就在于下一次搜索完全是随机进行的，没有一个指引方向。那我们多想想，就能想出一个在上个策略的基础上，优化的版本，叫做『随机局部搜索』。</p>

<p>这个策略的意思是，我们不每次都随机产生一个参数矩阵<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame"><span class="math" id="MathJax-Span-561" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-562"><span class="mi" id="MathJax-Span-563" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>了，而是在现有的参数<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame"><span class="math" id="MathJax-Span-564" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-565"><span class="mi" id="MathJax-Span-566" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>基础上，搜寻一下周边临近的参数，有没有比现在参数更好的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame"><span class="math" id="MathJax-Span-567" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-568"><span class="mi" id="MathJax-Span-569" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，然后我们用新的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame"><span class="math" id="MathJax-Span-570" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-571"><span class="mi" id="MathJax-Span-572" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>替换现在的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame"><span class="math" id="MathJax-Span-573" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-574"><span class="mi" id="MathJax-Span-575" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，接着在周围继续小范围搜寻。这个过程呢，可以想象成，我们在一座山上，现在要下山，然后我们每次都伸脚探一探周边，找一个比现在的位置下降一些的位置，然后迈一步，接着在新的位置上做同样的操作，一步步直至下山。</p>

<p>从代码实现的角度看，以上的过程，实际上就是对于一个当前<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame"><span class="math" id="MathJax-Span-576" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-577"><span class="mi" id="MathJax-Span-578" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，我们每次实验和添加<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame"><span class="math" id="MathJax-Span-579" style="width: 2.296em; display: inline-block;"><span style="display: inline-block; width: 1.816em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-580"><span class="mi" id="MathJax-Span-581" style="font-family: STIXGeneral-Italic;">δ</span><span class="msup" id="MathJax-Span-582"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-583" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mo" id="MathJax-Span-584" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，然后看看损失函数是否比当前要低，如果是，就替换掉当前的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame"><span class="math" id="MathJax-Span-585" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-586"><span class="mi" id="MathJax-Span-587" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，代码如下：</p>



<pre class="prettyprint"><code class="language-python hljs ">W = np.random.randn(<span class="hljs-number">10</span>, <span class="hljs-number">3073</span>) * <span class="hljs-number">0.001</span> <span class="hljs-comment"># 初始化权重矩阵W</span>
bestloss = float(<span class="hljs-string">"inf"</span>)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">1000</span>):
  step_size = <span class="hljs-number">0.0001</span>
  Wtry = W + np.random.randn(<span class="hljs-number">10</span>, <span class="hljs-number">3073</span>) * step_size
  loss = L(Xtr_cols, Ytr, Wtry)
  <span class="hljs-keyword">if</span> loss &lt; bestloss:
    W = Wtry
    bestloss = loss
  <span class="hljs-keyword">print</span> <span class="hljs-string">'iter %d loss is %f'</span> % (i, bestloss)</code></pre>

<p>我们做了这么个小小的修正之后，我们再拿刚才一样的测试集来测一下效果，结果发现准确率提升至21.4%，虽然离实际应用差很远，但只是比刚才要进步一点点了。</p>

<p>但是还是有个问题，我们每次测试周边点的损失函数，是一件非常耗时的事情。我们有没有办法能够直接找到我们应该迭代的方向呢？</p>



<h3 id="33-策略3顺着梯度下滑">3.3 策略3：顺着梯度下滑</h3>

<p>刚才的策略，我们说了，最大的缺点是非常耗时，且计算量也很大。我们一直在做的事情，就是在当前的位置基础上，想找到一个最合适的下降方向。我们依旧回到我们假设的那个情境，如果我们在山顶，要以最快的方式下山，我们会怎么做？我们可能会环顾四周，然后找到最陡的方向，迈一小步，然后再找当前位置最陡的下山方向，再迈一小步…</p>

<p>而这里提到的最陡的方向，其实对应的就是数学里『梯度』的概念，也就是说，其实我们无需『伸脚试探』周边的陡峭程度，而是可以通过计算<strong>损失函数的梯度</strong>，直接取得这个方向。</p>

<p>我们知道在1个变量的函数里，某点的斜率/导数代表其变化率最大的方向。而对于多元的情况，梯度是上面情况的一个扩展，只不过这时候的变量不再是一个，而是多个，同时我们计算得到的『梯度方向』也是一个多维的向量。大家都知道数学上计算1维/元函数『梯度/导数』的表达式如下： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-27-Frame"><span class="math" id="MathJax-Span-588" style="width: 15.043em; display: inline-block;"><span style="display: inline-block; width: 12.003em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-589"><span class="mfrac" id="MathJax-Span-590"><span style="display: inline-block; width: 2.243em; height: 0px;"><span><span class="mrow" id="MathJax-Span-591"><span class="mi" id="MathJax-Span-592" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-593" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-594" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-595" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-596" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mrow" id="MathJax-Span-597"><span class="mi" id="MathJax-Span-598" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-599" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span><span class="mo" id="MathJax-Span-600" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-601"><span style="display: inline-block; width: 1.549em; height: 0px;"><span><span class="mo" id="MathJax-Span-602" style="font-family: STIXGeneral-Regular;">lim</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-603"><span class="mrow" id="MathJax-Span-604"><span class="mi" id="MathJax-Span-605" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">h</span><span class="mtext" id="MathJax-Span-606" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mo" id="MathJax-Span-607" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">→</span><span class="mn" id="MathJax-Span-608" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-609"><span style="display: inline-block; width: 6.189em; height: 0px;"><span><span class="mrow" id="MathJax-Span-610"><span class="mi" id="MathJax-Span-611" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-612" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-613" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-614" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-615" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-616" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-617" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-618" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-619" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-620" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-621" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-622" style="font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div> <br />
对于多元的情况，这个时候我们需要求的东西扩展成每个方向的『偏导数』，然后把它们合在一块组成我们的梯度向量。</p>

<p>我们用几张图来说明这个过程： <br />
</p><center> <br />
<img alt="梯度下降1" src="http://7xo0y8.com1.z0.glb.clouddn.com/3_computer_vision/1.jpg?imageView/2/w/500/q/100" title="" /> <br />
<img alt="梯度下降2" src="http://7xo0y8.com1.z0.glb.clouddn.com/3_computer_vision/2.jpg?imageView/2/w/500/q/100" title="" />  <br />
<img alt="各种下降算法" src="http://i.imgur.com/s25RsOr.gif" title="" /> <br />
</center><p></p>



<h2 id="4-计算梯度">4. 计算梯度</h2>

<p>有两种计算梯度的方法：</p>

<ol>
<li>慢一些但是简单一些的<code>数值梯度/numerical gradient</code></li>
<li>速度快但是更容易出错的<code>解析梯度/analytic gradient</code></li>
</ol>



<h3 id="41-数值梯度">4.1 数值梯度</h3>

<p>根据上面提到的导数求解公式，我们可以得到数值梯度计算法。下面是一段简单的代码，对于一个给定的函数<code>f</code>和一个向量<code>x</code>，求解这个点上的梯度：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">eval_numerical_gradient</span><span class="hljs-params">(f, x)</span>:</span>
  <span class="hljs-string">""" 
  一个最基本的计算x点上f的梯度的算法 
  - f 为参数为x的函数
  - x 是一个numpy的vector
  """</span> 

  fx = f(x) <span class="hljs-comment"># 计算原始点上函数值</span>
  grad = np.zeros(x.shape)
  h = <span class="hljs-number">0.00001</span>

  <span class="hljs-comment"># 对x的每个维度都计算一遍</span>
  it = np.nditer(x, flags=[<span class="hljs-string">'multi_index'</span>], op_flags=[<span class="hljs-string">'readwrite'</span>])
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> it.finished:

    <span class="hljs-comment"># 计算x+h处的函数值</span>
    ix = it.multi_index
    old_value = x[ix]
    x[ix] = old_value + h <span class="hljs-comment"># 加h</span>
    fxh = f(x) <span class="hljs-comment"># 计算f(x + h)</span>
    x[ix] = old_value <span class="hljs-comment"># 存储之前的函数值</span>

    <span class="hljs-comment"># 计算偏导数</span>
    grad[ix] = (fxh - fx) / h <span class="hljs-comment"># 斜率</span>
    it.iternext() <span class="hljs-comment"># 开始下一个维度上的偏导计算</span>

  <span class="hljs-keyword">return</span> grad</code></pre>

<p>代码的方法很简单，对每个维度，都在原始值上加上一个很小的<code>h</code>，然后计算这个维度/方向上的偏导，最后组在一起得到梯度<code>grad</code>。</p>



<h4 id="411-实际计算中的提示">4.1.1 实际计算中的提示</h4>

<p>我们仔细看看导数求解的公式，会发现数学定义上h是要趋于0的，但实际我们计算的时候我们只要取一个足够小的数(比如1e-5)作为h就行了，所以我们要精准计算偏导的话，要尽量取到不会带来数值计算问题，同时又能很小的h。另外，其实实际计算中，我们用另外一个公式用得更多<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame"><span class="math" id="MathJax-Span-623" style="width: 12.163em; display: inline-block;"><span style="display: inline-block; width: 9.709em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-624"><span class="mo" id="MathJax-Span-625" style="font-family: STIXGeneral-Regular;">[</span><span class="mi" id="MathJax-Span-626" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-627" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-628" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-629" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-630" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-631" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-632" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-633" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mo" id="MathJax-Span-634" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-635" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-636" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-637" style="font-family: STIXGeneral-Italic;">h</span><span class="mo" id="MathJax-Span-638" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-639" style="font-family: STIXGeneral-Regular;">]</span><span class="texatom" id="MathJax-Span-640"><span class="mrow" id="MathJax-Span-641"><span class="mo" id="MathJax-Span-642" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-643" style="font-family: STIXGeneral-Regular;">2</span><span class="mi" id="MathJax-Span-644" style="font-family: STIXGeneral-Italic;">h</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></p>

<p>下面我们用上面的公式在CIFAR-10数据集上，试一试吧：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">CIFAR10_loss_fun</span><span class="hljs-params">(W)</span>:</span>
  <span class="hljs-keyword">return</span> L(X_train, Y_train, W)

W = np.random.rand(<span class="hljs-number">10</span>, <span class="hljs-number">3073</span>) * <span class="hljs-number">0.001</span> <span class="hljs-comment"># 随机权重向量</span>
df = eval_numerical_gradient(CIFAR10_loss_fun, W) <span class="hljs-comment"># 计算梯度</span></code></pre>

<p>计算到的梯度(准确地说，梯度的方向是函数增大方向，负梯度才是下降方向)告诉我们，我们应该『下山』的方向是啥，接着我们就沿着它小步迈进：</p>



<pre class="prettyprint"><code class="language-python hljs ">loss_original = CIFAR10_loss_fun(W) <span class="hljs-comment"># 原始点上的损失</span>
<span class="hljs-keyword">print</span> <span class="hljs-string">'original loss: %f'</span> % (loss_original, )

<span class="hljs-comment"># 多大步伐迈进好呢？我们选一些步长试试</span>
<span class="hljs-keyword">for</span> step_size_log <span class="hljs-keyword">in</span> [-<span class="hljs-number">10</span>, -<span class="hljs-number">9</span>, -<span class="hljs-number">8</span>, -<span class="hljs-number">7</span>, -<span class="hljs-number">6</span>, -<span class="hljs-number">5</span>,-<span class="hljs-number">4</span>,-<span class="hljs-number">3</span>,-<span class="hljs-number">2</span>,-<span class="hljs-number">1</span>]:
  step_size = <span class="hljs-number">10</span> ** step_size_log
  W_new = W - step_size * df <span class="hljs-comment"># 新的权重</span>
  loss_new = CIFAR10_loss_fun(W_new)
  <span class="hljs-keyword">print</span> <span class="hljs-string">'for step size %f new loss: %f'</span> % (step_size, loss_new)

<span class="hljs-comment"># 输出:</span>
<span class="hljs-comment"># original loss: 2.200718</span>
<span class="hljs-comment"># for step size 1.000000e-10 new loss: 2.200652</span>
<span class="hljs-comment"># for step size 1.000000e-09 new loss: 2.200057</span>
<span class="hljs-comment"># for step size 1.000000e-08 new loss: 2.194116</span>
<span class="hljs-comment"># for step size 1.000000e-07 new loss: 2.135493</span>
<span class="hljs-comment"># for step size 1.000000e-06 new loss: 1.647802</span>
<span class="hljs-comment"># for step size 1.000000e-05 new loss: 2.844355</span>
<span class="hljs-comment"># for step size 1.000000e-04 new loss: 25.558142</span>
<span class="hljs-comment"># for step size 1.000000e-03 new loss: 254.086573</span>
<span class="hljs-comment"># for step size 1.000000e-02 new loss: 2539.370888</span>
<span class="hljs-comment"># for step size 1.000000e-01 new loss: 25392.214036</span></code></pre>



<h4 id="412-关于迭代的细节">4.1.2 关于迭代的细节</h4>

<p>如果大家仔细看上述代码的话，会发现我们step_size设的都是负的，确实我们每次update权重W的时候，是用原来的<code>W</code>减掉梯度方向的一个较小的值，这样损失函数才能减小。</p>



<h4 id="413-关于迭代的步长">4.1.3 关于迭代的步长</h4>

<p>我们计算得到梯度之后，就确定了幅度变化最快(负梯度是下降方向)的方向，但是它并没有告诉我们，我朝着这个方向，应该迈进多远啊。之后的章节会提到，选择正确的迭代步长(有时候我们也把它叫做<code>学习速率</code>)是训练过程中最重要(也是最让人头疼)的一个待设定参数。就像我想以最快的速度下山，我们能感知到最陡的方向，却不知道应该迈多大的步子。如果我们小步迈进，那确实每一步都能比上一步下降一些，但是速度太慢了亲！！但是如果我们以非常非常大的步伐迈进(假如腿巨长 -_-||)，那你猜怎么着，你一不小心可能就迈过山脚迈到另一座山山腰上了…</p>

<p>下图是对以上情况的一个描述和解释： <br />
</p><center> <br />
<img alt="梯度下降" src="http://cs231n.github.io/assets/stepsize.jpg" title="" /> <br />
</center> <br />
图上红色的值很大，蓝色的值很小，我们想逐步下降至蓝色中心。如果迈进的步伐太小，收敛和行进的速度就会很慢，如果迈进的步伐太大，可能直接越过去了。<p></p>



<h4 id="414-效率问题">4.1.4 效率问题</h4>

<p>如果你再回过头去看看上面计算数值梯度的程序，你会发现，这个计算方法的复杂度，基本是和我们的参数个数成线性关系的。这意味着什么呢？在我们的CIFAR-10例子中，我们总共有30730个参数，因此我们单次迭代总共就需要计算30731次损失函数。这个问题在之后会提到的神经网络中更为严重，很可能两层神经元之间就有百万级别的参数权重，所以，计算机算起来都很耗时…人也要等结果等到哭瞎…</p>



<h3 id="42-解析法计算梯度">4.2 解析法计算梯度</h3>

<p>数值梯度发非常容易实现，但是从公式里面我们就看得出来，梯度实际上是一个近似(毕竟你没办法把<code>h</code>取到非常小)，同时这也是一个计算非常耗时的算法。第二种计算梯度的方法是解析法，它可以让我们直接得到梯度的一个公式(代入就可以计算，非常快)，但是呢，不像数值梯度法，这种方法更容易出现错误。so，聪明的同学们，就想了一个办法，我们可以先计算解析梯度和数值梯度，然后比对结果和校正，在确定我们解析梯度实现正确之后，我们就可以大胆地进行解析法计算了(这个过程叫做<code>梯度检查/检测</code>)</p>

<p>我们拿一个样本点的SVM损失函数举例： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-29-Frame"><span class="math" id="MathJax-Span-645" style="width: 19.096em; display: inline-block;"><span style="display: inline-block; width: 15.256em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-646"><span class="msubsup" id="MathJax-Span-647"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-648" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-649" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-650" style="font-family: STIXGeneral-Regular;">=</span><span class="munderover" id="MathJax-Span-651"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-652">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="texatom" id="MathJax-Span-653"><span class="mrow" id="MathJax-Span-654"><span class="mi" id="MathJax-Span-655" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-656" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">≠</span><span class="msubsup" id="MathJax-Span-657"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-658" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-659" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mrow" id="MathJax-Span-660"><span class="mo" id="MathJax-Span-661"><span style="font-family: STIXSizeTwoSym;">[</span></span><span class="mo" id="MathJax-Span-662" style="font-family: STIXGeneral-Regular;">max</span><span class="mo" id="MathJax-Span-663" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-664" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-666"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-667" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-668" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-669" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-670"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-671" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-672" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-673" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-674"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-675" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-676" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-677"><span class="mrow" id="MathJax-Span-678"><span class="msubsup" id="MathJax-Span-679"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-680" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-681" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-682"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-683" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-684" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-685" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-686" style="font-family: STIXGeneral-Regular;">Δ</span><span class="mo" id="MathJax-Span-687" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-688"><span style="font-family: STIXSizeTwoSym;">]</span></span></span></span><span style="display: inline-block; width: 0px; height: 3.523em;"></span></span></span><span></span></span></span></div> <br />
我们可以求它对每个权重的偏导数，比如说，我们求它对<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame"><span class="math" id="MathJax-Span-689" style="width: 1.763em; display: inline-block;"><span style="display: inline-block; width: 1.389em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-690"><span class="msubsup" id="MathJax-Span-691"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-692" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-693"><span class="mrow" id="MathJax-Span-694"><span class="msubsup" id="MathJax-Span-695"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-696" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-697" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>的偏导，我们得到： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-31-Frame"><span class="math" id="MathJax-Span-698" style="width: 23.309em; display: inline-block;"><span style="display: inline-block; width: 18.616em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-699"><span class="msubsup" id="MathJax-Span-700"><span style="display: inline-block; width: 1.923em; height: 0px;"><span><span class="mi" id="MathJax-Span-701" style="font-family: STIXGeneral-Regular;">∇</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-702"><span class="mrow" id="MathJax-Span-703"><span class="msubsup" id="MathJax-Span-704"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-705" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-706"><span class="mrow" id="MathJax-Span-707"><span class="msubsup" id="MathJax-Span-708"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-709" style="font-size: 50%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span><span><span class="mi" id="MathJax-Span-710" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-711"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-712" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-713" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-714" style="font-family: STIXGeneral-Regular;">=</span><span class="mo" id="MathJax-Span-715" style="font-family: STIXGeneral-Regular;">−</span><span class="mrow" id="MathJax-Span-716"><span class="mo" id="MathJax-Span-717" style="vertical-align: 1.923em;"><span style="display: inline-block; width: 0.429em; height: 0px;"><span>⎛<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎝<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎜<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎜<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="munderover" id="MathJax-Span-718"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mo" id="MathJax-Span-719">∑</span><span style="display: inline-block; width: 0px; height: 2.989em;"></span></span><span><span class="texatom" id="MathJax-Span-720"><span class="mrow" id="MathJax-Span-721"><span class="mi" id="MathJax-Span-722" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-723" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">≠</span><span class="msubsup" id="MathJax-Span-724"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-725" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-726" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mn" id="MathJax-Span-727" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-728" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-729"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-730" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-731" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-732" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-733"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-734" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-735" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-736" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-737"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-738" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-739" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-740"><span class="mrow" id="MathJax-Span-741"><span class="msubsup" id="MathJax-Span-742"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-743" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-744" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-745"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-746" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-747" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-748" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-749" style="font-family: STIXGeneral-Regular;">Δ</span><span class="mo" id="MathJax-Span-750" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mn" id="MathJax-Span-751" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-752" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-753" style="vertical-align: 1.923em;"><span style="display: inline-block; width: 0.429em; height: 0px;"><span>⎞<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎠<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎟<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span>⎟<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span><span class="msubsup" id="MathJax-Span-754"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-755" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.483em;"></span></span></span><span></span></span></span></div> <br />
其中<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame"><span class="math" id="MathJax-Span-757" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-758"><span class="mn" id="MathJax-Span-759" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>是一个bool函数，在括号内的条件为真的时候取值为1，否则为0。看起来似乎很吓人，但实际上要写代码完成的话，你只需要计算不满足指定SVM最小距离的类(对损失函数有贡献的类)的个数，然后用这个值会对数据向量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame"><span class="math" id="MathJax-Span-760" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; width: 0.803em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-761"><span class="msubsup" id="MathJax-Span-762"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-763" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-764" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>做缩放即可得到梯度。但是要注意只是<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame"><span class="math" id="MathJax-Span-765" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; width: 0.909em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-766"><span class="mi" id="MathJax-Span-767" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>中对应正确的类别的列的梯度。对于其他的<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame"><span class="math" id="MathJax-Span-768" style="width: 3.043em; display: inline-block;"><span style="display: inline-block; width: 2.403em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-769"><span class="mi" id="MathJax-Span-770" style="font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-771" style="font-family: STIXGeneral-Regular;">≠</span><span class="msubsup" id="MathJax-Span-772"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-773" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-774" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的情况，梯度为： <br />
<span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-36-Frame"><span class="math" id="MathJax-Span-775" style="width: 18.403em; display: inline-block;"><span style="display: inline-block; width: 14.723em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-776"><span class="msubsup" id="MathJax-Span-777"><span style="display: inline-block; width: 1.549em; height: 0px;"><span><span class="mi" id="MathJax-Span-778" style="font-family: STIXGeneral-Regular;">∇</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="texatom" id="MathJax-Span-779"><span class="mrow" id="MathJax-Span-780"><span class="msubsup" id="MathJax-Span-781"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-782" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-783" style="font-size: 50%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-784"><span style="display: inline-block; width: 0.856em; height: 0px;"><span><span class="mi" id="MathJax-Span-785" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-786" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-787" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-788" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-789" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-790"><span style="display: inline-block; width: 1.229em; height: 0px;"><span><span class="mi" id="MathJax-Span-791" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-792" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-793" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-794"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-795" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-796" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-797" style="font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-798"><span style="display: inline-block; width: 1.336em; height: 0px;"><span><span class="mi" id="MathJax-Span-799" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-800" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-801"><span class="mrow" id="MathJax-Span-802"><span class="msubsup" id="MathJax-Span-803"><span style="display: inline-block; width: 0.589em; height: 0px;"><span><span class="mi" id="MathJax-Span-804" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mi" id="MathJax-Span-805" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-806"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-807" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-808" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-809" style="font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-810" style="font-family: STIXGeneral-Regular;">Δ</span><span class="mo" id="MathJax-Span-811" style="font-family: STIXGeneral-Regular;">&gt;</span><span class="mn" id="MathJax-Span-812" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-813" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-814"><span style="display: inline-block; width: 0.749em; height: 0px;"><span><span class="mi" id="MathJax-Span-815" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mi" id="MathJax-Span-816" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span></div></p>

<p>一旦得到梯度的表达式，那计算梯度和调整权重就变得非常直接和简单。熟练掌握如何在loss expression下计算梯度是非常重要的一个技巧，贯穿整个神经网络的训练实现过程，关于这个内容，下次会详细讲到。</p>



<h2 id="5-梯度下降">5. 梯度下降</h2>

<p>在我们有办法计算得到梯度之后，使用梯度去更新已有权重参数的过程叫做『梯度下降』，伪代码其实就是如下的样子：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
  weights_grad = evaluate_gradient(loss_fun, data, weights)
  weights += - step_size * weights_grad <span class="hljs-comment"># 梯度下降更新参数</span></code></pre>

<p>这个简单的循环实质上就是很多神经网络库的核心。当然，我们也有其他的方式去实现最优化(比如说L-BFGS)，但是梯度下降确实是当前使用最广泛，也相对最稳定的神经网络损失函数最优化方法。</p>



<h3 id="51-mini-batch-gradient-descent">5.1 Mini-batch gradient descent</h3>

<p>在大型的应用当中(比如ILSVRC)，训练数据可能是百万千万级别的。因此，对整个训练数据集的样本都算一遍损失函数，以完成参数迭代是一件非常耗时的事情，一个我们通常会用到的替代方法是，采样出一个子集在其上计算梯度。现在比较前沿的神经网络结构基本都是这么做的，例如ConvNets是每256张作为一个batch去完成参数的更新。参数更新的代码如下：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
  data_batch = sample_training_data(data, <span class="hljs-number">256</span>) <span class="hljs-comment"># 抽样256个样本作为一个batch</span>
  weights_grad = evaluate_gradient(loss_fun, data_batch, weights)
  weights += - step_size * weights_grad <span class="hljs-comment"># 参数更新</span></code></pre>

<p>之所以可以这么做，是因为训练数据之间其实是关联的。我们简化一下这个问题，你想想，如果ILSVRC中的120w图片，如果只是1000张不同的图片，一直复制1200次得到的。那么其实我们在这1000张图片上算得的损失函数和120w的平均其实是一致的。当然，当然，在实际场景中，我们肯定很少遇到这种多次重复的情况，但是原数据的一个子集(mini-batch)上的梯度，其实也是对整体数据上梯度的一个很好的近似。因此，只在mini-batch上计算和更新参数，会有快得多的收敛速度。</p>

<p>上述算法的一个极端的情况是，如果我们的一个mini-batch里面只有一张图片。那这个过程就变成<strong>『随机梯度下降/Stochastic Gradient Descent (SGD)』</strong>，说起来，这个其实在实际应用中倒也没那么常见，原因是向量化之后，一次计算100张图片，其实比计算一张图片100次，要快得多。所以即使从定义上来说，SGD表示我们用一张图片上的梯度近似全局梯度，<strong>但是很多时候人们提到SGD的时候，其实他们指的是mini-batch梯度下降</strong>，也就是说，我们把一个batch当做1份了。额，还要稍微提一句的是，有些同学可能会问，这个batch size本身不是一个需要实验的参数吗，取多大的batch size好啊？但实际应用中，我们倒很少会用cross-validation去选择这个参数。这么说吧，我们一般是基于我们内存限制去取这个值的，比如设成100左右。</p>



<h2 id="6-总结">6. 总结</h2>

<ul>
<li>把损失函数在各参数上的取值，想象成我们所在山峰的高度。那么我们要<strong>最小化损失函数</strong>，实际上就是『要想办法下山』。</li>
<li>我们采取的下山策略是，<strong>一次迈一小步，只要每次都往下走了，那么最后就会到山底</strong>。</li>
<li>梯度对应函数变化最快的方向，负梯度的方向就是我们下山，环顾四周之后，发现最陡的下山路方向。</li>
<li>我们的<strong>步长(也叫学习率)，会影响我们的收敛速度(下山速度)</strong>，如果步伐特别特别大，甚至可能跃过最低点，跑到另外一个高值位置了。</li>
<li>我们用<strong>mini-batch的方式，用一小部分的样本子集，计算和更新参数</strong>，减少计算量，加快收敛速度。</li>
</ul>
            <div>
                作者：yaoqiang2011 发表于2015/12/4 18:58:03 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50178505">原文链接</a>
            </div>
            <div>
            阅读：18487 评论：2 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50178505#comments" target="_blank">查看评论</a>
            </div>
[原]手把手入门神经网络系列(1)_从初等数学的角度初探神经网络
<p>作者： <a href="http://blog.csdn.net/longxinchen_ml?viewmode=contents">龙心尘</a>&amp;&amp;<a href="http://blog.csdn.net/han_xiaoyang?viewmode=contents">寒小阳</a>  <br />
时间：2015年11月。 <br />
出处：<a href="http://blog.csdn.net/longxinchen_ml/article/details/50082873">http://blog.csdn.net/longxinchen_ml/article/details/50082873</a>， <br />
 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50100367">http://blog.csdn.net/han_xiaoyang/article/details/50100367</a> <br />
声明：版权所有，转载请联系作者并注明出处，谢谢。</p>



<h2 id="1开场先扔个段子">1.开场先扔个段子</h2>

<blockquote>
  <p>在互联网广告营销中，经常会有这样的对话：  <br />
  问：你们的人群标签是什么样的？ <br />
  答：我们是专门为您订制的look-alike标签！ <br />
  问：好吧，你们的定向算法能不能说明一下？ <br />
  答：我们用的是deep learning技术！</p>
  
  <p>一般来说，话题到此，广告主会因为自己理论知识的匮乏而羞愧得无地自容。唯一的办法就是先透过投放广告的方式先学习起来。 <br />
  ——刘鹏《广告技术公司十大装逼姿势》</p>
</blockquote>

<p>像<strong>deep learning、DNN、BP神经网络</strong>等这些高逼格的词，真的很能吓唬人，但真正的内容什么，很多人却解释得不多，要么说得太晦涩，要么说得太神叨。其实，就我们的粗浅了解，神经网络、深度学习啥的，入门还是很容易的。如果去除外面浮夸的包装，它们的理论基础也相当直白。当然这并不是说神经网络不难，它们真正难的地方是在实践方面，但这也是有方法可处理的。为了浅显易懂地给大家解释这个过程，我们开设了<strong>“手把手入门神经网络系列”</strong>。 <br />
在本篇文章中，我们依然少用公式多画图，只用初等数学的知识解释一下神经网络。</p>



<h2 id="2神经网络有什么牛逼之处">2.神经网络有什么牛逼之处？</h2>

<p>机器学习算法这么多，为什么神经网络这么牛逼？ <br />
为了解释这个问题，我们呈现了神经网络在分类问题上优于逻辑回归的地方——它几乎可以实现任意复杂的分类边界，无误差地实现训练集上的分类。 <br />
然而，这是有代价的：由于其强大的拟合能力，极容易产生过拟合。为了降低过拟合，我们介绍了一种降低过拟合的思路。 <br />
在这个过程中，我们尽量解释神经网络每一步操作对应的现实意义和最终目的。可是，神经网络的可解释性往往是个非常大的难题。为此，我们采用了最易于理解的“交集”（逻辑与）、“并集”（逻辑或）神经网络，希望能帮助大家进行启发式理解。 <br />
但是，神经网络的问题并没有解决完。之后，我们引出了用神经网络的一些典型问题，我们将在接下来的系列文章对其进行深入探讨。</p>



<h2 id="3从逻辑回归到神经网络">3.从逻辑回归到神经网络</h2>

<p>神经网络主要应用场景之一是分类，我们之前博文中提到的<a href="http://blog.csdn.net/han_xiaoyang/article/details/49332321">逻辑回归</a>也是解决分类问题的一类机器学习算法，有趣的是，实际上两者有着很紧密的关系，而逻辑回归作为帮助我们理解神经网络的切入口也是极好的，所以我们先从逻辑回归开始。看过本我们前文<a href="http://blog.csdn.net/han_xiaoyang/article/details/49332321">《机器学习系列(2)_用初等数学解读逻辑回归》</a>的读者盆友应该会有个印象，逻辑回归可以理解成将空间中的点经过一系列几何变换求解损失函数而进行分类的过程，具体过程如图： <br />
<img alt="逻辑回归" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image002.jpg" title="" /> <br />
具体分析一下我们所求的“参数”  的几何意义，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"><span class="math" id="MathJax-Span-1" style="width: 3.896em; display: inline-block;"><span style="display: inline-block; width: 3.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-2"><span class="mo" id="MathJax-Span-3" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-4"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-5"><span class="mrow" id="MathJax-Span-6"><span class="mo" id="MathJax-Span-7" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-8" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-9" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-11"><span class="mrow" id="MathJax-Span-12"><span class="mo" id="MathJax-Span-13" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-14" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-15" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>就是图中法向量p的方向，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame"><span class="math" id="MathJax-Span-16" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-17"><span class="msubsup" id="MathJax-Span-18"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-19"><span class="mrow" id="MathJax-Span-20"><span class="mo" id="MathJax-Span-21" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-22" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span> 对应着法向量p的起点距离坐标系原点的偏移。在神经网络中，向量<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame"><span class="math" id="MathJax-Span-23" style="width: 3.896em; display: inline-block;"><span style="display: inline-block; width: 3.096em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-24"><span class="mo" id="MathJax-Span-25" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-26"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-27"><span class="mrow" id="MathJax-Span-28"><span class="mo" id="MathJax-Span-29" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-30" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-31" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-32"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-33"><span class="mrow" id="MathJax-Span-34"><span class="mo" id="MathJax-Span-35" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-36" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-37" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>也叫做权重，常用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame"><span class="math" id="MathJax-Span-38" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; width: 0.696em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-39"><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>表示；<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame"><span class="math" id="MathJax-Span-41" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; width: 1.016em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-42"><span class="msubsup" id="MathJax-Span-43"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-44"><span class="mrow" id="MathJax-Span-45"><span class="mo" id="MathJax-Span-46" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-47" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span></span></span></span>就叫做偏移，常用<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame"><span class="math" id="MathJax-Span-48" style="width: 0.696em; display: inline-block;"><span style="display: inline-block; width: 0.536em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-49"><span class="mi" id="MathJax-Span-50" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>表示。 <br />
而上面的逻辑回归过程，用神经元的表达方式如下，这就是传说中的“感知器”： <br />
 <img alt="感知器" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image004.jpg" title="" /> <br />
其中，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame"><span class="math" id="MathJax-Span-51" style="width: 11.683em; display: inline-block;"><span style="display: inline-block; width: 9.336em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-52"><span class="mi" id="MathJax-Span-53" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-54" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-55"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-56"><span class="mrow" id="MathJax-Span-57"><span class="mo" id="MathJax-Span-58" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-59" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-61"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-62"><span class="mrow" id="MathJax-Span-63"><span class="mo" id="MathJax-Span-64" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-65" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-66"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-67" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-68" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-69" style="font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-70"><span style="display: inline-block; width: 0.963em; height: 0px;"><span><span class="texatom" id="MathJax-Span-71"><span class="mrow" id="MathJax-Span-72"><span class="mo" id="MathJax-Span-73" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-74" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-75"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-76" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-77" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame"><span class="math" id="MathJax-Span-78" style="width: 8.749em; display: inline-block;"><span style="display: inline-block; width: 6.989em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-79"><span class="mi" id="MathJax-Span-80" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-81" style="font-family: STIXGeneral-Regular;">=</span><span class="mi" id="MathJax-Span-82" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-83" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-85" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-86" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-87"><span style="display: inline-block; width: 2.029em; height: 0px;"><span><span class="mn" id="MathJax-Span-88" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="mrow" id="MathJax-Span-89"><span class="mn" id="MathJax-Span-90" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-91" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-92"><span style="display: inline-block; width: 1.069em; height: 0px;"><span><span class="mi" id="MathJax-Span-93" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span class="texatom" id="MathJax-Span-94"><span class="mrow" id="MathJax-Span-95"><span class="mo" id="MathJax-Span-96" style="font-size: 50%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-97" style="font-size: 50%; font-family: STIXGeneral-Italic;">z</span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span><span><span style="border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span> ，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame"><span class="math" id="MathJax-Span-98" style="width: 2.029em; display: inline-block;"><span style="display: inline-block; width: 1.603em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-99"><span class="mi" id="MathJax-Span-100" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-101" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-102" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-103" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>叫做激励函数 <br />
逻辑回归的激励函数自然就是sigmoid函数，输出值a对应着输入样本点<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame"><span class="math" id="MathJax-Span-104" style="width: 4.803em; display: inline-block;"><span style="display: inline-block; width: 3.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-105"><span class="mi" id="MathJax-Span-106" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-107" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-108"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-109" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-110" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-111" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-112"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-114" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>在法向量p所指向的那部分空间的概率。<strong>本文为了兼容逻辑回归，只考虑sigmoid函数作为激励函数的情况</strong>，而且这也是工业界最常见的情况。其他激励函数的选择将会在后面系列文章继续介绍。 <br />
<strong>补充说明一下</strong>，以上只是为了表示清晰而这样画神经网络。在一般的神经网络画法中，激励函数的操作节点会与输出节点写成同一个节点，如下图： <br />
  <img alt="感知器二" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image008.jpg" title="" /> <br />
好了，到此为止，神经网络相对于逻辑回归没有提供任何新的知识，<strong>就是换了个花样来表示</strong>。 <br />
<strong>但神经网络这样表示有个重大的作用：它方便我们以此为基础做逻辑回归的多层组合嵌套</strong>——比如对同样的输入<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame"><span class="math" id="MathJax-Span-116" style="width: 4.803em; display: inline-block;"><span style="display: inline-block; width: 3.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-117"><span class="mi" id="MathJax-Span-118" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-119" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-120"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-121" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-122" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-123" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-124"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-125" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-126" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-127" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>可以同时做n个逻辑回归，产生n个输出结果，这就是传说中的“单层感知器”或者叫“无隐层神经网络”。示意图如下： <br />
 <img alt="无隐层感知器" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image009.jpg" title="" /> <br />
你还可以对n个逻辑回归的n个输出再做m个逻辑回归，这就是传说中的<strong>“单隐层神经网络”</strong>。示意图如下： <br />
<img alt="单隐层感知器" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image010.jpg" title="" /> <br />
如果你愿意，可以继续做下去，子子孙孙无穷匮也： <br />
 <img alt="多隐层" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image012.jpg" title="" /> <br />
最左边的层叫做输入层，最右边的层叫做输出层，二者之间的所有层叫做隐藏层。 <br />
如果层数比较少，就是传说中的SNN(shallow nerual network) “浅层神经网络”；如果层数比较多，就是传说中的DNN(Deep Neural Networks) “深度神经网络”。对“浅层神经网络”的建模叫做“浅层学习”，那么对于“深度神经网络”……“深度学习”！ <br />
恭喜你已经会抢答了！ <br />
到目前为止，我们没有运用任何更多的数学知识，就已经收获了一大批装逼术语。 <br />
如果你愿意，把上面的所有情况叫做“逻辑回归的逻辑回归的逻辑回归的逻辑……”，我也觉得蛮好哈。（喘不过气来了……）</p>



<h2 id="4双隐层神经网络彻底实现复杂分类">4.双隐层神经网络彻底实现复杂分类</h2>

<p>我们之前已经探讨过，逻辑回归的比较擅长解决线性可分的问题。对于非线性可分的问题，逻辑回归有一种运用复杂映射函数的思路，<strong>但这种思路只做了一次（非线性的）几何变换</strong>，就得到了线性可分的情形。可参考下图: <br />
 <img alt="几何变换非线性" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image014.jpg" title="" /> <br />
<strong>神经网络的视角则给我们提供了另一种思路，可以连续做几次的几何变换，每次变换都是一些极简单的逻辑回归，最终达到线性可分情形。</strong>看起来似乎很不错哦。比如下面这个貌似很简单的问题，我们怎么找出他的分离边界？ <br />
 <img alt="异或" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image015.jpg" title="" /> <br />
发现无论怎么用一条直线切都不行。<strong>那么两条直线行不行？</strong> <br />
 <img alt="异或二" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image016.jpg" title="" /> <br />
这么看确实是可以的，<strong>我们只需要把两个”半平面”取交集就可以找到一个楔形区域</strong>的非线性分离边界了，而且并不是唯一的解。因此我们发现如果允许对同一个输入做多种不同的逻辑回归，再对这些结果取交集，就可以解决很大一部分非线性可分问题。 <br />
那么，对于取交集怎么用逻辑回归表达？我们考虑两个输入的情况，每一个输入是样本点<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame"><span class="math" id="MathJax-Span-164" style="width: 4.803em; display: inline-block;"><span style="display: inline-block; width: 3.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-165"><span class="mi" id="MathJax-Span-166" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-167" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-168"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-169" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-170" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-171" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-172"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-173" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-174" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-175" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>属于某一个”半平面”的概率，取交集意味着该样本点属于两个”半平面”的概率均接近于1，可以用一条直线将其区分开来。 <br />
可见，<strong>对于交集运算，通过选取合适的权重和偏移，就可以得到一个线性的分离边界</strong>。这也就是所谓用神经元实现“逻辑与”运算，这是神经网络的一个常见应用： <br />
 <img alt="逻辑与" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image020.jpg" title="" /></p>

<p>以上过程如果用神经网络来展现的话，可以设计成一个单隐层神经网络，每层的节点数依次为：3、3、1，如下如图： <br />
<img alt="单隐层神经网络" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_2015-11-30_221922.jpg" title="" /> <br />
解释下每一层的作用： <br />
1.  第一层是输入层，对应着每一个输入的二维样本点<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame"><span class="math" id="MathJax-Span-176" style="width: 4.803em; display: inline-block;"><span style="display: inline-block; width: 3.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-177"><span class="mi" id="MathJax-Span-178" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-179" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-180"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-181" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-182" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-184"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-185" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-186" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-187" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的2个输坐标和1个辅助偏移的常量“1”，总共3个节点。 <br />
2.  第二层是第一层的输出层，每个节点对应着输入样本点属于某个”半平面”的概率，<strong>该”半平面”的正向法向量就对应着输入层（输入样本点坐标）到该节点的权重w和偏移b</strong>。为了定位中间这2个X点，我们围绕它们上下切2刀，<strong>用2个”半平面”相交产生的楔形开放凸域定位这2个X点</strong>，所以这一层对应着总共产生了的2个”半平面”，有2个节点。第二层同时也是第三层的输入层，要考虑再加上求第三层节点时要用的1个辅助偏移的常量节点“1”，第二层总共有2+1=3个节点。 <br />
3. 第三层是第二层也是整体的输出层，<strong>输出节点对应着输入样本点属于楔形开放凸域的概率，也就是与这2个X点属于同一类的概率。</strong> <br />
但是这种方法有局限，这些直线分割的”半平面”取的交集都有个特点，用专业的说法<strong>“都是凸域的”——其边界任意两点的连线都在域内。</strong>如下图各个色块，每一个色块都是一个凸域。 <br />
 <img alt="凸域" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image018.jpg" title="" /> <br />
单独一个凸域的表现能力可能不是很强，无法构造一些非凸域的奇怪的形状。于是我们考虑是不是把n个凸域<strong>并在一起</strong>，这样就可以组成任意非凸域的奇葩的形状了：如上图所有彩色色块拼起来的区域。那对应于神经元是怎么一个操作？……<strong>再加一层，取他们的并集</strong>！ <br />
恭喜你又会抢答了。 <br />
而取并集就意味着该样本点属于两个”半平面”的概率至少有一个接近于1，也可以用一条直线将其区分开来。 <br />
可见，<strong>对于并集运算，通过选取合适的权重和偏移，也可以得到一个线性的分离边界</strong>。这就是所谓用神经元实现“逻辑或”运算，这也是神经网络的一个常见应用： <br />
 <img alt="逻辑或" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image022.jpg" title="" /></p>

<p>我们用一下这张图总结上面所说的内容，一图胜千言唉： <br />
 <img alt="神经网络表达全图" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_2015-11-28_235750.jpg" title="" /> <br />
数学家们经过<strong>严格的数学证明，双隐层神经网络能够解决任意复杂的分类问题</strong>。</p>



<h2 id="5以三分类问题为例演示神经网络的统一解法">5.以三分类问题为例演示神经网络的统一解法</h2>

<p>对于一切分类问题我们都可以有一个统一的方法，只需要两层隐藏层。以下面这个3分类问题为例： <br />
<img alt="三分类" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image026.jpg" title="" /> <br />
<strong>我们通过取”半平面”、取交集生成精确包含每一个样本点的凸域（所以凸域的个数与训练集的样本的个数相等），再对同类的样本点的区域取并集，这样无论多复杂的分离界面我们可以考虑进去。</strong>于是，我们设计双隐层神经网络结构如下，每一层的节点数依次为：3、25、7、3: <br />
 <img alt="网络结构" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image028.jpg" title="" /> <br />
解释下每一层的作用： <br />
1.  第一层是输入层，对应着每一个输入的二维样本点<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame"><span class="math" id="MathJax-Span-188" style="width: 4.803em; display: inline-block;"><span style="display: inline-block; width: 3.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-189"><span class="mi" id="MathJax-Span-190" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-191" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-192"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-193" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-194" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-196"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-197" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-198" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-199" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的2个输坐标和1个辅助偏移的常量“1”，总共3个节点。 <br />
2.  第二层是第一层的输出层，每个节点对应着输入样本点属于某个”半平面”的概率，<strong>该”半平面”的正向法向量就对应着输入层（输入样本点坐标）到该节点的权重w和偏移b</strong>。为了精确定位总共这6个点，我们围绕每个点附近平行于坐标轴切4刀，<strong>用四个”半平面”相交产生的方形封闭凸域精确包裹定位该点</strong>，所以这一层对应着总共产生了的4*6=24个”半平面”，有24个节点。第二层同时也是第三层的输入层，要考虑再加上求第三层节点时要用的1个辅助偏移的常量节点“1”，第二层总共有24+1=25个节点。 <br />
3. 第三层是第二层的输出层，每个节点对应着输入样本点属于第二层区分出来的某4个”半平面”取交集形成的某个方形封闭凸域的概率，故总共需要24/4=6个节点。<strong>因为采用我们的划分方式，只需要四个”半平面”就可以精确包裹某一个样本点了，我们认为其他的”半平面”贡献的权重应该为0，就只画了生成该凸域的四个”半平面”给予的权重对应的连线，其他连线不画。</strong>第三层同时也是第四层的输入层，要考虑再加上求第四层节点时要用的1个辅助偏移的常量节点“1”，第三层总共有6+1=7个节点。 <br />
4. 第四层是第三层的输出层，每个节点对应着输入样本点属于某一类点所在的所有区域的概率。为找到该类的区分区域，对第三层属于同一类点的2个凸域的2个节点取并集，故总共需要6/2=3个节点。（<strong>同样，我们不画其他类的凸域贡献的权重的连线</strong>） <br />
<strong>小结一下就是先取”半平面”再取交集最后取并集</strong>。 <br />
如果看文字太累，请看下图。只可惜图太小，省略了很多节点，请见谅。如果觉得还是有些问题，欢迎在评论区中参与讨论哈。 <br />
 <img alt="神经网络全图" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_2015-11-30_214415.jpg" title="" /></p>



<h2 id="6一种降低过拟合的方法">6.一种降低过拟合的方法</h2>

<p>我们的确有了一个统一的解法。但估计很多同学看到还没看完就开始吐槽了：“总共也就6个样本，尼玛用了32个隐藏节点，训练111个（24*3+6*5+3*3）参数，这过拟合也太过分了吧!” <br />
的确如此，这个过拟合弄得我们也不忍直视。如果我们多增加几个样本，就会发现上面训练出来的模型不够用了。 <br />
 <img alt="过拟合" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image031.jpg" title="" /></p>

<p><strong>通过这个反面教材我们发现，神经网络是特别容易过拟合的。而如何降低过拟合就是神经网络领域中一个非常重要的主题，后面会有专文讨论。</strong>本例只是简单应用其中一个方法——就是降低神经网络的层数和节点数。 <br />
我们仔细观察样本点的分布，发现<strong>每两个类别都可以有一条直线直接将它们分开，这是所谓的one-vs-one的情况，用三条直线就可以完全将这些类别区分开来</strong>。 <br />
 <img alt="三线分离" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image032.jpg" title="" /></p>

<p>相应的，我们只需要<strong>求出每两个类别的分离直线，找出每个类别所属的两个半平面，对它们求一个交集就够了</strong>。神经网络结构如下： <br />
 <img alt="三线分类" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image034.jpg" title="" /></p>

<p>解释下每一层的作用： <br />
1. 第一层是输入层，对应着每一个输入的二维样本点<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame"><span class="math" id="MathJax-Span-200" style="width: 4.803em; display: inline-block;"><span style="display: inline-block; width: 3.843em; height: 0px; font-size: 125%;"><span><span class="mrow" id="MathJax-Span-201"><span class="mi" id="MathJax-Span-202" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-204"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-205" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-206" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-208"><span style="display: inline-block; width: 1.123em; height: 0px;"><span><span class="mi" id="MathJax-Span-209" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span><span class="mn" id="MathJax-Span-210" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.403em;"></span></span></span></span><span class="mo" id="MathJax-Span-211" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span></span></span></span>的2个输坐标和1个辅助偏移的常量“1”，总共3个节点。 <br />
2. 第二层是第一层的输出层，每个节点对应着输入样本点属于某个”半平面”的概率，该”半平面”的正向法向量就对应着输入层（输入样本点坐标）到该节点的权重w和偏移b。因为3个”半平面”足以定位每一个类型的区域，所以这一层有3个节点。第二层同时也是第三层的输入层，要考虑再加上求第三层节点时要用的1个辅助偏移的常量节点“1”，第二层总共有3+1=4个节点。 <br />
3. 第三层是第二层的输出层，<strong>每个节点对应着输入样本点属于第二层区分出来的某2个”半平面”取交集形成的某个开放凸域的概率。我们同样认为其他的”半平面”贡献的权重应该为0，就只画了生成该凸域的2个”半平面”给予的权重对应的连线，其他连线不画。只是这里与上面例子的情况有一点小小的不同，因为一个分离直线可以区分出两个“半平面”，两个“半平面”都被我们的利用起来做交集求凸域，故每个第二层的节点都引出了两条权重的连线到第三层</strong>。而这取交集的结果足以定位每一个类型的区域，因此第三层也就是总体的输出层。故第三层总共需要3个节点。 <br />
在这里，我们<strong>只用了1个隐藏层4个节点</strong>就完成了分类任务，能够识别的样本还比之前多。效果是很明显的。 <br />
从以上推导我们可以得出一个启发式的经验<strong>:通过适当减少神经元的层数和节点个数，可以极大地提高计算效率，降低过拟合的程度。</strong>我们会在另一篇文章中有更加全面系统的论述。</p>



<h2 id="7然而问题真的解决了吗">7.然而，问题真的解决了吗？</h2>

<p>其实并没有。</p>

<ul>
<li><p>我们凭什么知道上面改进的模型还有没有<strong>过拟合</strong>？</p>

<blockquote>
  <p>其实我们并不知道。因此我们需要<strong>更加科学客观的方法进行评估模型</strong>。</p>
</blockquote></li>
<li><p><strong>降低神经网络过拟合</strong>的方式有哪些？</p></li>
<li><p>我们凭什么知道我们的<strong>节点数</strong>和<strong>隐藏层个数</strong>的选择是合适的？</p>

<blockquote>
  <p>我们刚才只是直接是画出了分界线和相应的神经元组合。问题是，很多时候你并不知道样本真实的分布，并不知道需要多少层、多少个节点、之间的链接方式怎样。</p>
</blockquote></li>
<li><p><strong>我们怎么求出这些（超）参数</strong>呢？</p></li>
<li><p>假设我们已经知道了节点数和隐藏层数，我们怎么求这些神经元的<strong>权重</strong>和<strong>偏移</strong>呢？</p></li>
<li><p>最常用的最优化的方法是梯度下降法。求梯度就要求<strong>偏导数</strong>，但是你怎么求每一个权重和偏移的偏导数呢？</p></li>
<li><p>假设我们已经知道了传说中的<strong>BP算法，也就是反向传播算法来求偏导数</strong>。但是对于稍微深一点的神经网络，这种方法可能会求出一些很<strong>奇葩的偏导数，跟真实的偏导数完全不一样，导致整个模型崩溃。</strong>那么我们怎么处理、怎么预防这样的事情发生呢？</p></li>
<li><p>为什么神经网络这么难以训练？</p></li>
<li><p>除掉逻辑回归类型对应的sigmoid激励函数神经元，还有很多其他的激励函数，<strong>我们对不同的问题，怎么选择合适的激励函数</strong>？</p></li>
<li><p>神经网络还有其他的表示形式和可能性吗？</p></li>
<li><p><strong>怎样选择不同的神经网络类型去解决不同的问题？</strong> <br />
…….</p></li>
<li>其实，本文举例中将后几层的神经网络直接解释成做交集、并集的“与”、“或”逻辑运算，<strong>这些技术很早就出现了，神经网络依然只是对它们的包装，并不能显示神经网络有多强大。神经网络的独特特点是它能够自动调整到合适的权重，不拘泥于交集、并集等逻辑运算对权重的限制。而神经网络真正的威力，是它几乎可以拟合一切函数。</strong>它为什么这么牛？怎么解释神经网络的拟合特性呢？能不能形象地解释一下？也将是我们下一步需要探讨的问题。 <br />
…… <br />
可见，神经网络深度学习有很多问题还没有解决。我们会在接下来的文章中一一与大家探讨。 <br />
但是这么多问题从哪入手？其实，我们觉得，直接给大家一个栗子，解决一个真实的问题，可能更容易理解。所以下一篇文章我们将给大家演示怎么用神经网络计算解决问题，并做进一步的启发式探讨。而且，我们将会发码——让大家之间<strong>在自己的电脑上运行python代码——来进行手写数字的识别。</strong>你们猜猜代码有多短？<strong>只有74行!</strong></li>
</ul>



<h2 id="8附本系列文章的逻辑体系图">8.附：本系列文章的逻辑体系图</h2>

<p><img alt="逻辑体系" src="http://7xnkcs.com1.z0.glb.clouddn.com/longxinchen_1128_image036.jpg" title="" /></p>
            <div>
                作者：yaoqiang2011 发表于2015/11/29 22:11:12 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50100367">原文链接</a>
            </div>
            <div>
            阅读：12122 评论：3 <a href="http://blog.csdn.net/han_xiaoyang/article/details/50100367#comments" target="_blank">查看评论</a>
            </div>
如何提高建筑设计的能力和审美？
不邀自来，我也一直在反思自己学生时代的所谓设计思维。<br />抄是绝对没有错的，大量的涉猎会对一个人的眼界有很大的扩展，其实学生作业是非常有意思的。意味着几乎没有限制，大胆的发掘自己的思维，我想题主最大的困惑就是没有感觉到自己的思维或者进行不下去吧。<br />我个人意见是这样，首先，接到一个作业题目比如社区活动中心，请不要直接暴力的上百度收索关键词然后开始看开始抄。<br />我个人更喜欢先适当的分析一下这个题目的建筑，并不是直接想这个建筑应该长什么样，那是后面的问题。<br />因为建筑始终是人的行为方式的呈现，所以这个建筑的灵魂就在于你分析后希望的行为方式了。当然我所说的只是一种切入点，然后请你罗列出行为来，其实这有点话泡泡图了，行为大多数指功能了，不要画流线。儿童要游玩，滑梯等等，社区需要绿色通行所以变成自行车集散中心，老人需要各种小的空间但是最好能在一个统一的屋顶下。或者是与优美自然环境的协调。<br />然后你便会发现似乎有好几个重要的点支撑着你这个方案 方案一：是以儿童的行为支撑设计的，在屋顶做一个又大又自由的滑梯，加上覆土绿色屋顶，一个中庭加上几颗大树，在攀爬的过程中可以有连接到周边空间。<br />方案二：以绿色出行为支撑的，把社区活动中心看成是一个类似交通站，因为可以提供绿色的出行，可以在建筑周边设置各种停放自行车的覆土壳体，各种与环境协调的小体量，还可以设计有坡度变化形态自然的自行车道。<br />方案三：以形体组合如何形成社区感为出发，设置一堆简单的体量 然后用一个整体的屋顶连接，多推敲形体之间空白的空间如何使用等等。<br />方案四：以周边环境为出发：提取等高线、绿化带、山的形态、地的形态等等元素。抽象成线条、面、体等等，抽象后进行组合，比如一序列与等高线相对应的墙体，透明、遮蔽的序列变化等等。<br />上述是我在打字中想到的，而且几乎不占用功能面积，依旧可以排布功能房间也可以合理的去调整任务书的功能房间。<br />其实我所说的是在没有思维的时候更需要找到一个点去支撑一个建筑。其实上述的点基本决定了建筑大体的形式。而这些点又很简单，只是人的行为方式，你希望发生的行为方式。带些乌托邦、带些绿色、带些公共性你会发现这个建筑越做越独特。<br />然后在寻找案例，现在你的思维便可以去寻找一些固定形式的建筑了，你会发现上述几个方案都有很成功的例子，方案一：Pinch社区图书馆 方案二：世博会丹麦馆 方案三：藤本壮介 情绪障碍儿童短期治疗中心 方案四：中国美院博物馆<br />好了。到这一点我想说的是你先要找到一个支撑你方案的点。当然可以是更牛掰的理念甚至是参数化，我这里说的只是在没有思路和你完全不能切入设计时，那么想想这些细小的行为方式，他们可以为你带来收获。<br />有了行为方式就有了大体的蓝图。记录下他们，开始分析行为方式了。行为方式不是简单的流线，我希望你能理解它，它更是一种空间组织。你要去实现它，不要一上来就走道式，用更有意思的组织方式去组织功能空间，来完善你的理念。认真思考过的空间组织往往可以让平面出彩，一定要多学学大师们的平面，注意边界、交接和环境的关系等。<br />最后就是细节，细节包含很多，材质。在你无法hold住多种色系质感材质时请尽量用混泥土、橡木松木、白墙、青砖青瓦等…常见的灰调材料，效果图根据建筑的质量来定，轻的建筑要优雅朦胧…细节还有就是开窗啊、墙体屋顶交接啊、踏步啊、扶手啊和一些构件的精细程度啊。<br />不要放一些低级的错误，比如丑的无法拯救的比例，完全不合理的开洞形式，比例材质不协调的屋顶等等。还有，寻找一套适合自己风格的样式，好的图纸会使你的设计更好，好的图纸更能培养你对建筑的审美。<br />总之，建筑需要一个支撑的框架，就是我们说的切题的点，一个框架。然后仔细分析过的空间组织就是这个框架，最后精美的，值得推敲的细部来让建筑从表象上更加出彩。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/a-shan-48-69?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Fibonacci</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/27081588/answer/53617938?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">5 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/31187557?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">sketchup 做剖透视图 渲染不了？</a><br />
            
<a href="http://www.zhihu.com/question/30467275?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">在建筑师的眼中，什么是好的医院建筑？</a><br />
有哪些公共建筑看上去是令人有距离感，实际空间使用体验是出乎意料的好？
谢邀，本人非设计非建筑出生，就粗浅地分享俩我以为切题的。各大神随意拍砖。<br /><br />1. The Memorial to the Murdered Jews of Europe (中文硬翻叫“在欧洲被屠杀的犹太人纪念‘地’”；德语原文叫 Denkmal für die ermordeten Juden Europas)<br /><br />很有争议的一组抽象艺术公共建筑群，建于约10年前，二战结束六十周年之际。地处柏林旅游胜地，离开勃兰登堡门很近很近，周边为人熟知的还有德国上、下议院。（自己拍的照片全部丢失，找了些网上差不多的，侵立删）<br /><p><img src="https://pic2.zhimg.com/9a53f0df1ba0d572aadea52008439ee5_b.jpg?rss" /></p>（来源维基）<br />这里没有遇害者名字，也几乎没有文字说明，开放的空间只有一处尽头竖着“纪念地”的标识。更鲜有人知其底下还有一处博物馆。这片建筑群给人感觉单调、整齐、错落、突兀……在不同环境下又令人遐想联翩。<br /><p><img src="https://pic4.zhimg.com/1e86ac7d82e4511ff7a218b23b37787f_b.jpg?rss" /></p>（来源维基）<br />比如在冬天，这样的几何结构让一些人联想到棺材和墓地。<br />－－－－－－－－－－<br />好了，下面谈实际空间使用体验，这就奇了，每种人都能在这里找到乐趣。仿佛是设计师Eisenmann的独具匠心（嘿，他就是不明确告诉你这片公共建筑的建造意图，就是让你们自己去体会和使用）。<br /><p><img src="https://pic4.zhimg.com/82009def70141fe1517700adb8863153_b.jpg?rss" /></p>（来源百度）<br />带有目的性来缅怀的，或去过博物馆的人，来到此处会感到很压抑（就像去过南京大屠杀纪念馆一样，记得当时抑郁了两周）<br /><p><img src="https://pic3.zhimg.com/7b73328e4981b80095d19fdb3e746eca_b.jpg?rss" /></p>（来源维基）<br />或成为儿童捉迷藏的胜地<br /><p><img src="https://pic4.zhimg.com/064e57ae9ddb8bc9624c5fe7e6e9a4ff_b.jpg?rss" /></p>（来源百度）<br />或成为游客休憩之地（有些“墓碑”，只要你爬得上去，就能看得更远，或晒得更黑，或睡得更清静。。。）<br /><p><img src="https://pic2.zhimg.com/3888aaec96cd9a7335c4f05fb8850815_b.jpg?rss" /></p>（来源百度）<br />或少年们用来练习极限运动。。。。<br />这里还是不少扛着单反的歪果仁们的取景胜地，穿梭在其中，把玩各角度和参数的组合，制造出各种奇特效果，好不欢乐。。。<br />有一些人抗议者，大半夜跑入“迷宫”撒尿、涂鸦。。。以至于当地政府不顾设计师反对为建筑上了防涂鸦的漆，于是乎那些破坏主义者就直接来硬的。。。再然后就是无穷无尽的各种斗智斗勇了。。。。。。<br /><br />2. 广州歌剧院（现改名广州大剧院）<br /><br /><p><img src="https://pic3.zhimg.com/00b9b2c3e25237f151b8f52cd100e426_b.jpg?rss" /></p>（来源维基）<br />10年启用的酷似／含义为“两块石头（双砾）”的广州歌剧院，由一名伊拉克女建筑师设计。我没有亲临过，只是想起曾经跟我奇葩室友讨论过这个建筑。室友是地道的广州人，她说这建筑的最大特点就是“没有一条线是指垂直的！”<br /><p><img src="https://pic4.zhimg.com/6bc012a329d87bf87c0cff040cd60143_b.jpg?rss" /></p>（来源维基）<br />她说，临近这建筑的时候，会给人感觉人都站不稳，因为建筑外壁都是斜的。初次从远处看，我臆想，一定不少人会纳闷：“我靠，这啥玩意儿？”<br /><p><img src="https://pic2.zhimg.com/f23d05bd19a34328fba99f46ca67a33d_b.jpg?rss" /></p>（来源<a class=" external" href="http://link.zhihu.com/?target=http%3A//EDELSCOPE.COM" rel="nofollow noreferrer" target="_blank"><span class="invisible">http://</span><span class="visible">EDELSCOPE.COM</span><span class="invisible"></span><i class="icon-external"></i></a>）<br />里面也同样没有一条垂直线，但。。。就跟外面不一样嘛。。。。。。<br /><p><img src="https://pic1.zhimg.com/3868d85318551a17ec5a13f6e0c4070c_b.jpg?rss" /></p>（来源<a class=" external" href="http://link.zhihu.com/?target=http%3A//EDELSCOPE.COM" rel="nofollow noreferrer" target="_blank"><span class="invisible">http://</span><span class="visible">EDELSCOPE.COM</span><span class="invisible"></span><i class="icon-external"></i></a>）<br />其实她的大剧场可以是介样的。。。。。。<br />＊这歌剧院真心是去过的童鞋更有发言权，我在这儿通过引力波引玉
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/freebee-sun?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">FreeBee Sun</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40935737/answer/89277279?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">5 个回答，查看全部。</a><br />
证券公司的营业部有什么作用？
作为在国内排名靠前的大券商营业部工作了5年的证券民工，我想回答一下这个问题。<br /><br />    前面有答主说随着互联网金融的兴起，券商在裁撤营业部，而我看到的却是我们公司不停的在增设营业部，并且我了解的许多大券商也在增设营业部，不同的是增设的不是我所在的这种A类营业部，而是面积小，人员配置少，甚至连服务器也没有的C级部。<br />    A、B、C类营业部的区别估计在营业部工作过超过两年，参加过协会后续教育培训的人都学习过监管机关对于营业部分类的要求。<br />    很多老营业部确实还保留有散户大厅，但实际上很多营业部都在着手裁撤散户现场交易，只保留有针对大户的大户室，或者说VIP交易室。别以为大户室就是为了彰显地位或者可以第一时间与营业部投资顾问交流，说实话，很多大户的交易员比投顾的经验高多了，现场大户室最主要的优势是下单快，使用证券公司内部专门的客户交易通道，同时下单的话，绝对比你在家里要快个零点几秒甚至几秒到券商的报单系统里，对于短线技术派来说，这绝对是一大优势。而这个优势，只有营业部现场有，因为我们每个营业部报单席位的服务器就在营业部现场。<br /><br />    但是，C类营业部是没有刚才我说的这个优势的，那么为什么券商还在增设呢？我认为简单来说就是：抢占市场。<br />    大家可能觉得有互联网开户了，要什么现场营业部来抢市场？肯定抢不过网上的呀。实际上大家只知其一不知其二。不管在哪开户，你的证券账户股东代码卡都要下挂到某一个交易席位上，而后续的任何业务操作，都是这个拥有这个席位的营业部来操作，以最基本的开通创业板权限来说，比如你在河南一个三线小城市网上开户到某一个券商，佣金也很低，万二点五，但你可能不知道，你开的这个户挂的席位号属于上海的一家券商营业部，也就是说你要想开通创业板权限，必须由这个上海营业部的柜台来给你向交易所申报，可想而知你要办理这个业务的时候会多么崩溃，如果这个券商在你所在的城市有营业部可能还好，要是没有，你难不成还要飞到上海去办？这只是你后续面临的问题中的最简单的一个，至于还有啥问题，比如身份证到期更新啥的，折腾你没商量，更不要说你后续想做融资融券之类的时候了。<br />    券商跟银行一个很大的不同就是券商很多业务是代理交易所，或者说中国登记结算公司来办理的，本身只是一个中介，我们叫经纪业务，在这个层面上，没有实体营业部设置，咋做代理呀？而且，就算是现场营业部开户也可以网上开呀，只是开户方式不用去营业部柜台了，拿个手机在哪都能开，只要下挂在这个营业部就行。所以，面对客户开发，现场营业部有纯网上营销根本无法取代的天然优势，这是其一。<br /><br />    其二，现在一般大型券商的营业部的营业范围基本都涵盖了证券市场所有业务的拓展资格（我们营业部在营业执照经营范围里就明确写了），投行类业务，资管类业务，通道类业务，包括新政府工作报告涉及的资产证券化类的业务，这些业务面对的客户都是大机构户，即使是个人客户也可能是上市公司大小非这种，他们的投融资要求都是个性化的，这样的客户如果没有营业部，怎么做服务？都坐飞机跑到券商总部去洽谈吗？更现实的问题是，没有营业部，这些客户从何而来？难不成指望人家公司董秘上百度把我们搜出来吗？<br />    以2月份基金业协会对私募基金的新管理规定为例，很多小型私募都面临保壳的需求，这块业务属于托管类业务，全国那么多私募，公司托管部不可能到每一个城市去开发客户，他们还要做后面备案的具体工作，那开发客户、服务客户的任务就只有放在营业部身上了。<br /><br />    最后，就是人员管理。设置营业部也可以更好的管理展业人员，营业部后台人员和业务部门是分开管理的。券商总部不同部门有业务防火墙限制，营业部也有，不同部门工作要求、业务权限是不一样的。营业部更多的是业务拓展和客户服务人员，这些人员的管理是很重要的，毕竟证券市场风险处处都在，更何况我国对于证券从业人员的展业是有地域限制的，这么多人分散在全国各地，哪是设在一两个城市的公司总部能管理好的？<br /><br />所以说券商营业部是一个综合了市场拓展、客户服务的展业平台，并不是简单的散户论坛实体版。<br /><br />具体到每天的工作，说实话，营业部属于基层，工作很多很杂，我属于管理岗，主要工作是人员管理。营业部最主要的任务一般都是传统经纪业务，就是开发客户，引进资产，销售基金理财产品。我管理工作的主要内容，也就是督导业务拓展人员完成这些工作。另外我自己也要去拓展业务，这些业务就不仅是传统经纪业务，包括投行新三板，各种通道类业务，股权质押，托管，等等，反正是公司要做的业务，我们都有义务去开发承揽，当然，还有大量公司要求的案头工作，所以，要是能有时间好好看看盘，交流交流行情，还是挺惬意的一件事，要知道，我家属（绝对不能省略“家属”两个字）也套着呢，嘻嘻
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/wang-evey?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">王Evey</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/25369114/answer/89549975?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">8 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/19842640?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">金融衍生品创新是不是以投资者的贪婪作为背后的推动力？</a><br />
            
<a href="http://www.zhihu.com/question/21437244?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">「老鼠仓」是如何产生的，为何难以杜绝？</a><br />
机器学习（machine learning）在经济学领域是否有应用前景？
题目说的是经济学中的应用前景，不是量化投资中的应用，很多人上来偏题了，经济学和量化投资的差别显而易见。业界赚钱即可，但我认为经济学的意义在于解释和制定政策。<br />我的观点是有一定的应用但是非常有限，并且已经挖不出什么东西来了。原因如下：<br />1. 机器学习在经济学和金融学的学术论文里出现的越来越多了。其实如果把线性回归，logistic回归和简单的神经网络也当做机器学习的话，那很早以前就有了。但是如同很多答案里写到的，机器学习注重相关性，而经济学往往是注重因果性的，机器学习模型并不能给出因果性。经济学数据很多是时间序列，时间序列具有天然的因果性。<br /><br />2.简单的神经网络（2层）以及logistic回归，都具有可解释性的，而SVM以及深度学习这种模型都是难以解释的。决策树类模型虽然可以给出一个清晰的分类顺序，但是第一，树类模型往往没找到最优解，今年informs上Bertsimas提出了optimal tree，但是第二，即便找到了最优解，决策树给出的模型给出的分类法则也会出现匪夷所思的分类方法。<br /><br />3.据我所看过的几篇非top的论文来看（如果有关于机器学习的论文发在econ top 5上还望告知），机器学习模型在经济学的应用存在‘套’的情况，即选定一揽子模型，每个模型又有几种kernel，在不同的参数环境上测，然后选出最好的一个模型一组参数，说你看机器学习是有用的。而传统的经济学论文呢？提出一个模型，然后在一个参数环境下测，结果还不错，用其他的参数环境测试稳健性，发现稳健，说明现象存在。虽然一篇经济学论文在前期一样要去试模型，但是试模型的范围要小得多，每一个模型都是有逻辑的。另外从成文的思路上看，也可以看出经济学的逻辑和机器学习是不一样的。<br /><br />4.经济学不光是分类和推断。毕竟你不能指望机器学习告诉你最佳的基准储备金率。<br /><br />5.说完不适合的地方再说说我见过的应用，以下都指发出过论文的应用。首先是过去20年不断出现的拿机器学习做交易策略的paper，这些paper有一个共同的特点，就是模型简陋，用的数据非常敏感还装模作样的做cross validation...毕竟如果真能赚钱他们还发什么paper┑(￣Д ￣)┍第二种是做非时序的，比如衡量资产风险，这种模型往往比较稳健。由于经济学的论文是需要insight的，所以往往会对因子的重要程度做个排序，当然这种分析跟传统计量的显著性检验等等相比感觉没什么说服力。<br /><br />6.所以综上所述，其实机器学习能给出的经济学insight很有限，大多数论文有灌水的嫌疑，而且这种灌水的机会越来越少了。今年informs上Stanford MSE的教授Kay Giesecke有一个<a class=" wrap external" href="http://link.zhihu.com/?target=https%3A//stanford.box.com/s/yq5t669giaevef14h10075fx2dm1yhga" rel="nofollow noreferrer" target="_blank">Large-Scale Loan Portfolio Selection<i class="icon-external"></i></a>，已经用了深度学习+GPU计算，得出来的结果跟简单机器学习比，在大多数情况下也就提升了3-5%的准确率吧。。。 <br /><br />所以我个人是很不看好机器学习在经济学上的应用的，当然在业界管你用什么方法赚钱呢O(∩_∩)O~
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/lei-xiao-72-72?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">雷骁</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/37870042/answer/78901441?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">35 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/21654166?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">该如何学习 R 语言？</a><br />
            
<a href="http://www.zhihu.com/question/24622808?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">统计学和计量经济学有什么区别？</a><br />
从高校心理学专业进入互联网「用户研究」领域是一种怎样的体验？
我应该算是一个老人了。我学历不高，是04年华中师大心理学毕业，在找不到出路的情况下，去了市场研究公司。然后就在乙方一路靠野蛮生长，做了7，8年时间。从一家不知名的执行公司开始，到新华信、Frost &amp; Sullivan，最后做到IDC的互联网分析师。08年开始给腾讯做项目，11年被腾讯挖，到了互娱市场部的用研中心。最近几年开始从研究，慢慢往管理和业务方向转型。<br />用研是一个很宽泛的概念，包括了市场、行业、用户以及可用性等多方面的内容。一些设计背景的同学会比较偏可用性，心理学和社会学背景的同学会比较偏市场研究和用户研究。所以在很多公司，用研是比较分散的团队，有的在市场体系下，有的在设计体系下。说句不好听的话，用研在任何部门都不是核心团队，是后台支撑团队、赋能团队。只能锦上添花，没法雪中送炭。用研一定要摆正心态。<br />第一研究是厚积薄发，没有多年的积累，特别是对于用户（人生/人性）的洞察和业务的理解，不可能短期内成为专家。我看到很多年轻的同事，做了2-3年研究就转去做运营、市场，可惜了。大家没有足够的耐心。<br />第二是方法是入门，用研的方法很多年都没有什么进步，最常用到的还是survey和focus group。但我看到很多人盲目追求方法，而忽略了研究是为了解决商业目的。可惜了，走了很多弯路。研究设计要成本低，执行易，见效快。<br />第三是用研的天花板比较低，对于大部分用研同事而言，做了几年就会感觉是苦力。如果要开拓视野，提升自己，做到专家之后，慢慢到其他部门兼岗，应该可以解决职业发展的瓶颈问题（我就是这么过来的）。<br />第四是用研要重视自身对于理论的积累，定性上研究不如产品经理，定量上研究不如运营经理，那研究的独特竞争力是什么？是对于模式的总结，理论的思考。这一点，可能很多人很难理解。我自己做了快十年，直到了看了哈耶克的一些著作，才慢慢开窍。大家有兴趣，找哈耶克的一些书来看看吧。要从“望远镜视角”变成“鱼缸视角”。<br /><br />我自己感觉目前年轻的同事，在项目量上的积累还是远远不够，但心态上又比较急躁。我在入行的第一年，是从翻译全球各个研究公司的问卷开始，为他们做pilot试访，让我能够在一年时间接触到上百个项目，形形色色的项目设计和问卷设计，同时又能亲自做访问。这对于我后面的研究，帮助非常大。<br />研究是一条窄路，是一条不好走的路，祝大家好运！
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/hover-xiao?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Hover Xiao</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/39876818/answer/83719637?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">23 个回答，查看全部。</a><br />
科普时间：我胖因为快？一种理论演绎
<img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/4ea692af3e6fb878b09c4d8bef5802d7_b.jpg" width="440" /><p>带儿子去吃麦当劳，慢悠悠的，东张西望，隔壁做了个胖小子，我看着他，两个鸡腿，一个大汉堡，双层的，薯条，外加一杯可乐，三下五除二，全部下肚了。</p><p>儿子还在笃悠悠地吃他的麦香鱼。</p><p>我们一直以为，胖孩子之所以胖，肯定是食量惊人，否则怎么那么胖？！这逻辑很科学很对不是吗？吃得不多，还能胖？</p><p>“可是，喝水都胖…”我所在群的群主（对，是个胖纸）和我讨论立题的时候嗫嚅道。</p><p>但是似乎有些人怎么吃都不见长肉。大胃王比赛的长年冠军小林尊同学不是个胖子，大家都知道，眼见为实，小林大爷长这样：</p><p>你们要知道想拿大胃王，并不容易，和所有比赛一样，也都是要训练的。训练方法……“当然是放开肚子吃啦”，小林同学有一次接受采访时这么说道。“问题是，吃那么多下肚，也没见你长肉呢？”</p><p>“这是个秘密，”小林故作高深，“那就是…”</p><p>果然，一定有什么不对的地方，否则他怎么竟然吃-不-胖！？”</p><p>这一篇文章，我们尝试来探讨一下“吃”和“胖”之间可能的原因。按常理，先从生理学说起。</p><p>有一个问题，人们所说的“好饿”中的“饿”到底是指什么？想来读者诸君应该没有仔细思考过。应该是肚子空空如也吧？想来至少不错吧，肚子不空那也敢叫“饿”？——是馋吧！我好想看到了问题的关键，咳咳……</p><p>儿子经常和我说“我都饿得前胸贴后背啦”，这时候往往他还会加上一句爷爷教他的话，“就是肚子空空如也…”儿子这么表达，其实具体到每个人，对饥饿感的描述是天差万别的，比如，有人说“饿”是“胃不舒服”（空空如也），也有人说是“胸闷”，还有说“没力气”的……最直接的要数我儿子，“这是什么？快给我吃…”</p><p>大众话语往往有着艺术化地演绎，读者诸君千万不要因此而以为“饥饿感”大约摸来自于胃前壁贴到胃后壁而产生的一种知觉吧。实际上，当将动物体内连接胃的神经切断后，研究人员却发现，这些动物依然会表现出周期性的饥饿，也就是说，胃部的机械扩张和压缩也许并不是饥饿的主要动因，稍后进一步的研究则证明，<b>血糖才是饥饿感的本质原因，血糖降低到一定水平之后可以促使下丘脑发生冲动，使我们产生“饥饿”的感觉，具体到人体行为，则可以表现为消化道平滑肌的挛缩</b>。也正是这一挛缩的动作，挤压了胃（肠）内的空气，使得在感觉到“饿”的时候，肚子会“咕咕叫个不停”。</p><p>我们以为的原因，其实是结果！</p><p>停一下，我们整理一下思路：饿了后确实胃肠道平滑肌挛缩，导致“肚子咕咕叫”，但是本质上，肚子里的东西和饥饿本身的关系却不是很大——我想表达的是事实上关系较弱，食物对胃的机械性刺激显然也会引发“饱了”的信号的产生（较弱而已）——<b>血糖，只有血糖，才是饥饿感的根本原因</b>。</p><p>所以说，提高血糖，对抗“饥饿”。读者诸君想一想，小小的一块巧克力为什么有时候比一大碗饭更管“饱”呢？（我记得有一个巧克力广告来着…）</p><p>那么现在的问题是，血糖又是如何引发了饥饿的神经冲动的呢？已经明确一种被称为<b>胃饥饿素（Ghrelin）的</b>重要激素在此起到了重要作用。</p><p>简单来说，就是较低的血糖会刺激胃饥饿素的分泌，从而引发饥饿感的产生。话到这里，我突然想起有一种减肥手术，具体方式是切除大部分的胃，早些年的理论认为这样操作或有助于加速食物通过，继而吸收也相应减少，减肥的目的也就达成了，结果没想到如此一来竟然歪打正着，要知道切除了大部分的胃，恰恰上面分布有不少能产生胃饥饿素的细胞，少了饥饿素，小了“胃口”，此话不假！
</p><p>有点扯远了，回来。现在我们来谈谈血糖。</p><p>顾名思义，血糖就是“血中的糖”，但是此处的“糖”特指葡萄糖，不是蔗糖，不是白砂糖，更不是冰糖。</p><p>葡萄糖的一个直接来源是碳水化合物。</p><p>中国人和碳水化合物的关系十分密切，原因无外乎我们的主食是米饭——碳水化合物的最大来源。米饭入口后发生的变化，正是本文第二个要谈论的话题。又要颠覆一般常识了。一般我们说食物入口，不就是嚼一嚼吞一吞下么？其实没那么简单！</p><p>单从生理概念来说，<b>食物入口，“消化”的过程就正式启动了</b>。而作为碳水化合物含量十分丰富的米饭，要强调的是，其最佳消化场正好是我们的嘴巴，而并不是大众所以为的“胃”。口腔中的<b>唾液淀粉酶</b>可以将碳水化合物（米饭）转化为一种糖——麦芽糖，麦芽糖易溶于水，更加有利于人体的吸收，而吸收后的麦芽糖则会通过一系列的人体生化过程（…以下省略2000字）进一步转化为葡萄糖，看到了么？这就是未来的“血中的糖”（血糖）了。</p><p>机灵如你们，一定已经发现了血糖正是我们要讨论的关键所在！因为本文之前已经暗示过，<b>血糖乃是对抗饥饿感的先锋，换句话说，它是饱腹感的直接推动者</b>。有一些读者大概已经隐隐意识到本文标题的深刻含义了吧?</p><p>“爸爸，饭多咬一会儿，真的是甜的啊！”有一次我和儿子说细嚼慢咽吃饭可以吃到“甜味”，看来，他被我的说法“惊艳”到了。</p><p>确实是会变甜的！因为反复咀嚼，米饭在口腔内不断搅拌，一定会被唾液淀粉酶充分“消化”而转变为有甜味的糖。又一个生理学知识告诉我们：<b>人体其他部位（例如胰腺也可以分泌淀粉酶）对碳水化合物（米饭）的消化都不及唾液淀粉酶的作用那么高效</b>。</p><p>所以，大家体会一下，细嚼慢咽之下，血糖相应会“更快”地升高，而血糖升高，则饱腹。这也就是如果觉得饿，吃一大碗饭可能还不及吃巧克力来的更容易感觉“不饿了”的原因——巧克力含糖量高，省去了唾液淀粉酶消化这一“漫长”过程。</p><p>毁三观，现在你们知道巧克力为什么也许是一种很好的减肥辅助食物了吗？</p><p><b>要快速缓解“饥饿”，含糖量高的食物是不二选择</b>，只需确保血糖能升高到<b>调定点（胃饥饿素分泌的关节点）</b>之上，即可产生“饱腹感”。有些读者要说，杂粮、粗粮乃至于蛋白质（听说过吃肉减肥法么？）也可以产生长久的饱腹感，此言不假，但是它们其实通过的是一种较弱的刺激饱腹感的机制，实际上这有赖的是这些食物不容易被消化，能够在胃内留存较长一段时间，以“胃扩张”作为饱腹感的要件，实际上效率是不及血糖波动的。</p><p>现在可以来正式探讨“我胖因为快”的一种可能了。</p><p>推论如此简单，我竟难以想象文字的力量：<b>狼吞虎咽不利于“糖”的吸收（因为尚没有被消化），继而延缓了饱腹感的产生，而越没觉得饱（血糖还没有机会上升到胃饥饿素分泌的关节点），那就会越吃得多</b>。其实这是人体保护自身安全的机制之一，是进化的选择，因为人体的血糖必须维持在一定水平上，否则可能会带来生命的危险。而小林大爷参加大胃王比赛之所以看上去如饕餮一般，那只是比赛所需罢了，实际上他平时十分注意饮食，他说他的秘诀是：</p><p>“…平时总是细嚼慢咽的…”，他在电视机前做了个鬼脸。</p><p>胃部“撑大”确实是可以锻炼出来的，小林大爷为了备战大胃王比赛，持续训练，训练的内容则就是让胃适应更多地容纳食物，而平时，他总是细嚼慢咽（当然一定还有合理的其他生活方式）。</p><p>现在，请你们审视一下自己和自己身边的胖孩子们，今天午饭花了多少时间？</p><p>PS：<b>本文核心观点在于阐述肥胖和饮食之间的一种可能解释，而非阐述确定的事实</b>。实际上，不管吃得快或者慢，如果摄入食物量足够大，超出了人体合理所需的热量，那么多余的热量一定也会更多地转变为脂肪这一储能形式，如果再加上基因的作用，啧啧，那不变成一个大胖子也难了！</p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://zhuanlan.zhihu.com/hongjj/20628810?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
如何形象的理解资本资产定价模型里面的贝塔系数？
CAPM里的贝塔系数简单地说就是一个金融资产相对于整个市场而言的波动率。这个贝塔是通过观察并回归资产相对于市场的历史回报数据而得来。当贝塔小于1时，说明从历史上来看，该资产回报的波动率小于市场整体的波动率，而如果大于1的话，就说明其回报的波动率要大于市场整体的波动率。<br /><br />在金融资产定价中，回报的波动率一般刻画了持有这种资产所承担的风险。显然，波动率越大，风险越大，反之亦然。所以一个金融资产相对于市场整体的波动率的大小，也就刻画了这个金融资产在这个市场中的系统性风险，因此贝塔也被称作为某种金融资产的系统性风险。显然可见，其他情况相同的前提下，贝塔越高的金融资产其预期回报率越高，这也就说明了在CAPM模型下，金融资产的持有者只会被补偿其所暴露的系统性风险，而不会被补偿资产本身的非系统性风险（idiosyncratic risk），因为这部分的风险可以通过分散投资而被化解掉。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/xu-wei-neng?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">徐惟能</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/22215060/answer/89860073?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">6 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/23308406?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">一个优秀的财务总监应该能做什么？做到什么程度？</a><br />
            
<a href="http://www.zhihu.com/question/23613606?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">公益基金管理需要哪方面专业人才？</a><br />
零基础应该怎么学围棋？
围棋是安静的游戏。<br />围棋让无数涉足其中的人沉醉一生，几千年来一直传承下来，魅力到底有多大，奥妙又有多深每个人自然有不同的看法，之前因为中日擂台赛热烈一时，近几年来因为人们逐渐开始普遍认同学习围棋会一定程度增强注意力和思维韧性，所以低龄学棋风潮更劲。对于成人，我以为围棋更多的是一种打开新的交友平台的敲门砖，值得多年钻研的内涵，在棋盘上认真交流切磋的形式拥有很多游戏所不具备的奇妙乐趣和质朴简洁舒畅的交流乐趣。<br />希望大家能够喜欢围棋。<br /><br /><br />初看围棋很容易，规则极其简单，只有两点：<br /><b>一，无气的子不能存在于棋盘上。</b><br /><b>二，围地多者胜。</b><br /><br /><br /><u><b>第一点</b></u>稍作解释就能理解,先说什么是气：<p><img src="https://pic2.zhimg.com/57355566a8dc73c68a045f75dbc70a45_b.jpg?rss" /></p><br />如上图就是紧邻的交叉点。当紧邻点被对手或自己的子力占据，气也会相应产生变化，如图：<br /><br /><p><img src="https://pic4.zhimg.com/53b226594e9757c3fbf8e10a8980a493_b.jpg?rss" /></p>本来不靠着边界的子一个四气，挨着走之后变成平均每子三气，边界上的也是这样，分别从平均每子三气和两气变成平均两气和一点五气。<p><img src="https://pic2.zhimg.com/f0d0c8bb085fbe52831026ab85c0d1ad_b.jpg?rss" /></p><br />这是接触走棋，互相限制了气数，但是最上面的黑棋三子和最下面的白棋五子面临被吃的危险。如果气被占尽也就该被从棋盘上拿走了。<br /><br /><br /><b><u>第二点</u></b>稍作解释怎么定胜负。<br /><b>先确认死子，之后根据赛前商议的贴目数，贴目一方的实空减去贴目数之后和另一方实空比较。</b><br /><b>具体解释看文字图片太呆板了，来看这里系列入门视频吧：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.weiqitv.com/index/select%3F_id%3D539923763d950b9f0c8b4584" rel="nofollow noreferrer" target="_blank">围棋TV<i class="icon-external"></i></a></b><br /><br /><br /><br /><br /><b>上一张国外推介围棋的海报</b><br /><p><img src="https://pic1.zhimg.com/31dc3bfc3909c550110f9dbe79ef1338_b.jpg?rss" /></p><br /><br /><br /><br />某云一年多以来收到不少知友学棋的私信，近来决定成立一个方便愿意入门围棋的知乎围棋群：277022837<br /><p>进群请报知乎id,群名片也改成知乎id.群人数太多，每天限额入群了。<p><img src="https://pic1.zhimg.com/923697b6cb610685d3bfe51c7686a070_b.jpg?rss" /></p><br />围棋这东西有个好处，就是学习起来其实是有很多很多条路可以走的，而这很多很多条路，往往都是面对着同样追求东方博弈智慧的各式人群开放的。我希望在大家各自走出适合自己的一条棋力提升之路之余，总结一些各个水平的共同的需求方向。</p><p><br /><br />流传甚广的说法讲最早围棋是用来解释易经的，而易经核心在于变化本身以及变化之理，而围棋充当了一个训练思维的工具。<br />围棋如今则成了人工智能领域模糊计算方面的一个重要课题，想要更多了解请移步：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.ted.com/talks/alex_wissner_gross_a_new_equation_for_intelligence" rel="nofollow noreferrer" target="_blank">Alex Wissner-Gross: A new equation for intelligence<i class="icon-external"></i></a><br />围棋很巧妙的用极为简单明了的规则在一个大小仿周天之数的棋盘上<b>讲述了人脑如何应对变化同时怎样看待胜负的富有生命力的故事群。</b><br />围棋的核心正如大部分棋类一样，都是建立在计算力的基础上的，计算力和棋力是直接相关的，<br />而围棋妙就妙在它的让人惊异的极其简单的规则以及广阔的施展空间让模糊的分析也变得十分有趣富有实战性和趣味性。<br />文青在下棋的时候可以联想到历史和战略典故，数理迷可以看到精确计算得以实现的极大乐趣，心理剖析爱好者会痴迷于从每一手对手的步伐中揣摩其细微的心理波动，而能不断在对局过程中总结各种实战经验的人，会逐渐收获一种非常冷静的思维习惯，这种思维习惯会让你学会合理认识自己的第一感，合理使用自己的分析方法，会习惯性地做全局分析，习惯性地多角度思考。<br /><br />有句话说的很好：<u>很多人没有学会自己这个领域的游戏规则就死了，而阻挡他们最大的敌人就是自以为是。</u><br />围棋爱好者在经常参加比赛后，会发现自己善用的套路早就被有心人拆解透了，会发现自己得意的招数原来早有破解之法，会发现自己偷着乐的小算盘早被看穿，通过围棋，不断和生活中的事情交织起来思考，会得到不同于各种书里临时看来觉得经典的话语带来的收获，会从根本上一点一点塑造思维习惯。<br />我想，棋类游戏对于玩家最大的意义就在于它创造了一个便于决定胜负的平台，而且无形之中会把每个人求胜的心态展示出来，而<b>不同的心态会让你在和同样水平的对手对决的过程中产生出不同的胜率来</b>。我做投资年头不长，初期明显感觉到常常判断还可以但是因为心态不稳做了后来看起来成交价卖出价很离谱的交易，这个过程中我深刻的感受到了放平心态的价值，也使得我从一个凭借着那点计算力好勇斗狠和人棋盘上拼刺刀大砍杀的走钢丝暴力棋选手变成了从厚实和均衡中慢慢品味棋局的偏求道型棋手。所以围棋本身不一定就肯定会让一个人走向求道的路，但是它之中蕴含的道理，其中凝结的前人的智慧的确会在你碰壁之后棋盘前反省之时默默地呈现出来让你放飞思绪获得棋理以外的收获。<br /><br />———————————       以下是重要的资源汇总       —————————————<br />下面先提供全面的资料和链接，之后的探讨留到简单把我提供的链接看过之后在讨论吧。<br /><br />围棋的规则是很简单的，参见这里：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//weiqi.sports.tom.com/secondary/wqzl/guize/cn_new_1.htm" rel="nofollow noreferrer" target="_blank">TOM棋圣道场<i class="icon-external"></i></a> ，不想呆板地看文字？<br /></p><br />强烈推荐来这里：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.weiqitv.com/index/video_play%3FvideoId%3D53c744f09874f0e76a8b4795" rel="nofollow noreferrer" target="_blank">围棋TV<i class="icon-external"></i></a>看围棋tv精心制作的系列围棋入门视频节目。<br />怀旧一些推荐去优酷，土豆这样的视频网站去看邱百瑞讲解围棋入门的相关视频。<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.tudou.com/programs/view/FGTKODOrjTc/" rel="nofollow noreferrer" target="_blank">邱百瑞-围棋入门（流畅）<i class="icon-external"></i></a><br /> 这是个多年以前的入门讲解视频。讲的全面朴实。<br />还有一个入门讲解视频，和上面的风格不太一样，由前国家队王元职业八段讲解，带有更多文化气息：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.tudou.com/programs/view/ZfpFW5uSmsc/" rel="nofollow noreferrer" target="_blank">围棋入门快易精01_在线视频观看<i class="icon-external"></i></a><br /><br />不仅如此，优酷上面还有大量围棋视频，比如<b>邹俊杰变化解析</b>系列、<b>黑白死活</b>系列<b>、围棋对杀技巧</b>系列。<br />还有一个专门收集以视频为主的围棋资源网站，叫做梦溪围棋网：<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//mxweiqi.com/index.php" rel="nofollow noreferrer" target="_blank">梦溪围棋网 -  Powered by Discuz!<i class="icon-external"></i></a><br />另外推荐一个围棋学研网，<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.weiqiok.com/asp/Chinese.asp" rel="nofollow noreferrer" target="_blank">围棋学研网 - 围棋入门<i class="icon-external"></i></a>  这个网站有非常全的围棋资料,。<br />一般来说，棋友大都会订阅《<b>围棋天地</b>》，也推荐一下吧。<br /><br />仍然要重磅推荐 一个超级好的围棋网站 <a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.weiqitv.com/" rel="nofollow noreferrer" target="_blank">围棋TV网<i class="icon-external"></i></a>  ,已经好到属于不看不行级别的了。<br />想在电脑上单机自己摆棋研究的话，可以考虑下载 stonebase 这个软件。网上随意一搜可以搜到。 <br /><br /><b>围棋是实战哲学，尤其在入门阶段还是通过多对局来掌握规则比较清楚明快。</b><br />网上对弈，可以考虑 弈城围棋，tom棋圣道场。注册之前先注意一下段级位规则。一般来说，刚入门是25+级水平（对局平台一般把最低级定为18级），水平提高，级位减低，逐步到1级。1级之后是业余1段，此后随着水平提升段位逐渐升高。到了业余5段就可以有资格参加面对25岁以下棋手的全国定段赛（分18岁以下组 和18-25岁组），大概每年会录取不到20个名额，定段成功的就是职业1段，随着战绩等级分提升段位提升。这并不是说业余5段是业余最高段位，业余5段如果在6个省以上规模的业余比赛获得相当靠前的名次，可能有机会升业余6段，全国业余冠军貌似能升业余7段。此外任何能获得一年一度陈毅杯业余大赛冠军的棋手，不论年龄，不但能获得12万奖金，还能获得申请职业1段的资格。<br /><br />能耐着性子把前面的链接至少完整的看完两三个的同学，看来是对围棋确实有一定兴趣。下面我来讲一些我个人的认识好了：<br /><br />开宗明义一句话，围棋首先是实战和局后复盘，其次是大量的题目，最后是学习前人总结的大量局部招法和定式。活学活用，追求最终下棋的时候可以自如的开展全局化的谋篇布局，因动而动，控制可变变化。<br />这样之后一个是懂得围棋之中的取舍的宏观道理，二是掌握了大脑中自在演算各种棋型的能力，三是通过理论化自己的实战经验，冲向滴水不漏，妙到毫巅的细致与风林火山大开大合两相宜的追求。<br /><br /><b>我假设看到这里的同学应该是看过一些入门视频，至少懂规则并且会简单下棋的了</b>，我下面将顺便上一些棋谱来辅助解说。<br /><br />其实只有一点，就是需要不懈追求最符合全盘局势的一步好棋的强烈欲望。<br /><br />阐开来说：围棋棋盘比较广阔，而局部的变化一定会影响到全局。现代棋与古代棋的最大的区别就是古棋对局部的重视超过了全局的平衡把握。围棋的实质提高在于训练性比赛或者对局的时候敢于穷尽自己的思考能力去计算分析。这样下棋的好处一个是绝少遗憾，很多收获。另外一个在碰到高手的应对的时候能够迅速的深入理解。<br />要想下出当前局势的最善一手，一方面需要冷静分析全盘局面，不至于局部计算过头而只去追求蝇头小利；一方面想到灵活处理学习过的手段的问题，过去学的定型技巧等等终究只是前人在其对局后总结的结果，一旦掉进盲目模仿的陷阱会吃很多的亏。不过这不是说掌握一些形而上的总结式知识就能不吃亏或者说一路坦途，正所谓吃一堑长一智，吃亏是福。有了一定的实战积累后，可以考虑看看这两本书：影山利郎《<b>业余棋手十大恶手</b>》，小林光一《<b>围棋吃子技巧</b>》。<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//book.douban.com/subject/11607427/%3Fqq-pf-to%3Dpcqq.group" rel="nofollow noreferrer" target="_blank">围棋吃子技巧 (豆瓣)<i class="icon-external"></i></a><br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//book.douban.com/subject/1059517/%3FADUIN%3D1585978670%26ADSESSION%3D1393036846%26ADTAG%3DCLIENT.QQ.5287_.0%26ADPUBNO%3D26295" rel="nofollow noreferrer" target="_blank">业余棋手十大通病 (豆瓣)<i class="icon-external"></i></a><br /><br />我当然希望真正愿意的学棋的，至少能多少翻一翻这两本书。下面摆两个题，能把第一道瞬间解出来的，再接着看下文吧。第二题就当挑战题吧，如果是初学围棋经过看书和实战能做出来的话，请私信，有神秘礼品赠送，绝对超值啊。<br /><br />第一题，黑先吃白一子。<br /><p><p><img src="https://pic4.zhimg.com/bdb4e5f4c2931117df32a98ddb7a8eeb_b.jpg?rss" /></p><br />第二题，黑先，吃掉分断了黑棋三块的白棋两子。<p><img src="https://pic3.zhimg.com/7d02a1c69150973aa089834690fd00fe_b.jpg?rss" /></p><br />我相信如果知友能通过摆棋或者认真地心算把这道题解出来的话，肯定会获得非常大的思维的乐趣。<br />确实，如果能全靠自己就把第二道解出来，可以说是计算的条理性 有一定基础了。<br />应要求给个不直接的提示：要有利用每一颗子的计算。<br />下面说说，<b>条理地进行围棋推理计算的基础</b>。<br />基础问题分两大块，一个是杀气的基本计算，一个是死活的基本分析。<br />职业化的训练角度来讲呢，做题之后是要背题的，多一口气少一口气，子的排列变化导致的要点的变化，都是做完以后要背的。<br />很多初学的棋友表示，做题的时候无论如何不知道怎么站在对方的立场上想问题，被这个问题困扰而无法做题的同学们，如果对自己在围棋上的预期比较高，就要在这里有意识的下极大的辛苦来追寻解题之后的对题目君临天下的通透感和畅快感。如果是顺其自然派的呢，多实战吧，实战多了经验也会告诉你对手大致怎么走。<br /><br />另外，下面有关于解题方面思想讲解详细的视频：<br /><br />围棋对杀技巧：<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.soku.com/search_video/q_%25E5%259B%25B4%25E6%25A3%258B%25E5%25AF%25B9%25E6%259D%2580%25E6%258A%2580%25E5%25B7%25A7" rel="nofollow noreferrer" target="_blank">围棋对杀技巧 搜库<i class="icon-external"></i></a><br />围棋基本死活：<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.soku.com/search_video/q_%25E9%25BB%2591%25E7%2599%25BD%25E6%25AD%25BB%25E6%25B4%25BB" rel="nofollow noreferrer" target="_blank">黑白死活 搜库<i class="icon-external"></i></a><br /><br /><br />推荐两本书，《<b>围棋死活辞典</b>》《<b>围棋手筋辞典</b>》，在这里可以直接在电脑上做死活题:   <a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.weiqiok.com/asp/ShowAllProblems.asp" rel="nofollow noreferrer" target="_blank">围棋学研网 - 围棋入门<i class="icon-external"></i></a><br /><br />每次感觉有一些收获的时候呢，就去网上或者找棋友实战演练演练吧。<br />关于心算的计算力深度，虽说到了一定水平深度基本上就是看时间有多久。不过对于新手来说肯定还是想知道自己算到多少会出现模糊吧。下面提供一道征子题，其中极少分支计算，可以说是提供给棋友初步衡量直线计算深度的一把标尺，选一道御城棋时代林元美的一道征子题，希望读到这里的棋友能耐下心来纯粹靠着心算来看看自己能走多远（征吃标着三角的六子）：<p><img src="https://pic3.zhimg.com/29412b5edc3f61b585665b92ce40d7f6_b.jpg?rss" /></p>也可以拿来充作一段时间的心算俯卧撑训练。</p><p><br />下面还有一道兔子形状的征子题目：</p><p><p><img src="https://pic2.zhimg.com/fe7a2505396cb331dd0f84491945e869_b.jpg?rss" /></p>黑棋红点位置打吃以后是什么结果呢？<br /><br />试一试下面几道题，看看计算基础如何了，最后一题解出来还是有奖哈：<br />第一题，吃掉白棋那颗妄图切断黑棋的子。<br /><p><img src="https://pic2.zhimg.com/61e0fb5e136917345a2a990ae480851d_b.jpg?rss" /></p><br />第二题，吃掉白棋中间那一团。<p><img src="https://pic3.zhimg.com/d7aca480c179f0eafde2ac7ecb481afa_b.jpg?rss" /></p> 第三题，黑先，角里是什么情况。<p><img src="https://pic3.zhimg.com/25b6bfb3fd5fc5a1dd46bcca6ff99f42_b.jpg?rss" /></p>第四题   黑两子与白两子对杀，黑先，什么情况？<p><img src="https://pic1.zhimg.com/53190076cdc689962a9bad76826dcfd0_b.jpg?rss" /></p><br />挑战题 白先做活</p><br /><p><p><img src="https://pic3.zhimg.com/77fd606797665f3d314192bd8fbee356_b.jpg?rss" /></p><br />其实围棋的乐趣就在静静的推敲计算之中，既要想自己的棋路，还要思索对方的应对。在一招一式的你来我往之中，相互之间进行了深层次的交流，正所谓棋如其人，交流围棋能感受到棋手细微的情绪波动等等等等无法言传的信息，这也就是围棋被称为手谈的原因。<br /><br /> 在我看来，<b>计算力的基础可以说是今后的大局或者说官子的最重要的基础，计算力上不去，大局也好，官子也好，都是空中楼阁，徒有其表</b>。所以我会用这样多的篇幅来先说计算力。有人喜欢把计算力多少归结到天赋成分上，或者认为自己年事已高难以持久计算或者认为自己是什么文艺青年，只崇尚感性的东西……我不打算说服任何怀有此态度的人，我就说说我的想法：<br /><br />围棋之所以魅力无穷以致于吸引那样多的棋友终其一生来走在围棋道路上，正是因为围棋里面有很踏实，很实战的哲学思想。我们能够从最初的盲目计算，逐渐发展到控制变化，把握局面，形成迅速有效地分析思路。说实在的，棋盘虽小，乐趣真的很大。而如果棋友只是简单追求表面的乐趣，却不愿意计算之中找到一步一步走向正解的快感，如果不是时间太紧缺，就只能说是某种片面了。<br /><br />请五道题至少能解出三道的继续往下看：<br />围棋有几个重要概念：<b>厚薄、均衡、先后手、轻重。</b><br />这些个概念就是接下来是否能从更高的视角把握局面流向的重要手段和工具，通过对这些概念理解的不断深入，不但能够更好的分析，还能够减少很多无谓的计算，更好地把注意力集中在子力搭配等等方面。<br />当然随着棋力的提高，对这几个概念的认识应该会逐步发生本质的飞跃吧。<br />比如说可以看看下面这题：<br />黑先，如何杀掉白棋五子从而联络？<br /><p><img src="https://pic3.zhimg.com/cc9f73559b6a2c7d3ffca2e18cd5d61e_b.jpg?rss" /></p><br />像这种，单讲计算深度是不高的，不过却要求有有一定的突破性感觉的分析水平。能默默解下来的，相信一定能斩获很好的心情和心境。<br />关于厚薄轻重，可以考虑先看看 吴新宇六段 的 屠龙记忆系列视频。<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.soku.com/search_video/q_%25E5%25B1%25A0%25E9%25BE%2599%25E8%25AE%25B0%25E5%25BF%2586" rel="nofollow noreferrer" target="_blank">屠龙记忆 搜库<i class="icon-external"></i></a><br />邹俊杰 变化解析<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.soku.com/search_video/q_%25E9%2582%25B9%25E4%25BF%258A%25E6%259D%25B0%25E5%258F%2598%25E5%258C%2596%25E8%25A7%25A3%25E6%259E%2590" rel="nofollow noreferrer" target="_blank">邹俊杰变化解析 搜库<i class="icon-external"></i></a><br /><br />说实在的，上面两个视频系列内容却是好是没有错，不过也有一定的难度了，如果没有几百盘的认真实战的经验，或者说业余有段或者明确说业余3段以上的实力，估计不容易看进去。不过随便看看的话，学些招数，走马观花，也能有收获。如果一时吃了模仿的亏，吃一堑长一智。</p><br /><br /><br />按道理说应该讲讲布局，中盘，不过这就不是一篇文字配上几个图，能够达到的了。本来打算随手写一些我自己的想法，打了很多回腹稿，不过每隔一段时间写出一个版本来回头看看都会觉得这不是我这水平能言传的东西，经验成分太多。另外本人水平实在太有限，读者能把计算力提上去，自有属于你的布局套路。<br />推荐几本书，小林光一《<b>不用定式制胜法</b>》  赵治勋《<b>超越实地与模样</b>》 石田芳夫《<b>围棋官子基础</b>》<br />坂田荣男 《<b>坂田荣男全集</b>》  大竹英雄《<b>围棋定式快速理解</b>》 权甲龙《<b>精妙收官</b>》 张栩《<b>张栩诘棋精选</b>》 ，这些书能买实体书的话，还是实体书感觉好些。下载倒是也方便，随便搜搜就能搜到了。<br /><br /><br />古典作战名题，云成起霞阁（白先吃掉黑棋棋筋）：<p><img src="https://pic1.zhimg.com/a1c242cef0171fe2f2737d8bba40cac4_b.jpg?rss" /></p><br /><br /><br />还是那句话，每次感觉有一些收获的时候呢，就去网上或者找棋友实战演练演练吧。毕竟书本究竟只是一个简单的总结，远远不如实战更富魅力和未知性啊。<br />我之前总结过大雪崩的一些变化，写在了百度百科词条上：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//baike.baidu.com/view/663491.htm" rel="nofollow noreferrer" target="_blank">大雪崩_百度百科<i class="icon-external"></i></a><br />大家可以参看一下，不过现在下雪崩的已经很少了……<br /><br />围棋这东西从古至今始终被士大夫们追捧，也算是近于风雅的一门游戏，写到最后了，贴一些前人的诗句和心得吧。<br />莫将戏事扰真情，且可随缘道我赢。<br />战罢两奁分白黑，一枰何处有亏成。<br /><br />围棋有五得：得好友，得人和，得教训，得心悟，得天寿。<br />围棋有十诀：一. 不得贪胜 二. 入界宜缓  三. 攻彼顾我 四. <u>弃子</u>争先  五. 舍小就大 六. 逢危须弃 七. 慎勿轻速 八. 动须相应  九. 彼强自保 十. 势孤取和<br /><br />最后的最后留给清代施襄夏国手的诗句：<br /><br />布置无形推动静，行机有象贯虚灵。<br />须知中道原无异，莫误旁门失典型。<br /><br />弗思而应诚多败，信手频挥更鲜谋。<br />不向静中参妙理，纵使颖悟也虚浮。<br /><p><img src="https://pic3.zhimg.com/cc67c01faf57b92109d726f16a9129fa_b.jpg?rss" /></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/windycloud?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">云天外</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/20116422/answer/14263371?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">116 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/26305359?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">如果在莫比乌斯带或者球面上下围棋会怎么样？</a><br />
            
<a href="http://www.zhihu.com/question/21932201?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">围棋定式有何意义？</a><br />
隐形眼镜，到底是什么？
<img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/3a0a1282396abdfa9fb3651834d13663_b.jpg" width="640" />很多人都佩戴过隐形眼镜，学名叫做角膜接触镜。薄薄的一层膜片，既清晰又美观，已经成为很多爱美人士的必备用品。但是很少有人知道隐形眼镜到底是个什么东西。今天就来简要介绍一下。<br /><p><strong>隐形眼镜：高分子科学家献给世界的礼物</strong></p><p>角膜接触镜在19世纪就已经出现，开始的形式是质地较硬的硬镜。最初是由玻璃制作，佩戴起来非常不舒适，戴几个小时就得摘下来，到了20世纪三四十年代，高分子学科已经初步建立，市面上已经开始出现各种结构的高分子材料。其中，PMMA（聚甲基丙烯酸甲酯）由于表面光滑度高、抗沉淀性强、透光性能好等优异性能成为了接触镜的首选基材。但整体来讲，硬镜戴起来还是很难受，并且透氧气性差，所以硬镜没有得到大范围的使用。<br /></p><p><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/54303b02d0200e147c85775b2978ec83_b.jpg" width="640" />（开个脑洞：带上硬镜的眼睛是这个样子的？)</p><p>而到了上世纪50年代，软镜的出现，才革命性地改变了这一局面。捷克斯洛伐克高分子科学家Otto Wichterle对此有着不可磨灭的贡献。Wichterle当时在国家科学院的高分子化学所研究一种新型的聚合物——PHEMA（聚羟乙基甲基丙烯酸酯），后来慢慢意识到这种聚合物很有希望开发成软式接触镜。但是由于上级领导并不支持此项工作，Wichterle不得不将自己的研究地点搬到了自己家中，并最终取得了初步成功。美国某知名眼睛保健公司在此基础上改进了制作工艺并在1971年取得了PHEMA软镜的FDA许可证书。由于舒适度大幅提高，软镜开始流行。<br /></p><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/d59eeb6e118f08c93d56990378664b1e_b.jpg" width="640" /><p><strong>软式接触镜的材质：五花八门</strong></p><p>目前为止，可用于制成软镜的高分子材料种类已经变得丰富起来。这要求所使用的高分子具有如下特点：</p><ul><li><p>透明度高</p></li><li><p>足够的透氧性（软镜里最重要的指标之一）、离子渗透性、透水性</p></li><li><p>和人类角膜类似的折射率（1.37左右）</p></li><li><p>尺寸稳定性高</p></li><li><p>与眼部环境兼容</p></li></ul><p>基于这些要求，现在的软镜基本做成水凝胶的形式。这里的水凝胶，是一种高分子链的三维交联网络，网络中间填充了大量的水分。原理上水分越多，透氧性越强。</p><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/0cd3fd880af4b814a5e3edaa4dc16052_b.jpg" width="640" /><p>在化学原理上，该类水凝胶的合成是利用自由基聚合将HEMA等单官能度单体与多官能度单体共聚。</p><p>虽然PHEMA是最早也是目前最成功、市场占有率最高的软镜材料，但它的透氧性并不是非常理想。改进方式就是共聚其他亲水单体，如NVP（N-乙烯基吡咯烷酮）、AM（丙烯酰胺）等，以提高整体的含水量与透氧性。</p><p>但是，利用增加含水量来增加透氧性的方法是有瓶颈的，它的透氧性极限值只能满足日带需求，对于更长时间的佩戴，则需要全新的软镜材料，比如现在有部分软镜采用的有机硅高分子，如PDMS（聚二甲基硅氧烷）。但是正所谓鱼和熊掌不可兼得，这类聚合物虽然本身透氧性强，但是却是疏水的，一般也要共聚亲水单体或者表面进行亲水处理。总体来讲，这类软镜使用广泛程度依旧不如PHEMA类。</p><p>下图是提到的单体与聚合物结构。（注：为书写方便，不考虑聚合物的交联结构，聚合物按相应的线型结构。）</p><img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/6e8753502bddbd69d0e91ddb8da414d9_b.jpg" width="448" /><p><strong>隐形眼镜护理液里都有啥？</strong><br /></p><p>护理液里，95%以上的含量都是——水！而另外那5%大约包含了众多成分。</p><p><strong>最主要的：</strong>杀菌剂。有的杀菌剂采用双氧水（过氧化氢）。但是考虑到双氧水本身对眼睛具有刺激性，眼镜商在配套设施中提供了含有铂、钯、银等金属的器具，可在杀菌过程结束后清除双氧水。化学原理就是高中学过的：双氧水在某些金属催化下分解成水和氧气。</p><p>有的杀菌剂是采用了一些聚胍或聚季铵盐类高分子。这类高分子中的单体结构发挥着杀菌的作用，而高分子特殊的存在形式又使其不会轻易进入眼中。</p><p><strong>清洁剂：</strong>磷酸盐类\嵌段共聚物类表面活性剂，主要是清除沉积在镜片上的蛋白质。</p><p><strong>保湿剂：</strong>如纤维素\丙二醇\聚乙烯基吡咯烷酮</p><p><strong>pH调节剂：</strong>主要是无机盐类，维持护理液一定的pH。</p><br /><p>看完了这些，真是要好好感谢高分子科学家，是他们，让我们的双眼更加美丽！</p><br /><br /><br /><p>参考文献：</p><p>1. Maldonado-Codina, Carole, and Nathan Efron."Hydrogel Lenses-Material and Manufacture: A Review." <em>Optometry in Practice</em> 4 (2003): 101-115.</p><p>2. Nicolson, Paul C., and Jürgen Vogt. "Softcontact lens polymers: an evolution." <em>Biomaterials</em> 22.24 (2001): 3273-3283.</p><p>3. 王桂珊, 陈树恩, 南俊民. 水凝胶角膜接触镜材料的研究进展[J]. 广州化工, 2010,38(12): 45-47.</p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/zhang-li-53-12-93?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">winningman</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
在清华大学当学霸是一种怎样的体验？
感谢金老师邀请我回答这一问题。金老师这样真正的学霸从不亲自出手，他觉得我答一下就够了。<br /><br />先背景介绍，五道口金融学院博士在读，前三学期全部课程学分绩93.5，核心课程“八高”（高级宏观I/II、高级微观I/II、高级计量I/II、高级资本市场、高级公司财务）里五门课程排名第一，两个99，两个98，“八高”平均成绩96.3。比较夸张的是一年级下学期，六门课程四个第一两个第二。当然这些在金老师面前都是浮云。博士除了课程，最重要的就是学术研究，这方面还在刻苦努力。<br /><br />一直都不觉得自己是学霸，更不是“学神”，班里还有金老师和安老师两位老师坐镇。<br /><br />你能学多好很大程度上取决于你想学多好。我并不觉得现在的课程比本科（清华基科班）更难或更容易，但我本科学分绩只有82分，刚排进前一半，游走在学渣界边缘。工作六年后重新回到母校读博，我跟自己说，我要学好，于是就学成上面这样了。<br /><br />清华的所谓学霸离世界顶尖水平还差的远，尤其在经济学领域。读博后读了很多典籍，发现中国人在经济学领域的研究加起来也不及西方世界的一个小拇指上的指甲一角。哈佛、芝加哥等名校都是诺贝尔奖给博士一年级新生开三高，而清华经管和五道口都是助理教授，说句实话这水平和这“学霸”都是有点水的。因此，谈“学霸”的体验实在是轻薄的行为。<br /><br />分享几条学习的心得。一是多看经典教材。MWG、Hamilton、Fudenberg&amp;Tirole等等等等必须秒杀。我最近开始研读一些古书。最好看书进度领先老师上课的进度。二是第一时间做作业。造福同学更造福自己。三是常跑十公里增加体力。四是学会在任何时间、任何环境下争分夺秒地看书。五是专注，要学会分清任务主次，学会说不，这几乎是最重要的事。过去的三个学期因为要上课和博资考，我拒过学院老师的助研邀请，也拒过业界专家的课题邀请，还拒绝过一次工作上的跳槽机会，一心只读圣贤书。尽管都是非常好的机会，都是大牛邀请，换任何人肯定无脑同意，但我实在不能分心。<br /><br />课程学差不多了，该开始琢磨论文的事了。这方面金老师是专家。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/FreedomPhd?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">FreedomPhd</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/38974349/answer/84184507?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">53 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/26662321?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">努力就可以上清华北大吗？如果可以，怎样做？</a><br />
            
<a href="http://www.zhihu.com/question/30061796?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">大家理想中的大学应该是怎样的？</a><br />
有哪些鸟类相关的好书推荐？
长文多图预警。手机拍摄，请多担待。<br /><br />男朋友是观鸟爱好者，购买和收藏了不少观鸟手册和介绍鸟类知识的书。受他的影响我也开始了解和认识了观鸟这项活动，也购买了一些。因身在英国，主要是欧洲地区的鸟书。其中有关中国鸟类的书籍是我的，其余的是男朋友的。<br /><br /><ul><li>先来几本@王蛐蛐老师推荐的观鸟手册镇楼</li></ul>1. 柯林斯的观鸟手册，这两本在欧洲观鸟必备，并且IOS上似乎还出了个app<br /><p><img src="https://pic1.zhimg.com/ebd1ab78e00f8c9acf0fadd2e3bbd138_b.jpg?rss" /></p><br />2. 这本是老版的，比较厚，一掌宽，适合随身携带<br /><p><img src="https://pic3.zhimg.com/3dbea79baacecfdc6ccdd7022488f246_b.jpg?rss" /></p><br /><br /> 3. 《鸟类野外手册》的英文版和中文版<br /><p><img src="https://pic2.zhimg.com/a1523b0141feb0044a3815206a7fee19_b.jpg?rss" /></p><br />4. 东亚鸟类<br /><p><img src="https://pic4.zhimg.com/842d6a92ff4bf83ded660d55b9f3f34f_b.jpg?rss" /></p><br />内页字和图片对照，每种都分别介绍了保育地位和分布范围，栖息地种类，可辨别的特征，未被羽毛覆盖地方的特征（像嘴，腿，眼睛颜色等），还有声音特征<br />只是觉得内页的字有点小<br /><p><img src="https://pic4.zhimg.com/7f3e04051f719ae28fa803130f9157f7_b.jpg?rss" /></p><br /><ul><li>区域性的鸟类图鉴<br /></li></ul>5. 欧洲，中东和北美地区猛禽的图鉴<br /><p><img src="https://pic3.zhimg.com/5b6b077ec0ff58722ffeccd061d9702a_b.jpg?rss" /></p><br />内页<br /><p><img src="https://pic3.zhimg.com/22bb340c045f194c1bc67b5b639bf11e_b.jpg?rss" /></p><br /><br />6. 比较旧的一版北美鸟类的图鉴<br /><p><img src="https://pic4.zhimg.com/92e1f6147de6dc94af60915eddee1787_b.jpg?rss" /></p><br /><br />7. 新西兰鸟类图鉴，薄薄的一本<br /><p><img src="https://pic4.zhimg.com/d6a02859c56cd7d3d3b0dfd448b8a1eb_b.jpg?rss" /></p><br />内页各种鸟类嘴型的对比<br /><p><img src="https://pic2.zhimg.com/1be803527f6950fd3b5dc1e08855c50d_b.jpg?rss" /></p><br /><br /><ul><li>英国鸟类的图鉴</li></ul>8. 各出版社出版的很多，这本是其中比较老的一本<br /><p><img src="https://pic3.zhimg.com/85d29c336d6a7dc2e9cdff4787f5c36e_b.jpg?rss" /></p><br />内页除了画出各种特征外，右上角标志显示在哪类栖息地有可能看到，以及在英国的普遍程度，左下角显示分布范围，活跃月份等信息<br /><p><img src="https://pic2.zhimg.com/7fa28022187caf105829ea9b5ad4f7d9_b.jpg?rss" /></p><br />9. 这很薄的一本，介绍英国花园中常见的鸟类。作为入门读物很不错，也介绍了在花园中设置feeder时应该注意什么。<br /><p><img src="https://pic4.zhimg.com/37a9f0736b918fa6abdd61452d27b213_b.jpg?rss" /></p><br />来看看英国国鸟Robin<br /><p><img src="https://pic4.zhimg.com/4b1188fad9e150c1762cec9091a1687b_b.jpg?rss" /></p><br />10. 给儿童看的鸟类百科全书，把全部鸟类分成几大类分别介绍<br /><p><img src="https://pic3.zhimg.com/5cdbb5253853889cef1db1f66733a8ce_b.jpg?rss" /></p><br />其中的内页<br /><p><img src="https://pic3.zhimg.com/f14b2f3a852ea4aa7a111497fd2e537e_b.jpg?rss" /></p><br /><ul><li>各种严肃的和丧心病狂的鸟类书籍</li></ul><br /><p>11. 这又厚又重的一本英国的鸟类，除了分类描述各种鸟类的特征外，还介绍每种鸟在英国历史文化里的变迁</p><p><img src="https://pic1.zhimg.com/22c094b9ff82cd120524d029be79dad4_b.jpg?rss" /></p><br /><p><img src="https://pic2.zhimg.com/dd807b1af7dae7e844f4c0624fa19491_b.jpg?rss" /></p><br />12. Sir Peter Scott 手绘的水禽，他是一名鸟类学家，WWF的创建人之一，也是英国Wildfowl and Wetlands Trust的创建者<br /><p><img src="https://pic4.zhimg.com/26bdb75e0039a57eda8b2e1d9b91407b_b.jpg?rss" /></p><br />这张手绘图在下面要介绍的一套厚书中被引用过。<br /><p><img src="https://pic1.zhimg.com/19e3db023ecca12eedf6eb9a7f842014_b.jpg?rss" /></p><br />13. 这套书是一套非常严肃认真的索引用书，详细介绍了南至北非，北至冰岛，东至中东部分地区，西至部分北大西洋的鸟类<br /><p><img src="https://pic4.zhimg.com/313a55e7c37cb36d7349923adfafc00b_b.jpg?rss" /></p><br />手绘的Goldcrest及各类亚成鸟及亚种<br /><p><img src="https://pic3.zhimg.com/5a078ce1d5d01620d8c26dab28913f7a_b.jpg?rss" /></p><br />14. 非常丧心病狂的一本书，我觉得是twittcher专属了<br />应该是世界鸟类清单，整本书就是个大清单，内页拉丁文名，荷兰名字以及分布区域分三列，<br /><p><img src="https://pic3.zhimg.com/8bbbe5fdd8eaa2b21ce59330a59656ca_b.jpg?rss" /></p><br />其中的内页你们感受一下<br /><p><img src="https://pic1.zhimg.com/182f891ad4e1abb6b6503fccbb6aeffc_b.jpg?rss" /></p><br />15. 世界最稀少鸟类，按不同的大洲介绍各洲最稀少的鸟类，它们受威胁的原因，分布地图，估计数量。鸟类图片大部分是照片，还有一部分稀少到连照片都没有，只有数码合成的图。<br /><p><img src="https://pic4.zhimg.com/cdf60e5f27cd39dbdee1930a354b012b_b.jpg?rss" /></p><br />来看看我们国家稀少的勺嘴鹬<br /><p><img src="https://pic4.zhimg.com/c94254eb9425607ab7f1cfc8393296db_b.jpg?rss" /></p><br /><ul><li>最后，非本人收藏，土豪才能拥有的鸟书</li></ul><p><img src="https://pic3.zhimg.com/13d30c367ef1df65f021fa569a38c6ea_b.jpg?rss" /></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/40743273/answer/89250648?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40743273/answer/89250648?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">4 个回答，查看全部。</a><br />
在网游中充值上万的人是怎么想的？
之前在一个拥有大流量的互联网公司负责某款类似于steam的游戏平台产品，这个回答（<a class="internal" href="https://www.zhihu.com/question/32133901/answer/55178964">机器学习数据挖掘类工程师平时主要的工作内容是怎样的？ - 何明科的回答</a>）有部分介绍。我的职责是把这款游戏平台产品的体验做好以及扩大用户量，平台上主要是单机游戏、网络游戏及页游，前两者是拉流量的，后者是变现的。我不负责页游的运营及变现，这部分由专门的团队来负责。我只管导流以及开发各种工具为页游提供更好的体验（比如：免账号登录、发放优惠码、加速、双开练级等等）。<br /><br />虽然没有亲自运营，但是与页游运营团队却是紧密合作过，对于游戏里面的一些道道也略懂，同时因为需要开发用户喜欢的功能，经常找各类游戏玩家（包括出大钱的页游玩家，即问题中的大R玩家）做访谈，认识一些大R玩家。之所以称其为大R玩家，其实就是“花大RenMinBi的玩家”。XR玩家（X=超、大、中及小），主要根据用户每月的充值金额（在页游中，充值金额基本等于消费金额）来划分，基本上大于数千元左右的才能被称之为大R玩家。但是，在各个平台上的定义会略有不同，一些超级平台（比如：360、多玩等），要打上某服的顶级，至少要花好几万甚至更多。页游这个世界，就不用谈游戏技术了，基本有钱就可以砍砍砍、杀杀杀和上上上，而且一款游戏也就一两个月的生命周期。当然量级小些的平台或者质量差一些的平台（比如：37wan等，量级虽然大，不过都不是自己的用户而是买来的，中间难免有被刷量的可能性），用户需要达到顶级所需花费的软妹子就会更少，因此大R用户的划线就会更低一些。<br /><br /><b>大R用户长啥样？</b><br />要说怎么看待大R用户，首先要了解大R用户的画像（大数据术语），这里举几个真实的案例。<br /><br /><b>大R1：</b>我们公司当时的保安，公司负责吃住，月薪3000多元。不少人会觉得这个保安的待遇不错。但其实他的所有工资一分不剩，全部充值到公司的页游里面。除此之外，还经常找我们运营要游戏的内部优惠券，因为人民币总是不够的。保安同学平时的状态，基本是只要没有活儿，就趴在前台的PC上打游戏，时而专注时而癫狂，基本是毫无工作状态。页游的生命周期很短，基本就是两三个月，所以这位老兄也是两三个月就换一个新的页游，但是基本也是带着游戏里面认识的几个铁杆网友一起换游戏。有时候线下见面，有时候QQ联系。要说怎么看待，只是觉得他在游戏中找到了自己。<br /><br /><b>大R2：</b>城乡结合部一小老板，开个店倒腾点五金百货，衣食无忧到处嘚瑟。以前是找兄弟们搓麻将泡酒吧，也不知道是被谁带入网游。在网游里玩得不亦乐乎，平时偶尔需要看店或者谈个生意，不能像楼上的保安那样完全沉浸，所以在网游里面基本就是拿钱砸的节奏。而且现在的页游大体都是拿钱买时间买装备的设置，一个月砸个一万多很正常，钱到了装备就到了，就可以随便砍人。拉着一帮兄弟国战，时不时线下还要搞聚会，很是拉风，不比在酒吧里差多少。要说怎么看待，只是觉得他在游戏中找到了乐趣，或者相对更加开放及健康的娱乐方式。<br /><br /><b>大R3：</b>聊的不多，因为不在当地，只是在网上和他聊了聊。他是帝都一高级白领，平时出差很多，工作很忙，休闲时间很少。所以游戏时间很不固定，也就是稍微闲暇的时候上也有去撸一把，一个月大几千充值，上去狂砍一阵舒缓下情绪。也不怎么和游戏中的网友在线下见面或者联系。要说怎么看待，只是觉得他在游戏中释放了自我。<br /><br /><b>游戏公司长啥样？</b><br />游戏公司一般分为游戏开发公司及游戏运营公司，在页游领域，这个划分尤其明显。接下来重点讲讲游戏运营公司，因为它和大R的联系比较紧密。在游戏运营公司里面，一般有几种职位：开发运维（保证游戏能正常运转的攻城狮）、商务拓展（满世界找游戏及评估）、数据分析（顾名思义，水平较之我们的数据专栏<a class="internal" href="http://zhuanlan.zhihu.com/hemingke"><span class="invisible">http://</span><span class="visible">zhuanlan.zhihu.com/hemi</span><span class="invisible">ngke</span><span class="ellipsis"></span></a> 那是差多了）、客服（解决各类奇葩问题）、运营（这是个什么鬼？？？）等。<br /><br />这里的核心就是运营，运营往往就是一般公司雇佣的陪着玩家打游戏的人，如果遇到大R，可能是专人陪打，让大R怎么开心怎么来。这些运营人员手里花掉的优惠券或者金币其实也是大R级别的，甚至还要超过。记得有一次游戏狂欢节，为了吸引充值，放出顶级的坐骑并降价，然后大国战，全组的运营人员陪着各个大R门玩儿到通宵。<br /><br />所以最后一种大R就是游戏运营公司的运营人员，他们是不花钱但是拿工资的大R。<br /><br />————————————————————<br />更多文章关注我的专栏：<a class="internal" href="http://zhuanlan.zhihu.com/hemingke">数据冰山 - 知乎专栏</a>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/he-ming-ke?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">何明科</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/32105142/answer/89717248?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">498 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/20065764?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">初创游戏团队制作游戏时，「怎样让游戏好玩有新意」和「怎样让游戏赚钱」何者更为重要？为什么？</a><br />
            
<a href="http://www.zhihu.com/question/24772275?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">中国网页游戏出口状况如何？海外推广效果如何？</a><br />
研究昆虫的硕士或博士平时的工作是什么样的？
我是做昆虫分类学研究的，其他诸如分子，病理，生态方向我也不清楚。<br />先说一下昆虫分类学，这个学科曾经有过一段辉煌的历史，但是现在却相当冷门，特别是以昆虫形态特征为研究方向的传统分类学，其主要工作是以昆虫外部形态特征为基础，对昆虫进行鉴定，分类，命名发表新的分类单元，修订已有分类单元，工作比较偏文科，从业人员日渐稀缺。<br />而说到高校昆虫分类学研究者的日常，也大致要分两种类型的人来看。<br />第一类，通过调剂或者其他原因稀里糊涂进入昆虫分类圈子的，也就是并不喜欢这个专业，或者对这个专业不了解不擅长甚至有排斥心理，但是由于某种原因而入坑的人，这应该是昆虫分类学专业的主力军（更确切的说应该是所有冷门专业的通病）。这一类从业人员，发展好的，会喜欢上这个专业，认认真真做好工作，积极上进；发展较好的，能老实本分的做好研究工作，不出岔子；发展一般的，能比较负责的做好本职工作，但是不会再深入研究；发展差的，浑浑噩噩度日，连文章都是别人帮写的也是有的。（注，这里的发展指的是自己对该专业的态度，并非指在该领域的头衔的发展程度（研究生，博士生，讲师，副教授...），昆虫分类研究做的好与不好与头衔无关，除开一些硬件条件的限制，只与你对这个学科的态度有关）。除了发展好的，一般浑浑噩噩的人属于被动工作，有些人到了毕业专业技能还只是很初级的阶段，甚至还是负的，不懂搜集文献，不懂命名法规，不懂翻墙，不会采集标本，不知采集的辛苦，不懂标本的宝贵。。。。反正就是太多的不懂。<br />第二类，对昆虫比较喜爱，热衷分类事业的，这类人很少的，虽然我就是其中一个，我本科英语翻译专业，对甲虫有浓厚的兴趣，研究生考入昆虫分类专业，从事蜚蠊（小强）的分类学研究，研究对象很不让人待见，但是就因为不受人待见，空白很多，能研究的空间很大，自然研究生活也过的很充实。这类人一般都会主动性的自己开展研究工作，除了老师能提供的文献，自己经常没事就到处谷歌文献，除了老师安排去野外采集，自己也会主动去野外采集，反正就是各种主动，各种如饥似渴，也会在昆虫爱好者圈子里瞎混和其他昆虫分类团队交流，到处交流换取标本，如今分类专业日渐衰落，而昆虫爱好者却日渐壮大，不和爱好者搞好关系会很吃亏的，大牛土豪爱好者在传统分类方面秒杀科班出生的情况不是没有过。<br />无论是第一类还是第二类，我们的日常都很寻常，娱乐消遣为玩手机，打游戏，看电视局看电影，逛某宝；老师来任务了，就完成任务，做传统分类的学生，主要在看镜子，拍照，绘图，ps图片，看各种古老的英语的法语的拉丁语的德语的日语的。。。。文献，各种盯着标本看个不停；做分子的各种做实验，各种跑树，各种分析；无论做分子还是传统，各种整理标本，分子的整理酒精标本，传统的整理干插标本，负责任的还的好好整理标本姿态，男生基本都得在虫季（一般在夏天）出去山上当野人，抓虫子，女汉子也得出去抓虫子。关于野外采集，很辛苦很累，没采集过的人老以为手到擒来，出去就各种虫子等你来抓，诚然，出去采集都会到各种风光秀丽的地方，但是路途的辛苦，干咽的压缩饼干，渴得来只能喝不知带没带细菌的溪水的痛苦，晚上睡的木板子，越发黑亮的肌肤，被蚂蚁蚊子咬的痛苦你们懂吗，标本不是手到擒来，采集标本的快乐和痛苦只有去了才知道，越是采集的多，越是知道采集来的标本的珍贵和不易，但是遇到一些从没有采集过标本但是还是在这圈子混并无耻伸手要标本的人，他们真以为标本都是小意思，可以肆意糟蹋，乱搞，可以不尊重标本采集者，面对这种情况，辛辛苦苦采集的标本真的是喂狗了，无论是爱好者和科班出身的人，都不愿意自己辛苦采集的标本落入这类人手里。除了虫季，其余的日子基本都在实验室度过，做着实验室的工作，采集能减肥，但是回来实验室又是个真肥的过程，我是从早坐到晚的典范之一，有时连饭都不愿出去吃，直接叫了外卖，每天做的工作很繁琐，如果不喜欢会觉得无比枯燥，我每天都在p图，看各种文字的文献，解剖，这一呆就到晚上12点，一直到凌晨两三点还不想走的情况都有。发表昆虫新种是我们最典型和常规的工作，写一篇分类学文章看似简单，但是却是个细水长流的过程，因为搜集资料是个不确定的过程，标本的添加也是不确定的，比如你把文章写好了，突然又得到一批标本，里面还有新种，你就不得不再把那个新种加到你文章里。<br /><br />关于分类发表的文章，除非涉及分子什么的，要不影响因子一般不会很高，一般来说zootaxa 和zookeys是传统分类能发的最好的文章了，而且传统分类学专业恰恰不能以影响因子来衡量文章的质量，虽然传统分类的文章套路很简单，但是文章内容的负责与否却因人而异，文章能不能比较完善也和做的昆虫类群有关，如果不幸捡了一个历史遗留问题很严重，标本稀缺不好采集，又不好鉴定的昆虫类群，文章自然很难写好，遗漏的问题自然也很多。同样是发zootaxa或者zookeys看似影响因子一样，但是有的人却能够写的很好，图版做的很精美，能在有限的条件下很负责的把自己的类群做好，趋近完美，而有的人却只能各种添乱，那样后果自然是被后人臭骂，留下历史遗留问题让后人擦屁股。<br /><br /><br /><br />马马虎虎写了一些，继续p图去了。。。。。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/hua-jin-gui?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">克莱德</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40940326/answer/88910548?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">24 个回答，查看全部。</a><br />
众创空间是什么，其运作模式又是怎样，利润空间在哪，发展前景如何？
<p>我来用较为学术的套路回答一下众创空间的概念辨析和类型划分，其中包含一些对具体众创空间运营模式和盈利方式的说明。</p><br /><p>与实践界新概念新模式的层出不穷相对，学术界对众创空间的研究仍处于起步阶段，尚无系统性梳理众创空间概念和基本类型的论述。所以，我这里主要结合国内外众创空间的实践发展情况，辨析一下与众创空间有关的一些概念，如创客空间、联合办公空间、新型孵化器、创业咖啡等。主要讨论以下三个问题：</p><ul><li><p>什么是众创？</p></li><li><p>众创空间的概念界定？</p></li><li><p>众创空间有哪些基本类型？</p></li></ul><br /><br /><b>众创是什么？
</b><p>要理解众创空间，需要从众创谈起。”众创”一词最早来自于2014年9月，李克强总理在夏季达沃斯论坛上的发言，他提出：</p><blockquote><p>在960万平方公里的土地上，掀起“众创创业”、“草根创业”的新浪潮，形成“万众创新” “人人创新”的新态势。</p></blockquote><p>也就是从那时开始，”大众创业，万众创新”一词不仅在中央地方的政策文件众频频出现，也越来越多地进入人们的视线。从学术角度来看，”大众创业，万众创新”对应的英文应该是Public Entrepreneuriship and Public Innovation。</p><br /><br /><b>什么是众创空间？
</b><p>众创空间是一个从政策中提出的概念，最早出现在2015年3月，国务院办公厅印发的《关于发展众创空间推进大众创新创业的指导意见》首次公开提出众创空间：</p><blockquote><p>“有效满足大众创新创业需求、具有较强专业化服务能力的新型创业服务平台。”</p></blockquote><p>意见中也提到了一些众创空间的具体案例和理想众创空间的基本特征：</p><blockquote><p>“总结推广创客空间、创业咖啡、创新工场等新型孵化模式，构建一批低成本、便利化、全要素、开放式的众创空间。”</p></blockquote><br /><p>一些学者，如安宇宏、吕力等参照以上政策，进一步明确众创空间的概念，认为众创空间”是为小微创新企业成长和个人创新创业提供低成本、便利化、全要素的开放式综合服务平台。”[1][2]付志勇认为良好的众创空间生态应包括合作社群、创意实践、开放资源和协作空间四个要素。[3]</p><p>从本质来看，众创空间是为大众创新创业提供专业化服务的创业服务平台。</p><br /><br /><br /><b>众创空间的基本类型有哪些？
</b><p>一些学术研究和媒体报道在谈及众创空间时，主要将创客空间（Makerspace or Hackerspace）作为众创空间的概念来源，集中介绍了国内外创客空间的发展情况。然而，在众创空间的实践发展中，形式各样的发展类型不断涌现，如创业咖啡、新型孵化器等，让人很难分清不同类型众创空间的区别和共性。</p><br /><p>因此，笔者根据众创空间业态和商业模式的不同，结合国内外对相关概念的理解，将众创空间归纳为以下五类：创客空间、联合办公空间、新型孵化器、创业咖啡馆和创业社区。五类概念在业态和运营模式上各有侧重，以下分别介绍。</p><p><img src="https://pic4.zhimg.com/ac5996f72c079476160defa27f231f57_b.jpg?rss" /></p><p>图 众创空间的五种类型</p><br /><b>1.创客空间(Makerspace or Hackerspace)
</b><p>创客空间是从国外引入的概念，跟国内众创空间强调的创业略有不同，它更强调人们在一个集中的空间内动手创造东西，包括电子设备、机械设备和手工艺品等，它的概念界定为：</p><blockquote><p>由拥有共同兴趣爱好的社群共同运营的工作坊，他们多关注计算机、机械、技术、科学、数字艺术或电子艺术等领域，他们能够在其中见面、社会化互动和合作[4]。</p></blockquote><p>也有资料认为：</p><blockquote><p>创客空间指的是人人皆可用来设计和工作的地方[5]。</p></blockquote><p><img src="https://pic2.zhimg.com/ad0fe0a999aa54d3a7a59eae461d1b01_b.jpg?rss" /></p><p>图 Noisebridge早期的电子学教室[5]</p><br /><p>所以创客空间有两个侧重点：一是人们在其中动手制作东西，二是参与其中的人们共同构成一个兴趣社群。实际上，李克强总理曾经去过的深圳柴火创客空间，其实并不是很多人认为的以创业为主题，而是电子设备制造兴趣爱好者的集聚和交流空间。</p><br /><p>笔者曾到柴火创客空间调研，了解到这是一家由硬件设备企业负责人因为兴趣爱好设立的一家创客空间，60平米左右的空间，角落里摆放着一些电子和机械设备，去的当天刚好有一对父子在动手摆弄设备。我们了解到他们为会员提供定期的硬件设计制造培训和交流活动，主要依靠会员费来支付场地租金。这家创客空间运营的初衷是通过线下实体空间，汇聚一些对硬件设计制造真正感兴趣的人，相互交流碰撞火花。而孵化出有潜力的创业团队，只能算是兴趣社群之外的回报了。</p><p><img src="https://pic4.zhimg.com/28bce8a49829688642932a62c642351f_b.jpg?rss" /></p><p>图 深圳柴火创客空间</p><p><img src="https://pic3.zhimg.com/7bebcb5d5efa53ce473ec0950327c202_b.jpg?rss" /></p><p>图 深圳柴火创客空间</p><br /><b>2.联合办公空间(Coworking Space)
</b><p><img src="https://pic4.zhimg.com/647ea7a5d8a38e69177644c552b1f3bf_b.jpg?rss" /></p><p>图 联合办公空间Strongbox West, Atlanta, Georgia[6]</p><br /><p>联合办公空间是众创空间的第二类，它的概念为：</p><blockquote><p>提供共同工作的空间，也是共同工作者的社群平台。与常规办公空间的差异在于，这些共同工作者多来自不同公司或组织，大部分是SHOHO族、旅行出差者或者小型工作团队[7]。</p></blockquote><p>联合办公空间更加侧重于为有共同工作需求的团队或个人提供办公场所和相关设施，通过收取场地租金或会员费来获得盈利。</p><br /><p>目前国外的Wework、国内的优客工场都是联合办公空间的典型代表，与其他几类众创空间相比，它有两个侧重点：一是源于共享经济的理念，打破了企业长期租用独立办公空间的模式，将办公空间的租用时段分散化，将大家有共同需求的公共空间（如会议室、茶水间等）和设施（如打印机、传真机等）进行共享，从而降低创业团队、小型企业、长期出差的团队或个人的办公成本；二是通过共同工作社区的营造，让共同工作者能够与不同团队或个人进行互动，得到思想的碰撞和灵感的激发，找到可以彼此支撑共同成长的伙伴。</p><br /><p>与一些孵化器不同，联合办公空间最核心的业务是提供办公场地，即主要通过场地租金实现盈利，而不是投资创业团队。 </p><br /><p>笔者曾经整理过一篇关于上海联合办公空间调研的报告<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzA3NDY0MjMzMA%3D%3D%26mid%3D208818185%26idx%3D1%26sn%3D31c5fa3d76ee8ce44a31b9c660f5e159%23rd" rel="nofollow noreferrer" target="_blank">《联合办公：空间共享新业态》<i class="icon-external"></i></a>，对联合办公空间的业态、模式和盈利方式有简要的介绍。</p><br /><b>3.新型孵化器(New model of Incubator)
</b><p>孵化器的概念为：</p><blockquote><p>一种为初创型小企业提供所需的基础设施和一系列支持性综合服务，使其成长为成熟企业的一种新型经济组织[8]。</p></blockquote><p>所谓新型孵化器是与传统孵化器相对而言的，我国在上个世纪八九十年代出现的很多孵化器只是提供了办公场地，缺乏对初创企业的指导和投资，成为单纯的房屋出租方。而新型孵化器更强调针对创业企业的成长需求，采取多样化的方法孵化和培育企业，针对不同孵化器运营方的资源优势，体现为多种类型，如投资促进型、培训辅导型、媒体延伸型、专业服务型、创客孵化型等[9]。</p><br /><p>新型孵化器作为众创空间的侧重点在于：一是以孵化企业为核心业务，通过为创业团队提供创业指导、资金融资、专业服务和技术对接等服务，增加创业企业的成功概率；二是通过对创业团队的股权投资回报获得收益，一般天使投资方会根据创业团队的实力和所匹配的资源，占取3%-10%的股权份额。</p><br /><p>随着背景各异的孵化机构进入创业孵化市场，新型孵化器的特色差异显著，如从媒体服务切入创业孵化市场的氪空间，从创业者教育培训切入创业孵化市场的清华X-lab、清华经管创业者加速器和北大创业孵化训练营，从投资人资源经验人脉圈切入的创新工场，以及现有大型科技企业成立的孵化器如微软创投加速器、联想之星孵化器等。</p><p><img src="https://pic4.zhimg.com/b7bd0fb19e9a7a84ba3ecd75f490a87b_b.jpg?rss" /></p><p>图 媒体类新型孵化器36氪旗下的氪空间[10]</p><p><img src="https://pic3.zhimg.com/058833742105e75dc4262698a3d5804a_b.jpg?rss" /></p><p>图 培训辅导型孵化器北京大学创业孵化训练营</p><br /><b>4.创业咖啡馆(Startup Coffee Shop)
</b><p>创业咖啡馆是以咖啡馆的业态为基础，围绕创业主题集聚资源和对接资源，为早期创业者提供共享办公、人才交流、技术分享、市场拓展和项目对接等服务的一种众创空间。其服务包括：临时办公场所、不定期的经验分享与交流和投资人对接。</p><br /><p>创业咖啡馆最著名的口号是：</p><blockquote><p>创业者以一杯咖啡的成本，得到一天的免费开放式办公环境，及其他创业服务。</p></blockquote><p>与其他类型的众创空间相比，创业咖啡馆的侧重点在于：一是公共属性和开放性强，通过举办创业主题活动，营造创业氛围，吸引、集聚和对接创业资源，参与者包括创业者、投资人、服务者和对创业感兴趣的市民等；二是盈利方式除了部分参与对创业团队的股权投资以外，还可以通过日常经营收入、会员服务收入和活动场地租金收入覆盖一部分运营成本支出。</p><br /><p>严格来说，创业咖啡馆也可以算是新型孵化器的一种类型，但由于其空间业态和公共属性有自身特点，所以单独作为一类众创空间列出。笔者有关北京和武汉几个创业咖啡馆的调研文章详见：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//citiesheart.com/2013/10/the-rise-of-informal-incubators/" rel="nofollow noreferrer" target="_blank">《非正式创业咖啡的兴起》<i class="icon-external"></i></a></p><p><img src="https://pic1.zhimg.com/352322e4b58acf82813a3a67a99161a4_b.jpg?rss" /></p><p>图 武汉东湖光谷创业咖啡馆的咖啡</p><p><img src="https://pic4.zhimg.com/d29f3e7dfded3eab9792c20b0218099b_b.jpg?rss" /></p><p>图 2011年4月开始营业的车库咖啡[11]</p><br /><b>5.创业社区(Startup Community)
</b><p>第五类众创空间是创业社区，其概念为：</p><blockquote><p>以创业办公为核心，为创业者提供集工作、社交、居住和娱乐为一体的社区。</p></blockquote><p>创业社区采取了集成式的发展思路，围绕创业者在日常生活中学习、创业、工作、居住、社交、消费等需求，在一个社区空间中，通过完整的社区功能配置，如联合办公、创业咖啡、创业公寓、运动健身、餐饮娱乐、教育科普等，为创业者提供一体化的创业和生活服务。</p><br /><p>与其他众创空间相比，创业社区的侧重点在于：一是集成化的创业生态营造，集聚创业相关的各类资源与要素，服务于创业者的工作、生活、学习和消费，创业投资的短期回报缺乏可以用社区服务的收入来弥补，让创业、生产、生活和消费形成一个可以营收平衡的闭环；二是将创业作为年轻人的一种生活方式来吸引服务对象，所以说创业社区的服务对象并不完全是创业者，而是有意愿创业，或认可创业生活理念的年轻人。</p><br /><p>由清控科创和世联行共同打造的小样社区，即按照以上概念，采用了开放、合作和管理输出的理念，来整合了创业服务生态系统，满足年轻创业者的办公、居住、社交和消费需求。</p><p><img src="https://pic1.zhimg.com/576fda3be91c0062ab0b03175003f8cc_b.jpg?rss" /></p><p>图 小样社区的运营理念[12]</p><p>以上五类众创空间基本可以包含当前市场上出现的众创空间的主要类型，其共性是为大众创新创业提供专业化服务的创业服务平台，从下表中可以看出他们的差异。</p><p><img src="https://pic3.zhimg.com/9a6634e5fc1b971b5b9c80f808b18386_b.jpg?rss" /></p><p>以上即为众创空间的概念辨析。</p><p>总体来看，中国的众创空间在国家政策的带动下，出现了多样化发展的局面，主体繁多、类型多样，大学、政府、科技企业、投资机构、媒体机构和地产企业，都在根据自身的优势资源，探索众创空间发展的差异化路径，服务于创新创业时代所释放出的大量创业需求。</p><p><img src="https://pic2.zhimg.com/0b28d7a7d8749dda59c0fc5bebd653d1_b.jpg?rss" /></p><br /><p>当然，这一波儿众创空间兴起，也伴随着中国产业地产市场的转型，之前各地产业园区的粗放式发展，造成了不少办公空间的空置，一些对创业孵化并不熟悉的空间持有者也在尝试探索众创空间的发展模式，不乏依然抱着当二房东的心态，想继续通过传统收租金的方式来实现盈利的，造成当前很多众创空间只是传统孵化器的延续。</p><br /><p>应该说，由于政府的鼓励与扶持，众创空间数量增长迅速，但水平参差，针对创业者需求提供专业服务的质量亟待提升。需要通过市场机制的筛选，留下更加专业的创业服务平台，能够持续地高质量地服务于创业企业的成长与发展。</p><br /><p>那么，从技术变革和文化演进的角度来看，众创空间未来的发展趋势会是如何？众创空间的功能和空间设计应该遵循哪些理论？国内外众创空间的发展有何差异？北京的众创空间发展现状如何？我们将在接下来的两篇文章《众创空间发展的理论基础与未来趋势》、《北京众创空间发展现状调研》中与大家共同探讨。</p><br /><p><i>（本文系首都区域空间规划研究北京重点实验室研究课题《北京市创新空间发展战略现状及规划》部分研究成果，首发于果说微信公众号ifruitalk《为什么众创空间会有那么多兄弟姐妹？》。文中图片除脚注标出以外，均为作者调研自摄图片）</i></p><br /><br /><br /><b>
参考文献
</b><p>[1] 安宇宏. 众创空间. 宏观经济管理, 2015,(4):85.</p><p>[2] 吕力，李倩，方竹青等. 众创、众创空间与创业过程. 科技创业月刊, 2015,（10）:14-15.</p><p>[3] 付志勇. 面向创客教育的众创空间与生态建构. 现代教育技术, 2015,25(5):18-26. </p><p>[4] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Hackerspace" rel="nofollow noreferrer" target="_blank">维基百科Hackerspace词条<i class="icon-external"></i></a></p><p>[5] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.makezine.com.tw/make2599131456/hackerspacemakerspacetechshopfablab" rel="nofollow noreferrer" target="_blank">Make杂志中文版<i class="icon-external"></i></a></p><p>[6] 引自<a href="http://www.zhihu.com/ww.hongkiat.com/blog/top-coworking-spaces-usa/">Kongkiat博客</a></p><p>[7] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Coworking" rel="nofollow noreferrer" target="_blank">维基百科Coworking词条<i class="icon-external"></i></a></p><p>[8] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%25E4%25BC%2581%25E4%25B8%259A%25E5%25AD%25B5%25E5%258C%2596%25E5%2599%25A8" rel="nofollow noreferrer" target="_blank">维基百科企业孵化器词条<i class="icon-external"></i></a></p><p>[9] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.xinhuanet.com/house/bj/zt/dtts09/index.html" rel="nofollow noreferrer" target="_blank">新华网对新型孵化器的介绍<i class="icon-external"></i></a></p><p>[10] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//36kr.com/p/214765.html" rel="nofollow noreferrer" target="_blank">36氪网站博客文章<i class="icon-external"></i></a></p><p>[11] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.chekucafe.com/" rel="nofollow noreferrer" target="_blank">车库咖啡网站<i class="icon-external"></i></a></p><p>[12] 引自<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.thholding.com.cn/FTBImage/2015102394835420.jpg" rel="nofollow noreferrer" target="_blank">清华控股网站<i class="icon-external"></i></a></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/xiaohuiyuan?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">袁晓辉</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/34030859/answer/89937832?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">12 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/23838978?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">招股说明书是如何撰写的？</a><br />
            
<a href="http://www.zhihu.com/question/28546011?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">初创团队一般需要哪些创业服务和资源，该怎么获取？</a><br />
如何评价第一局比赛 AlphaGo 战胜李世乭？
和小伙伴一起从演播室出来，心里空空落落的。<br />今早我还在朋友圈说，这将是一个新时代的开端，让我们一起来迎接吧。<br />整个比赛直播过程中，我们也始终很轻松，但当最终的结果出现后，心还是慢慢的沉了下去。<br />这将是伟大的一天，虽然甩下了一些落寞的身影。<br /><br />理性上，大家都知道进步的意义。<br />也都知道长远来看，人工智能的发展不仅对人类生活的方方面面都有积极意义，对围棋本身也是利大于弊的。<br />更知道人工智能战胜人类顶尖棋手，这一天早晚会来。<br />可是当这个事实摆上桌面之后，大家感情上都还是有一丝失落的。<br /><br />从棋局来说，这是一盘精彩的对局，但算不上一盘高质量的对局。<br />双方都出现了不少的失误，李世石的更致命一些。<br />大家在赛前都认为李世石在第一局会求稳，而可能在赢得三盘之后才会行险挑战。<br />我们错了。<br />李世石第一局开局就采取了极为冒险的下法，而被很多人解读为“为了避开电脑的棋谱库”。<br /><br />黑棋错小目配上中国流靠下一路拆边的下法，是两种常见布局的糅合，但这糅合体是一个非常不常见，给人感觉也不见得高效的下法。<br />右上定式中，白棋托角是常见的定式错着，然而李世石却没有选择简明的脱先拆左边，而是强行大飞起来后手捞空，坐等AlphaGo打入上边。这颇合李世石的性格和棋风。<br />可打入的结果大家都看在眼里：黑棋极为被动。甚至很多人当时认为，李世石已经崩了。当然，也有高手经过精确计算后认为，后面的变化黑棋并不差。<br />后来来看，这是李世石开局刻意的冒险，在试探电脑。<br /><br />此后，李世石开始“认真”下了，形势快速的接近了，黑棋越来越主动。<br />黑61原本走在下一路的长，控制住外侧的大局就行了，后面黑棋将越来越主动。然而李世石选择了61的尖，瞄着上面两个子的向下跳靠，意图拿住一个田字斜对角的棋型，将来靠过来之后白棋无法扳头。然而这步尖可能过于贪心了。<br />被白棋长了之后64尖住，黑棋根本就没有机会动出上面两子......<br />当然这问题不大，黑棋此时仍然稍稍有利。<br /><br />白棋一路后推车推至下边，黑棋抢到先手本可抢先于下侧拆边，然而李世石选择了完全不符合自己性格的稳健的枷死棋筋。<br />且不说这步枷的好坏，此时黑棋局面仍然绝对不差。<br />此时AlphaGo走出了80位的长，补尽了上边的味道。这是一步大缓手。<br />黑棋左下双飞燕夹击之后，胜负的天枰已经明显的倾向于黑棋了。<br /><br />白102，是AlphaGo在不利局面下释放出的精彩的胜负手。<br />而白108，是更精彩的手筋，这体现了电脑在局部战斗中精准的计算。<br />白110飞之后，局部黑棋大致已经无法避免亏损。<br />此后黑121于右上后手吃一子也有缓的嫌疑，李世石明显还惦记着白棋大龙。<br />而白122是争议很大的一手。<br /><br />很多人当时认为缓了，也有很多人说像是好手。这步棋如果是由人类下出，有胜利宣言的感觉。<br />此后的黑129拐而不是挡三三，几乎让我们所有人惊掉了眼球。<br />事后至今，仍然有很多人认为这步棋很可能是黑棋最后的败着。<br />只要挡三三然后尖二路，黑棋要么先手收官，要么局部虽是后手却官子便宜甚多。这可能优于此前按照尖顶扳粘的方法收束。如此黑棋应该仍然有盘面十多目的优势。<br />白142挡住显然是错着，按照柯洁的分析，只需跳在一四，黑棋就可能在局部落后手，否则将来白棋有扳了断，救出上面三个子的手段。<br />如果AlphaGo下出这个手段，李世石将输的更快。<br /><br />后面黑棋始终将左边看的很小，而在下面和左下走棋，不知道是为什么。<br />但白棋抢到左边的拆二和四路尖，怎么点目也更大。<br />后面没什么可说的了，棋局早已结束，盘上留下的空间很小了，在电脑精准的官子面前，李世石无力再次翻盘了。<br />有些人说，电脑其实一直觉得自己形势占优，只不过人的判断是错的。<br />这种想法直接推翻了人类几千年在盘上的积累，令人细思恐极，但应该是想多了。<br />棋理是摆在那里的。<br /><br />总的来说，AlphaGo展现出了职业的水平，但还称不上达到了碾压人类的水平。<br />李世石的下法也称不上发挥失常，但也确实下的不好。<br />然而不管怎么说，这对人工智能来说，都是一盘堂堂正正的胜利，阴谋论的说法必将一时大行其道，但意义不大。<br /><br />说一下大家对AlphaGo的一些观感和评价：<br />它始终按照自己的节奏，将棋走在自己认为最大的地方上，丝毫不被对手的节奏所带动。<br />冷冰冰的，没有一丝情绪。这正是电脑最强的一点。<br />前半盘来说，AlphaGo的水平还达不到顶尖职业的水平，在复杂的全局攻防和判断上，它还有很大的提升空间。<br />而进入后半盘，只要空间缩小，电脑就显示出了极其强大的实力。<br />局部战斗的精准手段，局部官子的精准收束，准确的形势判断和全局收束选择，失误的低发生率，使得AlphaGo成为了“一名后半盘显著强于前半盘的棋手”。<br />李世石，不知道是否想到和重视了这一点。<br /><br />赛前，我曾认为结果会是4：1，而那一盘胜局就将是新的历史开启的标志。<br />现在看来，我仍然相信李世石能赢得比赛，但比分也许不会这么悬殊了。<br />客观来说，通判全局，AlphaGo的实力仍然要弱于李世石，但差距没那么大，李世石的任何冒险和失误都可能遭到电脑的严厉惩罚。<br />而从人的心态上来讲，这不是一场均衡的比赛。<br />李世石赢了不算什么，可他输任何一局都会造就历史。<br /><br />一盘过去，李世石的应激反应应该强于电脑，后几盘棋里李世石的处境应该比今天要好一些。<br />但我们都知道，这一次的赛果只是暂时性的。<br />即使李世石后几盘中更加认真起来，最终取得了胜利，也如柯洁所言，AlphaGo现在不是他（柯洁）的对手，然而几个月后呢？一年后呢？<br />李世石如果落败，AlphaGo的下一个挑战对手一定是柯洁。<br />而下次比赛时，柯洁面临的AlphaGo，可就不是今天的AlphaGo了。<br />一两日间，人的应激学习速度快于电脑，可是在现在的技术条件下，给人工智能几个月的训练时间，人是无论如何也赶不上的。<br /><br />AlphaGo对李世石的挑战，不是一次单一的挑战，而是开启了人工智能在围棋盘上不断挑战人类的过渡期，直到人工智能彻底超过人类为止。<br />这是新时代的开启，而旧时代却不会一下子落幕。<br />从情感上来说，我们都希望这过渡期可以长一些，人类抵抗的久一些。<br />然而这过渡期却以人类的一场失利开启。<br />也许这过渡期比大家想象的要更短了。<br /><br />二十年前，卡斯帕罗夫在第一次接受“深蓝”挑战时，也是在第一局比赛中因行险试探电脑而输掉了。<br />赛后的晚上，他在散步时忧心忡忡的问助手：“如果那玩意儿是不可战胜的该怎么办？”<br />当然众所周知，第二天起他奋起心力，最终战胜了电脑。<br />可他也只多坚持了一年，次年他就被击败。<br />历史会重演吗？还是，人类在围棋盘上挣扎的时间更短？<br /><br />我的朋友圈里，已经被“信仰崩塌”刷了屏。<br />大家都知道这一天早晚会来，可是单局的落败，到来的太快了。<br />理性上值得高兴，感情上却禁不住难过。<br />今天结束后，一起走在街上，聊起各自童年的梦想，和那些拼搏与坚持。<br />落寞之余，心头一片空白。<br /><br />我们不仅仅在见证着，甚至可以说是在亲历着历史上的重要时刻。<br />可这见证，真的好艰难啊。<br /><br />明天还得直播，大家打起精神来吧。<br />此时此刻，我真的庆幸自己没有接各种出镜的邀请，不用在摄像机前遮掩自己的感情。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/gao-fei-long-50?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">高飞龙</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/41171543/answer/89967936?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">1208 个回答，查看全部。</a><br />
Players’ Agent 球员经纪人（第二章）一个球员经纪人的职责
<b>Players’ Agent 球员经纪人（第二章）一个球员经纪人的职责</b><br /><br />       在整个球员经纪人系列中，我们重点强调的是球员经纪人的作用，在上一章中，我们看到了来自CIES的调查数据，诸如球员的经纪人的平均年龄是多少？有多少女性球员经纪人在这个行业？那么下面，我们来进一步谈谈，球员经纪人怎么工作，怎么为了他们的球员而奋斗。<br /><br />      正如我在本系列的第一章谈到的，很多球员经纪人在此之前，是具有法律、财务或市场营销背景的。体育圈已经越来越看重多元化的背景，比就拿英超的曼联俱乐部来说吧，他们几乎不招收体育管理专业背景的学生，而是从其他行业招聘，比如媒体行业、金融行业、法律行业、IT行业等等。所以，并非球员和俱乐部签订了转会协议，经纪人的工作就结束了。经纪人通常会提供各种其他服务，比如帮助运动员获得额外的商业收入、帮助运动员塑造更好的公众形象、甚至是帮助运动员打理好除足球以外的一切。<br /><br /><b>【合同谈判】</b><br /><br />      这点当然是最最基础的，很多球员都需要经纪人来协助自己进行合同谈判，一个正规的专业经纪人可以最大程度的保护球员的合法权益。 大部分的球员都由经纪人来处理合同问题，其它少部分可能是由家人、朋友或者自己处理。<br /><br /><b>【营销谈判和球员的权利】</b><br /><br />       这部分内容至关重要，球员的肖像权往往是谈判的主要组成部分。CIES的研究者们举了一个例子，英国的中场球员巴顿，在纽卡斯尔联效力期间，以每年67.5万英镑的价格卖掉了他五年的肖像权。很多英超球员都会为此设立一个私人公司，这种公司的优点就是----合理避税。因为肖像权利润的税率仅为28％，而合同收入的税率为40％。从法律上讲，这种行为无可非议，俱乐部使用这些不同的税率名目，为他们的球员提供一份报酬更加丰盛的合同。但是这么做也会产生法律风险。其他一些俱乐部，比如那不勒斯会把每个转来的球员肖像权都买下来。那不勒斯在2007年一年就从球员肖像权开发中获得了至少700万欧元的收益 - 这绝不容小觑。总共有65％的球员经纪人表示，他们会为客户完成这方面的谈判。<br /><br /><b>【法律顾问】</b><br /><br />       很多球员的经纪人此前都曾担任过律师或者就是一名律师。甚至有些球员会选择专业律师，因为很多官司是球员经纪人无法处理的，这时候一名专业的律师就派上用场了,当然，他们的收费也会更加昂贵。<br /><br /><b>【完整的职业生涯规划】</b><br /><br />       一名职业运动员的运动生涯是短暂而又有限的，所以48％的球员经纪人所关注不仅是球员职业生涯期间的事情，球员退役之后该从事什么？该怎样适应退役后的生活呢？。很多球员经纪人会帮助退役球员再次进入学校，或者发挥退役球员的特长，从事一些足球教练、青少年培训的工作。还有就是在球员职业生涯期间的每次选择，经纪人都会帮助他做出最符合长期利益的抉择。每次抉择都是痛苦的，有时候短期利益会蒙蔽球员的双眼，这时候就需要一些“专业的旁观者”来帮助球员做出选择。是不是出国踢球？是不是转会到那家俱乐部？<br /><br /><b>【个人问题】</b><br /><br />       找对象？买房子？出国踢球人生地不熟？吃不惯西餐说不惯外语？孩子要上学了？家里人生病了？这些生活中的方方面面，甚至繁琐细小到开个银行账户这种事情，很多球员都需要经纪人来代办或者协助。不过只有大概46％的球员经纪人给球员提供这样全套的服务，因为大多数情况，俱乐部会更加关心这些问题并解决好。<br /><br /><b>【财务规划和市场营销】</b><br /><br />       38％的球员经纪人给他们的客户提供全面的财务规划，也就是说，他们会建议球员进行一些投资或者帮助球员进行财务管理，寻求最好的项目或者银行帮助球员管理他们的资产。此外，还有一些专门的机构，专注于这个领域，帮助球员更好的宣传自己。<br /><br /><b>     在本系列的第三章，我们将看到一般球员经纪公司的规模，工作时间以及关于年轻球员的故事。</b>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/liu-hua-wei-46?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">刘华伟</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
为什么中国的古代建筑没有日本或韩国样式的推拉门？
更新<br /><br /><br />前天根据印象抛出的解释并不正确，除了气候影响的因素以外。<br /><br />先简单地说一下所谓“日式拉门”的演变路径。<br /><br />这种形制的“门”或“窗”出现于平安时代流行于镰仓时代，从历史源流来讲，大抵处于日本建筑和样化的国风时代到”镰仓新样式“传入日本之间。因此这基本上可以说是从日本建筑体系自主创新的结果。<br /><br />那么具体说起这个构建，所谓“日式拉门”的表述其实非常笼统。因为在日本建筑的领域中，至少可以分为室内的“襖（ふすま）”和用在外壁的“明障子”两部分。这二者的演变起点不同，但最后殊途同归。<br /><br /><p><img src="https://pic2.zhimg.com/9c68401c7c508cd38872e4f4ca6d34fd_b.jpg?rss" /></p><p><img src="https://pic1.zhimg.com/37796b1785c4fddf9efa834ad0c809b0_b.jpg?rss" /></p><br /><b>图1 襖 图2 明障子</b><br /><br />日本建筑尽管在受到中国影响前已有其自身的形制与特色，但其落后的技术终究抵不过来自大陆的影响，继而在一段时间内，其大多数建筑曾经都完全仿自大陆与半岛的形制。<br /><br /><br /><p><img src="https://pic2.zhimg.com/c0663922cfd3d01626d504d83ee3513d_b.jpg?rss" /></p><p><img src="https://pic1.zhimg.com/4c48013b761a26fcdd28211a6c3af358_b.jpg?rss" /></p><b>上 唐招提寺金堂 下 法隆寺金堂</b><br /><br />从形制上来讲，历史最为悠久的遗构是法隆寺与唐招提寺金堂*（旁边的药师寺虽然完全是新修的，坑了我几百日元，但复原也可作为参考，旅游一定不要去那。）。从中可以一窥早期日本建筑的“窗”与“门”的设计。<br /><br />上述建筑中的窗户设计被称为“连子窗”。可能是唐代建筑以及半岛建筑在日本的还原。我们可以清楚地发现，这种窗户本身是于墙壁之上的一种固定式设计。与我们讲的日式拉门儿还差着十万八千里，不过，嘿，不要着急，至少日本友人已经学会做窗户了，huzzah!<br /><br />除了固定的窗，日本还吸收了大陆的另一种设计，既可以上下开合的“蔀戸”。在平安早期，日本建筑的外装主要就靠这种上下开合的板户与帘来遮风挡雨，区分室内外空间。不过这种设计并不太适应日本阴湿多雨的环境。而随着日本建筑本土化的趋势，新的形制也逐渐演化出来了。<br /><p><img src="https://pic3.zhimg.com/e323c8e88c600ee1a67d471b08bf17ea_b.jpg?rss" /></p><p><img src="https://pic1.zhimg.com/30c030cf9770def9de379518eedec770_b.jpg?rss" /></p><p><img src="https://pic3.zhimg.com/efd6934717248d320658aa7af0005026_b.jpg?rss" /></p><p><img src="https://pic3.zhimg.com/a3c0aa6b958eb8d051c0a113015fbca6_b.jpg?rss" /></p><br />图3 蔀戸 图4 源氏物语绘卷<br /><br />在随后的几百年中，由于会昌灭法与唐末乱世，日本中断了遣唐使，中日的直接交流陷入停滞。到镰仓，既南宋为止的数百年中，日本建筑发生了巨大的变化，这一时期被后人称为所谓的日本化时期。<br /><br />之于建筑领域，貴族建築的典型“寢殿造”出現，室内地面结构从砖石变为了架高木地板再到榻榻米。这种变化可能是由于日本气候潮湿所导致的，其逻辑理路与东南亚的高脚楼是一致的。此外，室内空间也不断地扩大，出现了一通到底的“大广间”。<br /><br />然而宽阔的室内空间必然要面临的一个问题是功能分区，你不能这边做饭，那边办公，然后嘿咻都在一屋子里，不规矩，对吧。于是为了划分室内空间，一些室内构建得以在这样的空间中发展。<br /><br /><p><img src="https://pic1.zhimg.com/6b8ff3aa25accf97f99771fd2c04b720_b.jpeg?rss" /></p><br />「聚类杂用抄图卷 」局部<br /><br />寝殿造的室内结构，注意墙面和室内的门。<br /><br /><br /><p><img src="https://pic4.zhimg.com/1001eb22e4514f1205b5d0b31e694e2b_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/e4e1720f53c7598aad2cd47cd0cab5f9_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/aae094138b6d348564e8dd636adc376f_b.jpg?rss" /></p><br />图5 冲立 图6 几帐<br /><br />具体来说，在早期，从中国传来的“冲立”（屏风）与“几帐”部分地实现了这一功能。然而这种家具与建筑本身是分离的。直到平安中期，日本匠人不断地对屏风进行了改造，一面将其装饰亦绢布或和纸，一面试图将其融入建筑本身。最终在榻榻米中间挖了个木条，将屏风变成了室内可拆卸的“门”，形成了所谓的 “襖”，既室内进行空间分割的拉门儿。<br /><br />另一方面，为了方便通风与日照，干脆连墙也不要了，改成了由帘子和传统的蔀戸组成的开放式空间，随着室内拉门的出现，以及和纸的发明，逐渐形成了将窗与门功能相结合的明障子，既我们常见的外部的拉门。之后随着封建武士地位的崛起，拉门逐渐有了礼制上的意义。随着书院造建筑的流行，继而逐渐成为最具日本特征的建筑构件。<br /><br />随着镰仓时代宋朝建筑式样的传入，这种拉门的外形发生了一定的变化，出现了格子窗的样式（因此很多人根据外形就简单地认为日本拉门是中国传入的），明清建筑花窗也对其造型产生过一定的影响，但是其功能性并没有再发生大的改变，成为了日本建筑的典型特征。<br /><br /><br /><br /><br />大概是这么一个过程。<br /><br /><br /><br /><br />至于儒生<a class="member_mention" href="http://www.zhihu.com/people/81d64044ec3a56840cc1d7ce3ae19533">@kintana moro</a>提到的《营造法式》中的格子窗，是这样的。<br /><p><img src="https://pic2.zhimg.com/7e40e81db3cda556bbdd6be555cce525_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/d0250745dcd4495f3e04beeb40676ca5_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/df056bcfb71f712d3905db6a3f2f7b07_b.jpg?rss" /></p><br />很显然跟拉门是毫无关系的。很多朋友找几张宋画中看着象日本拉门的图，就想当然的认为中国也有拉门，这是很不可取的。<br /><br />当然，这本33年修的营造法式中很多图是后来补的，可能不能反映当时原貌，不过仅就其文字描述也可发现其与拉门无关，中国建筑遗构中也没听说过有过拉门。因此拉门应当是个日本建筑的发明。<br /><br />当然，有的朋友会说朝鲜半岛建筑也有拉门这一设计，那么到底是日本和朝鲜谁影响的谁呢？我就不清楚了，还希望有了解的朋友能够解答。<br /><br /><br /><br /><br /><br /><br />8888888888888888888888888888888888888888888888888888888888888888888888<br /><br />回来查了一下，我之前说的有很大的问题，这个玩意儿演变的历史比较复杂，明天再填。<br /><br />========================朝鲜半岛不清楚，但是日本的推拉门可能是来自其早期建筑结构的遗留，而非中国影响。<br /><br />大陆建筑技术传入日本之前，日本自己的建筑系统比较接近于东南亚地区。早期遗存很少，代表形制可参考伊势神功和出云大社。<br /><br />掘地埋柱高脚楼，草与树皮做屋顶，然后就是这个拉门了。它的功能性主要是用来通风换气，日本气候相对潮湿的多，这种整个墙壁空间都打开进行通风的设计可能就是推拉门最早的起源。<br /><br />至于儒生说的营造法式上有，我个人表示从来没看到过哪个版本上有拉门。希望有资料的话，他能拿出来和大家一同分享。<br /><br />在外面，先占坑，回头再上图和检证。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/39298861/answer/86906875?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/39298861/answer/86906875?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">16 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/23172836?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">日本古建筑为什么看起来很新？</a><br />
            
<a href="http://www.zhihu.com/question/28584796?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">古装片中，为何屋顶上的刺客一揭开瓦就能看到屋子里的情况？</a><br />
经济类的学生如何自己组织 Reading Group？
谢谢 <a class="member_mention" href="http://www.zhihu.com/people/90be37f6e2392711846bad076af94b90">@金超</a> 金老师再次邀请我回答问题。<br /><br />首先我非常怀疑所谓的reading group到底是给个人帮助的成分更大，还是浪费时间的成分更大，毕竟学习这事主要靠自己，指望参加个reading group就多学到很多书或者论文，省自己的时间是不可能的。就我自己参加reading group的经历来看，刚开始会兴趣盎然，不久就会觉得不知道说话的人在说什么，再之后就不来了。<br /><br />所以怎么组织一个reading group呢？最重要的是搞清楚group的目的是什么？正如上面的原因，一起读书、读论文肯定效果不好，因为你喜欢的别人不喜欢，别人和你都喜欢的你又觉得别人可能没说到点子上或根本没看懂，即使刚开始有些收获，也很难坚持长久。比较现实的一个目的是互相交流、学习，以友为师。<br /><br />我们班从去年开始试着组织一个博士生的学习小组，类似上面的reading group，每周一碰头，到现在共坚持了19次。从一开始我们就贯彻了以下几条原则：<br />1. 目的：以友为师、互相学习。看同学中的皎皎者都在学什么知识，看什么书，做什么工作，有什么思考、心得，他/她遇到了问题是怎样解决的？既互相学习，也互相督促。<br />2. 开放式，任何人可以随时加入、随时退出；<br />3. 不给大家增加负担，见面的时候想说什么说什么，可以是最近的研究，读书的感想，疑惑的问题，工作的思索，不指定发言主题，不需要事先准备，纯粹聊天式；有话则长，无话则短；<br />4. 一人有惑，八方支援，学习或研究中遇到什么不明白的事说出来，大伙一起积极解决；<br />5. 注意记录，每次讨论后让每个人总结自己的发言，汇总成刊物；<br />6. 时间均选取在晚上的课后，这样占用大家时间最少，参加人最多。 <br /><br />学习小组到目前来看基本达到了预想的目的。大家都愿意交流，也都有所收获。下一步我们打算搞学生seminar，这难度就加大了，因为演讲者需要提前准备，还要讲得清楚简洁，听众的期望和要求也明显高于学习小组，怎么搞比较好还有待探索。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/FreedomPhd?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">FreedomPhd</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/36604080/answer/84904448?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">5 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/21500230?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">应该向富人多征税吗？</a><br />
            
<a href="http://www.zhihu.com/question/22036280?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">经济学界是如何看待比特币的？</a><br />
怎么看业余围棋段位？
谢<a class="member_mention" href="http://www.zhihu.com/people/eef4dd2a0fec01c34e8c99df7b425a6c">@小小</a>邀请。其实这个问题就算没有人邀请，我也是会来答的。<br /><br />————————————————<br /><br />代表曾经荣耀的标识和称号，到底是会成为永恒？还是会成为历史？<br /><br />今天正好是高考第一天。<br />我父母上中学时，赶上恢复高考。恢复高考后头几届的大学生，被称为“新三届”，由于当时选拔率的苛刻，加上多少年积攒下来的不同批次人才同时竞争的激烈环境，导致“新三届”的大学生质量极其的高。<br />后来的故事人人皆知。<br />高校以远远远远大于总人口增长的速度进行扩招。就算刨去全民教育水平上升的影响，曾经是“天之骄子”的本科生的质量还是在逐年下降。<br />到得现在，本科生早已烂大街了，甚至研究生和博士生都已不再具有当年的“符号威力”。<br /><br />诚然，高校的扩招对于全民教育水平的提升功不可没，而一纸学历证书能代表的意义本也有限。<br />既然如此，我们要不要在大众教育和精英教育的天平上，将所有砝码都毫不犹豫的压到左边去？<br />不是缓慢的渐进的，而是骤然而起的，打破原有的“均衡”？<br /><br />中国围棋，作为大众维度和竞技维度都还算比较成功的一个小众体育项目，其这些年来的快速发展，确实离不开严谨而公正的段位制度的功劳。<br /><br />围棋的段位制度，源自日本。<br />末代本因坊秀哉之前的旧时代里，日本的段位制度一直极为严苛的规定着棋份。一个时代只能有一个九段，那就是名人。八段以下，按棋力进行阶梯划分。<br />而中国古代的围棋水平评定，一向是仿照九品中正制。一品为最高，九品最低，恰与段位制相反。<br />秀哉交出名人称号和世袭罔替的本因坊称号之后，日本乃至全世界围棋迎来了现代时代。<br />日本围棋在半商业化的过程中，摸索出了“职业段位制”，“对局费制”和“商业化新闻棋战制”三大体制，作为现代日本围棋制度的三大支柱。<br />这三大支柱，曾经催生和支撑起了日本围棋那个最辉煌的时代。也将世界围棋的竞技水平和组织水平，都提高到了以往不可想象的地步。<br /><br />中国围棋和韩国围棋以日本围棋为师，不但学竞技水平，还学习其组织方式，慢慢的也实现了自己的现代化。而业余围棋附生在职业围棋的周边，也设立了自己的段位制度。<br /><br />天下没有永远盛开的鲜花。<br />三大支柱体制，从现在的角度来看，并不算是成功的商业化，甚至从竞技以及文化角度来说，也都不是完美体制。<br />在中韩，职业段位的具体数字早已沦为了一个单纯的符号，大家已经不会被“初段爆冷战胜九段”这种“新闻”所震惊。大家介绍某棋手，只会强调他是职业棋手，而具体的段位，关心的人就少了。<br />现代的职业段位的具体数字，虽然仍然有一定的意义，但这意义已经越来越淡化了。<br />对局费制度，近年来受到奖金制的剧烈冲击，遭到大规模的替代已经是必然趋势。虽然也许不会被彻底消灭，但已经无法代表围棋界的未来。<br />对职业三大支柱体制的讨论，非本文原意，不做多表。<br /><br />仿照职业段位制度设立的业余段位制度，中日韩之间也非常相似。<br />以业余7段为最高，业余1段为最低，段位以下设级位；1级最高（比1段低一格），依次递减，至18级（也有以25级或10级为最低的，下限不重要）。<br />还有一个奇葩的业余8段。<br />很多人说只有日本有业余8段，这种说法不准确。应该说，是只有日本才颁发业余8段，颁发给获得日本棋院举办的世界业余锦标赛冠军的棋手（不论是哪国的）。而中韩默契的没有效仿。<br /><br />让我们聚焦中国业余段位。<br />传统的业余段位，以业余5段为分水岭。<br />原则上来说，省级以下棋协，有资格颁发的段位证书，只到业5为止。<br />而业6和业7，只有某些特定的国家承认的全国比赛中，才可以颁发。<br />某几项最大比赛，如传统的晚报杯，黄河杯，后来的商业杯等的冠军，可以授予业7。前8名（只可递延有限次），可以授予业6。某些含金量稍低但也被承认的全国比赛的前几名，可以授予业6。<br /><br />在这种模式下，大家看出端倪了么？<br />一旦围棋人口大规模增长，各个等级的人群数量都将有不同幅度的增长。而越往高处，幅度越小。<br />业余5段为什么会成为一个分水岭？<br />一旦各省级棋协放松对业余段位的限制，在段位赛中“大幅度扩招”，整体业余段位的水平就将大幅度下滑。这种下滑基本以业5为限。<br />因为再往上，已经不是省级可以操纵的了，只要全国比赛授予段位的规则不变，业6业7的含金量就永远可以保证，甚至在固定名额的情况下，还可能因为全民整体水平的水涨船高而含金量上升！<br /><br />可是现实是，近年来，业6甚至业7的含金量，也在非常缓慢的下滑。<br />为什么呢？<br />因为随着可以授予段位的全国比赛慢慢变多，名额的增长还是稍微快于整体水平的上涨。<br />可是跟最近十年来业余5段档丧心病狂的水化程度相比，业6业7在最近五年来的微度水化基本可以忽略不计。<br /><br />这样好不好呢？以扩张来促进普及，多给大家一些甜头作为激励，对围棋事业的发展到底利弊对比孰大呢？<br />这是一个很难的课题，我们可以政治绝对正确的说，一定有一个恰当的分寸。<br /><br />我小时候下棋时，是九十年代后半期。九十年代的郑州，汇集了来自包括北京上海成都等全国各地来的精英冲段少年。了解那段历史的人，应该都明白九十年代的河南围棋，意味着什么。<br />那个时代河南的业余段位管理，可能是全世界历史上最严苛的了。<br />曾经和一个山东的同时代的朋友说笑，他说：“我可是当年山东省赛30名定的业5啊，不要闹。”我只好淡淡的说：“我小时候有一年河南省赛20名，才给了个业余初段。”<br />我真不是故意噎人，这还没考虑到那个时代河南围棋变态的整体实力呢。<br />在我小时候，业余4段就是神一样的存在。业5？就没见过几个活的。<br />同时代的很多同龄人，终其业余生涯，也没能升上业5。也就是说，他们打上职业的时候，都没能在省里成为业5。<br /><br />这样严苛的标准真的好吗？<br />以我个人主观的判断来说，苛刻到这种程度，实在是有点过了。不利于普及发展。<br />过于苛刻不好，那么就宽松一些吧？<br />后来包括河南在内，全国范围掀起了业余低段位大幅度扩张的狂潮。<br />也就不到十年，业余段位的含金量已经不忍直视。<br />再加上我小时候亲身经历过最严苛的段位控制，实际上我对业余段位含金量的下滑的感受，可能远比很多朋友更深刻。<br /><br />业余段位的下滑，导致这个标签的参考性严重不准。慢慢的，很多人开始把目光投向网络段位。弈城段位，作为最权威的网络段位，近些年来一直是评价水平的重要参考标准。<br />我当年有资格在省赛上拿业余初段时的水平，大致相当于后来的弈城7段。<br />可是最近几年，我已经见过好几个弈城3段水平的业余5段了。<br />且不说近两年来，弈城段位的含金量，也随着高手的流失，而在缓慢的下滑。<br /><br />业余段位含金量下滑到这种程度，这说的是聊斋吧？<br /><br />段位“扩招”可以促进普及，那人手一个业余5段好不好？<br />证书只是一个标签，只是一个参考，那我让这个标签彻底失去意义，你还能参考什么？<br /><br />这一次，原本作为省级封顶的业余5段，已经无法抵挡水化狂潮了。<br />大浪已经冲上高台，直逼业余高段去了。<br /><br />秦皇岛的此次比赛，从规程上来说如何不当，我作为一介草民就不做讨论了。<br />咱们只想象一下比赛的后果。<br />业余5段百分之六升业6，业余6段30人冠军升业7。<br />大家乍一听，说不定还觉得：这不是挺严格的嘛！<br /><br />其实不然。<br />以现有的业余5段的数量，全国的有证者应该至少也有数万（无法统计，只凭借经验进行估算）。有业余5段水平者，至少也有十万以上。<br />而现有的业余6段有多少？<br />300多人。<br /><br />省级封顶业5的制度，将十年来业余段位的水化狂潮强行挡在了业余5段以下，也使得业余5段和业余6段之间，形成了所有相邻业余段位间最大的落差。<br />可是这个比赛一放开，只按百分之六的比例来算，业余6段将从300多人暴涨到多少？<br />而且，比赛并不是只办一次。通过经验，我可以负责任的告诉大家，随着比赛次数增长，整体人群的升段比例绝不会只是百分之六，很可能达到百分之三十，甚至更高。比赛次数越多，整体比例就越高。<br />而所有棋手的整体水平上涨是微乎其微的，根本无法跟上这样的速度。<br />业6升业7的三十取一，开始可能还影响不大。可时间一长，随着业6数量的快速爆炸，连动爆炸是早晚可以预期的。<br />而且，这个比赛的设置时间，非常“巧合”的和职业定段赛冲突了。<br />这意味着，所有参加职业定段赛的冲段少年，那些强力业5业6，将不会出现在这个比赛的赛场上。<br />我不禁感叹于主办方的用心良苦。<br /><br />其实和很多身边的朋友一样，从自身角度来说，我们第一感都不讨厌这个比赛。<br />因为，每个业余5段，都有一颗业余6段的心。<br />这个比赛对于大家来说，也许是这辈子最容易实现业6梦想的机会了。<br />可是冷静下来想一想，这种业余6段，真的是我们想要的吗？<br /><br />我们想要的，是真正提升自己，将此生的极限奋力向上推进一步，达到那种客观水平。<br />而不是靠着整体“扩招”，大家你好我也好。<br />如果真是和业余5段近十年来发生的事一样，那我觉得还是我当年的那个“业余初段”，更真实一些。<br /><br />小明这次的行为，确实也惊呆了好多人。<br />但其实在他做这件事之前，圈内就已经掀起了抨击这个比赛的浪潮。<br />小明说：我一个人来，可是我不孤独。<br /><br />没错，他不是一个人。<br />他的行为也许稍嫌过激，但他确实说出了大家的心声。<br /><br />前几日得知此事时，我和 <a class="member_mention" href="http://www.zhihu.com/people/217765749762efd7620d89f1faca2685">@公孙青阳</a>聊到：<br />“小明真是勇猛啊，就这样冲出去开第一枪。”<br />“哎，我们就不会这样直接冲上去，开第一枪。”<br />“但我们会开第二枪，第三枪。”<br />“你想多了，第二枪第三枪估计早就有人开了。”<br />“那我们就开第一万枪。”<br /><br />请接好我的第一万零一枪。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/gao-fei-long-50?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">高飞龙</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/31023233/answer/50438578?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">13 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/21932201?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">围棋定式有何意义？</a><br />
            
<a href="http://www.zhihu.com/question/26305359?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">如果在莫比乌斯带或者球面上下围棋会怎么样？</a><br />
有哪些桌子的设计堪称经典？
说到堪称经典的，而不是那些新奇特设计的，桌子，怎么能没有这几张：<br /><br /><strong><u>Eiermann Table （办公桌，饭桌，会议桌）</u></strong><br /><p><img src="https://pic3.zhimg.com/065d844fefb53d0d2860a1959972513a_b.jpg?rss" /></p><br /><p><img src="https://pic3.zhimg.com/4aa8c993bb9e07aa9bcc1bcf4fde5cba_b.jpg?rss" /></p>简洁的功能主义设计，可调节高度，可自由搭配任何桌面板。<p><img src="https://pic1.zhimg.com/e410bde922fb2a52f9687b6db320c2fc_b.jpg?rss" /></p><br /><br />德国建筑师 Egon Eiermann 1953 年设计了桌架一号， 1965年 Adam Wieland 改进了X型支架的连接处结构，现在称之为Eiermann桌架二号。改进版更灵活，便于装卸，但是确少了几分轻盈。斯图加特的家具制造厂 Richart Lampert 于1990年获得生产许可，制造并出售一号二号两个版本。<br /><p><img src="https://pic1.zhimg.com/021a120f542348240ad518678345fc38_b.jpg?rss" /></p><br />是的你们没有看错，Eiermann就只是设计了桌架，但是他号称是事务所桌子里面当之无愧的+市场占有率第一+<br /><br /><p><img src="https://pic3.zhimg.com/1b10efec155d96031a82ec800c902ad2_b.jpg?rss" /></p><br /><br /><br /><br /><br /><strong><u>Saarinen Table （餐桌）</u></strong><br /><br /><p><img src="https://pic3.zhimg.com/584e1fdf26bde75b4ea2c98ea1112f86_b.jpg?rss" /></p><br />芬兰裔美国建筑师 Eero Saarinen （埃罗·沙里宁）1959 年设计，是同他著名的郁金香椅子配套的设计，沙里宁无法忍受桌子和椅子下面的丑陋和杂乱，最终推出了+独腿+的郁金香系列。好吧，腿少了很多确实没那么杂乱了。。。由美国家具制造厂Knoll 生产销售<br /><p><img src="https://pic2.zhimg.com/b83bafe61da2206d6fabe0f3a36b726d_b.jpg?rss" /></p><br /><br /><br /><br /><br /><br /><strong><u>Adjustable Table E 1027 （沙发桌，床头桌）</u></strong><br /><br /><p><img src="https://pic3.zhimg.com/3e876c5ad45cf778bc89169ebf867ee6_b.jpg?rss" /></p>由建筑师 Eileen Gray 1927 年设计的现代主义经典，这是她和男友Jean Badovici 1924年开始建造度假屋 E1027 的时候一同设计的部分家具之一。其中E代表Eileen， 10 代表Jean （J是第十个字母）， 2 代表Badovici， 7 代表Gray。Badovici 的好友 Le Corbusier 还拜访过几次，并且画了几幅墙画。<br /><p><img src="https://pic3.zhimg.com/32b9d094b3628e5643b824291974a44a_b.jpg?rss" /></p> 柯布 强势出镜。。。度假的时候真是放松啊。。。。<br /><br /><br /><br /><br /><strong><u>B 9 Side Table （沙发桌，床头桌）</u></strong><br /><p><img src="https://pic3.zhimg.com/11d7b78ae9e96bca7f17a74963939d0e_b.jpg?rss" /></p><br />建筑师 Marcel Breuer 1920 年代在德绍的包豪斯家具工作室设计的一系列经典之一。分B9a b c d 四种型号， 即可以当凳子，又可以当桌子，由德国家具厂 Thonet 生产制造。<br />这里还有一段法律纠纷：B9 这个版本的生产许可是Bauhaus 所有的。 但是Breuer 本人在1968年把这个设计卖给了意大利一家公司，最后转卖给了美国的Knoll。 现在Knoll生产的 Laccio 桌子和Thonet 的B9 除了材质略有不同几乎一样。<br /><p><img src="https://pic1.zhimg.com/db785f51bbab553b61b35e3b92fcf564_b.jpg?rss" /></p><br /><br /><br /><br /><br /><br /><strong><u>Noguchi Coffee Table （沙发桌）</u></strong><br /><p><img src="https://pic3.zhimg.com/093c722edca1aef5ab99d347d2a7e956_b.jpg?rss" /></p><br /><br />日美混血雕塑家（终于不是建筑师了） Isamu Noguchi 最初是1930年代给MoMa的主席设计的， 1944 年改成现在的版本。现在由Vitra 制造。<br /><p><img src="https://pic4.zhimg.com/f03e6845b5bc85b4d1c066174b96f9eb_b.jpg?rss" /></p><br />看看有没有人感兴趣，有机会再补充
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/zhao-de-zhu-50?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">赵德住</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/31069750/answer/82376795?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">42 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/25069453?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">如何成为一个业余木匠，需要有哪些准备？</a><br />
            
<a href="http://www.zhihu.com/question/26923689?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">木质座椅都有哪些经典设计？</a><br />
关于Meerkat 退出视频直播业务的随想
<img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/2748629c1b8c49ccd2fca6aba438490d_b.png" width="520" />作为移动视频直播的代表，Meerkat宣布关闭视频直播业务，相关新闻链接：<p>英文：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//recode.net/2016/03/04/meerkat-is-ditching-the-livestream-and-chasing-a-video-social-network-instead/" rel="nofollow noreferrer" target="_blank">Meerkat Is Ditching the livestream<i class="icon-external"></i></a><br /></p><p>中文：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//tech.qq.com/a/20160306/014014.htm" rel="nofollow noreferrer" target="_blank">竞争激烈 昔日王者Meerkat退出流媒体直播领域<i class="icon-external"></i></a></p><p>这篇内容也是知乎问题：<a class="internal" href="https://www.zhihu.com/question/41066940">如何看待 Meerkat 退出视频直播业务？ - Meerkat</a> 下我的答案，权当记录。</p><p>1、在『社交+移动+视频直播』这个方向上，兴起是15年初，代表公司就是Meerkat和Periscope，开始火的时间大概都是15年2月-3月；<br /><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/799b73d8f43ed6282b3f6f8fe11ec2ea_b.png" width="550" /><br /><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/86979230826d06a33e5395db2c7a316f_b.png" width="600" />来源：<a class="internal" href="http://zhuanlan.zhihu.com/rosicky311/20291932">安利一个报告《Tech and media outlook 2016》---来自BI - 不吐不快 - 知乎专栏</a><br /><br />2、Meerkat的火爆要感谢Twitter，因为起初所有的Meerkat的社交关系来自于Twitter；而就在Meerkat火了不到两个月的时候，Twitter通过之前收购的Periscope也推出了类似的服务，并且封杀了Meerkat；15年4月之后，Meerkat其实就进入了第一个下行区间；<br />相关新闻：<a class="internal" href="https://link.zhihu.com/?target=http%3A//36kr.com/p/220584.html">有了自家的流媒体直播之后，Twitter对Meerkat下手了_36氪</a><br /><br />3、15年5月，Meerkat开始支持Facebook账号登录，其希望利用Facebook的社交链起势；而3个月之后Facebook开始测试类似服务Facebook Live；12月Web端正式推出该服务，移动端在16年1月-2月全面支持该服务。<br /><br />4、所以表面上的结论是：<b>Meerkat放弃直播方向的原因是无法获得新的用户；在新闻中公司的CEO也提及了因为Twitter和Facebook的加入让他们增长乏力；</b><br /><br /></p><blockquote>Mobile broadcast video hasn’t quite exploded as quickly as we’d hoped. The distribution advantages of Twitter/Periscope and Facebook Live drew more early users to them away from us and we were not able to grow as quickly alongside as we had planned.</blockquote><p><br />5、但更深层次的原因我其实觉得是『内容』本身的问题；如果从内容的承载形态的沿袭看，移动端的社区产品大概经历了：文字-语音-图片-视频-直播的迭代；从文字到直播，内容的生产门槛越来越高；而在用户分布上，大多数社区产品中的用户都仅仅是『观众』，真正意义上的『内容生产者』少之又少；内容的生产门槛或者换个说法，社区对内容的要求越高，内容生产者占总用户的比例就越低，而这种社区内生态的稳定性就越会受到影响。（知乎也是这样）<br /><br />6、我下午转发腾讯关于Meerkat关闭直播这条新闻到朋友圈之后，我的一位在虎扑做运营的朋友是这样评论的：<br /></p><blockquote>本质上手机直播『平台』还是没有回答『<b>我来看什么</b>』这个核心问题，因此严重依赖入口和传播，实质上只是<b>内容生产工具</b>，而不具备平台化的条件。</blockquote><p>巧合的是，就在今晚，虎扑TV的Web版本上线了：<a class="internal" href="https://link.zhihu.com/?target=http%3A//www.videohupu.com">虎扑TV - 体育视频互动平台 hupu.tv</a><br />当然这个形态更类似Twitch，而不是Meerkat/Periscope，而关于类Twitch我就不在这个问题展开了。<br /><br />7、感谢YY、9158、<a class="internal" href="https://link.zhihu.com/?target=http%3A//6.CN">http://6.CN</a>们，中国的一众手机视频直播类项目在做了一段时间之后都知道了该向哪个方向努力；如果说YY/9158/<a class="internal" href="https://link.zhihu.com/?target=http%3A//6.CN">http://6.CN</a>代表着一个极端，Meerkat/Periscope代表另外一个极端，中国的这些手机视频直播APP就在中间，产品形态接近Meerkat，而<b>运营逻辑、内容偏好和商业模式</b>偏向YY，这无关对错……<br /><br />8、按照Meerkat的兴起和衰败的原因分析，似乎秒拍在国内的手机视频直播领域也会有一席之地；当然这仅仅是逻辑上的『一厢情愿』；如果我们把这个逻辑再延伸，快手呢？美拍呢？<br /><br />9、在国内『大视频』这个概念下，传统的视频网站（优土、爱奇艺、乐视等）、新生代人群的视频网站（Acfun、Bilibili）、短视频APP（秒拍、快手等）、直播平台（斗鱼、熊猫等）、视频直播APP（映客、花椒）等，未来一定是大混战；<b>谁掐死谁，谁能在小细分领域先站住脚，哪个细分领域可能最后全军覆没</b>都是未知数……<br /><br />10、我愈发的觉得，在中国特有网民群体文化下，会产生出越来越多比美国互联网更有生命力的产品形态。</p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/rosicky311?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">庄明浩（rosicky311）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
DeepMind 研发的围棋 AI AlphaGo 系统是如何下棋的？
<p>刚刚人类职业选手世界冠军李世石九段认输，第一局AlphaGo赢了。。。</p><p>－－－－－－－－－－－－－－－－－－－－－－－－－－－－</p><p>谷歌DeepMind宣布他们研发的神经网络围棋AI，AlphaGo，在2015年10月首次5:0战胜了人类职业选手欧洲围棋冠军Fan Hui二段。这篇论文由David Silver等完成。里面的技术是出于意料的简单却又强大。为了方便不熟悉技术的小白理解，这里是我对系统工作原理的解读。下面主要编译与：<em><a class="internal" href="https://link.zhihu.com/?target=http%3A//www.dcine.com/2016/01/28/alphago/">How AlphaGo Works</a> ，原作者是</em>SpinPunch CTO DAN MAAS。本文首发微信公众号“<b>董老师在硅谷</b>”（donglaoshi-123)</p><br /><p><strong>深度学习</strong></p><p><img src="https://pic2.zhimg.com/d82e74f3536aa3a38d6d3e0fec06fd89_b.jpg?rss" /></p><p>“深度学习”是指多层的人工神经网络和训练它的方法。一层神经网络会把大量矩阵数字作为输入，通过非线性激活方法取权重，再产生另一个数据集合作为输出。这就像生物神经大脑的工作机理一样，通过合适的矩阵数量，多层组织链接一起，形成神经网络“大脑”进行精准复杂的处理，就像人们识别物体标注图片一样。</p><br /><p>虽然神经网络在几十年前就有了，直到最近才形势明朗。这是因为他们需要大量的“训练”去发现矩阵中的数字价值。对早期研究者来说，想要获得不错效果的最小量训练都远远超过计算能力和能提供的数据的大小。但最近几年，一些能获取海量资源的团队重现挖掘神经网络，就是通过“大数据”技术来高效训练。</p><br /><p><strong>两个大脑</strong></p><br /><p>AlphaGo是通过两个不同神经网络“大脑”合作来改进下棋。这些大脑是多层神经网络跟那些Google图片搜索引擎识别图片在结构上是相似的。它们从多层启发式二维过滤器开始，去处理围棋棋盘的定位，就像图片分类器网络处理图片一样。经过过滤，13 个完全连接的神经网络层产生对它们看到的局面判断。这些层能够做分类和逻辑推理。</p><br /><p><p><img src="https://pic2.zhimg.com/bf40c7bcf3a3672fcd9ab49f6ccbadc5_b.jpg?rss" /></p><br />这些网络通过反复训练来检查结果，再去校对调整参数，去让下次执行更好。这个处理器有大量的随机性元素，所以我们是不可能精确知道网络是如何“思考”的，但更多的训练后能让它进化到更好。</p><br /><p><strong>第一大脑: 落子选择器 （Move Picker)</strong></p><br /><p>AlphaGo的第一个神经网络大脑是“监督学习的策略网络(Policy Network)” ，观察棋盘布局企图找到最佳的下一步。事实上，它预测每一个合法下一步的最佳概率，那么最前面猜测的就是那个概率最高的。你可以理解成“落子选择器”。</p><p><img src="https://pic4.zhimg.com/467296c16bb4933f1e3d8095e8a28c13_b.jpg?rss" /></p><em>落子选择器是怎么看到棋盘的？数字表示最强人类选手会下在哪些地方的可能。</em><br /><br /><p>团队通过在KGS（网络围棋对战平台）上最强人类对手，百万级的对弈落子去训练大脑。这就是AlphaGo最像人的地方，目标是去学习那些顶尖高手的妙手。这个不是为了去下赢，而是去找一个跟人类高手同样的下一步落子。AlphaGo落子选择器能正确符合57%的人类高手。（不符合的不是意味着错误，有可能人类自己犯的失误）</p><br /><p><strong>更强的落子选择器</strong></p><br /><p>AlphaGo系统事实上需要两个额外落子选择器的大脑。一个是“强化学习的策略网络（Policy Network）”，通过百万级额外的模拟局来完成。你可以称之为更强的。比起基本的训练，只是教网络去模仿单一人类的落子，高级的训练会与每一个模拟棋局下到底，教网络最可能赢的下一手。Sliver团队通过更强的落子选择器总结了百万级训练棋局，比他们之前版本又迭代了不少。</p><br /><p>单单用这种落子选择器就已经是强大的对手了，可以到业余棋手的水平，或者说跟之前最强的围棋AI媲美。这里重点是这种落子选择器不会去“读”。它就是简单审视从单一棋盘位置，再提出从那个位置分析出来的落子。它不会去模拟任何未来的走法。这展示了简单的深度神经网络学习的力量。</p><br /><br /><p><strong>更快的落子选择器</strong></p><br /><p>AlphaGo当然团队没有在这里止步。下面我会阐述是如何将阅读能力赋予AI的。为了做到这一点，他们需要更快版本的落子选择器大脑。越强的版本在耗时上越久－为了产生一个不错的落子也足够快了，但“阅读结构”需要去检查几千种落子可能性才能做决定。</p><br /><p>Silver团队建立简单的落子选择器去做出“快速阅读”的版本，他们称之为“滚动网络”。简单版本是不会看整个19*19的棋盘，但会在对手之前下的和新下的棋子中考虑，观察一个更小的窗口。去掉部分落子选择器大脑会损失一些实力，但轻量级版本能够比之前快1000倍，这让“阅读结构”成了可能。</p><br /><p><strong>第二大脑：棋局评估器 （Position Evaluator）</strong></p><br /><p>AlphaGo的第二个大脑相对于落子选择器是回答另一个问题。不是去猜测具体下一步，它预测每一个棋手赢棋的可能，在给定棋子位置情况下。这“局面评估器”就是论文中提到的“价值网络（Value Network)”，通过整体局面判断来辅助落子选择器。这个判断仅仅是大概的，但对于阅读速度提高很有帮助。通过分类潜在的未来局面的“好”与“坏”，AlphaGo能够决定是否通过特殊变种去深入阅读。如果局面评估器说这个特殊变种不行，那么AI就跳过阅读在这一条线上的任何更多落子。</p><p><img src="https://pic4.zhimg.com/ae2f054082752846e85e1f2db7ff3e9f_b.jpg?rss" /></p><p><em>局面评估器是怎么看这个棋盘的。深蓝色表示下一步有利于赢棋的位置。</em></p><br /><p>局面评估器也通过百万级别的棋局做训练。Silver团队通过 复制两个AlphaGo的最强落子选择器，精心挑选随机样本创造了这些局面。这里AI 落子选择器在高效创建大规模数据集去训练局面评估器是非常有价值的。这种落子选择器让大家去模拟继续往下走的很多可能，从任意给定棋盘局面去猜测大致的双方赢棋概率。而人类的棋局还不够多恐怕难以完成这种训练。</p><br /><p><strong>增加阅读</strong></p><br /><p>这里做了三个版本的落子选择大脑，加上局面评估大脑，AlphaGo可以有效去阅读未来走法和步骤了。阅读跟大多数围棋AI一样，通过蒙特卡洛树搜索（MCTS）算法来完成。但AlphaGo 比其他AI都要聪明，能够更加智能的猜测哪个变种去探测，需要多深去探测。</p><p><img src="https://pic2.zhimg.com/ed7199f35bd442b290acbfa4eacd73c1_b.jpg?rss" /></p><p><em>蒙特卡洛树搜索算法</em></p><br /><p>如果拥有无限的计算能力，MCTS可以理论上去计算最佳落子通过探索每一局的可能步骤。但未来走法的搜索空间对于围棋来说太大了（大到比我们认知宇宙里的粒子还多），实际上AI没有办法探索每一个可能的变种。MCTS做法比其他AI有多好的原因是在识别有利的变种，这样可以跳过一些不利的。</p><br /><p>Silver团队让AlphaGo装上MCTS系统的模块，这种框架让设计者去嵌入不同的功能去评估变种。最后马力全开的AlphaGo系统按如下方式使用了所有这些大脑。</p><br /><p>1. 从当前的棋盘布局，选择哪些下一步的可能性。他们用基础的落子选择器大脑（他们尝试使用更强的版本，但事实上让AlphaGo更弱，因为这没有让MCTS提供更广阔的选择空间）。它集中在“明显最好”的落子而不是阅读很多，而不是再去选择也许对后来有利的下法。</p><br /><p>2. 对于每一个可能的落子，评估质量有两种方式：要么用棋盘上局面评估器在落子后，要么运行更深入蒙特卡罗模拟器（滚动）去思考未来的落子，使用快速阅读的落子选择器去提高搜索速度。AlphaGo使用简单参数，“混合相关系数”，将每一个猜测取权重。最大马力的AlphaGo使用 50/50的混合比，使用局面评估器和模拟化滚动去做平衡判断。</p><br /><p>这篇论文包含一个随着他们使用插件的不同，AlphaGo的能力变化和上述步骤的模拟。仅使用独立大脑，AlphaGo跟最好的计算机围棋AI差不多强，但当使用这些综合手段，就可能到达职业人类选手水平。</p><p><img src="https://pic3.zhimg.com/6553b2bca2613546a65dead5ef82e622_b.jpg?rss" /></p><p><em>AlphaGo的能力变化与MCTS的插件是否<em>使用</em>有关。</em></p><br /><p>这篇论文还详细讲了一些工程优化：分布式计算，网络计算机去提升MCTS速度，但这些都没有改变基础算法。这些算法部中分精确，部分近似。在特别情况下，AlphaGo通过更强的计算能力变的更强，但计算单元的提升率随着性能变强而减缓。</p><br /><p><strong>优势和劣势</strong></p><br /><p>我认为AlphaGo在小规模战术上会非常厉害。它知道通过很多位置和类型找到人类最好的下法，所以不会在给定小范围的战术条件下犯明显错误。</p><br /><p>但是，AlphaGo有个弱点在全局判断上。它看到棋盘式通过5*5金字塔似的过滤，这样对于集成战术小块变成战略整体上带来麻烦，同样道理，图片分类神经网络往往对包含一个东西和另一个的搞不清。比如说围棋在角落上一个定式造成一个墙或者引征，这会剧烈改变另一个角上的位置估值。</p><br /><p>就像其他的基于MCTS的AI， AlphaGo对于需要很深入阅读才能解决的大势判断上，还是麻烦重重的，比如说大龙生死劫。AlphaGo 对一些故意看起来正常的局也会失去判断，天元开盘或者少见的定式，因为很多训练是基于人类的棋局库。</p><br /><p>我还是很期待看到AlphaGo和李世石9段的对决！我预测是：如果李使用定式，就像跟其他职业棋手的对决，他可能会输，但如果他让AlphaGo陷入到不熟悉情形下，他可能就赢。</p><br /><p><b>参考资料：</b></p><br /><li><p><em><em>Nature 论文：<a class="internal" href="https://link.zhihu.com/?target=http%3A//www.nature.com/nature/journal/v529/n7587/full/nature16961.html">http://www.nature.com/nature/journal/v529/n7587/full/nature16961.html</a></em></em><br /></p></li><li><p><em><a class="internal" href="https://link.zhihu.com/?target=http%3A//36kr.com/p/5042969.html">关于 AlphaGo 论文的阅读笔记_36氪</a></em></p></li><br /><li><p>－－－－－－－－－－－－－－－－－－－－<br />最后也欢迎大家关注我的知乎专栏： <a class="internal" href="http://zhuanlan.zhihu.com/donglaoshi">董老师在硅谷 - 知乎专栏</a> 分享硅谷最新技术，文化，书写成长，一起进步。</p></li>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/dongfei?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">董飞</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/41176911/answer/89912149?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">19 个回答，查看全部。</a><br />
怎样才能当一个马兽医？
开始答题。<b>多图预警</b>。说实话我这人比较懒，真的不想大篇幅写什么东西。但是最近确实接到了好多人的私信，问我这个问题（我有点怀疑提问者会不会就是这些私信者之一？嫌我回的不够仔细所以另开个问题）。于是想以后谁问我就贴这个链接，省时省力。 大家有问题也请在评论里提问，这样以后谁再问我我也可以让他看这里。两个问题吧，1.怎么成为一个马兽医 ； 2.FEI兽医什么要求<br />----------------------------------------------------------分割线------------------------------------------------------------------------<br />1.怎么成为一个马兽医<br />      先强调，我是<b><u>运动马兽医，运动马兽医，运动马兽医</u></b>，说三遍表示突出。我之后的回答不特别说明，都是在说运动马兽医。为什么强调这个呢，运动马兽医的主旨，是保障马匹福利，提高马匹竞技能力。而不是像常规兽医以保障动物健康为任务。在大多数情况下两者不矛盾，但是有些情况之下就不一样了。比如严重骨折的马，常规的兽医首先想到的自然是治疗，而我们首先想到的是安乐死。因为无论他以后是否可以痊愈（当然实际上严重骨折的马基本不可能痊愈），他的运动价值已经丧失，对我来说就没有了治疗的意义。同样，赛场上的马匹，大部分都处在“亚健康”（非医学定义那个）的状态：筋腱炎、椎间盘突出、胃溃疡等等，这些疾病每匹马或多或少都存在，但是并不是都要彻底治疗。大致就是这种情况。可以参考运动员的情况。<br />      我们通常说的马术运动包括：障碍赛、速度赛、耐力赛、盛装舞步、西部马术等，我一直从事的是障碍赛马兽医，近年开始涉及舞步和速度，但很少接触耐力。<br />      我个人认为，成为一个兽医是成为运动马兽医的前提。具备的基本条件自然需要一定的兽医知识和基础，其他的我觉得因人而异，主要有以下两种情况<br />    ①科班出身。这算是最常见也是最正统的路。国内以前没有马兽医专业，兽医都是全科的。马属动物在课本里属于略过的内容。2012年内蒙古农业大学开设了第一个马兽医专业，不过今年才会有第一批毕业生。一般的路线是毕业之后找一个马场，从零做起，熟悉马匹并巩固知识。找合适的机会考兽医资格证并转为兽医助理，只要完成了这一步，后面的路就因人而异了，走纯医疗或者赛事方向。我现在算是赛事兽医（运动马兽医）为主方向。有人说到学历问题，国内的话我建议本科就出来。因为我刚才说了，大部分的兽医院校是没有马兽医的，你出来为了以后的工作必须从基础也就是马工做起，少则几个月多则一年半载。研究生或博士出来干马工，别说你拉不拉的下面子，马场都不会要你。偶尔可以直接从兽医助理干起，比如我的助理就是今年的毕业生，这样的招聘机会非常的少。也有部分马场可能愿意直接招你当兽医，但是这样的马场通常都比较呵呵。国外是有专门的马兽医专业的，就业会相对简单得多。<br />   ②自学：有些小马场的兽医是骑手或者钉蹄师自学并兼职的。这类兽医往往一知半解，容易出事，但是从实践来说聊胜于无又节约公司成本，所以存在还挺普遍。不过我猜想提问者应该不是这种情况。<br />     在现阶段，马兽医相比宠物和大动物兽医，工作累，竞争大（对手都是歪果仁），报酬低（这个是中国特色，我相信以后会好的），而且很累。我们都是爱在支撑信念，入行三思，但欢迎加入我们。大致就是这样，顺便给大家看看马场的生活，马儿们真的很可爱<br /><br /><b>逗比的Elinao，马场都在郊区，空气都还不错</b><br /><p><img src="https://pic1.zhimg.com/2f652695768d70647e892a01e3897280_b.jpg?rss" /></p><b>DJ和Jerry，Jerry是我们13年捡的流浪狗，现在被土豪收养，已经走上了狗生巅峰。这是我们马儿洗完澡烤干用的浴霸</b><br /><p><img src="https://pic2.zhimg.com/a60bed844e37ca5e6ab07eb0b29728cd_b.jpg?rss" /></p><b>帅帅的Flamico，也是我经常骑的马，后面是遛马机</b><br /><p><img src="https://pic4.zhimg.com/88878806b4a06b66975b650958100113_b.jpg?rss" /></p><br /><b> 双胞胎（并不是），这是我们的室内大运动场，我们还有个小的</b><p><img src="https://pic2.zhimg.com/d4b881de0eb252c2bfc7183aa5c8e801_b.jpg?rss" /></p><b> 萌萌哒的外教女儿和Sonja，这是pony马，专门为小朋友骑乘培育的马种</b><br /><p><img src="https://pic4.zhimg.com/dd61a9b9022952ff5b866581a61014a7_b.jpg?rss" /></p><b>沙圈里的Elinao，大概是，也可能是clara。他只是在晒太阳</b><br /><p><img src="https://pic3.zhimg.com/68e4454f539e042ba24b4688604aade2_b.jpg?rss" /></p><b>马儿在训练，这些照片总能让我的朋友圈沸腾</b><br /><p><img src="https://pic3.zhimg.com/5f9d04a396e65cc5ab8e75234b29ee36_b.jpg?rss" /></p><br /><b>去年的鸟巢大师赛照的，帅爆了的弗里斯兰</b><br /><p><img src="https://pic3.zhimg.com/e4bbe3087357154d24c86baff51a2796_b.jpg?rss" /></p><b>马场的两张户外照，无修图，手机直接照的</b><br /><p><img src="https://pic4.zhimg.com/aa03a11677944776e33d34bea55be4db_b.jpg?rss" /></p><br /><p><img src="https://pic4.zhimg.com/321f0d7ace70dca324c8d7c18617d59f_b.jpg?rss" /></p><b>最后是我最最最爱的Ziemar</b><br /><p><img src="https://pic1.zhimg.com/66a4ba0e1ccc448d276372d49e5ec898_b.jpg?rss" /></p><br />--------------------------------------------------------------分割线--------------------------------------------------------------------<br />2.成为FEI兽医需要哪些条件<br />这个问题我觉得知乎可能就只有我有发言权了吧。中国大陆目前只有4个FEI兽医，另外3个大概都不上知乎（大概吧，可别哪个突然评论区跳出来啊）。FEI兽医分好几类(后面会说到)，我是PTV（Permitted Treating Vet）。<br /><br /><p><img src="https://pic2.zhimg.com/aa576876d11b373b71e5c289fabeff2d_b.jpg?rss" /></p>                                         第一个就是我，按注册号我是第三个。<br /><br />首先科普一下FEI，网址在这里<a class="internal" href="http://link.zhihu.com/?target=http%3A//www.fei.org">Welcome to the FÃ©dÃ©ration Equestre Internationale</a><br />FEI就是国际马术联合会。世界大部分的马术运动都是其管辖的。所以如果你走赛事方向，FEI是最终一定会走的路线。说道FEI就不得不说中国马术协会，简称CEA<a class="internal" href="http://link.zhihu.com/?target=http%3A//equestrian.sport.org.cn">中国马术官方网站</a>。中国马术协会是FEI在中国大陆的唯一指定机构，也就是National Federation，NF。所有的兽医、骑手和裁判等的注册、培养、任命和罢免都是由他们来进行，后面会多次提到。<br />①FEI兽医的分类：FEI的官方认证兽医分为Permitted Treating Vet（简称PTV），Official Veterinarians（简称OV），National Head Veterinarians（简称NHV）。以上三个职位除耐力赛外都通用，这三个职位是等级递增的。耐力赛有自己的一套职位（且等级均在OV以上），我因为接触耐力赛很少，所以贴链接大家自己看吧，我对其中的一些耐力赛事分级这样的细节不是很清楚。<br /><a class="internal" href="http://link.zhihu.com/?target=http%3A//www.fei.org/sites/default/files/VRs%25202016%2520-%2520FINAL%2520-%2520Clean%2520-%2520Feb%252016.pdf">http://www.fei.org/sites/default/files/VRs%202016%20-%20FINAL%20-%20Clean%20-%20Feb%2016.pdf</a>具体是第12页到16页<br />②简单来说，FEI兽医之路一般就是：PTV→OV→NHV。耐力赛特殊的是PTV→OV→EOVs（Endurance Official Vet) 或者EVTs（Endurance Veterinary Treatment Officials）→NHV<br />③条件，都可以在上述链接看到，为了方便看我再用中文写一遍<br /><b>PTV</b>：必须是所在国注册兽医师；必须懂英语，包括读写；得到两个所在国家兽医的推荐，其中一个必须是OV；了解FEI兽医相关章程及药物管理条例等；通过PTV在线考试，每4年一次复试。<br /><b>OV</b>：首先必须是PTV；必须经过NF(National Federation)的培训；至少5年运动马医疗经验；必须懂英语，包括读写；在兽医主持工作中担任至少两种角色并参与至少3场比赛；通过至少2张评估表来证明其比赛经验足够；最近两年参加过FEI的兽医课程。<br /><b>NHV</b>：由NF指定。满足以下条件：是OV；公认具有丰富经验和职业道德；熟悉FEI章程；与NF可进行有效联系；具有可以担当FEI常规培训的指导的能力。<br />耐力赛的两个请自行翻阅。<br />④注册流程：<br />    PTV：满足以上条件后，到FEI官网下载申请表<br /><a class="internal" href="http://link.zhihu.com/?target=http%3A//www.fei.org/system/files/APPLICATION%2520FORM_FEI%2520VET%2520ID_0.pdf">http://www.fei.org/system/files/APPLICATION%20FORM_FEI%20VET%20ID_0.pdf</a><br />填写申请表后向中国马术协会以传真或邮寄方式递交。CEA相关人员审核资格合格后，向FEI兽医部门申报。FEI审核合格后（主要是向你表里的两个推荐兽医了解你的情况），反馈给CEA一个你的ID。这时你就可以使用ID进行完善资料和网上考试，考试通过后即可成功注册。<br />     考试范围都在这里<a class="internal" href="http://link.zhihu.com/?target=http%3A//www.fei.org/fei/your-role/veterinarians/forum-download-centre">Veterinarians</a><br />     随机25道题，次数不限。正确率95％以上通过。之后每4年需复试一次。<br />     OV等均类似以上过程<br />    就这么多，大家有问题请评论区，不要私信谢谢
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/liu-shuang-85-62?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Fenrir</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40720772/answer/89150297?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">7 个回答，查看全部。</a><br />
博弈论中的基本假设「共同知识」是怎样体现在纳什均衡的前提条件、推导过程以及结论中的？
这个问题恰好之前学习过一段时间，可以分享一些心得。（很惊喜有人添加了epistemic game theory的标签，非常准确）<br /><br />共同知识的定义最早是由哲学家Lewis提出，由Aumann引入经济学领域。简单说来，就是某个信息（实际上是定义在states和events上的）满足：你知道，我知道，你知道我知道，我知道你知道，你知道我知道你知道，我知道你知道我知道……无限循环下去。<br /><br />共同知识对博弈论的贡献必须从两条线索来谈：共同知识和高阶信念。共同知识刚才讲过了；高阶信念与之非常类似简单地说就是我猜你的行动是什么（一阶），你猜我猜你的行动是什么（二阶），我猜你猜我猜你的行动是什么（三阶）……直到无穷阶。<br /><br /><b>客观的信息（知识）被主观获得后便成为了信念，即为了实现均衡必须使用共同知识来支持高阶信念。</b>（信念这个概念还有一个与知识相对的定义，表达你知道但是不一定是事实的事件。这个暂且不深究。）<br /><br />回到博弈中，博弈决策与一般单人决策之间最大的区别在于博弈具有交互性，即你的决策收益取决于对方的决策。换句话说，你无法独自直接决定自己的收益。在这种情况下，若想最大化自己的收益只能对对方的决策行为进行预测，并基于此选择最大化自己受益的策略。<br /><br />如果可以直接对对方决策结果进行准确预测，那么自然自己的最优策略变呼之欲出了。此时，不需要高阶信念，只需要彼此知道对方的决策结果即可，即共有知识（mutual knowledge）。这是Aumann的一个发现。所以非要说博弈均衡必须要求共同知识也不一定对：很强的共有知识也可以保证均衡解的实现。<br /><br />上述共有知识虽然可以保证均衡解，但是假设实在是太强了：我们往往无法知道别人真正会怎么选。因此我个人理解，这个解的概念更类似于事后概念，即当行动组合实现以后，从事后验证此组合是否是均衡。但是从事前分析的角度，我们经常遇到的情况是需要猜测别人会做什么，即对方的决策结果并不是直接知道的，我们必须做一些合理的预测。因此，我们需要高阶信念。<br /><br />为了看清楚这一点，以古诺均衡为例（来自Binmore）。假设市场价格<img alt="p=X-q_{1}-q_{2}" src="http://zhihu.com/equation?tex=p%3DX-q_%7B1%7D-q_%7B2%7D" />，其中X为市场容量，<i>q</i>1，<i>q</i>2分别表示厂商1和2的产出。如果对于厂商1和厂商2来说，边际生产成本为<i>c</i>1，<i>c</i>2，那么他们的利润可以写作：<br /><img alt="\pi _{1}=(X-q_{1}-q_{2}-c_{1})\cdot q_{1}\\
\pi _{2}=(X-q_{1}-q_{2}-c_{2})\cdot q_{2}" src="http://zhihu.com/equation?tex=%5Cpi+_%7B1%7D%3D%28X-q_%7B1%7D-q_%7B2%7D-c_%7B1%7D%29%5Ccdot+q_%7B1%7D%5C%5C%0A%5Cpi+_%7B2%7D%3D%28X-q_%7B1%7D-q_%7B2%7D-c_%7B2%7D%29%5Ccdot+q_%7B2%7D" /><br /><p>进而得到最优反应函数：</p><img alt="q_{1}=(X-\bar{q_{2}}-c_{1})/2\\
q_{2}=(X-\bar{q_{1}}-c_{2})/2\\" src="http://zhihu.com/equation?tex=q_%7B1%7D%3D%28X-%5Cbar%7Bq_%7B2%7D%7D-c_%7B1%7D%29%2F2%5C%5C%0Aq_%7B2%7D%3D%28X-%5Cbar%7Bq_%7B1%7D%7D-c_%7B2%7D%29%2F2%5C%5C" /><p>其中，<img alt="\bar{q_{1}},\bar{q_{2}}" src="http://zhihu.com/equation?tex=%5Cbar%7Bq_%7B1%7D%7D%2C%5Cbar%7Bq_%7B2%7D%7D" />分别表示厂商1对厂商2产量的推测以及厂商2对厂商1产量的推测。很明显，厂商对彼此产量的推测也即是对对方决策结果的判断。显然每个厂商都无法知道对方的实际决策是什么，但是却知道对方也是利润最大化的，因此，他们可以进一步对彼此进行推测：</p><img alt="\bar{q_{2}}=(X-\bar{\bar{q_{1}}}-\bar{c_{1}})/2\\
\bar{q_{1}}=(X-\bar{\bar{q_{2}}}-\bar{c_{2}})/2\\" src="http://zhihu.com/equation?tex=%5Cbar%7Bq_%7B2%7D%7D%3D%28X-%5Cbar%7B%5Cbar%7Bq_%7B1%7D%7D%7D-%5Cbar%7Bc_%7B1%7D%7D%29%2F2%5C%5C%0A%5Cbar%7Bq_%7B1%7D%7D%3D%28X-%5Cbar%7B%5Cbar%7Bq_%7B2%7D%7D%7D-%5Cbar%7Bc_%7B2%7D%7D%29%2F2%5C%5C" /><p>其中<img alt="\bar{\bar{q_{1}}},\bar{\bar{q_{2}}}" src="http://zhihu.com/equation?tex=%5Cbar%7B%5Cbar%7Bq_%7B1%7D%7D%7D%2C%5Cbar%7B%5Cbar%7Bq_%7B2%7D%7D%7D" />表示厂商的二阶推测，分别指厂商1对厂商2对厂商1产量的推测，以及厂商2对厂商1对厂商2产量的推测（为了与保持一致性，此处使用第一行的表达式刻画厂商1的推测，第二行刻画厂商2）; <img alt="\bar{c_{2}}" src="http://zhihu.com/equation?tex=%5Cbar%7Bc_%7B2%7D%7D" />和<img alt="\bar{c_{1}}" src="http://zhihu.com/equation?tex=%5Cbar%7Bc_%7B1%7D%7D" />分别表示厂商1对厂商2生产成本的推测，以及厂商2对厂商1生产成本的推测。可以看到，每个厂商关于对方产量的推测取决于对方关于自己产量和成本的推测。</p><br /><p>由于<img alt="\bar{\bar{q_{1}}},\bar{\bar{q_{2}}}" src="http://zhihu.com/equation?tex=%5Cbar%7B%5Cbar%7Bq_%7B1%7D%7D%7D%2C%5Cbar%7B%5Cbar%7Bq_%7B2%7D%7D%7D" />实际上也是不知道的，因此分析仍然应该继续下去，直到无穷阶。不过分析至此，我们已经可以很清楚得看到共同知识有什么用了。例如我们假设边际成本是共同知识，这便告诉我们<br /></p><img alt="c_{1}=\bar{c_{1}}=\bar{\bar{c_{1}}}=\bar{\bar{\bar{c_{1}}}}=...\\
c_{2}=\bar{c_{2}}=\bar{\bar{c_{2}}}=\bar{\bar{\bar{c_{2}}}}=..." src="http://zhihu.com/equation?tex=c_%7B1%7D%3D%5Cbar%7Bc_%7B1%7D%7D%3D%5Cbar%7B%5Cbar%7Bc_%7B1%7D%7D%7D%3D%5Cbar%7B%5Cbar%7B%5Cbar%7Bc_%7B1%7D%7D%7D%7D%3D...%5C%5C%0Ac_%7B2%7D%3D%5Cbar%7Bc_%7B2%7D%7D%3D%5Cbar%7B%5Cbar%7Bc_%7B2%7D%7D%7D%3D%5Cbar%7B%5Cbar%7B%5Cbar%7Bc_%7B2%7D%7D%7D%7D%3D..." /><br /><p>带回到之前的分析中，我们便可以把所有对成本的推测变成客观知识了。又由于博弈实现均衡意味着参与者对产量的推测都是准确的，即</p><img alt="q_{1}=\bar{q_{1}}=\bar{\bar{q_{1}}}=\bar{\bar{\bar{q_{1}}}}=...\\
q_{2}=\bar{q_{2}}=\bar{\bar{q_{2}}}=\bar{\bar{\bar{q_{2}}}}=..." src="http://zhihu.com/equation?tex=q_%7B1%7D%3D%5Cbar%7Bq_%7B1%7D%7D%3D%5Cbar%7B%5Cbar%7Bq_%7B1%7D%7D%7D%3D%5Cbar%7B%5Cbar%7B%5Cbar%7Bq_%7B1%7D%7D%7D%7D%3D...%5C%5C%0Aq_%7B2%7D%3D%5Cbar%7Bq_%7B2%7D%7D%3D%5Cbar%7B%5Cbar%7Bq_%7B2%7D%7D%7D%3D%5Cbar%7B%5Cbar%7B%5Cbar%7Bq_%7B2%7D%7D%7D%7D%3D..." /><br /><p>经过化简，我们直接得到了熟悉的古诺模型的求解方程组</p><img alt="q_{1}=(X-q_{2}-c_{1})/2\\
q_{2}=(X-q_{1}-c_{2})/2" src="http://zhihu.com/equation?tex=q_%7B1%7D%3D%28X-q_%7B2%7D-c_%7B1%7D%29%2F2%5C%5C%0Aq_%7B2%7D%3D%28X-q_%7B1%7D-c_%7B2%7D%29%2F2" /><br /><br /><br />通常在计算博弈均衡时我们直接给出了上式方程组，跳过了中间所有的决策者思考过程，这种求解方式被Myerson称为game-theoretical approach；类似上述从个人决策问题开始分析，利用所有条件一点一点获得全局均衡的方式被称为decision-analytic approach。正如我们看到的，采用后者的分析思路可以让我们清晰地看到均衡是如何产生的，以及不同解的概念为什么被需要。<br /><br />顺便提一句，匿名用户的答案可能有些问题，并且对完全信息和非完全信息的分类也值得商榷。首先，完全信息均衡要求的共同知识大概分为两部分：对模型设置的共同知识（收益、行动顺序等等）和对理性的共同知识。这两部分要求有不同的文献进行防松，但是一个条件的防松必然带来其他条件的收紧，但是直接说不需要共同知识是不准确的。第二，完全信息与不完全信息的区别仅仅存在在收益是否是共同知识上（Harsanyi论证了三种未知最终都可以反映在收益矩阵上）。而且，如果是利用Harsanyi game和BNE解的概念进行分析，那么必然会需要Common Prior假设，即对于未知的先验分布是共同知识。因此，也不是随便只要未知就能称为不完全信息博弈的。最后，严格的说确实存在不需要共同知识的博弈。例如前一阵见到Zamir，他说他理解的NE概念是<img alt="(s_{1},s_{2},s_{3}...;\phi _{1}, \phi _{2},\phi  _{3}...)" src="http://zhihu.com/equation?tex=%28s_%7B1%7D%2Cs_%7B2%7D%2Cs_%7B3%7D...%3B%5Cphi+_%7B1%7D%2C+%5Cphi+_%7B2%7D%2C%5Cphi++_%7B3%7D...%29" />其中每个策略<img alt="s_{i}" src="http://zhihu.com/equation?tex=s_%7Bi%7D" />都是给定信念<img alt="\phi _{i}" src="http://zhihu.com/equation?tex=%5Cphi+_%7Bi%7D" />下的最优反应。在这个解的概念下，不一定需要共同知识来支持全部的高阶信念<img alt="\phi _{i}" src="http://zhihu.com/equation?tex=%5Cphi+_%7Bi%7D" />。但是，正如之前所说的，共同知识和高阶信念是理解博弈的两条重要线索，如果你可以充分理解到这句话，就不用纠结于那条线索更有意义，因为在研究特定问题的时候你会形成自己的视角。而且，如果高阶信念之间完全不相关的话，实际上博弈问题就退化成了单人决策问题：别的参与人都是你高阶信念中的“道具”而已，大家各自脑中都有各自的故事。如果这种情形符合你的研究要求，那也未尝不可，但是你需要设定无穷阶的信念并说明为什么这么设置——听起来就很麻烦且说服力有限。<br /><br />最后在啰嗦一句，从认知博弈的角度来看，很多理论显得更为清晰了。但是遗憾的是，国外对这个问题的讨论主要集中在80年代和90年代，也就是说，我们大概落后了20年。不过这个领域仍然值得学习的一点在于，它帮助研究者了解在使用某个假设的时候我们究竟在刻画什么情形，这与实际情况是否相符。这一点我个人认为还是很重要的。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/a-hu-17?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">阿虎</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/36667483/answer/76974333?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">7 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/31083866?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">纳什均衡在国际政治博弈上有哪些应用？</a><br />
            
<a href="http://www.zhihu.com/question/19804990?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">怎样向非专业人士专业地解释「纳什均衡」？</a><br />
由新种，升级为新属，有哪些难题呢？还有哪些植物，是单目科属种呢？单株的话，该如何保育呢？
<b>学名要斜体！强迫症不能忍！重要的事只说一遍！</b><br /><br />先看孔药楠（<i>Sinopora hongkongensis</i>）这个个案吧。孔药楠是2006年在香港发现的新种，当时被作为香港油果樟（<i>Syndiclis hongkongensis</i>）发表放在油果樟属（<i>Syndiclis</i>）里面。但2008年Li et al. 发现孔药楠花基数为3，明显不同于花基数为2的油果樟属。其花反而跟琼楠属（<i>Beilschmiedi </i>）和只产于马来西亚的单种属<i>Hexapora</i>相似，但在花药细节上有所不同。更重要的是该种分布范围及其局限，跟另外两属也不同。所以就从油果樟属分离出来单独成立了单种属。<br /><br />由新种升级为新属，需要该种与原有属在形态学上有显著的差异。显著程度视不同类群而定，显著到什么程度能够提升也比较主观。一个只有两个种的属，两个种之间差异自然是显著的。所以一般另外还要参考它的地理分布范围。如果地理分布十分局限，或者跟原有属其它种的分布范围都不同，那就非常有可能被提升为新属了。<br /><br />从系统学上来看，一个种被提升为属不能破坏原有属的单系性。也就是说，如果是旧种要提升为新属，它一定处在原有属系统树的最基部（一般不倾向于这样做，因为会导致不必要的麻烦，除非该种的确有显著不同于该属其他种的形态特征或者地理分布。）如果是新种要直接作为新属发布，那它在系统树上一定不包含在任何已有属里面（一般倾向于这样做，因为可以搞个大新闻呀！）<br /><br />分类界元都是人为的，提升或不提升为属，大可不必纠结。<br /><br />第二个问题其实更有意思惹。<br /><br />被子植物里面目前已定的单目科属种只有无油樟（<i>Amborella trichopoda</i>），新喀里多尼亚特有种，是所有被子植物里面最古老的类群位于整个被子植物系统树的基部。<br /><p><img src="https://pic4.zhimg.com/ac954f8794c777a621dcbaaf1af0fa97_b.jpg?rss" /></p><br />裸子植物里面百岁兰科可以被提升为目，这样的话百岁兰（<i>Welwitschia mirabilis</i>）也是单目科属种。<br /><p><img src="https://pic4.zhimg.com/f70cc0fbd21c29c7181a42c6b1d25753_b.jpg?rss" /></p>蕨类和石松类没有。苔藓植物分类系统还不十分稳定，分类阶元的宽泛程度也跟种子植物不具有可比性。目前成立的单目科属种有：<br /><br />黑真藓（<i>Andreaeobryum macrosporum</i>）。一类只分布在阿拉斯加和加拿大西部寒地的珍稀藓类。<br /><p><img src="https://pic4.zhimg.com/9f6cf7ef0cff289e26ba38216f3715f3_b.jpg?rss" /></p>长台藓（<i>Oedipodium griffithianum</i>）。分布于北半球寒地。<br /><p><img src="https://pic2.zhimg.com/e3f1ff164e42ed7c380ce60cce6800cd_b.jpg?rss" /></p><br /><br /><i>Leiosporoceros dussi </i>角苔中最原始的类群<br /><p><img src="https://pic1.zhimg.com/6f399fc5c44233cdaca9b870798f1bec_b.jpg?rss" /></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/40949308/answer/89346242?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40949308/answer/89346242?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">3 个回答，查看全部。</a><br />
如何鉴别一古董相机是否为赝品？
<br /><br /><br />机身一般没造假，机身开模的费用（足够精细的能骗过人的模具）就足够买顶级的相机，所以没太大意义<br />符合【普罗大众】认知的赝品的概念<b>主要集中在镜头上，因为镜头是不可维修的</b>。<br /><br /><br /><br />1、常见（但其实也非常罕见了）的就是更换受损的镜片，当成新机器卖。<br />包括但不限于重新镀膜、重新打磨、重新胶合（胶合镜组开胶）、上下组对调（比如某些双反相机），换前/后组。<br />对于某些高价镜头的特殊标示可以仿制，比如Voigtlander的APO-Lanthar，我听说有用Color-Heliar来改的，但也仅限于听说，未曾见过实物。<br /><p><img src="https://pic4.zhimg.com/c01b425444ff883670573655209bcc7b_b.jpg?rss" /></p>(红绿蓝三环听说有人仿制)<br /><br /><p><img src="https://pic4.zhimg.com/1f74591ca5a7a68f9243d5e608d4108b_b.jpg?rss" /></p>(Mamiya早期银色标头80/2.8，据说上下镜组结构一样，所以可以互换。但其实这么便宜的机器，说维修比价符合实际…造假还没这资格)<br /><b>双反上动手脚的，禄来比较多，不过主要限于白脸换脸，或者更换镜头，图个价</b>高。其他双反基本没有造假的必要。<br /><br /><p><img src="https://pic2.zhimg.com/fcef79fa322546ec38d115ad55dc6215_b.jpg?rss" /></p>(这就是胶合镜开胶。只有非常昂贵的镜头才值得拆下镜片重新胶合，我知道的，2-3万左右的镜头可能值得弄一下，便宜的就算了…)<br /><br /><br />2、特殊机器的造假<br />这就是专业收藏领域的问题了，更接近文物造假（好比你潘家园看到一套造型奇特古拙的摆件，十之八九是假的…）。<br />比如用FED或Zorki这种俄国相机的旧零件拼凑一套leica II出来，也是可以骗过很多初哥的眼睛的<br /><p><img src="https://pic3.zhimg.com/8f55d02e82682858b865cdc9be44d226_b.jpg?rss" /></p><br /><p><img src="https://pic2.zhimg.com/16fd15034936a05b697a8e54ff689a05_b.jpg?rss" /></p>（镀金
     
      Zorki C带假的Leica Elmar镜头，机顶的文字都是伪造的）<br /><br /><p><img src="https://pic2.zhimg.com/b8edca1d8ed8f128622d2f23b79c2ea1_b.jpg?rss" /></p>（俄国机器改的假Leica E，不是行家你看得出么）<br /><br />基本上出在用俄国机器改成早期Leica，各种层出不穷的镀金版、定制版，纪念版…<br />其他机器上偶尔也会出现，比如对山寨Leica的再仿制（有些山寨leica的价格堪比正品）<br />鉴别方法是看<b>镜头后面的联动测距装置</b>，不过不细说，如果真喜欢这种机器，去WestLicht这样的正规拍卖吧。<br /><br />另外有些极其罕见的型号，比如Leica半格机…<br /><p><img src="https://pic4.zhimg.com/859d73a9bbc01f1192dfdc942bc816d3_b.jpg?rss" /></p>（M2 半格机…如果没有官方文件，基本可断定为假）<br /><br /><br />你不买leica，就没这些烦恼了。<br /><br />顺带一提，我闲逛的时候在铁血论坛看到有人晒自己的“纳粹莱卡”。<br />貌似就是这种假货<br /><p><img src="https://pic1.zhimg.com/b2a2d8dab88118b22817e893ca7e0c14_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/bf89e6f8f54a12d2cf866e735c43ca67_b.jpg?rss" /></p>（能好好把那个圈弄圆一点儿不？）<br /><br /><br />3、前人的造假<br />19世纪的时候的山寨产物，我知道的就有些19世纪的人假冒Voigtlander镜头的，如果没见过真品，确实不好分辨，毕竟历史角度来说那也是古董。<br /><p><img src="https://pic4.zhimg.com/769a58aedbf320705f059c79a104b2b7_b.jpg?rss" /></p>（来，你看看哪个是假的？最下面这个是假的，另外三个是真的）<br /><br />包括但不限于Goerz， C.C.Harrison，Ross等镜头都出现过假货。<br />但这些假货，在收藏价值上可一点不低！买到并不亏，所以…其实也没所谓。<br /><br /><br />4、翻新机<br />有些早期木机是可以翻新的，保留铜件但是将木料换掉，造假成本不高，如果从维修的角度说这可以算维修，但从文物的角度来说……就有点见仁见智了。<br />图不太好找，便不放图了。<br />不过也只有极少数型号有造假的价值，大多数木头机器都是规模量产，如果没有文物价值，是不必花力气翻新的。<br /><br /><br />-----------------------------<br /><br />总之，赝品就两种<br />一种近似维修，另一种就是文物造假了…
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/za-chang-zi-76?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">砸场子</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40874972/answer/88873010?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">7 个回答，查看全部。</a><br />
LME 的调期是怎么回事？
如下表:<p><img src="https://pic3.zhimg.com/9032fe6009f717ad83f1ea69aee6a33a_b.jpg?rss" /></p><br />调期交易分两种: <br /><ul><li><p>Borrow(买近卖远):买入近期合约卖出远期合约(相当于空头往后移仓或者多头往
前移仓)
</p></li><li>Lend (买远卖近):卖出近期合约买入远期合约(相当于多头往后移仓或者空头往
前移仓)<br /></li></ul><p>由上可见,调期交易实质上是由买卖方向相反,合约到期日不一样的两个交易所组成。
调期的费用即升贴水
不同到期日的合约如果要通过调期调到同一到期日,会因为头寸状况和市场状况不同
</p><p>收取或者是付出一个差价,而这个差价就是升贴水。这个差价一般通过交易员向上家询
价之后取得。
</p><p>升贴水的报价有两种:
</p><ul><li><p>Contango (远期升水) :即到期日靠前的合约价格比到期日较远的价格要低(远高
</p><p>近底)。
</p></li><li>Backwardation (远期贴水) :即到期日靠前的合约价格比到期日较远的价格要高(远低近高)。</li></ul><p>通常上家在给出升贴水报价的同时,也会给出组成调期交易的两条交易中其中一条的价
格,由此价格再决定另外一条交易的成交价。基础价格一般会根据当时市场的价格决
定,不会影响客户的权益。
</p><p>调期费用对客户的影响调期费用对客户的影响:</p><ul><ul><li><p>如果客户需要做Borrow的调期交易(买近卖远),而当时的升贴水状况为Contango(远
</p><p>低近高)的话,则客户可以收入这部分的差额。(相当于买低卖高)
</p></li><li><p>如果客户需要做Borrow的调期交易(买近卖远),而当时的升贴水状况为Backwardation(远
</p><p>高近低)的话,则客户需要支付这部分的差额(相当于买高卖低)。 </p></li><li><p>如果客户需要做Lend的调期交易(买远卖近),而当时的升贴水状况为Contango的话,则客户需要支付这部分的差额(相当于买高卖低)。</p></li><li><p>如果客户需要做Lend的调期交易(买远卖近),而当时的升贴水状况为Backwardation的话,则客户可以收取这部分的差额。(相当于买低卖高)</p></li></ul></ul>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/23557639/answer/48027918?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/23557639/answer/48027918?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">2 个回答，查看全部。</a><br />
「享乐性饥饿」是如何导致人们在并不饥饿的情况下，依然产生了对食物的欲望的？
<p>从进化学的角度来讲来讲，存储体内脂肪能帮助一个物种在残酷的生存环境中更好的存活下来。尤其一到冬天，冷风一刮，大脑额叶就不断地诱惑我们多吃点多吃点，千万别饿死自己。<br /></p>想想西方的感恩节，圣诞节，或是中国的冬至和春节，都是最容易长肉的时候。<strong>我们祖先的生活方式就决定了我们为什么管不住嘴</strong>。所以，我们祖先为了适应时代的发展，开始努力地长肉来对抗无法预料的饥荒。幸运的是，我们的祖先存活了下来并代代繁衍至今。不幸的是，我们的身体<strong>进化出了一种增重容易减重难的体质</strong>。<br />坏消息还不止于此，有研究指出人们对加工食品的食欲很难进行控制。现代工业化生产的加工食品中加入了各种食品添加剂，色素和香料。这些添加剂让食品变得更加秀色可餐并无时无刻不在诱惑我们的大脑。抵抗这些加工食品本身已经十分困难了，加工食品中高热量高糖的成分更加会让你在称体重的时候痛不欲生。<br />我们的肠胃是优先通过饱腹感来告诉大脑停止进食的，<strong>加工食品高能量密度的特点让其在提供过多能量的同时对饱腹感影响不明显</strong>，进而推迟大脑做出停止进食的判断，摄入过量的食物。<br />很可惜，我们的身体没有跟的上现代工业化所带来的巨大变化。到目前为止，我们的身体还没有进化出一套面对这个食物充足，加工食品泛滥的年代的进食机制。<strong>So 控制食欲很难。</strong><br />当吃零食成为一种习惯：当你坐在电脑前，撕开一袋又一袋薯片的时候，薯片已经不再单单是能量的来源，更成为了你日常习惯的一部分。吃太多会伤身体，体重过高对心脑血管不好……这些常识每个人都知道。但在很多时候，我们仍然会在不饿的情况下，忍不住吃下一包包零食。我们会觉得这只是一种“坏习惯”。然而，这个问题激起许多心理学家的兴趣，一些心理学家就从“习惯”入手，探究了我们暴饮暴食背后隐藏的机制。<br />科学家在利用功能性核磁共振成像的研究中，发现人类大脑额前叶的一部分主要负责对事件的价值预估。通过预估的价值，额前叶会决定激活奖励通路的程度。比如说，在你喜欢的餐厅，饥肠辘辘的你看到侍者给你端上了你的大餐的时候，你的额前叶通过判断大餐的价值很高，然后就被疯狂的激活了。与之相反，当你吃饱的时候，额前叶对大餐的价值预估就会下降，激活程度也随之下降。激活程度的下降会大大降低继续狼吞虎咽的欲望。<strong>简而言之，当我们饿的时候，额前叶会刺激我们吃的更多；当我们吃饱之后，额前叶会抑制我们的食欲。</strong><br /><br />美国罗格斯大学的心理学家通过观测养成吃零食习惯（实验组的习惯在实验室中系统培养而成）和未养成吃零食习惯(对照组)的参与者，部分解释了坏习惯对食欲的影响。在同样饱餐一顿之后，实验组和对照组同时收到了一份零食。未养成吃零食习惯的参与者在饱餐之后，额前叶对于零食的反应程度很低，说明额前叶开始减弱我们的食欲。令人惊讶的是，养成吃零食习惯的人无论在饱餐之前还是之后，额前叶对零食的反应都非常高。这项研究显示，<strong>当我们将吃零食当成一种习惯之后，我们的大脑额前叶对于食欲的控制系统就混乱了。</strong>不但没能在我们吃饱之后遏制我们的食欲，还雪上加霜，在我们吃饱之后怂恿我们吃更多的零食。 <br /><br /><br /><p>不过，我们并不是束手无策：</p><p>多吃并不可怕，可怕的是多吃还不运动。13年英国巴斯大学的一项研究指出每天适量的运动能抵消短期暴饮暴食对身体的伤害。短期的暴饮暴食和缺乏锻炼对人的整体新陈代谢有很大影响，虽然多余的能量还是会被储存在体内，但对身体的负面影响可以被大大减弱。</p>

其次，减少吃饭时的坏习惯。许多心理学研究都显示，当注意力被分散的时候，我们会摄入更多的食物。在追电视剧的时候，或是看球赛的时候，一包薯片可能就在不知不觉中被吃光了。将注意力放到食物本身，不但能更好地体验食物还能很大程度上遏制过量摄入食物的可能。<br /><br />Reference:<br /><br /><p>Balleine, Bernard W., and
John P. O'Doherty. "Human and rodent homologies in action control:
corticostriatal determinants of goal-directed and habitual action." <i>Neuropsychopharmacology</i> 35.1 (2010): 48-69.</p><br /><p>Tricomi, E., Balleine, B.
W., &amp; O’Doherty, J. P. (2009). A specific role for posterior dorsolateral
striatum in human habit learning. <i>European
Journal of Neuroscience</i>, <i>29</i>(11),
2225-2232.</p><br /><p><a class=" external" href="http://link.zhihu.com/?target=https%3A//www.psychologytoday.com/blog/media-spotlight/201602/obesity-diet-and-your-brain" rel="nofollow noreferrer" target="_blank"><span class="invisible">https://www.</span><span class="visible">psychologytoday.com/blo</span><span class="invisible">g/media-spotlight/201602/obesity-diet-and-your-brain</span><span class="ellipsis"></span><i class="icon-external"></i></a></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/rui-du-42?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">杜睿</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40985053/answer/89590885?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">28 个回答，查看全部。</a><br />
肺结核有多恐怖？
<blockquote>岁月悠悠七万载,贫寒富贵尽折伤。<br />咳咳血染门前草,叹叹飞花落雨塘。<br />病骨恹恹泉路近,孤坟岁岁断人肠。<br />凭君莫怨当年事,历代医家未有方。<br />                                                  ——来自网络</blockquote>谢邀。今天来说说结核病。<br />结核病是一个有着悠久历史的疾病，古埃及金字塔的木乃伊和我国马王堆里出土的老太太身上都能查到感染结核病的痕迹。在国外肖邦，契诃夫，卡夫卡，雪莱，济慈以及哈佛大学的的早期捐助者哈佛都是死于肺结核。在我国死于肺结核的名人也有鲁迅和林徽因。在文学著作里，也充满了对结核病的描述，例如鲁迅《药》中的华小栓，曹雪芹《红楼梦》中的林黛玉，小仲马《茶花女》中的玛格丽特。<b>结核病在我国古代被称为“痨病”，中医指积劳损削之病为痨。</b>可以看出结核病是一种“穷人病”，欧洲的结核病是在工业革命后，由于社会化大生产导致工厂工人大量集中，造成结核病传播，<b>由于患者晚期身体重度消瘦，营养不良、贫血导致肤色苍白，所以结核病又被称为“白色瘟疫”</b>（与中世纪鼠疫引起的黑色瘟疫正好对应，黑白无常的即视感），<b>直到上世纪40年代链霉素发明之前，结核病都被视为绝症。</b><br />我国传染病防治法将结核病定为乙类传染病。比它厉害的甲类传染病只有两种：鼠疫和霍乱。当年肆虐的SARS和现在全世界横行的AIDS都是和结核病一样的乙类传染病。现在全球仍有大概三分之一的人感染过结核菌，2009年WHO统计的结果我国发病人数排世界第二——130万！世界第一是印度——200万！其中据不完全统计，每年世界上会有177万人死于结核病，而我国的结核病病死率约占总数的12.5%。最近几年结核病又有抬头趋势，主要原因是耐药结核菌株的出现和AIDS的泛滥。<br /><br /><b>下面内容属于结核病病理生理学内容，比较枯燥，且口味较重，非专业人士可以下拉。</b><br />结核病是由结核杆菌引起的一种慢性传染病，其特征是形成慢性肉芽肿性病变——结核结节，由于最常见的感染部位是肺，所以常常被称为肺结核。<b>结核杆菌学名叫做结核分枝杆菌，</b>它和我们常见的引起人体感染性疾病——比如肺炎，痢疾，尿路感染的细菌不同。它不能运动，既不能产生内毒素也不能产生外毒素，连侵袭性酶都不产生，<b>它具有多形性，抗酸性（这点很重要），生长缓慢，抵抗力强，菌体结构复杂等特点。结核病最主要的传播方式是飞沫传播，其次还有消化道传播（不要惊讶，我没写错），</b>飞沫传播是我们大家比较熟知的传播方式，主要是结核杆菌随着患者的痰排出体外，待痰干后漂浮在空气中，被易感者吸入后致病。而消化道传播主要是易感者吞下大量结核杆菌时，结核杆菌由于数量过大超过胃酸的杀灭能力，导致肠道感染。主要是由于饮用感染结核杆菌的牛奶所致（牛本身患有结核病）。还有就是本身有肺结核的患者自己咽下自己的痰时也有可能导致肠结核（当然血行感染也可以）。<br /><b>当结核杆菌第一次进入我们免疫力正常的人的肺部时</b>，我们的身体会很快调动肺泡巨噬细胞把它们吃掉，这些巨噬细胞会集中在结核杆菌聚集的地方，在吞噬的同时引起局部炎症反应，导致<b>浆液渗出</b>或<b>纤维浆液渗出，</b>同时，结核杆菌还会沿着淋巴管通向靠近肺门的淋巴结，导致受累淋巴结肿大。我们把这种<b>原发病灶+淋巴管炎+肺门淋巴结结核称为原发综合征，又叫原发性肺结核</b>。其胸片特异表现为“哑铃征”。如下图。（注意右上肺和右肺肺门）<br /><p><img src="https://pic4.zhimg.com/0477d790341badc26eec7547ae15198b_b.jpg?rss" /></p>其解剖病理表现是这样的（边上的是原发灶，靠近气管的是淋巴结）。<br /><p><img src="https://pic4.zhimg.com/127da56040611a95eb21bf63566f7a1f_b.jpg?rss" /></p>对于免疫力水平正常的患者来说，<b>原发性肺结核大部分都可以自愈，</b>这个时候的患者仅有少部分存在咳嗽，轻度发热，气急，盗汗等表现，自愈后大部分结核杆菌被消灭，少部分变成休眠状态，藏在原发灶里，毫无存在感。<br /><b>但是，当结核杆菌再次进入我们体内时，效果就和第一次远远不一样了。</b>由于第一次的入侵让我们产生了抗体，当第二次再入侵时，我们的抗体会针对结核杆菌的感染部位发动猛烈的攻击，导致局部出现严重的水肿渗出，坏死，包裹机化，但由于结核杆菌在这种攻击下也会很快被消灭或限制，所以病变多局限，不易扩散。这时的患者主要表现为<b>继发性肺结核</b>，<b>根据患者免疫力情况及感染结核菌的数量和毒力强弱，又分为渗出型，增生型和坏死型三种类型。主要包括局灶性肺结核，浸润型肺结核，慢性纤维空洞型肺结核。</b><br />局灶型肺结核情况最轻，<b>临床上常无表现</b>，多在体检时发现，病变以局部结节，钙化为主。<br /><p><img src="https://pic2.zhimg.com/e7366524592f87eb2e6506b7163c81c1_b.jpg?rss" /></p><br />浸润性肺结核表现最多样，最突出的表现就是会产生典型的结核结节及干酪样坏死表现，临床上有结核球，空洞性肺结核和干酪性肺炎等多种表现，<b>结核病的典型临床表现：午后潮热，咯血，咳嗽咳痰，胸痛等情况，也多出现在浸润性肺结核中。</b><br /><p><img src="https://pic4.zhimg.com/b057485a8aebf70dfa6def784c99391b_b.png?rss" /></p><br />如果进入我们体内的结核杆菌数量多，毒力大，我们的免疫系统不能搞定它们，又没有进行有效地治疗，那么在浸润性肺结核的基础上，那个“白色”的结节里就会产生“空洞”（烂透了），这时我们叫它慢性纤维空洞型肺结核。如图<br /><p><img src="https://pic1.zhimg.com/da176b8fc4347dedd9efb800051da220_b.jpg?rss" /></p><br />这里要说明一下，继发型肺结核时感染的结核菌会被抗体大量消灭，所以病灶多集中在肺部血运不好的部位，常见部位为<b>双肺上叶尖后段及下叶背段。上面两张CT图中第一张就是右肺上叶尖后段，第二张为右肺上叶下后段近背段处。</b>此外，为了纪念结核杆菌的发现者，我们把<b>健康动物对有毒结核菌初次感染与再次感染发生的根本不同反应过程叫做科赫现象。</b>人们利用这个原理，将结核菌的蛋白衍生物接种到受试者手臂皮下组织里，观察受试者局部皮肤有无出现剧烈的红肿，水泡，破溃。用来判断受试者有无感染过结核杆菌。这个检查叫做<b>结核菌素试验（PPD），是临床上早期对于是否有结核感染进行检查的手段之一，但由于其诊断特异性不强，所以现在已经基本上不用了。</b><br />以上为肺结核常见类型，除此之外，<b>当感染的结核杆菌毒力大，数量多，身体的免疫系统来不及反应的时候，结核杆菌会随血液播散与身体各处，</b>在肺部表现为散在的多发小结节，我们把这种情况叫做血行播散型肺结核。这一类型极易造成肺外结核的出现，如结核性脑膜炎，骨结核，肝结核，肾结核均与该型结核有关。血行播散型肺结核影像学检查很有特点，<b>表现为结节分布均匀，大小均匀，密度均匀的“三均匀”表现。</b><br /><p><img src="https://pic3.zhimg.com/e0c5e1550989f345cc1c23e25916a0b6_b.png?rss" /></p><br /><br /><br /><br /><br /><b>接下来说一下临床上对于结核病的诊断及治疗手段。</b><br />1、诊断：<br />结核病的诊断除了根据临床表现进行疑诊外，主要分为病原学诊断，影像学诊断和免疫学诊断三种手段。<br /><b>病原学诊断就是从患者的痰或者其他体液中找到结核菌。这是诊断结核病的金标准</b>（菌都找出来了，你还能说不是？）临床上常用方法是痰涂片，痰集菌和痰培养。但是直接涂片和集菌后涂片的检出率均不是很高，由于结核杆菌生长速度慢，且对培养基要求高，所以在一般综合医院是不能做结核菌培养的。这也就意味着在病原学诊断这条路上，综合医院的诊断能力很有限。<br /><b>再来看影像学诊断，</b>对于结核病来说，影像学诊断主要在于肺CT和胸部X线这两点。对于综合医院的临床医生和影像科医生，<b>通过片子诊断结核是一件非常考验能力和经验的事。即使是水平高超，经验丰富的优秀医生，也不敢保证能通过影像学结果准确的区分肺结核、肺炎、肺部肿瘤等疾病。</b>因此在综合医院要想做到结核病早诊断，早发现，关键在于影像学结果是否典型，要是真遇到极度不典型的情况，诊断很容易陷入绝境。<br /><b>最后，说一说免疫学诊断，</b>最近几年新上市的γ-干扰素+混合淋巴细胞培养（TB-SPOT）是一种可以替代PPD的更准确的诊断结核病的检查方法，除此之外，结核病抗体检查，PCR等方法也一直应用于临床，但这些方法也存在着很大的局限性，其在诊断中的意义不如影像学大，因此免疫学诊断一直处于辅助诊断地位。<br />2、治疗：<br />在我国结核病一旦被发现是要到专科医院进行诊治的，诊治明确的结核病患者可以到所在地区的结核病防治所登记并接受免费的抗结核治疗（<b>注意，只有抗结核的治疗是免费的，其他治疗是要花钱的</b>）。结核病治疗药物主要副作用是肝毒性，所以在治疗时多少都需要进行保肝，护肝治疗。<b>对于患者的隔离主要根据痰中有无结核菌决定。</b>现在只有严重的肺外结核和痰排菌阳性的患者需要住院治疗，其他患者均主张居家治疗，并不需要分餐，主要是要按照消毒标准处理患者的痰。除了药物治疗外，<b>消除结核病易感因素在治疗中有着举足轻重的地位</b>，上世纪50-80年代，由于物质条件匮乏，我国因营养不良而患结核病的患者较多，当时各种物资均凭本供应，那时凭着医生开的结核病诊断证明，可以每个月多领一些黄豆，用来加强营养，促进康复。现在由于糖尿病的发病率增高，导致结核病人数量增加，对于这类病人在治疗结核病的同时要加强血糖的控制，改善患者免疫力水平。<br /><br />最后，结核病以前是绝症，现在并不是，合理就医，加强管理，结核病是可以控制的。不需要恐慌。但也不能忽视。<br /><br />以上，图片均来自网络。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/yin-shan-75?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">银闪</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/23615673/answer/65409010?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">38 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/29628080?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">患肺结核是一种怎样的体验？</a><br />
            
<a href="http://www.zhihu.com/question/28600186?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">求助，女友肺结核复发？</a><br />
哪些经济学理论，在你了解真实世界运转后，才理解了其惊人的解释力？
谢邀 <a class="member_mention" href="http://www.zhihu.com/people/4d36b087761c3ec4ddccb03413d74329">@Zampeli Diana</a><br /><br />我来讲讲<b>囚徒困境</b>。<br /><br /><ul><li><b>囚徒困境的定义</b></li></ul>我承认，对于大部分稍微略懂一些经济学的人来说，囚徒困境都不会是一个陌生的名词。<br />在维基百科上，对于<b>囚徒困境</b>的经典背景设定如下：<br /><blockquote><p>警方逮捕甲、乙两名嫌疑犯，但没有足够证据指控二人有罪。于是警方分开囚禁嫌疑犯，分别和二人见面，并向双方提供以下相同的选择：</p><ul><li>若一人认罪并作证检控对方（相关术语称“背叛”对方），而对方保持沉默，此人将即时获释，沉默者将判监10年。</li><li>若二人都保持沉默（相关术语称互相“合作”），则二人同样判监半年。</li><li>若二人都互相检举（互相“背叛”），则二人同样判监5年。</li></ul></blockquote>如果囚徒困境博弈只进行一次，那么对于双方来说，“背叛”是<b>“占优策略”</b>（即，无论对方选什么，“背叛”都比“合作”更好），因此双方均会选择背叛，这构成了<b>“占优策略均衡</b><b>”</b>（<b>“纳什均衡”</b>的一种）。同时应当注意到，如果双方都选择合作，将会得到一个对双方都更好的结果（称为<b>“帕累托优”</b>）。<br /><br />综上所述，（单次）囚徒困境可以总结为：<br /><blockquote>存在<b>占优策略均衡</b>，其结果<b>帕累托劣于</b>均<b>选择被占优策略</b>的结果。</blockquote><br />有很多稍微多了解一些囚徒困境的同学，往往会迫不及待地进入下一步，比如：<a class="internal" href="https://www.zhihu.com/question/19656576">博弈论里的囚徒困境怎么解决？ - 博弈论</a> 这个问题就有1200人关注。<br /><br />相比之下，<a class="internal" href="https://www.zhihu.com/question/19955241">“囚徒困境”有哪些现实的例子？ - 社会</a> 这个问题却只有107人关注，整整小了一个数量级。<br /><br />很抱歉，这个答案已经注定要和那1200人分道扬镳，而加入那107人的行列了。<b>如何应对囚徒困境自然很重要，但是我们与其像批判家那样解构一件艺术作品，不如先学会如何拥有一双发现美的眼睛。</b>接下来，我将从经典的例子开始，带大家走进日常生活中方方面面潜藏着的“囚徒困境”，领略“囚徒困境”在真实生活中惊人的解释力。<br /><br /><ul><li><b>一些<b>经典的</b>囚徒困境</b></li></ul>一提到囚徒困境，大家脑海里会想到哪些经典的例子呢？即使排除掉“警察和嫌犯”的故事，以下这些例子几乎必然会出现在大部分与博弈论、纳什均衡相关的教科书或科普书籍上：<br /><br />1. 价格战（现实案例：<b>艰难维持的OPEC石油输出国组织</b>）<br /><blockquote>双方企业可选择高价或低价，价格较低者将获得更高的市场份额，因而获得更高的利润。结果是，双方企业均选择低价，市场份额不变，但收入减少了。<br /></blockquote>2. 广告战（现实案例：<b>美国烟草行业的广告战</b>）<br /><blockquote>双方企业可选择打广告或不打广告，然而打广告的一方将抢走更多的顾客，因此双方都会选择打广告，结果是双方该有多少顾客还是有多少顾客，却白白花费了广告的费用。<br /></blockquote>3. 军备竞赛（现实案例：<b>美苏两国的军备竞赛、考试前大家都熬夜复习</b>）<br /><blockquote>两个超级大国，为了避免受到对方在军事上的压制，无论对方是否发展军备，自己选择发展军备都更加有利，结果双方搞起了军备竞赛，相互仍然势均力敌，而耗费了大量的军费。<br /></blockquote>4. 公地悲剧（现实案例：<b>北大西洋鳕鱼濒临灭绝</b>）<br /><blockquote>在一片草场上，有许多牧民在放牧。由于草场是公共物品，不属于任何一个牧民，那么对于每个牧民来说，无论其它牧民放多少只羊，自己多放一些羊都比少放来得更好，于是所有牧民都增加了羊的数目，最终把草场都吃光了。</blockquote>请大家先记住这些例子，这有助于你构建对于囚徒困境的一个直观理解，你就能够更快地发现下面这些现实案例当中潜藏的囚徒困境了。<br /><br /><ul><li><b>更多不经典的囚徒困境</b></li></ul><b>首先，来举一些我的知乎回答中涉及到的囚徒困境：</b><br /><br />1. 为什么工会罢工常常不能如期进行？<br /><br /><a class="internal" href="https://www.zhihu.com/question/19955241/answer/83020163">“囚徒困境”有哪些现实的例子？ - Richard Xu 的回答</a><br /><blockquote><p><img src="https://pic3.zhimg.com/e7deb6482b4a8d85e4253e972c852dc2_b.jpg?rss" /></p><br /><p>一些美国的Uber司机打算进行一场罢工以提高自己的收入，比如他们希望在APP上设置小费的选项，提高起步价和每公里价格，于是他们做了上面这样的海报。</p><p>然而，Uber司机相互之间存在费用的竞争。在路上的其它司机越少，某位司机自己揽到客人的几率越高；同时，当用车的需求远超司机的供给时，Uber会启动“浮动定价”来增加供给。所以一名司机如果不参加罢工，不仅能够获得更多的生意，而且每英里的费用还能提高。这给<b>不参加罢工提供了很强的激励。</b></p><p>结果是，在本应当是罢工的时间段，芝加哥路上的Uber司机数量仍然非常巨大，甚至没有达到启动”浮动定价“的程度。</p></blockquote><br />2. 亿万富翁如何不花一分钱操纵议会？<br /><br /><a class="internal" href="https://www.zhihu.com/question/40488699/answer/86849825">经济学里有什么有趣或者奇葩的结论？ - Richard Xu 的回答</a><br /><blockquote>从图上就可以看出：均选择“支持”并不是最优解，最优解应该是均选择“反对”。法案通过了，双方虽然表面都没拿到那十亿打了个平手，但是双方都没得拿软钱了，比原来的处境更加糟糕。<br /><b>更加气人的是，因为法案通过了，那位古怪的亿万富翁按照约定，也不需要付那十亿美元。</b></blockquote><br />3. 为什么会有“中国式让梨”？<br /><br /><a class="internal" href="https://www.zhihu.com/question/30214619/answer/47392022">怎样能够科学地破解「中国式让梨」？ - Richard Xu 的回答</a><br /><blockquote>在“中国式让梨”的过程中，双方都试图通过“让梨”来发送自己有更好“品德”的信号，但是双方又都预期到对方发送这样的信号本身是误导的（显然双方都想要大梨），结果是最后双方对于对方的品德的评价也没有改变。但是<b>如果任意一方选择不发送信号（不让梨），那就会被对方认为是“更”没有品德的表现</b>（相反方向的评价偏离）。于是双方只能选择都让梨，增加了沟通的无谓损失。</blockquote><br />4. 为什么地铁乘客往往不遵循“先下后上”的规则？<br /><br /><a class="internal" href="https://www.zhihu.com/question/34541777/answer/59065665">能否用博弈论解释地铁上的乘客不会遵循先下后上的原则？ - Richard Xu 的回答</a><br /><blockquote>所以如果你和另一个leader站在地铁前面，各自可以选抢和不抢：<br />对方抢，你不抢，则要等另一列都上车或者下车的都下车才有可能上车；你也抢，那僵持一小会儿成功上车。抢更好；<br />对方不抢，你不抢，等下车的都下车再上车；你抢，你先上车。抢也是更好；<br /><b>于是大家都抢了。</b></blockquote><br /><b>接下来这些例子主要来源于平时的一些阅读材料：</b><br /><br />5. 为什么不同学校同一专业的研究生项目在相近的时间发Offer和截止回复？<br /><br /><blockquote>对于任何一个学校来说，如果别的学校早发Offer早截止，那自己晚发就会吃亏，所以也要早发；反过来，如果别的学校晚发Offer晚截止，那自己早发可以抢到更好的学生。结果是所有学校都会早发，留给各个学校的行政工作人员的审阅材料时间就减少了，但各自能录取到怎样的学生并不会发生改变。这种提前会一直进行下去，直到审阅材料的时间只能让行政人员堪堪卡着点完成，各校才会停止继续提前。</blockquote><br />6. 为什么美国许多学校规定入学不得晚于多少岁？<br /><br /><blockquote>对于孩子来说，入学时是6岁还是7岁，意味着在智力、体格发育各方面有很大的差别，年龄更大的学生因而能够获得更好的资源（比如在社团中更快晋升、比如在橄榄球赛中充当四分卫）。于是家长倾向于让孩子晚入学，结果是所有孩子都晚入学，原先因为年龄更大带来的优势就丧失了，只会让孩子耽搁一年上学。因此学校不得不规定入学最晚年龄，以免家长们把孩子入学的时间一拖再拖。<br /></blockquote><br />7. 冰球、曲棍球比赛为什么规定运动员必须戴头盔？<br /><br /><blockquote>不戴头盔的运动员，将比戴头盔的运动员获得更好的视野，相比之下，潜在的受伤风险带来的损失要小得多。然而，如果所有运动员都不戴头盔，则在视野上不会有哪一方更占据优势，但双方一旦受伤，其严重程度将比戴头盔时有大幅提高。因而冰球、曲棍球比赛索性直接规定运动员必须戴头盔。</blockquote><br />8. 为什么女性要化妆？<br /><br /><blockquote>显然，如果别人不化妆，化妆能帮助你提高姿色；而如果别人都化妆，那你就更有理由化妆了。结果是，化妆前后的美貌程度排名并没有多大变化，然而大家都得花银子去买一大堆化妆品放在家里。</blockquote><br />9. 为什么鹿角那么大？<br /><br /><blockquote>鹿角越大，雄鹿在争夺配偶的斗争中就占有更大的优势，因此在演化中鹿角不断变大。然而，如果所有鹿的鹿角都变大了，那么争夺配偶的胜率并不会有变化，相反，过分硕大的鹿角反而会成为累赘，比如在树林中被树枝缠住结果活活饿死。<br /></blockquote><br />10. 为什么会出现GPA通货膨胀？<br /><br /><blockquote>对于评教系统很完善的学校，如果教授给学生打的分数高低会影响到学生对教授的评价，那么无论其它教授如何打分，每一个教授自己的选择总是越高越好，结果是GPA水涨船高，直到实在无法继续上涨为止。这一论断也能从反面得到印证：曾经有一位教授给我们上课时表示，反正我已经评上正教授了，你们给我评教的分数不会影响我的教职，所以我打分绝对不会注水。<br /></blockquote><br />11. 亚马逊的零售书店项目是如何推广的？<br /><br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//cheaptalk.org/2013/11/13/prisoners-dilemma-everywhere-amazon-source/" rel="nofollow noreferrer" target="_blank">Prisoner’s Dilemma Everywhere: Amazon Source<i class="icon-external"></i></a><br /><blockquote>亚马逊Amazon给零售实体书店提供了两种项目：一种是零售书店可以以很大折扣购入Kindle，另一种是零售书店可以以较小折扣购入Kindle，同时用户用这些Kindle买书可以给零售书店返利。对于零售书店来说，参与这样的项目可以获得额外的营收，然而，如果大部分零售书店都加入这个项目，那么亚马逊的电子书市场势必对零售书店的市场造成巨大的冲击。</blockquote><br />12. 应该买额外的便宜筹码吗？<br /><br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//cheaptalk.org/2010/03/16/two-instructive-ways-to-frame-the-prisoners-dilemma/" rel="nofollow noreferrer" target="_blank">Two Instructive Ways to Frame the Prisoners’ Dilemma<i class="icon-external"></i></a><br /><blockquote>在一场扑克锦标赛上，你可以花65美元买2500个筹码，在这个基础上，你还能再多花5美元再多拿500个筹码。然而，后面这5美元不会进入奖金池，而是被比赛组织方直接抽走了。对于大多数人来说，后面这5美元的500个筹码显然很合算。然而，如果你多买了5美元500个筹码，奖金池中的奖金没有增加，摊在每个筹码上的奖金额度就降低了，如果所有人都买了那额外的5个筹码，你的3000个筹码的价值仍然是65美元。</blockquote><br />13. 两党谈判的死局（Deadlock）<br /><br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//cheaptalk.org/2011/08/03/strategic-dimensions-of-the-supercongress/" rel="nofollow noreferrer" target="_blank">Strategic Dimensions Of The “SuperCongress”<i class="icon-external"></i></a><br /><blockquote>为了解决美国2011年债务上限危机，两党将组建一个超级国会，各选派6名代表。对于两党来说，将更极端，更具备谈判能力的议员放在超级国会中，都是更优的选择，说不定能够让对方直接放弃。然而，如果双方都选择这样的议员，意味着超级国会的谈判将很难达成共识。</blockquote><br /><ul><li><b>总结</b></li></ul>理性人总是最大化自己的效用，这一点是不会变的，也因此在我们的日常生活，在世界的运转中，会有那么多“囚徒困境”的例子。然而，倘若因此得出“人心险恶”的论断，并将大棒打在“理性人”的假设上，那也大可不必。<br /><br />首先，有些囚徒困境的结果，比如价格战等等，在不利于商家的同时，却是有利于消费者的；<br />其次，即使同样是占优策略均衡，有时候均衡结果也可以是帕累托最优的；<br />再退一步说，我们常常说在现实生活中可以避免或者说解决囚徒困境，然而避免和解决的方法，仍然没有脱离理性人假设：<br />为什么重复博弈能够维持合作？因为合作的长期收益高于单期的背叛；<br />为什么契约可以维持合作？因为契约改变了囚徒困境博弈中相应的支付，使得修正过的博弈中合作成为新的占优策略。<br /><br />如此等等，其实更加说明了一个问题：<br /><blockquote>与其对利己行为作口诛笔伐的无用功，不如想想，如何<b>用合理的制度和激励</b>来引导人们的利己行为，使得人们在<b>作出最优化自己效用的选择</b>的同时，能够<b>为社会创造最大的裨益</b>。</blockquote>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/richard-xu-25?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Richard Xu</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40971941/answer/89303493?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">11 个回答，查看全部。</a><br />
怎样快速有效地学习游泳？
<p>-</p><b>版权声明:<br />本文版权归作者梦觉所有，如需转载，请事先联系作者梦觉，知乎私信、微信公众号 mengjue666 留言均可。<br /><br />未经作者授权，禁止转载。<br /><br />p.s. <br />为个人学习、研究或欣赏，欢迎分享。</b><br /><br /><br /><br /><br /><br /><br /><p><b>以下练习，仅供参考，尽量在泳池适当的深度做，一定要把安全放在第一位！请重视安全，谨慎的量力而行！</b></p><br /><br /><p>贴一些学会蛙泳之后，益多做的练习，希望练习好游泳的朋友，相信会有帮助，请多提意见和建议，谢谢，多评论评论，留留言，我都会很开心的。</p><br /><br /><br /><ol><li><a class="internal" href="http://www.zhihu.com/question/24498387/answer/30588039">在游泳运动中经常提到的水性是什么？如何练习？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/24498379/answer/32832859">在游泳运动中经常提到的水感是什么？如何练习</a>？<br /></li><li><a class="internal" href="http://www.zhihu.com/question/21577700/answer/30628257">蛙泳怎样才能游得快？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/19712517/answer/29572968">蛙泳如何把头露出水面？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/20952424/answer/24662616">如何学习踩水？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/26842792/answer/34722351">游泳运动中的跳水，该怎样练习？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/27397358/answer/36639882">如何练习蛙泳长划臂</a>？<br /></li><li><a class="internal" href="http://www.zhihu.com/question/24142521/answer/26923826">人们练游泳的时候，到底该练习什么？</a><br /></li></ol><br /><br /><br /><p><b>注意，本回答会有视频，而且质量不怎么样。。。我还没学会剪辑视频，所以只能一个镜头拍下来。希望不会遭人嫌弃。</b></p><br /><p><br /><b>如今学游泳的人越来越追求高效率，你看，连题目问的都是如何快速有效。</b><br /></p><br /><p><b>在水性水感还很差的情况下，艰难的学着动作。这样，即使你学会了，也是个半吊子。能游，但是在水中不自在。身体只有两个模式可供选择：</b><br /><b>一个是靠岸模式</b><br /><b>一个是游泳模式</b></p><br /><br /><b>被什么东西打断了，就慌张得咣咣喝水</b>，<b>这是非常非常非常大的隐患</b>，<b>倒不如一点不会游泳。</b><br /><br /><br /><b>希望慢慢的来练习。</b><br /><br /><br />----------------------------------------2013.8.23------------------------------------------------------------------------------<br /><br />快速有效的学习游泳，就得弄清楚自己的情况，做<b>针对性</b>的练习。<br /><br />游泳初学时，都是差不多的那么一套练习内容，<b>而难点因人各异</b>，我把一套初学内容写下来，同时展开写各种大家可能遇到的困难，以及针对的方法，我尽量写全面一些，根据自己的进度快慢不同，请对号入座。<br /><br />目录<br />自己到了哪步，就看哪部分，内容在下面，还会有需要注意的一些地方，不要错过。（Ctel+F可搜索）<br /><br />一，换气<br />1.1.陆上换气<br />1.2.水上换气<br />1.3.连续换气<br /><br />二，漂浮<br />2.1.水上固定支撑（扶着池边）漂浮<br />2.2.水上不固定支撑（教练扶着，或是扶着漂浮板）漂浮<br />2.3.水上无支撑（nothing）漂浮<br /><br />三，蛙泳腿<br />3.1.陆上蛙泳腿动作<br />3.2.半陆半水（上半身在池边上，下半身在水中）蛙泳腿动作<br />3.3.水上蛙泳腿<br /><br />四，蛙泳腿和换气的配合<br />4.1.水上固定支撑（扶着池边）漂浮蛙泳腿+换气（两次腿一次换气）<br />4.2.水上不固定支撑（教练扶着，或是扶着漂浮板）漂浮蛙泳腿+换气（渐进到一次腿一次换气）<br /><br />五.蛙泳手<br />5.1.陆上蛙泳手<br />5.2.水上蛙泳手<br /><br />六.蛙泳手与换气的配合<br />6.1.陆上蛙泳手和换气<br />6.2.水上蛙泳手和换气<br /><br />七.蛙泳（连续换气+漂浮+蛙泳腿+蛙泳手）<br />7.1.蹬两次腿+一次划手+一次换气 <br />7.2.蹬一次腿+一次划手+一次换气 <br /><br /><br /><br /><br /><br /><b>一、换气<br /><br />1.1陆上换气练习</b><br />分两个部分。<br />1.抬头张开嘴巴吸气。<br />2.闭紧嘴，低头，眼睛看着地上，发出“唔~”的声音来，练这个内容时，你自己心里要有个底，声音能发多久，你也就能把头埋在水中多久。<br /><br />其实还有一个更趣味的方法，名字叫“不怕不怕”，更适合小女孩。<br />就是低头说“不~~~~~~~~~~~~~~~~”，抬头说“怕”。<br />“不~~~”，是为了在水中吐泡泡，“怕”，是为了抬头换气时嘴巴仍在呼气。<br />这对连续换气的作用是很大的，下面会说到（这个方法我觉得教起来好尴尬，至今坚持不用）。<br />我许多孩儿学员都说自己在水中呆不久，我就把他们叫上岸，练习这个内容。<br />你能在水中“不~~~~~”多久，你就能在水中呆多久，至少。<br />这个练习也就随意练练，给即将下水的你做个心理准备，练习时你要对自己说，嘿，等下水就这么练，知道吗？<br /><br />知道吗？<br /><br /><br /><b>1.2，水上换气练习</b><br />下水，最好是能站到池底的地方，最好是双手扶着池边，练习内容还是那两个部分。<br />刚开始下水可能会感到胸闷，吸不上来气，这是因为水对胸腔的压力，属于超级正常的，多做深呼吸，习惯了就一点事都没了。<br />注意，对于初学者来说，只要人的身体下了水，就只能用嘴巴吸气了，任何时候任何情况，只要吸气，就是嘴巴。（过了这个阶段的人，你就不要太较真了）<br /><br />1.抬头张开嘴巴吸气<br />2.闭紧嘴，低头（眼睛看着地上），发出（唔·····）的声音来。<br />鼻子会出泡泡，就OK拉。<br /><br />注意：有的人嘴巴或鼻子碰到了水，会因为恐惧啊不习惯啊各种原因而终止了发出声音，也就没有泡泡啦。<br />多练几次就可以了，真的，最多20次，还不行的话你拍视频给我，我回拍视频给你。<br /><br /><br /><b>1.3.连续换气</b><br />很简单，就是把换气连起来做，有的人5秒就会，有的人还是需要一个练习的过程才能掌握。<br />连续换气讲究的就是个连贯，别抬头后呼次呼次呼吸几次。抬头只呼一次和吸一次气，快速低头，来跟着下面练。<br />1.抬头张开嘴巴吸气。<br />2.闭紧嘴，低头入水（眼睛看着地上），发出（唔·····）的声音来，呼气。<br />3.呼气差不多了，要抬头，抬头的过程中一直保持呼气就行，从水中一直呼气到水面上，再维持吐气2秒。<br />4.两秒后，张开嘴巴吸气（这不是死时间，随着练习的熟练，你可以越来越快，越快越好），低头发出（唔·····）的声音来，如此循环。<br /><br />注意：呼气时不要把嘴巴张好大，平时你怎么吹蜡烛，怎么吹干指甲油，怎么帮别人吹眼睛里面的灰，就怎么吹气。<br />这个抬头呼气非常重要，是重点，但不是难点，通常一点就通，各位好好练，不要有压力。<br /><br />连续换气练习过程简单来讲就是<br />吸气<br />低头 “不~~~~~~~~~~~~”<br />抬头 “怕~~”<br /><br />吸气<br />低头 “不~~~~~~~~~~~~”<br />抬头 “怕~~”<br /><br />再强调一次，连续换气，抬头只呼一次气和吸一次气。<br />开始的时候可以慢一点，然后再慢一些，抬头出水面呼气可以3秒，可以5秒，呼完气后开张嘴巴吸气，吸饱了就快些低头吧。<br />最高境界是低头的速度快到让水面变成玻璃那样，把自己的脑袋就地猛往水里砸。<br /><br />练好连续换气是练好游泳的基础，别到时练好了蛙泳的手和腿，换气不行，抬头换一次气要个7、8秒。<br /><br />有人要问，在水里到底是嘴巴呼气还是鼻子呼气？<br />答，都对，你可以都尝试一下，简单得很，而自然才是最好的。<br /><br />什么是自然？<br />答：就是看到上面那个问题，还要想一下，咦？我到底是嘴巴呼气还是鼻子呼气的？<br /><br />有人要问，这两个方法都是要在水中吐气，那可不可以不吐气呢？我喜欢憋着。<br />答，不可以，因为要避免换气中的<b>假呼吸现象。</b><br /><br /><b>名词解释</b><br /><b>假呼吸，</b>就是指在连续换气时，在水中没有呼气而是憋气，抬头时呼气了，但是又很快的吸气低头，呼气时间过于短促，没把肺里面的空气尽情的呼出来，于是你觉得你换了气，于是你就一直这样练，于是呼出的气少，而吸的气也少，于是你就发现因为肺里面全是没呼出去的废气而吸气越来越困难了，练了6~10次之后你觉得怎么胸口好闷啊，怎么肺里全是空气还感觉那么缺氧啊。<br />这就是“假呼吸现象”，多是因为紧张而导致在水中呼气不自然。<br /><br />一般我教学员，都是连续换10次气，就OK，但这个假呼吸，是能坚持到10次换气的，往往在练会了蛙泳的手腿后，开始自己独立的游泳了，弊端才显现出来，这样只能乖乖的回来练换气了。<br />所以要将之扼杀在摇篮中。<br />所以在水中要呼气。<br />而且要自然的呼气，就是说在水中 <b>不要用力</b> 去呼气。<br />平时我们生活在空气中，谁会用力去呼气呢？对吧。<br /><br />其实在水中憋气呼气都可以啦，但是不能只憋气或只呼气，只憋气容易造成假呼吸，只呼气的话，在水中憋不久。<br /><br />换气请经常练习，自己觉得自己还不熟练的，一定要常练习，当然了，也不要死磕，练了那么百八十次后，可以练练别的内容。<br /><br /><br />好了，换气的练习就写到这，如有换气的疑问，欢迎留言什么的，我会将解答加在这里。<br /><br />2014.8.14<br /><p>加一个视频，主要想表达的就是自在，在水中呼气，可用嘴巴可用鼻子也可一起用，呼气可快可慢可憋着，头出水面换气，也是，可快可慢，呼气量和吸气量自己掌握好。当你练到你都不用去想一些类似“应该是用鼻子呼气还是嘴巴呼气呢？”的问题时，就差不多了。</p><p>好，看吧。（没错，我的相机是防水的啦啦啦~感谢 <a class="member_mention" href="http://www.zhihu.com/people/72b4e4536fe60f6f6c3d6b5c30224b78">@Lily CHAN</a>~是她帮我从北京寄给我的。）</p><a href="http://v.youku.com/v_show/id_XNzUxNTQxOTUy.html">换气</a><br /><p><br /><br /><br /><b>二、漂浮</b><br /><br />漂浮其实很简单，很多学员在练换气时，双手扶着岸边，一低头一放松，身体就飘起来了，要做的就是把身体和腿伸直。<br />在这说一下，在原地漂不漂得起来，第一因素其实是身体的密度，你不得不承认，人与人之间得差别还是挺大的。</p><p>有很多人说放松就能漂起来了，怎么说呢？放松能找到正确到动作，但是能不能漂起来，像我这种密度比水大一些的，还是得靠速度。</p><p><br />练习内容<br /><br />最好是在站得到底的泳池，背靠着池边，双手向前伸直。<br />吸气</p><p>低头<br />双脚蹬离池边（一定要先低头，再蹬池边啊啊啊）<br />漂浮~~~<br /><br />需要注意的几点<br />1. 手向前伸直。（肘关节不要弯）<br />2. 眼睛看着池底，或是头顶对着前方，或是下巴贴着脖子，其实这三个描述的是同一个动作。<br />3. 双腿蹬离池边后伸直并拢。<br /><br />没错，就是直直的，超直，按一个小学员的话来说，就是像警察叔叔那么直。<br /><br />能漂多远取决于一下几点：<br />1. 要求的动作是否做好了。<br />好多人都喜欢在漂浮时眼睛看着前面，然后身体就沉得快，然后就漂不动了<br />2. 憋气时间的长短，这是时间（废话）<br />3. 双腿蹬离池边的力量，这是速度（废话）<br /><br />时间长＋速度快=距离长（废话···）<br /><br />这个练一下就行了，但请你好好的练，基础扎实些，以后的路好走。</p><br /><br /><p>2014.11.8</p><p>补充一下，关于漂浮怎么样站起来。</p><p>1.在漂浮的状态下，先把双腿收起来，小腿贴着大腿，大腿贴着肚子。</p><p>2.重心使劲往后移，双腿往下伸出去，尽量伸直，使下半身直立起来。</p><p>3.双手(谢谢 <a class="member_mention" href="http://www.zhihu.com/people/48e0eb21afe08fdc632ba3acf60d7a0c">@LING CL</a> 提醒，大红花）向下压水，同时抬头，上半身挺直。</p><br /><p>好，下面看视频。</p><p>在水面上看，是这样。</p><p><a href="http://v.youku.com/v_show/id_XODIxNjc3MjYw.html">漂浮与站立</a><br />在水中看，是这样。不好意思，视频画面有点黑。</p><p><a href="http://v.youku.com/v_show/id_XODIxNjc3Njgw.html">漂浮与站立2</a><br />再需要注意的几点：</p><p>1.一开始练习的时候，一定要注意顺序，不要先 手往下压水抬头，脚还在后头漂着，没有支撑点，会马上下沉，容易引起初学者心理上的慌张，也容易呛水。</p><p>2.动作慢一点可以，快一点也可以，多做几个动作，也行，我有个学员，每次都做踩单车一样的动作来让下半身下沉。。。有个过渡，没什么不对，但在熟练之后，尽量控制自己的动作，尽量做到动作少，又有效，是最好的。</p><p>3.一开始不要在深水练习。<br /><br /><br /><br /><b>三，蛙泳腿</b></p><p><br />蛙泳腿，先分三个部分动作来学（一般说是四部分，即收腿，翻腿，蹬腿，夹腿。但我非常不喜欢把蹬和夹分开练习，因为这本是一个动作）。</p><br />上半身趴在躺椅或者沙发或者床上，下半身悬空。<br /><br />准备动作，双腿伸直并拢。<br /><p>1.收腿，小腿收起来，脚掌尽量贴紧屁股，大腿不动，小腿收回来。</p><p>2.翻腿，大腿仍然尽量保持不动，小腿往两边翻开，此时脚掌要勾起来,这个动作做标准了，从正后方看上去，就是个标准的Ｗ形。</p><p>3.蹬夹腿，脚一边往两边蹬出去一边往中间夹紧，伸直并拢。<br /></p><p>很简单有没有。下面详细来说说。</p><br /><p><br /><b>3.1.陆上蛙泳腿动作练习</b></p><br /><p><b>第一阶段</b></p><p>先按上面的来练习。上半身趴在躺椅上，下半身悬空。</p><p>1.收腿，脚掌尽量贴紧屁股，大腿不动，小腿收回来。<br /></p><p>注意，很多很多的人会犯的一个错误就是会把大腿往肚子的方向收，这点要特别注意，小腿收回时，也不要求大腿直直的对着后面，这样脚掌容易出水面，往后面蹬腿时，就蹬空气了。稍稍往下沉一些，是可以的，大腿与水面的夹角大概是15度到30度。</p><br /><p>大概这样子</p><p><img src="https://pic3.zhimg.com/44b5f0c733f20f7537465063bb94b98a_b.jpg?rss" /></p>（可爱吧~）<br /><br />2.翻腿，大腿仍然尽量保持不动，小腿往两边翻开，此时脚掌要勾起来,这个动作做标准了，从正后方看上去，就是个标准的Ｗ形。<br />注意，小腿尽量往两边翻开，尽量往屁股方向贴近，贴得越紧，蹬腿的距离越长，动力更大。<br /><br />3.蹬夹腿，脚一边往两边蹬出去一边往中间夹紧，伸直并拢。<br /><br /><br /><p><b>第二阶段</b></p><p>1.直接翻腿，双腿直接由伸直并拢变成Ｗ形，注意，脚掌要勾起来。</p><p>2..蹬夹腿，脚一边往两边蹬出去一边往中间夹紧，伸直并拢。</p><p>注意，腿往两边是蹬出去，也就是说蹬腿的过程中，脚掌一直是勾着的，不是脚掌绷直从上往下用脚背打水，而是脚丫心（就是挠痒痒你会很痒痒那一面。）对着后侧方蹬出去。这个是很多很多人会犯的一个错误，而且还挺难改，请一定注意好。</p><p>在陆地上模仿蹬腿练习时，要假装用力蹬，至少在脑子里用力，模拟在水中的感觉。但别真的很用力。当年我给学生做示范，说要用力用力，结果一小朋友蹬腿一用力，没收住，脚趾头磕地上，瞬时哭天喊地的…..</p><br />双腿伸直并拢后，脚掌可以放松了。<br /><br /><p>练习方法：先做好准备动作。</p><p>数一，做动作1；</p><p>数二，做动作2。</p><p>然后双腿伸直并拢停3秒，再重复数一。</p><p>多练习几次，至少在脑袋中有个动作的印象。</p><br /><br /><p><b>第三阶段</b></p><p>数一，做动作1+2，也就是做一个完整的蛙泳腿动作。再加上三秒的停留时间。</p><p>在这里，动作要连贯，不能再出现第二阶段中，做完动作1，之后的停顿。</p><p>连贯无关快慢，连贯既是没有停顿。当然，一个动作做完，还是要停顿三秒。</p><p>多练习几次。</p><br /><p><br /><b>3.2.半陆半水蛙泳腿动作练习</b></p><p>上半身在池边上，下半身在水中，要求泳池的池壁和水面落差不大，如果落差太大，那...只好...你双手扶着池壁，叫一个人捧着你的肚子，让你漂起来...</p><br /><p><b>第一阶段</b></p><p>数一，做动作1；</p><p>数二，做动作2。</p><p>仍是练这个，20次。</p><br /><p><b>第二阶段</b></p><p>数一个数，做一个完整的动作。练20次。</p><p>注意，腿在水中，可以发力蹬腿了，但请不要从上往下去打水，别水花四溅还很嗨。腿是向后侧方，一边蹬出去一边往中间夹腿的。</p><p>我在这里要吐槽一下，蛙泳腿是个很神奇的腿，虽然给人的感觉是蹬着往前走，但它的实质，却是鞭状的动作，什么是鞭状？鞭子的形状。近端慢，远端快，近端发力，远端加力。所以不能先蹬腿 停顿 再夹腿。这得是一个连贯的动作。</p><p>但更神奇的是，有的人，他就是先蹬腿，再夹腿，也游得挺快的...虽然到不了专业的水平，但学来游游，并不碍事，所以，大家就先照着标准动作学，没学得很标准但是能游了呢，就别太纠结了。</p><p>当然，如果你在游泳方面很有追求，还是蹬夹一次过比较好。</p><br /><p>练习20次，练到有种“啊啊啊真的有在向前冲”的感觉，就OK了。</p><br /><p><br /><b>3.3.水上蛙泳腿 + </b><b>四，蛙泳腿和换气的配合</b></p><br /><b>1.水上固定支撑练习</b>（扶着池边，教练扶着肚子）漂浮蛙泳腿+换气练习（两次腿一次换气）。<br /><br /><b>2.水上不固定支撑练习</b>（教练扶着双手，或是双手扶着漂浮板）漂浮蛙泳腿+换气练习（渐进到一次腿一次换气）。<br />注意，永远是先低头再蹬腿的，这是有个先后次序的。低头、蹬腿这两个动作不要同时做，但也不要脱节了。低头马上蹬腿，然后漂三秒，再蹬一次腿，再漂三秒，然后抬头换气。换气时，只把头抬起来即可。身体仍然是平的，别立起来；脚也别翘起来；双手更别用力往下压浮板；甚至抬头的时候，肩膀都别出水面。换气只需动脖子就好了。<br />练习这个内容的时候，你要想着，在更进一步的练习中，是要求不拿浮板的，习惯去换气压板子，到时浮板一松，你压什么去？<br /><br />好，下面上视频。<br /><a href="http://v.youku.com/v_show/id_XNzUzOTQwNzYw.html">蛙泳腿教学</a><br /><p>谢谢我可爱的学生~我拍视频前，和她说了，我会传上网的哦，可以吗？</p><p>她大手一挥，说，这有什么问题。</p><p>果然，随为师我。</p><br /><br /><br /><br /><p><b>五.蛙泳手 </b><b>+ </b><b>六.蛙泳手与换气的配合</b></p><br /><p>首先说明一点，对于初学者来说，蛙泳划手，只是为了抬头换气。所以划手的动作，得小一些，快一些。有太多太多的人，图个爽，蛙泳一划手，就从头这划到屁股那，爽是爽了，手往前伸时的阻力怎么消除？</p><p>当年的运动员们想了个好办法，手从空中移臂到前面去呗。</p><p>这就是蝶泳的诞生~</p><p>但这里学的是蛙泳。</p><p>其实蝶泳手加蛙泳腿也不错，有谁想学，我可以教哟~</p><br /><p>另外，不管我们在陆上做模仿练习还是在水中练习，都是一次划手一次换气，要不然动作很容易乱。谨记。</p><br /><br /><br /><p><b>5.1.陆上蛙泳手练习</b></p><p>准备动作，身体直立，双手向前伸，手掌朝下。</p><br /><p>1.外划，手掌对着两侧，手臂往两侧打开略大于肩宽。这一过程几乎不产生推进力。</p><br /><p>2.内划，从慢动作上来看，是小手臂先往内收，再将手肘往中间并拢，你发现这是阿尼陀佛的手型，手掌在下巴的前下方一点点，就对啦。内划是产生推进力的，是靠“夹肘”来产生推进力的，而不是往后划手。切记。</p><br /><p>3.前伸，尽量伸快些，越慢阻力越大。</p><br /><p>4.停顿，三秒，和蛙泳腿一样。</p><br /><p>练习方法：</p><br /><p><b>第一阶段</b></p><p>数1，做动作1。数2，做动作2。数3，做动作3。停三秒，有强迫症的可以数1.2.3。</p><p>然后再重复。做20次吧。</p><br /><p><b>第二阶段</b></p><p>数1，做动作1+2，要连贯，快慢都行，但不要有停顿，动作要标准，你试了几次会发现，有点像在抱东西，所谓的“抱水”就是这样啦。</p><p>数2，做动作3，伸直手，手掌最好朝下，停三秒，有强迫症的仍可以数1.2.3。</p><p>做20次。</p><br /><p><br /><b>6.1.陆上蛙泳手和换气的配合练习</b></p><p>这个练习是接着上面的，加上了头部换气而已，所以 <b>阶段 </b>是连起来的。</p><br /><p><b>第三阶段</b></p><p>准备动作，弯腰，低头，眼睛看地上，双手向前伸直。</p><p>数1，做动作1+2，注意，有点不一样的地方来啦，做动作1，开始的动作，是外划，双手分开，就在这里，双手一分开的同时，抬头。</p><p>谨记，分手，抬头，一起。</p><p>动作2，也就是内划，身体可直立起来，增加节奏感。</p><p>数2，做动作3，同时低头。</p><p>也就是伸手的同时，低头，眼睛垂直看地上。</p><p>谨记，伸手，低头。</p><p>练20次。</p><br /><p><b>第四阶段</b></p><p>数1，做动作1+2+3，停顿三秒，数2，再做动作1+2+3，停顿三秒…….</p><p>也就是数一次，做一个完整的蛙泳手和换气的配合，的动作。</p><p>注意，分手抬头，伸手低头，停顿三秒。每一次都要做好，同时动作要连贯，不要有停顿。（除了停顿三秒）</p><p>特别注意，外划时动作不能过大，身体平着的时候，外划时，手掌始终在肩膀前面的范围，不会超过肩膀（详见视频）。</p><p>练20次。</p><br /><br /><br /><p><b>5.2.水上蛙泳手练习</b></p><p>参考5.1陆上蛙泳手练习，直接做第二阶段的动作，为了避免观看顺序混乱，我决定把上面的文字粘贴在下面，这样你们就不用滚鼠标上去看了~</p><br /><p><b>第二阶段</b></p><p>数1，做动作1+2，要连贯，快慢都行，但不要有停顿，动作要标准，你试了几次会发现，有点像在抱东西，所谓的“抱水”就是这样啦。</p><p>数2，做动作3，伸直手，手掌最好朝下，停三秒，有强迫症的仍可以数1.2.3。</p><p>做20次。</p><br /><p><br /><b>6.2.水上蛙泳手和换气练习</b><br />参考6.1陆上蛙泳手和换气的配合练习。</p><br /><p><b>第三阶段</b></p><p>准备动作，弯腰，低头，眼睛看池底，双手向前伸直。</p><p>数1，做动作1+2，注意，有点不一样的地方来啦，做动作1，开始的动作，是外划，双手分开，就在这里，双手一分开的同时，抬头。</p><p>谨记，分手，抬头，一起。</p><p>动作2，也就是内划，身体可直立起来，增加节奏感。</p><p>数2，做动作3，同时低头。</p><p>也就是伸手的同时，低头，眼睛垂直看地上。</p><p>谨记，伸手，低头，一起。</p><p>练20次。</p><p>最好去浅水区练习，感受一下划水，需要注意的地方是，外划不要过大，内划和前伸要足够的快，动作连贯有力。低头，没错，要低到水中，停顿三秒，可超，不可少。</p><br /><p><b>第四阶段</b></p><p>数1，做动作1+2+3，停顿三秒，数2，再做动作1+2+3，停顿三秒…….</p><p>也就是数一次，做一个完整的蛙泳手和换气的配合，的动作。</p><p>注意，分手抬头，伸手低头，停顿三秒。每一次都要做好，同时动作要连贯，不要有停顿。（除了停顿三秒）</p><p>练20次。</p><p>最好在浅水区练习，下半身，可以坐着，单腿跪着，全跪着，蹲着，甚至叫人一手扶着肚子，一手压着大腿漂起来。</p><p>注意，练习这个动作的时候，伸手低头停顿的时间不能少，但是划手换气的速度不要练了20多次后还是那个速度，经过练习后，渐渐的熟悉了动作，速度要加快，划手速度得快一点，同时换气速度要跟上，别练了10次后发现，咦？怎么我手伸直着头却抬着。</p><p>再说一次（没错，教游泳时，我就是不怕啰嗦.....）</p><p>分手的同时抬头，伸手的同时低头，之后要，停，顿，三，秒。</p><br /><br /><br /><br /><p><b>七.蛙泳（连续换气+漂浮+蛙泳腿+蛙泳手）</b></p><br /><p><b>7.1.蹬两次腿+一次划手+一次换气 练习</b></p><br /><p><b>7.2.1+1+1练习</b></p><p>我不知道还要说什么了.....该注意的地方，我都写了“注意”两个字。这个练习，只管去练就好了，回头觉得有什么问题，是换气的？是蹬腿的？是划手和换气配合的？有点耐心，回去再练练，如果发现不了自己问题，两个方法：</p><p>1.拍视频，自己看哪里做得不好，看不出的，回来上网搜一下游泳视频，对比一下。</p><p>2.叫教练看看。（留言中，有一部分朋友是请了游泳教练的，却还是有很多问题不好找谁问，以至于跑来知乎跑来这个回答下留言，嘿，放开点，你是给了钱的，你买的是服务）</p><p>都走到这步了对不对，来都来了对不对，大过年的对不对。有耐心点~</p><p>下面是视频，由于内容较多，我一口气拍了三个，第一个为主，后两个为补充，我觉得我真不要脸........两年前我真的比现在帅很多的。没想到现在长得有点残，自信还保留着，小悲剧一下~</p><p>1.</p><a href="http://v.youku.com/v_show/id_XNzU1OTU2MDEy.html">蛙泳划手和换气的配合</a><br /><p>2.</p><a href="http://v.youku.com/v_show/id_XNzU2NDE5MzAw.html">蛙泳划手和换气的配合2</a><br /><p>3.</p><a href="http://v.youku.com/v_show/id_XNzU2NDMwMzky.html">蛙泳划手和换气的配合3</a><br /><br />最后，我要说一下。<br />有很多朋友<br />学过换气后，就再也不回去单纯的练习换气了，即使在游进时会呛水。<br />学过蹬腿后，就再也不回去单纯的练习蹬腿了，即使在游进时蹬不动。<br />学过划手后，就再也不回去单纯的练习划手了，即使在游进时瞎乱划。<br /><br />游的时候，总是感觉不对，动作不对，光动不前进，又不知道要改哪里。<br /><br />我想，首先，要改掉一个心理，那就是 不要觉得自己好不容易练到了全身配合阶段，再转头回去练习 换气、蹬腿、划手那些基础的动作，就是退步。<br /><br />专业运动员每次训练，都要练这些东西。没错，每次，都，练。（为了给你们打鸡血，我就不加几乎这两个字了）<br /><br />所以，别为三天就能游起来，而骄傲自满得以后都只游全身配合了，检查检查自己哪里有问题，或者哪儿还需要改进，回去练一练，进步会多一些。<br /><br />温故而知新。<br /><br /><br /><br /><br /><br />好，下面我也贴一遍，这样你就不用翻到上面去啦，我好体贴的想。<br /><br /><ol><li><a class="internal" href="http://www.zhihu.com/question/24498387/answer/30588039">在游泳运动中经常提到的水性是什么？如何练习？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/24498379/answer/32832859">在游泳运动中经常提到的水感是什么？如何练习</a>？<br /></li><li><a class="internal" href="http://www.zhihu.com/question/21577700/answer/30628257">蛙泳怎样才能游得快？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/19712517/answer/29572968">蛙泳如何把头露出水面？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/20952424/answer/24662616">如何学习踩水？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/26842792/answer/34722351">游泳运动中的跳水，该怎样练习？</a><br /></li><li><a class="internal" href="http://www.zhihu.com/question/27397358/answer/36639882">如何练习蛙泳长划臂</a>？<br /></li><li><a class="internal" href="http://www.zhihu.com/question/24142521/answer/26923826">人们练游泳的时候，到底该练习什么？</a></li></ol><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><p>今天， <a class="member_mention" href="http://www.zhihu.com/people/1f644a1b7da169d2b56e1a4c6da61fea">@程浩</a>离开这世界一周年。</p><p>不得不说程浩给我带来了很强烈很持久的刺激，让我见识到如此旺盛的生命力。</p><p>有时想想程浩的那些回答，都是鼠标一个个点出来的，就不由得放慢些阅读的速度。<br /></p><p>我是个非常容易代入的人，时常尝试代入程浩的身体中，想想，如果是我，我会怎么活下去？会不会那么坦然面对这命？实际上，这是没法想象的，就像程浩他没法想象，拥有健康，他还会不会是他。</p><p>我是于一年前的明天写下这个回答的，当时刚来知乎，瞎逛逛，喜欢抖机灵，喜欢遇上问题就甩一句话的回答。这个回答是想要好好答的，但也没怎么上心，大半年，内容都截止在漂浮那。<br /></p><p>如今，我想要认真的回答每一个问题，尽力讲得更加详细，尽量把原因理由一一说明白。有时废话会多，我要尽量控制。</p><p>希望会有些帮助。</p><p>我也想要非常认真的活着，见识更多的东西，体验更多的事物呀。</p><p>严重的跑个题，在我目前赞同数最多的回答中写下这段话。</p><br /><p>感谢程浩</p><br /><p>他虽走得早 他青春不老</p><p>激起的火花 仍然照耀</p><p>（家驹，我也爱你）</p><br /><br /><p>-</p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/meng-jue-99?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">梦觉</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/19767374/answer/18504728?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">377 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/28481820?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">当我们游泳时，我们在想什么？</a><br />
            
<a href="http://www.zhihu.com/question/20413064?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">遇到海难时，使用哪种泳姿最好？</a><br />
如何看待「新建住宅要推广街区制，原则上不再建设封闭住宅小区」这一政策？
<b>       这原本是一个正确的方向（尤其针对以北京为首的一些“大院文化”深厚的城市）。</b><br /><b><br />但是，变成一个全国性的城市规划政策纲领，未免像春晚里的“全国人民除夕吃饺子”，完全忽略了地域性。</b>而且在还没有细则的情况下被标题党媒体无良地拿出来吸引眼球，引来全国人民吐槽也在情理之中。<br /><br />拿帝都、魔都两地出来对比举例，就知道这一政策（如果真能够实行的话），实是挽救北京交通和城市品质的一剂良药，然而对于上海来说，则不过是一碗凉白开水，因为上海这座城市，一直就是“窄马路、密路网”的生活街区模式（浦东例外）。<br /><br />      上图是北京东北四环外望京的某一片住宅区，下图是上海东北中环外新江湾的某一片住宅区，地理位置相似，开发年代相近。已经将主路网和次级路网用红色虚线标出。注意看左上角的比例尺可以证明尺度相同。<br /><p><img src="https://pic1.zhimg.com/256ae5753df5acb989f9467b5964e770_b.jpg?rss" /></p><p><img src="https://pic3.zhimg.com/87c8c3e889d8f353d485b4d0fb21aede_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/420b1c943404d5c9c35c947f2a8591b3_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/c338432251412c7a01ebf8cf608bd99b_b.jpg?rss" /></p>画面中北京的block尺度惊人，可以行车的道路又屈指可数。而且，住宅楼完全没有形成连续的街道界面，路边空空如也，有道而无街。相对应的，上海的居住区有明显的次级道路，把居住区分成了一个个更小的小区，同时，平行于道路的住宅楼底层有底商，形成了具有生活气息的街道。<br /><br />对于这个北京居住区的案例，把它分成拆几个小区，原有小区道路改造成街道生活中心，实在是再合理不过。对于这个上海居住区的案例，要是告诉居民还要把小区拆掉，居民不和你上街才怪呢～<br /><br />作为对比，也可以看看纽约以及东京的路网，和京沪一样比例的地图。<br /><p><img src="https://pic3.zhimg.com/d98e54f37ed2ad708d5e02ed0e21eafe_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/6442b8343a61b6fc59e9b35e530ef66d_b.jpg?rss" /></p>纽约的路网密度和上海相似，但正交网格带来的一个优势是分布更加匀称。东京是典型的三个层级的道路路网，这有赖于日本的土地私有制度，在中国基本不可行。我想，规划导则出台的预期，应该是像上海／纽约这样的两级路网，以及具有街道生活气息的城市品质。<b>再次重申：新政策里讲的是推广街区制，并不是把住宅小区开放到你家大门直接面对城市！</b><br /><br /><br /><br />--------------------<br />下面可以分享一个近十年来好的街区制规划的案例：上海创智坊街区，瑞安地产的，完整的街区制规划，现在的发展现状也非常的好（不是广告，无利益相关）。<b>以下渣画质预警！！</b><br /><p><img src="https://pic3.zhimg.com/540f2f7447553766f4be2aa4f071fb2e_b.jpg?rss" /></p>这是第一期的规划平面图，可以看到支路四通八达，中间横向大学路是居住区主要城市道路，不宽，双向双车道，沿街商铺只租不售，由瑞安统一规划业态，像运营商场一样运营这条街道。每个居住小区规模不大，但都拥有各自封闭、安静、私密、没有车辆干扰的中心花园。<br /><p><img src="https://pic1.zhimg.com/71345cdb5c784afb881aeadcd325de74_b.jpg?rss" /></p>这是养了几年以后的大学路街道现状，施施然有欧洲街道趣致。现在已成为上海东北片一片相当有品味的繁华区域。<br />（说个题外话，这片小区开发时由于太注意模拟欧洲的街区围合感，导致其中东西向住户比例过高，违背了上海人民买房朝南、朝南、朝南的三大基本原则，使得开发商在开发最后一期豪宅的时候，回归了围墙封闭式小区、户型均朝南的大板楼类型，也是矫枉过正的遗憾。）
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/shuojiong?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">shuojiong</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40611359/answer/87900959?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">1650 个回答，查看全部。</a><br />
你所听不见的语境
<img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/772cce7c695481d388e597005c909de2_b.jpg" width="500" />（本文在本专栏与剑桥大学语言学系博士生博客同日首发。英文版见<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.icge.co.uk/languagesciencesblog/%3Fp%3D1113" rel="nofollow noreferrer" target="_blank">此<i class="icon-external"></i></a>，中文版已在英文版的基础上进行了明显的调整和扩充。）<p>掐指一算，我离开理论语义学和语用学已经有一年的时间了，从那天之后语言的含义和应用模式也就变成了我的兴趣而非专业。尽管现在不再继续在这方面做正式研究，但是还是会帮助自己的朋友们收集一些有用的材料，也被人类语言使用中出现的奇妙现象而眩惑，甚至感觉被拉回到了故事的起点，又在认真分析环境对于语言的影响。当然，这一回也不例外。</p><p>故事开始于一周之前的某一晚；那时我在 bilibili 收看一个日本的新闻节目——如果有人好奇的话，那是日本电视台每晚播出的 News Zero ，我看的是周一的版本，当日的特邀主播是樱井翔。我知道樱井先生的事情早在开始收看他播报的新闻之前，这里也多少可以用这些信息作为他个人的社会语言学背景材料：他虽然出生于群马县，但自幼在东京长大，受过良好的高等教育，平日使用日本标准语，现在三十多岁。之前我曾经看过他参与的访谈节目，也看过他和他所在的偶像团体的成员们一起主持的综艺栏目，而他在这些节目里经常会使用两个第一人称代词：「僕」（ぼく）与「俺」（おれ）。在当前这个时点（采样范围 2012 年以后，也就是他年满三十岁后），他通常会在比较正式的访谈节目里使用「僕」，而在和团内成员互动的时候使用「俺」。考虑到日语复杂而精细的人称代词和敬语（honourifics）系统，这两个第一人称代词对于他这个年龄段的男性日语母语者是非常普遍而合适的：当与年龄及工作上的长辈说话时，「僕」可以用来表现自己的谦逊和对对方的敬意，而「俺」可以用在与同龄人以及晚辈的对话中，不仅可以表现一定的亲近感，也相对强调了男性的身份。这方面的详细分析可以参见日语敬语与人称研究元祖级的文章—— Sachiko Ide 的 <a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.sciencedirect.com/science/article/pii/0024384182900092" rel="nofollow noreferrer" target="_blank">Japanese sociolinguistics politeness and women's language<i class="icon-external"></i></a> 。<br /></p><blockquote><p>「僕」的使用：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av926094/" rel="nofollow noreferrer" target="_blank">【Alive字幕】岚 MS 131129 全场cut【修复】<i class="icon-external"></i></a>， 3'34" 起，对谈者是节目司会著名艺人森田一义（タモリ）；<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av3498597/" rel="nofollow noreferrer" target="_blank">【Alive】第66届 NHK红白歌合战 岚cut （15.12.31）<i class="icon-external"></i></a>（本视频需要登录观看）， 12'32" 起，场合是 NHK 的红白歌会，他作为特别企划的司会 / 解说出场，对谈者是红白的三位司会绫濑遥、井之原快彦和黑柳彻子，话筒收音炸了所以不是很清楚。<br /></p><p>「俺」的使用：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av3122149/" rel="nofollow noreferrer" target="_blank">【ARASHI】【字】Japonism AraJapo Talk【Aloha字幕组】<i class="icon-external"></i></a>， 8'43" 起。</p></blockquote><p>正因为有了这样的心理预设，所以那一晚我在看 News Zero 的时候真的是猝不及防地被樱井先生使用的第三种第一人称代词「私」（わたし）惊得跳起来；他不仅在之前录制好的イチメン的解说词里用到了这个代词，在节目进行过程的实时解说里也同样自然地用到了这个代词。与之前提到的两个人称代词相比，「私」是一个正式程度相对更高的代词，并不特别强调使用者的性别（但平日女性更倾向于使用）。由于之前在红白歌会上他作为企划司会时使用的代词是「僕」，而红白的正式程度已经算是很高的了，所以我在听到这个用法之前并没有期望到他会使用更正式的代词。</p><p>而在看完那期 News Zero 的第二天，我又找到了一段让我更加坐不住的录音：那是 2014 年他和其他团内成员一起为日航国际航班录制的一段机上音乐节目。那一档节目充分反映了日语第一人称代词的复杂特征，而在节目开场，当另外几位成员使用「私」（わたし）这个代词的时候，他所使用的代词则是更为正式的「私」（わたくし）。作为「私」的正训，わたくし在日常语言中使用的比例明显低于常用的わたし：我这里并没有找到合适的口语语料库，但是能够接入书面语的平衡语料库（<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.kotonoha.gr.jp/shonagon/" rel="nofollow noreferrer" target="_blank">KOTONOHA「現代日本語書き言葉均衡コーパス」　少納言<i class="icon-external"></i></a>）；在这个一亿零五百万词的语料库里，搜索「わたくし」能够返回 1906 个结果，而搜索「わたし」则会返回 35322 个结果（这里不包括实际上写为「私」的用法），两者的常用程度显而易见。如果查阅一些日语学习的指南或者百科的话，一般的说法是わたくし是日语最为正式的第一人称代词之一，目前通常由皇族成员及社会地位较高的人士使用。</p><blockquote><p> 「私」（わたし）的使用：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av3945942/" rel="nofollow noreferrer" target="_blank">[双语]【樱井翔贴吧】160222News Zero 樱井主播cut<i class="icon-external"></i></a>，2'07" 起是预录好的 VTR 解说， 9'26" 起是实时解说。就语料的采集而言，实时解说能够更好地反映出说者对于语境的把握。</p><p>（在此对比一则「僕」的使用：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av2424282/index_9.html" rel="nofollow noreferrer" target="_blank">【嵐 ARASHI】NEWS ZERO 樱井翔cut 2006 合集(9)<i class="icon-external"></i></a>， 8'59" 起。作为十年前的イチメン栏目的开场，可以明显看出来这里是设定好的套语，但是多少可以反映出在早期的 News Zero 里他对于人称代词的选用。我目前还在收集同一时期在 News Zero 里出现的实时解说的第一人称代词。）</p><p> 「私」（わたくし）的使用：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av2058703/" rel="nofollow noreferrer" target="_blank">【DYZ字幕组】JAL Special Plus「嵐 BLAST in JAL」<i class="icon-external"></i></a>， 1'54" 起。同一团体里的相叶雅纪和二宫和也在开场的时候使用的代词是「私」（わたし）。</p></blockquote><p> 如果继续寻找材料的话，会有更为有趣的情况出现。在之前我说过，当与年龄及工作上的长辈说话时，「僕」可以用来表现自己的谦逊和对对方的敬意（当然，有些时候也不一定非要限定为长辈，这里涉及到「僕」的 0 调读法和 1 调读法的区别，今天就不多说了要不我感觉说不完）；但是我们刚才也在 News Zero 的剪辑里看到了，在新闻演播室里面对摄像头的时候，我们的观察对象所采用的人称代词是「私」。那么，当出了新闻演播室、但是还和自己的同事对话的时候，会出现什么情况呢？本来我以为找不到这样的材料，结果还是碰上了。在一次由自己的团员主持的综艺节目里，樱井先生在 News Zero 里的同事作为嘉宾出现在了节目的 VTR 内，而在节目里他的第一人称代词换成了「俺」——而这一点也是我始料未及的；如果你们看上文的话我之前的猜想可是觉得他会用「僕」。</p><blockquote><p> 在此对比一则「俺」的使用：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av3230342/" rel="nofollow noreferrer" target="_blank">【ARASHI】【字】交给岚吧151114 鱼君、村尾信尚【Aloha字幕组】<i class="icon-external"></i></a>（本视频需要登录观看）， 23'30" 起，对谈 / 旁观者是 News Zero 的总主播村尾信尚以及节目的工作人员。在我能听到的范围内，节目放出的录像里和村尾先生两人对谈的时候，他并没有明确地使用第一人称代词，考虑到日语的 radical pro-drop 性质，也是很正常的事情。<br /></p></blockquote><p>那么这到底是怎么回事？作为第一人称代词，当被同一个人说出的时候，它所指的人类个体是一样的，所以就单纯的指代而言，不管是用正训的「私」还是用「俺」，其指代效果没有根本区别。那么到底是什么驱动了这样的变化？ 可能已经有人意识到了，这些话语的场合是产生变化的根本原因，而这就是我今天要谈论的内容——语境（context）。<br /></p><p>说到语用学和语言哲学，语境是一个不得不提的内容，甚至在很长一段时间里普遍认为语义学和语用学的分野就在于语境在理论体系建构里起到了多少作用（<a class="internal" href="https://www.zhihu.com/question/20029549">语义学（semantics）和语用学（pragmatics）有何区别？ - 语言学</a>）。而就「语境」这一概念的定义，在研究的历史上也是层出不穷，争论延续几十年的都有；之所以会出现不同的定义，是因为定义本身要服务于所依靠的理论，而不同的涉及语义的理论会有不同的侧重点。在现代语用学的历史里，针对语境的探讨最早可以隐约追溯到 J. L. Austin 的言语行为理论（Speech Act Theory）——只有在特定的语境下，一些特定的话语才能实现其功能，从而才有真正的「意义」，否则这些话是没有任何意义的；但是那个时候的语境的概念更多接近于说话的场合。语境真正进入语义学研究者的视野，则是因为指示（deixis）的研究。参与指示的词，由于其功能类似于指针，所以有时也被称为指针词（indexicals）；它们受到话语周围环境的影响，在指示描述不变的情况下，会产生所指内容的变化：由不同的人、在不同的时间地点，说出「我现在在这里」，虽然发出的是一样的音节，但含义却完全不同。这样的变化为语境介入语义组织提供了机会：在语义学里，我们认为语义处理的结局是一个完整的无歧义的命题，所以当我说 「我现在在这里」的时候，在实际的语义处理中，我们必须首先为「我」、「现在」和「这里」提供指示的内容，之后才能进行各部分的组合和最终命题的产出。也正是因为在这里语义被语境「绑架」了，才会有之后拉锯战一般的「指针词的研究到底属于哪一方」的争论。</p><p>那么，有没有可能把复杂的语境信息进行条文化模式化的整理、甚至把它缩减为一系列的参量（parameter）呢？学界不是没做过这样的尝试；语义学里的一个分支「二维语义」（two-dimensional semantics）就试图把语境信息压缩为一系列规则，从而解决指针词的语义问题，而其中的佼佼者就是 David Kaplan ——是的可能有人觉得这个名字眼熟，那么不妨去回顾一下<a class="internal" href="https://www.zhihu.com/question/27752019/answer/38661743">能用一个中文词语完全精确地表达（涵盖）一个英文单词的意思吗？ - Chris Xia 的回答</a>。在他的 <i>Demonstratives </i>一文里， Kaplan 就把语境信息视为一组「可以按照意图增减」的参量，而每一部分参量都为指针词提供一部分特别的信息，来帮助指针词选定在现实中的指示对象。比如说，每一个语境里至少都包括三个参量：人物、时间、地点，而它们分别用来解决「我」、「现在」和「这里」的指示。由于在之前的讨论里 Kaplan 已经确认了每一个指针词都有固定的 character （字典里可以查询到的单词含义），那么语境在这里的作用就是帮助寻找在每一个语境下都有可能变化的 content 。正如之前所说，语境用来选定指示内容的步骤需要发生在语义组合之前，所以实际上当我们还没开口说话的时候，语境就已经开始在一旁默默地提供了很多信息了。</p><p>Kaplan 自己以及他的精神上的后继者 Robert Stalnaker ，他们提供的语境分析方案是「形而上的」（metaphysical）；任何一个语境都可以被抽取以下信息，对于 Kaplan 是一套参量，而对于 Stalnaker 来说则是由一系列预设（presupposition）组成的可能世界（possible world），而整个语境里也只有这些抽取出来的规则化的信息是有用的。这对于解决指针词的性质来说很合适，但是如果作为有关语境的理论来说则丢失了很多信息，从而无法解释其他的一系列问题。尽管 Kaplan 说我们可以在需要时添加新的参量，但是有些时候语境提供的信息是无法被量化的，我们想添加也无法添加新的内容。在实际的语言应用中，语境还可以影响到言语的含义、言语的行为习惯，而在影响这些内容的时候，语境里起作用的也绝不仅仅是 Kaplan 认为可以被缩减为参量的内容。这也是语境分析另一派「认识论的」（epistemological）的阵地：我们熟悉的——或者说我经常提到的——当代语言哲学研究者，包括但不限于关联理论（Relevance Theory）旗下的 Dan Sperber 、 Deirdre Wilson 、Robyn Carston ，以及一直不太待见他们的 François Recanati 和谁都不服的我的前导师（此处略去姓名以防止爬虫），他们对于语境的解读都更接近于认识论的流派。认识论的语境的一大特征是「语境很吵」；这是我的比喻，实际上指的是语境提供了太多繁杂而没有规则也无法量化整理的信息，只有我们认识到了这些东西的存在才有可能在语义解析里使用它们，但是我们也并不知道我们到底能够认识到什么样的信息。（有关于形而上的和认识论的语境的区别，可以参见 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//books.google.co.uk/books%3Fid%3Dgcl-N7FZPA4C%26printsec%3Dfrontcover%26hl%3Dzh-CN%26source%3Dgbs_ge_summary_r%26cad%3D0%23v%3Donepage%26q%26f%3Dfalse" rel="nofollow noreferrer" target="_blank">Context: Gricean intentions vs. two-dimensional semantics<i class="icon-external"></i></a>）</p><p>比起 Kaplan 的语境，认识论的语境虽然少了很多规律，却多了很多解释各种语言现象的可能：比如说，我们可以依靠认识论的语境来解释这篇文章一开头樱井先生的第一人称代词使用，特别是他在把人称代词上升到わたし和わたくし的时候，以及在面对同一人时出现的代词切换。如果我们只把这四个人称代词看成 Kaplan 系统里的指针词，那么我们必然会失去很多重要的信息：当它们由同一个人说出来的时候，现有的参量无法提供除了「这四个词指代的都是樱井翔」以外的其他信息，我们也无法添加系统的参量来衡量及讨论为什么同一个人会使用四个不同的第一人称代词。之前我们所说的人物、时间、地点的语境参量都没有办法起到重要的作用，然而显而易见，第一人称代词的选择来自于语境，或者更确切一点，来自于说话的场合。尽管不同的场合里听众会有些许不同——比如 News Zero 、红白和日航广播面对的是不一定知道他的大众，而综艺栏目的观众几乎不可能不知道他——但是我们也看到了，即使在对谈者相同的情况下，他也会在不同的环境下进行代词的切换。对于敬语的选择，以及日常用词的选择，也会随着语体流派的变化而转变，在口语和书面中、文学作品和非文学作品之间切换（<a class="internal" href="https://www.zhihu.com/question/21554711/answer/82339771">说话和写作对语言文字的运用有什么区别？ - Chris Xia 的回答</a>），而语体流派的变化，实际上也是场合的变化，最后也应该归结为语境的变化。言语场合是对话的语境中不可或缺的一部分，而在大多数时候，它就在我们的头顶盘旋，控制着我们使用的词语。<br /></p><p>不过，不仅是第一人称代词可以受到一般语境的影响；甚至，我们再进一步，也不仅仅是词汇的选用会受到一般语境的影响。即使我们听到了同一句话，在不同的语境下，我们也可以得出不同的内涵义（implicature ，也就是「隐藏在字里行间的意思」），而在一些极端的情况下，我们甚至可以改变或者消去一些本来无法避免的外涵义（这里指的是关联理论里提到的 explicature ，可以约等于「直接表达出来的意思」，但是允许一定的语用处理）。尽管 Kaplan 的参量框架几乎一定无法解释这样的现象，我们依然可以看到语境在各种情况下无声地影响着我们对于言语的解析。在我还在理论语义学那里工作的时候，曾经在阅读过程中记录了这样一个案例，有关这个例子的详细记录和讨论，可以参照 Michiel Leezenberg 的<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//books.google.co.uk/books/about/Contexts_of_Metaphor.html%3Fid%3DNdxKIEjvRtsC%26redir_esc%3Dy" rel="nofollow noreferrer" target="_blank"> Contexts of Metaphor<i class="icon-external"></i></a> 第一章：在巴西的 Bororo 族里，有一种仪式，参与的成员都是男性，并且穿戴上附有华丽羽毛的装饰，一边跳舞一边念着<i> pa
e-do nabure </i>一类的话——这句话在当地语言里面的意思是「我们是鹦鹉」。当人类学家前去采访他们的时候，他们认为在仪式上这句话没有任何问题，他们那个时候就「是鹦鹉」。当然我们知道人不可能是鹦鹉，说人是鹦鹉要不就是隐喻要不就是扯淡，但是看到 Bororo 族的成员这么信誓旦旦，人类学家必须要找到一个方法来解释，因此这个例子就被 Emile Durkheim 和 Marcel Mauss 两人解释为「原始部落的成员无法区分人类和动物，也无法区分字面含义和隐喻含义」。这里的逻辑框架并不复杂：通常，由隐喻衍生而来的含义是无法被更改的（这也是隐喻义后来被 Robyn Carston 认为是外涵义的原因），如果有一个合适的隐喻意义的话，也并没有什么原因可以阻止说者和听者这么去解读它，所以如果一个语言使用者不接受隐喻的含义，那就一定是他有问题。然而，如果我们像之前的案例一样，把言语的特殊场合纳入考虑范围的话，「我们是鹦鹉」就可以被仪式性的语境取消其通常的外涵义，而之间的冲突就可以消失了。当且仅当在仪式上的时候，这句话才会被按照字面含义理解，作为仪式的一部分而出现，并且这样的理解也完全不影响 Bororo 族人区分人类和动物、理解字面与隐喻的能力。可以说，语境的限制对于句子的理解乃至人类活动的解释，都是极为重要的。</p><p>如果我们把语境信息的影响列出一个完整的表格、划分不同的层次，我们就会发现还有更多的语境要素在语言处理和言语含义的产出中起着静默的作用。即使言语里提供的信息不足以让我们得出一个完整的命题，我们也可以从语境中借入一些信息：我们可以从记忆里获得信息，与之前的记忆产生共鸣，从而理解反讽与玩笑；我们可以从前几秒说过的上文里获得信息，从而知道「她是一棵仙人掌」到底是说「她脾气坏」还是「她喝水少」；我们可以从我们身处的客观环境里获得信息，从阅读的文章的风格里获得信息，从我们熟悉的文化与习惯中获得信息，诸如此类不一而足。如果把一句话剥离语境单独加以审视，有些时候会发现这句话让人迷惑，甚至会误导到别人；事实上，一些媒体和自媒体会靠这样的手段哗众取宠引导舆论，而迷妹们的一些脑洞也来自于此，我相信大家都很熟悉了。这都是因为语境在起着安静而重要的作用：当我们彼此交谈的时候，不仅仅是我们在说话——语境也在无声地说着它自己的故事呢，只是你听不见。</p><br /><p>那么，有关于你听不见却一直在说话的语境的故事，到这里也就结束了。作为初回限定特典，最后再附送一个听不见的语境的小例子，照样也来自樱井先生：在他和有吉弘行二人主持的冠名综艺节目《樱井有吉危险夜会》里，他在外景接受节目组成员访谈的时候，竟然使用了女性化的第一人称「あたし」。为什么一位三十代的东京男性会突然使用女性的第一人称呢？看了视频和弹幕（因为弹幕提供了重要的信息），了解了前后的语境，你就知道了。</p><blockquote><p>「あたし」的使用：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bilibili.com/video/av3071585/" rel="nofollow noreferrer" target="_blank">【ARASHI】【字】樱井翔的夜会in宫城 151015 相叶雅纪&amp;二宫和也【Aloha字幕组】<i class="icon-external"></i></a>， 13'19" 起。</p></blockquote><p>其他的参考文献：</p><p><a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//books.google.co.uk/books%3Fid%3DcQOQv7bOD_UC%26printsec%3Dfrontcover%26hl%3Dzh-CN%23v%3Donepage%26q%26f%3Dfalse" rel="nofollow noreferrer" target="_blank">Carston, Robyn. 2002. Thoughts and Utterances: The Pragmatics of Explicit Communication (Oxford: Blackwell)<i class="icon-external"></i></a><br /></p><p>Durkheim, Emile, and Marcel Mauss.
1963. <i>Primitive Classification</i>, trans. by Rodney Needham (Routledge) <br /></p><p>Kaplan,
David. 1989. ‘Demonstratives’, in <i>Themes from Kaplan</i>, ed. by Joseph
Almog, John Perry and Howard Wettstein (Oxford: Oxford University Press), pp.
481–563 </p><p>Stalnaker, Robert. 1999. <i>Context
and content essays on intentionality in speech and thought</i> (Oxford; New
York: Oxford University Press)</p><p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//plato.stanford.edu/entries/two-dimensional-semantics/" rel="nofollow noreferrer" target="_blank">Two-Dimensional Semantics (Stanford Encyclopedia of Philosophy)<i class="icon-external"></i></a></p><p>本文有关认识论的语境的讨论部分来自 Xia,
Mengying. 2015. ‘Layered Context in the Interpretation of Metaphor’
(unpublished parallel presentation presented at the 14th International
Pragmatics Conference, Antwerp, Belgium) 。<br /></p><p>特别感谢之前组的小师妹 Rodanthi 推了我一把，我才能真正注意到这个问题并且收集了这些资料。也特别感谢 <a class="member_mention" href="https://www.zhihu.com/people/65fe30c88dcf9610f1b04af411f0de62">@Rockie Yang</a> 陪我抽风听 JAL 的机上广播以及听我碎碎念有关樱井先生的第一人称代词用法，虽然我还是没能成功把他带成一个红担。</p><p>最后的最后，打一发广告：<a class="internal" href="https://www.zhihu.com/question/27245841/answer/85540737">怎么评价樱井翔？ - Chris Xia 的回答</a>。 </p><p>Chris</p><p>07/03/2016 </p><p>————</p><p>09/03/2016  补充</p><p>首先是之前在回答区里给其他知友的回复，这里贴一下方便大家看。基本上这个回复里已经包括了在分层语境下能做出的第一人称代词的所有分析，所以如果有人还是不清楚「这五个人称代词是怎么选择的」，看这个框架就可以了。</p><blockquote>是这样的！我之所以列出来这些，实际上就是为了提出语境的层次以及它们对话语的分层覆盖的影响，只有一层层叠起来才能意识到为什么会用这个为什么不会用这个。对于 sho 酱目前的年龄和身份来说，ぼく和おれ应该是常态，而选择ぼく和おれ的基准通常是下位语境（也就是我所说的 Kaplan 的系统，特别是对谈人物的参量）。但是一旦上位语境参与活动，事情就变得复杂起来了。<br />先说わたし：我一开始之所以惊讶是因为他在红白做司会的时候用到的是ぼく而这里换成了わたし（我争取能找到其他场的 cut ；之前在 62 届唱《ふるさと》的时候那段很明显准备过的开场语里用的是ぼくたち，按理说赈灾歌曲在场合上的正式程度应该不亚于 Zero 才是），等到后面发现 06 年的 Zero 的准备好的套语用的是ぼく的时候我当时就更迷糊了——不过后来理清了。他对于上位语境的认知是可以随着年龄转变的。<br />然后再说わたくし和わたし的对比： JAL 那个 talk 听得我「浑身蛋碎」一点都不夸张， aiba 酱在四分钟里连续切了三个第一人称搞得我都慌了。我也是一开始没有料到 JAL 的场合竟然会比 Zero 更正式，因为 Zero 已经很正式了；但是需要注意的是 JAL 那里只在自我介绍里所有人都突然正经起来了，等到后面扯淡的时候大家又回到了通常状态（可以比照 Japonism 的盘附），所以 sho 酱那昙花一现的わたくし也真是让我惊艳了好久……<br />最后说一下附送的あたし——是的那个是来捣乱的！あたし是之前夜会里他去新宿人妖街出外景的时候说的，毕竟是人妖街，开开玩笑也很正常，而在宫城则是因为提到了类似的话题于是又重新重复了一遍当时的话，所以是 echoic use 的一种——此时之前的知识和记忆作为上位语境内容再次出现，限定他使用了あたし。他对于这个あたし的用法是自觉的：在说完以后立刻吐槽自己娘娘腔来着，也是萌得没谁了……<br />那么在这个框架下，我们可以认为，在限定第一人称方面，需要回声的记忆内容高于基于年龄的自我认知高于上位语境（说话的场合）高于下位语境（人物、时间、物理地点）。这就是把「认识论的」语境分层处理的一个方法。在平时讨论的时候（比如我之前的那个会议报告里），我们顶多会讨论到上位和下位语境，而 sho 酱的第一人称代词用法却为我们提供了更丰富的资料。在这里再认真地夸一下 sho 酱：以他作为参考资料是可以得出这样的分层的，但是如果换成 aiba 酱或者松润，在一些材料的处理上就可能会出现偏差。考虑到目前的框架下我们讨论的是理想说者和理想听者（这不是我的问题，这实际上是我前导师的问题，所以我觉得我前导师在理论的某些方面有些危险），那么樱井先生不就是一个很理想的说者吗（被拖走</blockquote><p>就在这篇专栏发出之后一天，微博上有个同样是红担的友邻给我转发了网友翻译的 32 岁的樱井先生写给 17 岁的自己的信以及相关的采访，而我刚好就在那里找到了我需要的东西。采访里面樱井先生提到，「在两年前（也就是 30 岁之后），开始有意识地转变自己的第一人称使用，原因可能与经常参加新闻播报活动有关」。</p><p>这也就刚好回到了我之前所说的「基于年龄的自我认知」这一点上：如何解释 06 年的 News Zero 和十年之后的 News Zero 里他在第一人称上的变化呢？如何解释 62 届红白（ 2011 年底，樱井先生时年 29 岁）上那种本来不应该存在的「错位」呢？不管是套语还是实时解说都发生了变化，说明这应该不是偶然出现的现象，而是受到说者本身控制的。如果我们认为 News Zero 始终是稳定的（当然，这十年里这个节目的风格的确在变得越来越严肃，不过对于一档稳定的新闻节目来说这样的转变程度可以忽略不计），那么最大的原因自然要从樱井先生本身去寻找，而在此期间，年龄的变化则是显而易见的，自然要优先考虑。</p><p>当时在写这篇专栏的英文版的时候，我还没有看到那篇采访，所以就只能基于理论的框架做了一个推测：由于年龄的变化，在重新构建自我认知的时候，也重新对上位语境的重要程度进行划分，甚至把特定的上位语境加入第一人称代词选择的条件里，这些融合在一起也就形成了我在正文里所说的现象。这些因素是分阶段产生影响的，甚至可以用流程图来实现，而我们完全可以把看似毫无规则的「认识论的」语境分出层次来讨论语言在其中受到的影响，比起「毫无规则」来说，这个层次已经有一个系统的雏形，改善很多了。但是归根到底，语言哲学的理论框架讨论的大多是理想态，特别是我在一年之前提出分层语境的时候，所依托的理论框架更是强调「模范的说者」和「模范的听者」（相比关联理论的「人类」来说，这个限定的内容可太多了，甚至对于「模范」都没有一个限定），而我们都知道这个世界上根本就没有那么多真正的理性人。</p><p>我能想到这些。我唯一没想到的是，这一回分析里面对的，还真的是一个理性人。虽然这丝毫不能拯救我对一些语言哲学理论框架的偏见，但是这个理性人的存在，却是真真正正地又把我撼动了一次，所以我现在才会把这一点内容补上。</p><blockquote>我：「我要不要和小师妹说，松润的第一人称代词是乱来的。虽然不想泼她冷水，可是我有那么一点想看我前导师吃鳖呀。」<br /><a class="member_mention" href="https://www.zhihu.com/people/65fe30c88dcf9610f1b04af411f0de62">@Rockie Yang</a> ：「一般人还是不会这样的吧……」<br />我：「有可能就是这样的，上位语境约束对于且仅对于『理性人』是起作用的，要不我无法解释为什么松润在 Music Station 上用的某一个代词会比红白更郑重，而马上又下降了。」<br /><a class="member_mention" href="https://www.zhihu.com/people/65fe30c88dcf9610f1b04af411f0de62">@Rockie Yang</a> ：「所以，你说樱井是什么人。」<br />我：「智人。」<br /><a class="member_mention" href="https://www.zhihu.com/people/65fe30c88dcf9610f1b04af411f0de62">@Rockie Yang</a> ：「……那么大野呢。」<br />我：「智人。」</blockquote><p>Chris</p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/aiyinxingshu?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Chris Xia</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
有哪些现代化建设与古遗迹和谐并存的城市景观？
这个问题的潜台词是：现代化与古迹是对立的两面。<br />但是“现代化”到底应该如何定义，是不是只有钢筋水泥的摩天大楼才能够称得上是现代化？<br />先从城市尺度来说。<br />一个最好的例证就是罗马。大家都知道罗马是一个古迹遍地的城市，但同时，没有人能够否认罗马是个现代的城市。现代化都市的卫生设施、电网、网络、交通，罗马一应俱全。如果与看罗马20世纪初的规划，会发现罗马其实也经历了大大小小的许多改造，很多路被拓宽，有一些建筑被拆除，在外围也建立了新区。与奥斯曼改造巴黎不同的是，罗马的现代化改造更为渐进，更为审慎，由此才很好的保留了现代与历史合谐的景观。<br /><p><img src="https://pic2.zhimg.com/0df99dc8b0fdeba596d254e4f8e65f61_b.png?rss" /></p>（图中黑色部分都是被拓宽的街道。对罗马的现代化感兴趣的童鞋可以看一下关于 Gustavo Giovannoli 的东西）<br /><br />另一个例子是阿姆斯特丹。这个城市依靠运河发展起来，今天不仅保留了历史河道，船只可以通行，现代的交通方式，汽车、自行车、行人都能够在这个城市中和谐相处。<br /><p><img src="https://pic3.zhimg.com/5373d20b8a25c43e88a533a9bc31fa0a_b.png?rss" /></p><br />再来说单体建筑。<br />现代建筑教育强调与环境协调么？这点我表示非常怀疑。仿佛从《Fountainhead》这本非建筑师意淫建筑的小说开始，建筑师的个人独创力，和打破传统的魄力就成了人们对建筑的最高想象和追求。但是不是所有的建筑都要像鸟巢大裤衩，不是所有的建筑师都要成为 starchitect，如何设计一个与环境协调、尊重历史文脉的建筑，才是大多数建筑师应该做的事情。现在这件事竟然是要靠文保从业者去呼吁，我个人是觉得非常可怕。<br />回到正题。<br />国外许多历史保护区对于新建建筑的外观都有比较严格的规定。主要是材料、颜色和尺度。但新建建筑绝！对！不！是！仿！古！建！筑！与历史景观的协调绝对不是要造的跟古时候一模一样。每个时代的材料、技术和审美都不同，现代建筑必定是现代的。下面看几个栗子。<br /><br />1. 费城的Society Hill历史保护区 大部分是18 19世纪的Rowhouse。下面这三个新的建筑，都很好的融入了历史环境之中。<br /><p><img src="https://pic1.zhimg.com/0951f538d8c59b34679517b4bb36db40_b.png?rss" /></p><p><img src="https://pic3.zhimg.com/41bd28a2647b8b05fea88ae296a378ae_b.png?rss" /></p><p><img src="https://pic2.zhimg.com/fecd717e1c765669ef4bfdca3867072d_b.png?rss" /></p>来源：googlemap streetview<br />这些设计基本的协调感主要来自于：1. 层高与历史建筑一致 2. 材料虽然是现代的，但在质感颜色上一致 3. 在门窗和其它一些细节上与历史建筑有所呼应。<br /><br />2. English Heritage 每年也会评出与历史环境协调得好的设计，相比上面的设计更为大胆。随便上几张图大家感受一下：<br /><p><img src="https://pic4.zhimg.com/1f699e559ac355684b74859a4f8b424f_b.png?rss" /></p><br /><p><img src="https://pic4.zhimg.com/829f6728a9f524723a302cd76d59df0b_b.png?rss" /></p>来源：New Design in Historic Settings, Historic Alba<br /><br />3. 还有一些是更加大手笔的的，通过强烈对比来达到一种不同的协调。北欧人在这方面似乎比较在行<br />比如阿姆斯特丹国家博物馆的这个大浴缸。褒贬不一，不过我个人还挺喜欢。<br /><p><img src="https://pic1.zhimg.com/19adbae63f67ad38514e912b143f3d44_b.png?rss" /></p>还有费城30街火车站后面这个玻璃多边体，我也挺喜欢<br /><p><img src="https://pic4.zhimg.com/850e6998aa23986848b1445cffb43103_b.png?rss" /></p><br />上面主要是从外观上粗浅地回答了一下。其实现代与历史和谐并存，又岂止建筑外观？对历史的遗迹的保留折射的是我们的历史观。没有过去的人也同样没有未来。<br /><p><img src="https://pic2.zhimg.com/f4a2f94ced7bbc5b757da39cab5bb6e1_b.png?rss" /></p>Reichstag, Berlin. Source: Google<br />（德国柏林大厦内至今保留着苏联军队占领时留下的涂鸦，其中不乏谩骂）
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/40900121/answer/88822793?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40900121/answer/88822793?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">25 个回答，查看全部。</a><br />
美国是否也存在「地方政府竞争」？和中国的区别在哪里？
<br /><br />其实对于地方之间竞争的研究，我想还是美国更早一点。因为中国和美国不同的政治制度，导致了美国的「地方」之间竞争更为自然。<br /><br />美国是联邦制的国家，意味着每个州都有独立的一套财政、法律体制。而这些都可以被用作竞争的工具。中国是自上而下的体制，意味着留给地方政府竞争的空间不大，因为地方能用的工具不多。<br /><br />当然，美国的州看似工具多，但是决策的成本非常高。而中国的地方政府，决策成本可能低的吓人。而且，尽管地方政府的工具少，但还是有很多的。比如中国的土地是归地方政府管的，土地出让本身就是一个很好的竞争工具。而对于经常研究的税率而言，虽然地方政府没办法决定税率，但是地方政府却可以选择执法力度。<br /><br />为什么要竞争呢？因为生产要素是流动的。除了土地不能流动之外，劳动力、资本都是可以流动的。劳动力可能为了避免比较高的税而选择去其他的州工作，也有可能因为更好的社会福利离开自己所在的州，而资本也可能出于税收、投资环境的原因离开这个州，甚至是离开这个国家。我印象中美国有一些大企业已经因为税收问题，通过资本运作的方式变成加拿大企业了。具体新闻我不查了。<br /><br />比较经典的一篇从理论上研究财政竞争的文献可以参考：Wildasin D E. Nash equilibria in models of fiscal competition[J]. Journal of public economics, 1988, 35(2): 229-240.<br /><br />另外，随着空间计量的发展，有很多文献致力于使用这个工具检验地方竞争。中国的类似研究应该都是follow国外的这些研究来的，比如：<br /><ol><li>Bordignon M, Cerniglia F, Revelli F. In search of yardstick competition: a spatial analysis of Italian municipality property tax setting[J]. Journal of Urban Economics, 2003, 54(2): 199-217.<br /></li><li>Edmark K, Ågren H. Identifying strategic interactions in Swedish local income tax policies[J]. Journal of Urban Economics, 2008, 63(3): 849-857.<br /></li><li>Revelli F. Performance rating and yardstick competition in social service provision[J]. Journal of Public Economics, 2006, 90(3): 459-475.<br /></li><li>Revelli F. Reaction or interaction? Spatial process identification in multi-tiered government structures[J]. Journal of Urban economics, 2003, 53(1): 29-53.</li></ol><br />此外，也有大量文献讨论这些竞争的优缺点，比如：<br />Wilson J D, Wildasin D E. Capital tax competition: bane or boon[J]. Journal of public economics, 2004, 88(6): 1065-1091.<br /><br />事实上目前似乎没有任何证据显示在我国让地方政府竞争是中央政府的策略，在美国更不是。所以『以地方政府竞争促进发展』，个人持保留意见。而且正如Wilson和Wildasin(2004)提到的，从整个社会的福利角度来讲，这种竞争有可能是有害的。<br /><br />题主的问题是公共经济学的一大块文献，我并不是特别熟悉，希望做这方面研究的知友继续补充。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/sijichun?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">慧航</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40740281/answer/89751153?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">10 个回答，查看全部。</a><br />
广东连续三年止步半决赛，阿联时代开始告别？
<img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/b76c121760365298413fcb54dd2d9f61_b.png" width="700" /><p>文 | <a class="member_mention" href="https://www.zhihu.com/people/fa61b0e8aeb6a28436c77ff929b6983c">@王琦</a></p><p>96-105，大比分1-3。<br />广东又一次输在了总决赛门口。</p><p>对于易建联而言，这样的感觉分外熟悉。除了2013年山东异军突起打掉北京的那年，重归CBA的易建联再也没突破一次半决赛，连续三年。<br /></p><p>每次到了半决赛，易建联打掉了对方所有的内线，却也抽干了自己，依然赢不下比赛。是的，当时就是那么悲壮。<br /></p><p><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/0180be68cc327a76782372f448bac1b4_b.png" width="683" /><i>昨晚与辽宁的一役，辽宁内线兰多夫6犯、韩德君6犯，李晓旭4犯；第三节广东陷于落后的不利境地时，易建联一个人造成了辽宁内线的四次犯规。</i></p><p>我从来就不知道如何形容阿联。</p><p>雅典奥运会时，阿联胆大包天的持球突进，发现自己没有能力做些什么的时候，拿住球呆住了。但他很快反应过来，把球分了出去。<br /></p><p>北京奥运会的时候，王治郅已经回到中国，人们讨论的大都是“姚明王治郅”组合能不能突破八强。</p><p>后来，姚明退役了，中国男篮一泻千里。人们印象里只有那次对大郅的全队膜拜，剩下的就是被台湾20分击败这些惨剧。<br /></p><p>这种非领袖感觉，体现在每一个时代。<br /></p><p>去美国前，阿联没做过领袖，去美国后，阿联是个角色球员，回到国内。阿联拿遍了各种奖项，却没有能力夺取一座真正属于自己的总冠军。<br /></p><p>北京四年三次冠军，两次是踩过了阿联带领的广东。<br />在纸面阵容不相上下的情况下，阿联输了太多次。</p><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/27fa7de5e6aa802b5217497309421ae4_b.png" width="563" /><p><i>去年CBA季后赛半决赛中，易建联场均30分18篮板。最后一场31分24篮板，在威尔-拜纳姆伤停的情况下，站着死，105-107被淘汰。</i></p><p>这些怪责易建联吗？<br />不好说。</p><p>是的，他得分很多，他防守很强。如今褪下聚光灯的易建联没什么黑点、无可挑剔，可是易建联没有展现出什么统治力。<br /></p><p>昨天关键的第四节，阿联连续投丢三球，广东靠着周鹏追到85-86后，易建联和周湛东连续两次传球失误，辽宁一波12-1，比赛结束了。<br /></p><p>和去年被淘汰的第四节很像，追的差不多了，然后迪奥古扣丢一个反超比分的扣篮——一口气断了，一泻千里，输了。<br /></p><p>回忆一下，这个系列赛，广东客场啃下辽宁的那一场也是周鹏的干拔硬投三分，不是易建联。</p><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/f2564fcfff5eb2c55e84e1fb2e991533_b.png" width="699" /><p><i>周鹏在系列赛第三场最后，底角三分命中</i><br /></p><p>阿联体能近几年日益衰退，却依然不忘疯狂的爆扣。以至于还不到三十岁，教练就得注意合理调配他的体能。他注定是广东的名宿，却又无从寻找一个标志性的高光时刻——没有杜锋掀翻八一的杀气，没有朱芳雨王仕鹏当年统治联盟的霸气。</p><p>易建联似乎总是一副好人的模样，即使欺负不了他，你也不用太过害怕，他不会突然跳起来吃了你。<br /></p><p>十几年前，阿联打不过八一的时候，那股不甘心的眼神我依然牢记。可惜的是，阿联还是那个阿联，阿联还是那么不甘。<br /></p><p>毋庸置疑的是，阿联的冠军，永远不能缺乏的就是一个大哥压阵。这个大哥，大郅姚明们能当，朱芳雨王仕鹏能当，郭艾伦能当，周琦能当，可惜现在的广东无人能当。<br /></p><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/c724493bf8f865b3cc0193e826fc9802_b.png" width="549" /><p>昨晚的比赛异常惨烈，阿联拼掉了韩德君，兰多夫，李晓旭。广东主场又一次响起了谭咏麟的那首粤语老歌。</p><p>可惜的是，对于广东队而言，最重要的是他必须尽可能留在场上带领大家，而不是他兑掉多少对手。哪怕对方一个内线球员都没下去，也都一次犯规都没有，他们打得过一个活蹦乱跳的阿联吗？<br /></p><p><strong>阿联兢兢业业，可惜他并不是大家期望的那个阿联。</strong><br /></p><p>大家对他期望多高也不过分，但也没法给与太高期望。毕竟，阿联年轻时是中锋盛世，阿联不年轻后又遭遇郭艾伦等新生代巨星。阿联那几年，甚至可说是中国男篮自1996年来的最低谷。<br /></p><p>所以，阿联的时代，还是渐渐的终结了。尽管年年都可能卷土重来，还是年年差一口气。今年则是全面溃败。<br /></p><p>那首我一直听不懂的谭咏麟名曲就大略写写，纪念阿联时代的逝去。<br /></p><img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/d2d7b35da541536e4e4c45a19c654ed9_b.png" width="548" /><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/f78c5285a34483ea8c6dfee25de7dc63_b.png" width="780" /><blockquote><strong>我爱你青春年少的脸，<br /></strong><strong>更爱你备受摧残的面容。</strong></blockquote><p>——杜拉斯《情人》<br /></p><p>28岁的易建联，讲不出再见。</p><br /><p>来源：<a class=" wrap external" href="https://link.zhihu.com/?target=hhttps%3A//mp.weixin.qq.com/s%3F__biz%3DMzA5MTM1MjIwOA%3D%3D%26mid%3D405319434%26idx%3D1%26sn%3Dec2ad6ef3b6be34c254fc24f75501620%26scene%3D1%26srcid%3D03055aQb3UGHjJeR7gHYDn1U%26key%3D710a5d99946419d94c9d6f7880157462b097b2cc2be6c7a36bbf746a4fa0d661a3d6f1dd4863cd154295e81b8153550a%26ascene%3D0%26uin%3DMjExMTMzNDMyMA%253D%253D%26devicetype%3DiMac%2BMacBookPro11%252C1%2BOSX%2BOSX%2B10.11.3%2Bbuild%2815D21%29%26version%3D11020201%26pass_ticket%3DOtdXpD%252FER%252B6B2ys39wUfEXXYcggtcJjyTSvw84eXO%252BiKmdjARb23X7CeiD5Se8Uc" rel="nofollow noreferrer" target="_blank">28岁的易建联，讲不出再见<i class="icon-external"></i></a><br />微博：<a class="internal" href="https://link.zhihu.com/?target=http%3A//weibo.com/u/3972016138%3Ffrom%3Dfeed%26loc%3Dnickname">洋葱圈体育社区</a><br />微信：洋葱圈（ycq_sponia）</p><br /><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/274f05d2db617eca68465f94aae297cf_b.png" width="640" />
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/Dabbler?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Sim Chen</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
如何看待中联重科要约收购特雷克斯？
<p>2016年1月26日，以生产起重机和建筑机械为特色的美国上市公司特雷克斯(Terex)宣布，<strong>其收到了来自中国的中联重科公司的一份“不请自来”的非约束性报价，该报价以每股30美元的现金收购特雷克斯公司（溢价40%以上），为该公司估值约33亿美元</strong>。值得注意的是，在2015年8月11日，特雷克斯就已经宣布了和芬兰的科尼集团(konecranes)的合并交易，该合并交易以全股票进行。<strong>合并完成后，特雷克斯原股东将持有合并后公司60%股权；科尼集团原股东将持有合并后公司40%的股权</strong>。 </p><br /><p><strong>话说合并这两家公司都是业内杠杠的公司，科尼集团是全球最大的起重机制造商和起重机维修服务提供商</strong>。其产品主要是各类起重机，业务在全球50多个国家， 600个分支机构，全球雇员超过11,800名。<strong>特雷克斯是一家从事吊装与物料搬运的设备制造企业，在其所服务的市场中，特雷克斯近80%的产品在行业中排全球前三名内；公司业务遍及全球（北美40%，欧洲30%，其他地区30%）</strong>，其中，销售收入的5%-10%来自于中国对于这种类型的合并，<strong>在行业内叫做MOE（Merger Of  Equals）</strong>，两个几乎体量相当的大公司的合并（杜邦和陶氏化学的合并也可以叫做MOE，但不同的是，两家合并之后将分拆为三个独立不同公司上市）。 </p><br /><p>根据中联重科自己的说法，<strong>这项交易对于中联重科的战略转型、产业链的延伸和升级、产能及制造成本的国际大协同，是一个很好的机会</strong>。合并后的企业，产品链将会更长，覆盖面更广。更重要的是，该项交易能加速中联重科公司全球化战略的落地，同时也将增厚其业绩，并给公司带来特雷克斯的优秀管理团队。<strong>从进展看，中联重科已经获取了国家相关部门的境外收购项目信息报告确认函，也获得了有关金融机构的融资支持确定函 – 40%自有资金，60%外部融资</strong>。 </p><br /><p>在中联重科向特雷克斯提交的报价宣布不久，<strong>科尼集团的CEO就开始出招攻击中联重科</strong>：“如果你们去看看这个中国买家的资产负债表，这个中国买家是<strong>无法有足够的自有资金来进行收购</strong>。所以，问题在于这家中国公司<strong>将从哪里、以什么样的条件获得融资。如果他们从中国政府获得优惠的融资条件的话，美国政府是不会容忍的</strong>。这家中国公司看来替中国军方干过不少活儿，也卷入了中国的不少核项目，而且在美国制裁伊朗时期和伊朗还打过交道。“ </p><br /><p><strong>外国的竞购对手抹黑中国买家，一般从如下几个方面：第一，你的钱是政府出的，你不是商业实体，你不是商业目的，你怀着中国政府国家意图来的；第二，你会带来安全威胁，政府应当对你实行严格审查；第三，你是土豪，你除了钱，啥也没有，你不懂管理，不懂公司文化建设，你会解雇工人，影响社区安定团结等等等；第四，虽然你钱多，但是你交易的确定性和拖的时间长啊！</strong></p><br /><p>面对对手抹黑，中联重科倒是继续加紧和特雷克斯公司的谈判工作，以希望能改变特雷克斯董事会的推荐。 </p><br /><p>鉴于前面有仙童半导体拒绝华润牵头的中国买家团的更高报价而继续选择确定性更高的美国买家的先例，<strong>那么，对于不请自来的中联重科来说，在这次交易中，胜算几何呢？如下几个因素需要予以考虑：</strong></p><br /><p><strong>首先，对中联重科的一个利好是特雷克斯已经宣布暂停和科尼集团的并购整合工作，将更多精力集中到提升运营效率和股东价值上</strong> – 当然，也可以看作两家公司的整合工作已经告一段落，中联重科应当加紧利用这一有利时机； </p><br /><p><strong>其次，特雷克斯董事会仍然维持对和科尼集团合并交易的推荐</strong>，意味着在现有的情况下，特雷克斯董事会仍然<strong>不认为中联重科的报价相比科尼集团已经构成一个更优报价</strong>； </p><br /><p>第三，中联重科报价要构成更优报价，<strong>恐怕要在分手费、政府审批获取义务、交易保护条款、管理层和员工留任、整合安排等方面做出更大的让步，甚至还要考虑进一步提升报价</strong>； </p><br /><p>第四，<strong>决定中联重科能否胜出一个关键因素还在于时间</strong>：截至2016年1月，特雷克斯和科尼集团的合并交易仅取得了印度和土耳其的反垄断审批，而主要的美国和欧盟的反垄断审批尚未获得。<strong>如果特雷克斯和科尼集团的合并交易在未来一个不长时间内能取得美国和欧盟反垄断审批之后，交易的确定性和交易的时间上将对中联重科的可能交易有较大优势，特雷克斯的董事会要改而推荐中联重科的交易将变得越发困难 – 中联重科如果要赢得交易，必须加紧推进和特雷克斯的交易谈判，尽快赢得芳心。</strong></p><br /><p>第五，对于中联重科来说，如果在上述的第三点和第四点能有突破，最后赢得交易也不是不可能 – 虽然这并不是一件轻而易举就能够做到的事情，<strong>需要更高的技巧，愿意承担更多更大风险的决心，甚至更多的金钱</strong>！ </p><br /><p>总之，<strong>在评价一个报价是否是构成更优的报价时，除了钱之外，交易确定性和完成的时间是目标公司董事会所需要考虑的重要因素。</strong></p><br /><p><strong>为什么？用一句通俗的话来说，除了钱之外，大家还要看颜值啊！</strong></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/Uncleleslie?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Zhang Leslie</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40018610/answer/89429907?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">4 个回答，查看全部。</a><br />
全球摄影史上，有哪些值得推荐的摄影师及其摄影作品？
<br /><br />全球范围内，我很喜欢一个摄影师，叫马克.吕布，我给大家讲一讲他和<b>他与中国</b>的故事。<br /><br /><b>第一回  涉世未深遇大师  彻悟奥义名作成</b><br /><br />话说虎牢关下，诸侯云集，天下豪杰，奉先神威。两军阵前，吕布身着白色polo衫，身披兽面连环摄影袋，手持徕卡M6，坐下雪弗兰迈瑞宝。<br /><br />各位看官问了，吕布何许人也？<br /><br />吕布，字马克，法国人也，马格南群雄之一，世界级纪实摄影大师。<br /><br />人中吕布，马中志玲，无人不知，无人不晓。<br /><br /><p><img src="https://pic4.zhimg.com/8ed78d754cc8358959dc0cbaca924f6f_b.jpg?rss" /></p><br />（马克·吕布雄姿英发）<br /><br /><p>当然这是后话，诚然吕布实属大器晚成那类，年过三十才在摄坛起步，那年、恩师布列松在巴黎山下，送予他一个小巧玲珑的取景器。</p><br /><p>这取景器表面与它无异，实则暗藏玄机，话表吕布得了此宝，怡然踊跃，对恩师布列松前作礼启谢，即抽身，捻着取景器，挂个相机，纵起双腿，径自走到巴黎铁塔之下，抬头一望，这座艾弗尔巨山高耸入云，高约千尺，直插云霄。</p><br /><p>吕布二话没说，撸起双袖，自顾攀了上去。</p><br /><br /><p><img src="https://pic2.zhimg.com/c81947d283fa2d5f71ced70db57c31f1_b.jpg?rss" /></p><br />（马克·吕布为恩师布列松所拍摄的家庭照，要知道，布列松是出名的最恨被人拍照的）<br /><br /><p>两柱香烧完，吕布依然不见塔顶，但已然汗流浃背，正想停在塔腰上歇息一番，忽见一道士-----头戴遮阳盔，映日光明；身挂工装袍，迎风飘荡。下穿着背带裤，紧勒皮条；手执一柄沾满锋利的拂尘，在天地中狂舞。</p><br /><p>凡被拂尘扫过之处，皆蒙上一层油漆之色，吕布心中暗惊，这厮略屌啊！</p><br /><p>这吕布赶忙拔出腰间的相机，正准备按下快门，忽想起自己的法宝，遂掏出师父赠予的那枚取景器，一双铜眼瞪的斗大，定睛往里一瞧。</p><br /><p><img src="https://pic4.zhimg.com/9900203c584c1a27a00638c2c284040f_b.jpg?rss" /></p><br /><br />（马克·吕布和巩俐在电影《摇啊摇，摇到外婆桥Shanghai Triad》（1995）剧组）<br /><br /><p>这一瞧不要紧，刹那间，吕布只觉得头晕目眩，天花乱坠，险些失足从这艾弗尔险峰上跌下。 <br /></p><br /><p>原来这狡猾的师父，临行前给吕布的、相传是摄影界原始天尊留下的，号称可以一统天下的取景器、竟是倒置的！ <br /></p><br /><p>“非人哉！”</p><br /><p>吕布骂道，师父难道是想害死我不成？转念一想，不对，师父没道理坑我的，仔细琢磨一番，光然大悟，莞尔一笑，明白了其中的玄机。</p><br /><p><img src="https://pic4.zhimg.com/d4ffbd3a16f519983c832949ae5ec5a3_b.jpg?rss" /></p><br /><p>（马克·吕布著名作品《在五角大楼》      1967 )</p><br /><p>原来这枚法物的与众不同之处，恰好是此倒置天地，乍看之下，混沌不清，什么B玩意儿。</p><br /><p>实则不然，揣摩之后，方才知道这正是摄影的奥义所在，倒置世界，所有常序为之打乱，规则不再，一切归新，独到视角应孕而成。</p><br /><p>只见吕布定念声咒语，驾阵狂风，“咔嚓”一声，快门落下。</p><br /><p>这塔，这人，这天，这地，这《埃菲尔铁塔的油漆工》。便成了。</p><br /><br /><p><img src="https://pic3.zhimg.com/9b279206659c2aa4e147e6f55a427de6_b.jpg?rss" /></p><br /><p><b>第二回  加入帮派名声起  心觉不甘飞中国</b></p><br /><p>却说那家喻户晓的生活杂志，将吕布的油漆工赫然刊登，一时间风云大造，吕布，成了摄界口口相传的少侠。</p><br /><p>不巧黑帮社团马格南，这个江湖上令人闻风丧胆的组织，对吕布颇有几分好感，双方相约商榷，不久之后，吕布便成了这个帮派的要员。</p><br /><p>自此吕布如鱼得水，脚步遍及海角天涯，所到之处，无不遍地开花。</p><br /><br /><p><img src="https://pic1.zhimg.com/e3d34743fd72a1127e0f93171d02cd3c_b.jpg?rss" /></p><br /><br /><p>（马克·吕布  1957，北京）</p><br /><p>名声赞誉如暗器般扑面而来，吕布，却有些倦了。</p><br /><p>正所谓争名夺利几时休？早起迟眠不自由。吕布在方寸之间，想寻觅更大的纪实。</p><br /><p>忽闻神秘东方有一国度实在非比寻常，那里的百姓吃饭不花银两，那里的大王深受全国爱戴，那里的良田一亩产万斤，那里的钢铁名叫瓦雷利亚，那里刮的烈风其名为浮夸。</p><br /><p>果独自登机，飞入云端，飘飘荡荡，径向太平洋上，趁天风来渡东赡天朝地界。</p><br /><br /><p><img src="https://pic2.zhimg.com/2cd8f9f9e4ceb3a284ddcf9fe0273ee9_b.jpg?rss" /></p><br /><p>（马克·吕布  1957，北京）</p><br /><p>也是他运至时来，自登飞机之后，连日东南风紧，将他送到天朝的帝都前，眼前的景象令吕布大吃一惊。</p><br /><p>这里的人穿衣打扮一模一样，每个人眉宇间透出一股子无私之光，脸上挂笑，异常诡异。找来路人相问：“兄弟，和你打听一番，这地界，什么地方最具代表性？”那路人见吕布尖嘴猴腮，眼神中飘过丝屡疑惑，继而又迅速放出革命火花，义正言辞地说“别叫兄弟，叫同志。”</p><br /><p>吕布惊讶于这个国度的开放性，同志也可以叫的这么光明正大。遂继而问曰：“敢问这位同志，何地为众人所向？”</p><br /><p><img src="https://pic4.zhimg.com/e2515e7cb593785878635613246681af_b.jpg?rss" /></p><br /><br /><p>（马克·吕布  1957，北京天安门）</p><br /><p>“天，安，门。”同志的话掷地有声。</p><br /><p>吕布听说，告谢相辞。出深林，找上路径，过一山坡，约有七八里远，果然望见一座城楼。挺身观看，真好去处。但见—— <br /></p><br /><p>烟霞散彩，日月摇光，门外奇花布锦，路边瑶草喷香，见城头立一人像俩匾额，人像发际稍后，面色红润，天庭饱满，颇有仙气。匾额约有三丈余高，八尺余阔，上有一行十八个大字，乃是“中华人民共和国万岁，世界人民大团结万岁”，中间立一人像，发际稍后，面色红润。</p><br /><p>吕布十分欢喜道：“就是这儿了！”</p><br /><p><img src="https://pic1.zhimg.com/82c13b43d777d1e166dc0c4ba3ee4610_b.jpg?rss" /></p><br /><br /><p>（马克·吕布  1957，北京）</p><br /><p><b>第三回 深入天朝懂静心 一招一式天下赢</b></p><br /><p>话表那吕布到了天朝，只觉满眼新鲜，不觉拍手称奇，但他非但没有匆忙拍摄，反倒收起相机，先融入观察起来。</p><br /><p>真个光阴迅速，悠而七七总之很多日，吕布的火候俱全，成竹在胸，有条不紊的开始了天朝纪实篇章。</p><br /><p><img src="https://pic1.zhimg.com/91231475253f8d03709e62c83887d564_b.jpg?rss" /></p><br /><br /><p>（马克·吕布  1956，广州，吕布在中国拍的第一张照片）</p><br /><p>来来回回、前前后后吕布征战这片神土二十余次，正值特殊年代，吕布单枪匹马，跋山涉水，这边使一招独到视角拳，那回来一套绝妙构图剑，上面来一式精准抓拍掌，下面来一腿人文情怀脚。</p><br /><p>如此，五六十年代的天朝社会剧变便被这样一位细腻的观察者一一纳入囊中，他所见证，乃天朝样貌转变之关键节点。</p><br /><p>坊间有说书人，每每呲牙咧嘴讲起这段：好吕布，拔出武器的刹那间，从琉璃厂警惕注视的女孩到毛泽东、周恩来等政治风云人物皆被他那柄银光闪闪的镜头所收纳，甚至如今已蜚声四海的当红戏子巩俐姑娘当年那青涩模样也被他定格在胶片之中，实在是令人叫好哇！</p><br /><p><img src="https://pic4.zhimg.com/d64f92544a60b7455dcd1f09c473db8f_b.jpg?rss" /></p><br /><p>（马克·吕布  1965，琉璃厂）</p><br /><p><img src="https://pic3.zhimg.com/2d44414fe8e32aad99145ff732d19782_b.jpg?rss" /></p><br /><p>（马克·吕布  1957，毛泽东在晚宴上）</p><br /><p><img src="https://pic2.zhimg.com/843f9207b90da9bd89bdd3ab659d3291_b.jpg?rss" /></p><br /><p>（马克·吕布  1957，毛泽东在晚宴上）</p><br /><p><img src="https://pic3.zhimg.com/7fc4859eb84512ea347b23e439962d2a_b.jpg?rss" /></p><br /><p>（马克·吕布  1957，毛泽东在晚宴上）</p><br /><p><img src="https://pic2.zhimg.com/0018a67f570e0e9cc0c2dedc5511e5f5_b.jpg?rss" /></p><br /><p>（马克·吕布  1960 周恩来）</p><br /><p><img src="https://pic1.zhimg.com/38b1e6614c1cf75de186451ec6d7eabc_b.jpg?rss" /></p><br /><p>（马克·吕布  1992 巩俐）</p><br /><br /><p>于此同时，天朝本土摄影势力“政治帮”不知何时打探到吕布的消息，一山容不得二虎，自然前来一绝高下。</p><br /><p>这“政治帮”。乃是当下的一方之霸，讲究“摄影只作为政治宣传中的匕首和投枪“的帮规，是日，前来挑战，怎料被吕布轻松拿下，不得其解。</p><br /><p>吕布笑道“各路英雄之见到此刻天朝红光亮、高大全，如若像我这般，抽离出来，另眼相看，所见也就大有不同了。”天朝本土帮纷纷佩服不已：“大师，学习了！”（各位看官如今知道此话的出处了吧。）</p><br /><p><img src="https://pic4.zhimg.com/da03ab207fcb6ad42321c9960a1b10ef_b.jpg?rss" /></p><br /><p>（马克·吕布  1965 北京）</p><br /><p><img src="https://pic1.zhimg.com/59cdfb5a3619ab809fcdc6d2cb96ff48_b.jpg?rss" /></p><br /><p>（马克·吕布  1965 呼和浩特）</p><br /><p><img src="https://pic3.zhimg.com/ce25d984ae6de76c9716c85f782bd172_b.jpg?rss" /></p><br /><p>（马克·吕布  1965 江苏）</p><br /><p><img src="https://pic4.zhimg.com/c4565ef602e40c1ab1e24f7bd2033edf_b.jpg?rss" /></p><br /><p>（马克·吕布  1965 上海）</p><br /><p><img src="https://pic2.zhimg.com/5a61454627a356f76e680cfc62e5dcb5_b.jpg?rss" /></p><br /><p>（马克·吕布  1965 山西）</p><br /><p><img src="https://pic4.zhimg.com/0c3ca254c1b77d11cb74e35f1cc40e2f_b.jpg?rss" /></p><br /><p>（马克·吕布  1965 沈阳）</p><br /><p><img src="https://pic3.zhimg.com/352df2b3112a236d3348b58ddba18f8e_b.jpg?rss" /></p><br /><p>（马克·吕布 1957 鞍山 ）在满洲大型钢铁厂的食堂里，一位把护目镜夹在帽檐上的工程师正在吃饭。</p><br /><p><img src="https://pic2.zhimg.com/447abcc6428c28f6e5d869d57d2a0b4d_b.jpg?rss" /></p><br /><br /><p>（马克·吕布 1957 北京）</p><br /><p>王府井大街上，一位贵妇穿着黑色大衣配着白狐狸毛的领披肩。</p><br /><p><img src="https://pic2.zhimg.com/7768d4740b55e455a4ae560759b4de19_b.jpg?rss" /></p><br /><p>（马克·吕布 1971 北京）</p><br /><p>在天安门人民大会堂前站岗的解放军战士。</p><br /><p><img src="https://pic1.zhimg.com/ab38c721a68721eefe20b5552aba09ec_b.jpg?rss" /></p><br /><br /><p>（马克·吕布 1971 上海 ）</p><br /><p><b>PS：2010年3月上海，88岁高龄的马克·吕布再一次来到中国。他这次到来除了要举办一个影展之外还有一个很私人的心愿要了却——他要寻找上图这位1971年曾经拍摄过的一位芭蕾舞女演员。即使当时有夫人陪伴，但是马克·吕布仍然没有掩饰自己对于当年那个清纯可爱、绽放酒窝女孩的眷恋</b>。<br /></p><br /><p><img src="https://pic3.zhimg.com/f500695dee63cd1892fa40a07aecd742_b.jpg?rss" /></p><br /><br /><p>（马克·吕布 1971 武汉  ）</p><br /><p>矗立在两个烟囱之间的毛主席像，烟囱是中国新型工业化自豪的象征。</p><br /><p><img src="https://pic1.zhimg.com/71c1dc6f3d59b6d7cc518237b533adb0_b.jpg?rss" /></p><br /><p>（马克·吕布 1985 西藏 ）</p><br /><p>排队进入布达拉宫</p><br /><p><img src="https://pic4.zhimg.com/e1e4412eeae5aaf552aa585ff782e6c3_b.jpg?rss" /></p><br /><p>（马克·吕布 1985 西藏 ）</p><br /><p><img src="https://pic2.zhimg.com/55f67fd4fd638b572203d14b8cacb3d5_b.jpg?rss" /></p><br /><p>（马克·吕布 1985 西藏 ）</p><br /><p><img src="https://pic1.zhimg.com/903295e5aea00faf3d7eb5c25c4b1120_b.jpg?rss" /></p><br /><p>（马克·吕布 1985 西藏 ）</p><br /><p><img src="https://pic4.zhimg.com/00b7e4ad1c0849d1cad9e7a3aebb8133_b.jpg?rss" /></p><br /><p>（马克·吕布 1992 广州）</p><br /><p><img src="https://pic1.zhimg.com/64212fd450a6ace8515eb4f6ef0ae4fc_b.jpg?rss" /></p><br /><p>（马克·吕布 1992 深圳）</p><br /><p><img src="https://pic1.zhimg.com/eea1037ee61fc3b8fa30228f3146bb24_b.jpg?rss" /></p><br /><p>（马克·吕布 1995 太原）</p><br /><p><img src="https://pic2.zhimg.com/78623e8270a1aa27ebc1158fe354e4bd_b.jpg?rss" /></p><br /><p>（马克·吕布 1995 上海）</p><br /><p><img src="https://pic2.zhimg.com/2b5a5ca2fde189f2d01aa70e35564f09_b.jpg?rss" /></p><br /><p>（马克·吕布 2002 安徽黄山）</p><br /><p><img src="https://pic1.zhimg.com/5a29efed5b48dfc43f1267219aa88f28_b.jpg?rss" /></p><br /><p>（马克·吕布 2002 安徽黄山）</p><br /><p><img src="https://pic4.zhimg.com/50e4bb84edd17bb0bf78a4ceae898ea3_b.jpg?rss" /></p><br /><p>（马克·吕布 2002 安徽黄山）</p><br /><p><img src="https://pic2.zhimg.com/42d4b873821c77f24dc937ea045508ed_b.jpg?rss" /></p><br /><p>（马克·吕布 2006 上海）</p><br /><p><img src="https://pic3.zhimg.com/8c1f4f5ee06154e2960d5345a85975aa_b.jpg?rss" /></p><br /><p>（马克·吕布 2006 上海豫园）</p><br /><p><img src="https://pic3.zhimg.com/7fffacb22a7f2552a3d30fbfb19ba3be_b.jpg?rss" /></p><br /><p>（马克·吕布 2006 上海）</p><br /><p><img src="https://pic3.zhimg.com/be936cf65e2460643545ff66cf30bb1a_b.jpg?rss" /></p><br /><p>（马克·吕布 2006 上海）</p><br /><p>这是可爱的吕布老爷爷，认真记录的样子。</p><br /><p><p><img src="https://pic1.zhimg.com/fb12612351d727155ab34e47cabffb60_b.jpg?rss" /></p><p><img src="https://pic3.zhimg.com/942460998e865d199178e66fa80e88b6_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/d465e0d5cb3bbe41442f35c00dcd57c5_b.jpg?rss" /></p>（看看最右边是谁?）</p><br /><br />最后,吕布真的见到她了，可是这个“小姑娘”压根不记得四十多年前有个”歪果仁“给她照过相...<br /><br /><p><img src="https://pic2.zhimg.com/47d124539282bf0f6fa67172c31bc311_b.jpg?rss" /></p><br />马克吕布于1975年当选马格南欧洲主席，由布列松、罗伯特·卡帕和马克·吕布等人主导的玛格南图片社形成一阵强劲的旋风，吹开了蒙蔽在中国摄影师眼睛上的“一块红布”，这股旋风对于中国的新闻摄影和纪实摄影都产生了永远无法消弭的影响。<br /><br /><p><img src="https://pic3.zhimg.com/c9ee78ac89b9a8fb01ccdd50d76c61a6_b.jpg?rss" /></p><br /><b>“我喜欢离家出走，摆脱一切束缚，尽可能近地去观察改变了我们这个时代人们 生活的一些事件。但这种观察不仅仅是出于好奇，更是我看到了那些启发我灵感的东西后被激发出的热情。我喜爱在混沌中寻求井然之时，那些视觉之上的惊喜和转瞬即逝的快乐。”——马克·吕布</b>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/yang-kai-di-1?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">凯迪</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/35867236/answer/83805292?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">41 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/33505619?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">全球有哪些优秀的街拍摄影师？</a><br />
            
<a href="http://www.zhihu.com/question/34071483?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">全球有哪些优秀的建筑摄影作品？</a><br />
不好的运气可以多大程度上毁掉一个人的努力？
北美的医学院是最难考进的专业之一。如果能顺利毕业，这些医学生也将是收入最高的群体之一。考进去有多难呢？比如多伦多大学的医学院去年的录取平均GPA是3.96/4.0，要求几乎所有课满分。<br /><br />每年春季，学校都会举行面试和入学考试MCAT。多伦多大学的Redelmeier教授统计了<a href="">2004-2009</a>年的全部近3000名面试者。结果显示，在雨天参加面试的申请者比在晴天参加面试的申请者的面试成绩低1%，这也就相当于MCAT成绩平均低10%。<br /><br />每年有近100个申请者在这个区间里。也就是说，这一百个野心勃勃的年轻人，带着梦想拼搏多年之后，能否成为医生却可能只取决于面试当天的天气。<br /><br />这份研究没有说明天气影响了考生的发挥，还是天气影响了考官的心情。但是从知道这点以后，我都会在重要的会面或邮件前算清楚时差，避开周一上午，周五下午以及周末，并且提前查好天气预报。如果可以，我还会查查对方的生日，对方老婆的生日，或者他孩子的生日。<br /><br />命运不光捉弄最优秀的人，也同样不会放过阴暗的角落。<br /><p><img src="https://pic2.zhimg.com/7dd714f80f438a4493970907dfe7f611_b.png?rss" /></p>上图是研究者总结了1112项假释听证的结果。纵轴是假释成功的几率，横轴是开庭的时间。两条虚线分别是法官的晨休和午休时间。也就是说，在一千多次统计中，排在晨休前的最后一次听证，从来没有一个成功假释的案例。也许你洗了纹身，每天读书，爱护花草，起床时大呼三声爱与正义，睡觉前对着女儿的照片含泪祈祷。哦，多么感人的故事。可是，只要你不巧在晨休前去听证，都还是得回监狱再呆一年，仅仅因为法官要去喝咖啡了。<br /><br />早上8点多，晨休之后和午休之后，犯人都有极高的几率被假释。而每次法官休息之后的假释几率都会持续下降。午餐前和下班前的假释通过率都低得惊人。这样看来，对疑犯保持同情心应该是很耗费精力的一件事吧。<br /><br />而同样的，不论你是要和老板谈升职加薪，跟你心上人表白，找父母要生活费，或者想夸奖我的美貌，都请务必选个良辰吉日。<br /><br /><br />References<br /><br />1. Redlmeier, D. A., &amp; Baxter, S. D. (2009). Rainy weather and medical school admission interviews<i>. Canadian Medical </i><i>Association Journal</i>, 181, 933.<br /><br />2. Danziger S, Levav J, Avnaim-Pesso L. 2011. Extraneous factors in judicial decisions. Proc. Natl. Acad.<br />Sci. USA 108:6889–92
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/wen-yi-fei-31?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">温义飞</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/41119071/answer/89709818?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">994 个回答，查看全部。</a><br />
如何评价佩顿 · 曼宁 (Peyton Manning) 的职业生涯，有哪些记录难以被超越？
<br /><br />比较有名的数据之前的答案也都列举出来了，很多数据之前都是由法弗保持的，但是从法弗到曼宁期间也就十年不到的时间，现在训练越来越科学有些记录也越来越容易被打破，只是那个人还没有出现，或者是已经出现了但是还没爆发出来。<br /><br />关于曼宁的职业生涯，我觉的“功成身退”是最好的描述了。可能是我看球比较晚，感觉曼宁在小马队时的路走的是四平八稳，稳步上升然后就拿了个超级碗，至此我都觉得曼宁都不算功成。11赛季曼宁伤停，一年之后小马放弃了曼宁接受了Luck，即使曼宁表示愿意给Luck打替补，小马也还是放弃了他，我只想说这波亏大了。<br /><br />之后曼宁远走丹佛，曼宁在野马重新整备队伍，开始了新的征程，一举打进了超级碗，然后就是被海鹰吊打。之后美联决赛输给拍子。终于今年功成身退的拿到了超级碗，在野马队的这几年曼宁除了最后这一年打的确实不怎么样外，之前两年还是可圈可点，也证明了他的实力。<br /><br />在我看来功成身退再适合曼宁不过了，在迟暮之年，即使自己打得这么烂也还是拿到了超级碗。这不禁让我想到了很多人，当年看NBA时有的英雄如AI、翠西、纳什这些个英雄都未能有一冠，尤其是AI在总决赛上功败垂成，让人不禁泪下；这又让我想到了个现在还在征战的另外两个人，一个是石佛呆呆，另一个就不得不提到黝黑蜗壳了。<br /><br />曼宁即不像呆呆那样，“你们年轻人去打，有什么不能解决的我来解决。”又不像蜗壳那样“即使我老了，做不成火箭也要做夜空最美的烟花。”曼宁表示“老司机开不动车了，没关系新司机也能带我飞。”<br /><br />在体育届能功成身退的并不多啊，其实我觉得GDP早就可以功成身退了，然而科比还是放不下，终究做不到了。<br /><br />为了答这个问题我还特意去colt的网站上查了查资料，发现即使曼宁已经离开这么久了，人们还是挺怀念这个为小马带去过诸多荣耀的老将。<br />地址：<br /><a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.colts.com" rel="nofollow noreferrer" target="_blank">The Official Website of the Indianapolis Colts<i class="icon-external"></i></a><br /><p><img src="https://pic2.zhimg.com/e15b17a63a7583e015aead7aa78623b9_b.jpg?rss" /></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/zhu-han-36?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">朱晗</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/41100425/answer/89609249?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">7 个回答，查看全部。</a><br />
为什么在一件事情上付出越多，对它的态度就会越喜欢？
这个问题提得很有深意，直指<b>社会心理学</b><u>认知失调理论中的</u><b>心血辩护（Effort Justification）</b>效应。其实这题我关注了有段时间，一直没有看到系统和专业的解答。关于评论区和其他答案里说到的<u>沉没成本</u>，确实可以<u>量化付出的多少，但不能准确预测态度</u>，而后者才是社会心理学所关心的。<br /><br />认知失调其实是由既可独立又可叠加的三部分组成的（其中<u>2. 心血辩护</u>的例子很容易被当成<u>1. 理由不充足</u>来解释）<br /><ol><li><b>理由不充足（insufficient justification）<br /></b></li><li><b>心血辩护（effort justification）<br /></b></li><li><b>决策后失调（post-decisional dissonance）</b></li></ol><br /><br />题主说“<b>在一件事情上付出越多，对它的态度就会越喜欢</b>”基本上就是<u><b>心血辩护（Effort Justification）</b>效应</u>第一次被科学验证时提出的假设，不信可以去看Aronson and Mills (1959)文章第一段。这位Elliot Aronson，师从20世纪最伟大的社会心理学费斯廷格Leon Festinger，并将其认知失调理论发扬光大。其撰写的《社会心理学》教材也是众多社会心理学教材中，公认最多干货、最有社会关怀的的一本。<br />（请不要问敝人为什么读过辣么多第一手文献，其实这只是基本学术训练... 也不要问敝人为什么知道辣么多学术花边，都怪人家超敏锐的学（八）术（卦）嗅觉啦..... <br /><br /><br />对不起，感觉这题又要被扫地神僧<b>学术虐</b><b>（碾）</b><b>狗</b><b>（压）</b>了，要不在这之前我们先说点轻松的吧？等你看完全篇自然会明白答案的  (#￣▽￣#)       <br /><br /><ul><li><b>比如前几年听梁静茹唱《问》的这一句歌词，为什么很多人都有共鸣?<br /></b></li></ul><blockquote>如果女人总是等到夜深 <br />无悔付出青春<br />她就会对你真</blockquote><br /><ul><li><b>又比如TA的教授偷偷传授给我的秘籍：以后要想让学生给你评分高，就请多布置作业。</b> 这其中的原理是什么?</li></ul>（大悟: 这位教授肯定也将此必杀技传授给了校内其他好多好多同事，导致本码农专业技校经常在【学生累得像条狗的大学排名】成功上榜... <a class="internal" href="http://link.zhihu.com/?target=http%3A//edu.sina.com.cn/a/2015-03-09/1442258148.shtml">盘点美国大学各类奇葩排名：最好玩VS累成狗</a>）<br /><br /><ul><li><b>再比如为什么邪教（cult）的内部身份认同感都超高？为了组织，赴汤蹈火、家破人亡，在所不惜？</b>之前提到Elliot Aronson是一位很有社会关怀的学者，其实人家也是很有幽默感的。比如Pratkanis and Aronson (1992) 里就写过《创立和维持一门邪教》，看似一本正经地胡说八道，其实是通过调侃邪教使用的那些小把戏让大家见招拆招，顺便科普... （有兴趣请移步 <a class="internal" href="http://link.zhihu.com/?target=http%3A//novella.mhhe.com/sites/0070329737/student_view0/module11/applying_social_psychology.html">Applying Social Psychology</a>）<br /></li></ul><br /><br />__________________________________<br /><br />好吧，今晚终于千呼万唤始出来的superstar就是认知失调理论中的<b>心血辩护（Effort Justification）</b>，由Aronson and Mills (1959)首次提出，至今屹立不倒。万万没想到的是，<b>“在一件事情上付出越多，对它的态度就会越喜欢”</b>只是掩人耳目之招，其实作者们想研究的是邪教为何如此让其信徒"<b>如此着迷</b>"的。<br /><br />举个例子，如果此刻的你试图加入某个职场圈子，<b>是不是越难以加入，你就越珍惜</b>？即使加入以后你发现那个圈子非常无聊，里面都是些自以为是的傻逼。请问<b>此刻的你会觉得自己费了老大力气加入贵圈是个错误的决定吗？</b>（旁观者清：呵呵~ 你是挺傻。）<br /><br />此时的你经历的就是<b>认知失调</b>，当<b>行为</b>（花大力气才被认可加入贵圈）和<b>态度</b>（这圈子也太废了）产生了冲突的时候，为了减少内心中的紧张和不愉快，人们通常会通过各种办法减少态度和行为间的不一致。归根到底不出以下三种。比如，你可以<br /><ul><li><u><b>改变态度</b></u>：其实我挺喜欢这个圈子的<br /></li><li><b><u>加入新的认知</u></b>：圈里有土豪出没，土豪我们做朋友吧（唔，好喜欢这个群）<br /></li><li><b><u>改变行为</u></b>：立即退出圈子，不再和大家一起玩耍<br /></li></ul><br />这三种调适办法中，<b>改变行为其实是最难做到的</b>。同理，戒烟难的原因就是因为烟民要么通过<i>改变态度</i>（虽然香烟有害健康，但我就是喜欢香烟怎么啦）或者通过<i>加入新的认知</i>（虽然我知道让同事吸二手烟不好，可是没有香烟我就没法集中注意力思考！我可是领导！）<u>消除了认知失调</u>，所以从社会心理学解释戒烟难的原因，不是难于上青天，而是难于让大家不乱找借口......<br /><br />有意思的是，Aronson and Mills (1959)研究了<b><u>认知失调程度的大小对于态度改变的影响</u></b>。参与实验的被试被随机分入<b>严酷考验（severe initiation）或温和考验（mild initiation）组</b>。为什么之前我说这其实是用来模拟极端教派的实验呢？首先你得知道实验中这个<b><u>严酷的考验</u></b>具体是什么。在1959年的美国，即使是性观念较为开放的大学生，对于公开谈论性交也是让人羞羞的，所以实验设计中就让<b><u>严酷的考验组的</u></b>被试们在众人面前完成以下两项任务以加入组织：<br /><ol><li><b>将十二张卡片上与性相关的（猥亵）<u>动词和名词一一大声读出</u>（此处应略去具体动/名词）</b></li><li><b><u>大声读出两篇小说中赤裸裸描写性爱的段落</u>（此处应略去具体章节描述）</b></li></ol>（第一次读时已被作者的机智笑尿......还好现在研究伦理管的严，不然事后再多debriefing估计都不能消除被试心中的伤了吧）<br /><br /><p><img src="https://pic1.zhimg.com/0d6a1a321529200a8371632551259f00_b.jpg?rss" /></p>图片出处：<a class="internal" href="http://link.zhihu.com/?target=http%3A//cnx.org/contents/Sr8Ev5Og%401.85%3AMBKbyrYC%402/Attitudes-and-Persuasion%23CNX_Psych_12_03_justification">OpenStax CNX</a><br /><br /><br />展开谈一下当年的实验结果。上图最右边就是当被试需要完成<b><u>严酷的考验</u></b>才能加入组织以后，他们对其组织的好感度明显比其经历<b><u>温和考验</u></b>（紫色）或<b><u>对照组</u></b>（黄色）都要高。<br /><br />这也是<b>认知失调中的心血辩护</b>第一次被科学实证。<br /><br /><br />虽然<b>广义的认知失调</b>（文首三者结合：1. 理由不充足 2. 心血辩护 3. 决策后失调 ）并不是社会心理学中很好懂的一个概念，但由于其实际应用范围之广、解释与预测个人行为之精妙，它被认为是<b>20世纪最有影响力的社会心理学理论</b>。不信你看：<br /><br /><b>案例 1</b>（认知失调之<b>理由不充足</b>）：<br />某员工：唔，我这么<b>努力地加班</b>还不敢跟老板提加班费的事儿，所以我应该<b>很爱现在的工作</b>吧。<br /> 来自<a class="member_mention" href="http://www.zhihu.com/people/e20abdd20139bb7bff1f3a7b60633c3f">@本冰</a> 微博：谢邀。但并没有任何能给<b>留美新生</b>的建议。“你的<b>所得还那样少吗</b>？你的<b>付出还那样多吗</b>？生活的路总有些不平事 请你不必太在意 洒脱一些过得好。” 等你在美国待久了，你自然会回来跟我唱这首歌的。<br /><br /><br /><b>案例 2</b>（认知失调之<b>心血辩护</b>）<br />话说我有个朋友（不是我！）是传说中的<b>北美省钱快报</b>脑残粉。某日看到网友晒单某高端品牌化妆品以后心动不已，吃土两个月终于也购入了一套，然而在与闺蜜分享护肤心得的时候大家都说这个牌子的是妈妈级才用的也不适合她的油性皮肤，请问认知失调的她此时会继续默默用完还是立马扔掉？<br />（脑科学工作者在此提醒大家：护肤其实也要靠运动...）<br /><br /><br /><b>案例 3</b>（认知失调之<b>决策后失调</b>）：<br />知乎上经常有“<b>准备买车，请问在A品牌与B品牌间怎么选？</b>”这类问题。其实同一价格区间的A与B在发动机排量、功率、扭矩等硬指标上不会相差很大，主要是外观和内饰的喜好因人而异。<b>认知失调之</b><b>决策后失调</b>会这么预测（举个栗子）：不管最终你选择买了哪个品牌的汽车，即使后来你发现它并不省油而且提速不够快，还是会这么和家人说，买它肯定比买另外一个牌子好，那车吧，省油还不是因为车子轻，上次我在高速上看到一辆被撞得惨不忍睹... <br /><br /><br />看到这里，开头的那三个轻松的例子现在你知道怎么解释了吗？ 其实都是认知失调之<b>心血辩护</b>的实例。举一反三学会了没？<br /><br /><br />如果到现在你都没发现这是一个大写的答案的话，那就只能实践出真知了。<br />根据认知失调理论，通过行为可以很好地纠正你这种不正确的态度。来，先手动点个赞，然后你就会<b>真的真的真的很认同这个回答了</b>。<br /><br />你不试一下么？<br /><br /><br /><br /><br />（明明可以靠才华，偶尔也会露个脸的）扫地神僧<br />敬上<br /><br /><br /><b>References:<br /></b>Aronson, E., &amp; Mills, J. (1959). The effect of severity of initiation on liking for a group. <i>The Journal of Abnormal and Social Psychology</i>, <i>59</i>(2), 177.<br />Festinger, L. (1957). <i>Cognitive dissonance</i>. Stanford, Calif.: Stanford University Press.
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/tinaliutong?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">This Is Not Tina</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/24807010/answer/89720501?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">118 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/20183275?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">业务员要销售连自己都不认同的产品，如何突破心理障碍？</a><br />
            
<a href="http://www.zhihu.com/question/31141761?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">什么事件会让你觉得大多数群众是愚蠢的？</a><br />
四周都有楼的房子如何设计采光？
采光天井<br /><br />例子就是EDDI'S HOUSE<br /><br />日本建筑师Edward Suzuki (爱德华•铃木)设计的一座工业化预制住房“艾迪屋”(Eddi's House)获得美国芝加哥Athenaeum“2010年国际建筑奖”。<br /><p><img src="https://pic1.zhimg.com/5f54916cddda558980034378dce81b58_b.jpg?rss" /></p><br /><p>　这座房屋是由大和住建公司(Daiwa House 
Kougyo)建造的，其名字取自于爱德华的昵称。虽然这是一座预先设计和预制的现成品，但在设计之时建筑师并不了解购房者的性格、生活方式、场地条件等状况。</p><p><img src="https://pic4.zhimg.com/71f8780c4bfd17398aa619055cfda0d7_b.jpg?rss" /></p><p><img src="https://pic3.zhimg.com/e18b3bfbd404f33aa985df7f683b9ea2_b.jpg?rss" /></p><br /><p>　　为此，建筑师设想这座房屋所在地并非环境友好型的，景观应该向内看而不是向外看。因此房屋中间建造了一座平台，靠近平台之上还有阳台，这种开放空间的组合就像过滤器或者软垫，形成内外空间的“接口”。也因此，房屋不需要与其所在的周边环境有交融之处。</p><p><img src="https://pic4.zhimg.com/4a0cbaba5962eff45a832f24bd9c4bab_b.jpg?rss" /></p><br /><p>　　无论外部条件如何，这座房屋都能够舒适地利用自己的“小宇宙”。如果外部环境很好，户主所要做的不过是多几个开口，让外面的世界融合到里面。</p><p><img src="https://pic4.zhimg.com/ef4526067b7514f938e6f989a22a4997_b.jpg?rss" /></p><br /><p>　　中央的平台不仅让日然光照直射进来，也带动了交叉通风，实现最好的节能效果。“艾迪屋”目前有6种基本布局和69种可变要素，尽可能满足各种场地条件和特点。</p><p><p><img src="https://pic4.zhimg.com/c3320aa4bf8338767573051490dac6a7_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/861abc52c0935e5ecdfb6138ed2ca203_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/2b914e3cdce15acb18a6b8331a6c4bc5_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/b88ca34d3da530fa60c7c7080ad0c0a1_b.jpg?rss" /></p>想当初一本正经画了整个SU真是蛋疼啊哈哈~</p><p>还做了采光分析，通风分析和改进。</p><p><img src="https://pic3.zhimg.com/8d17fd76e2f2be60c09b605c69e2fe3e_b.jpg?rss" /></p><p><img src="https://pic1.zhimg.com/cad2b217e127cfa505601bfcec376b38_b.jpg?rss" /></p><br /><br /><p>不过这个方案适合房屋面积较小的别墅，因为单个天井采光纵深有限，楼主如果采纳的话，需要改动一下。</p><p>避免炫光，多利用天井的自然通风。</p><br /><p>希望楼主成功</p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/chen-xia-5?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">陈什么夏</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/29670208/answer/45195628?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">16 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/23834389?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">为什么有些窗设计成只能打开45度？</a><br />
            
<a href="http://www.zhihu.com/question/29002479?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">让人眼前一亮的建筑是如何想出的？</a><br />
汽车电商如何赚钱？
（大部分内容来自于<a class="internal" href="http://zhuanlan.zhihu.com/hemingke/20621958">汽车电商如何赚钱 - 数据冰山 - 知乎专栏</a>）<br /><br /><p>随着阿里上市打造千亿美元公司以及唯品会和聚美等公司的红火，再加之摧枯拉朽欲毁灭一切的各类O2O，不少人都坚信电商或者互联网是能够改造一切的。易车和汽车之家也乘风而上，几乎前后脚在2014年上半年宣布汽车电商的大战略，易车股价冲高接近100元，而汽车之家也达到57元的巅峰。同时汽车电商模式在私募市场上也一度风光无限，团车网、一猫汽车等都纷纷完成融资。而传统的整车厂和经销商集团也纷纷涌入牌局，形成下面的格局图。</p><p><p><img src="https://pic3.zhimg.com/cbb626197906bd71ae442ec258b78552_b.png?rss" /></p>（来源：汽车之家电商业务介绍）</p><br /><p><b>跌落凡间</b></p><p>然而，随着大市的低迷以及投资人颠转对汽车电商的看法，易车和汽车之家的股价都相继跌回20多元的低谷价格。这样大的调整，或多或少与TrueCar这家美国汽车电商领导者的波折命运有关系。TrueCar，打着汽车电商领头羊的旗号，IPO之后估值一度达到20亿美元而且大有颠覆传统汽车销售体系的势头。但却在之后传出数据造假绯闻以及AutoNation（可理解为美国的广汇）与其分道扬镳之后，被彻底打回原形，市值缩水为5亿美元左右。<br /></p><br /><p>除了标杆丧失示范作用，大家也逐渐意识到房产和汽车是最难被电商化的。</p><ul><li>首先，房屋和汽车是单价最高的商品，网上购买的决策比较难轻易做出。（扯网上买Hermes和印象派的人，咱们就不能好好做朋友了）</li><li>其次，房屋和汽车又不是商品，而是财产，前者是不动产，而后者是动产。任何交易都涉及到复杂的线下手续，不是一个快递小哥或者美甲妹子上门能搞定的。<br /></li><li>最后，房屋和汽车在交易中和交易后涉及到诸多分割的线下服务，比如：水电煤气及物业交割、保险、保养等等。</li></ul><p>以上强调了一个观点：房屋和汽车无论怎么电商，很难脱离线下基于实体店铺的面对面服务和运营。而这一点恰恰对汽车电商的发展带来巨大挑战。</p><br /><br />与此同时，汽车电商还要面对另外一个大拦路虎——整车厂商及其盘根错节的利益链。这也正是TrueCar跌倒的地方——整车厂或者大经销商不和你玩儿。整车厂投入巨大的资金和精力来打造层层的4S店体系，依赖4S店体系多年，这才是亲儿子。整车厂和4S店体系已经形成了你中有我和我中有你的复杂利益共同体，怎么可能坐视电商将自己的已有江山颠覆。而更糟的是易车和汽车之家的商业模式完全依赖于整车厂和4S店体系给钱，捧着碗就开始骂主子的事情，实在是臣妾做不到。<br /><br /><p><b>模式解析</b></p><p>面对如此挑战，大部分汽车电商的模式不是切入交易，还是做给品牌带流量或者给线下店面导流模式的变种，只是套上了“电商”或者“O2O”的绚丽名词。</p><br /><p>首先是<u>大电商广告模式</u>，其中的代表是阿里和京东，但是阿里汽车已经在近期宣布退出汽车电商而专注于汽车金融。其思路非常传统，将经典的B2C电商模式复制到汽车电商。但基于以上的分析，这种生搬硬套并不落地。虽然每年的购物狂欢都有各种汽车销售并报出刷新汽车电商的各种记录，但其实真正成交的并不可观而且用户体验堪忧。因此整车厂在天猫上开启旗舰店目的不是做销售，更多是为了品牌展示和宣传，最终还是为流量买单。</p><br /><p>紧随其后的是O2O模式，其中的代表是易车特卖和汽车之家“车商城”。基本体验是用户在线上（网站或App中）下载购车券，然后持券到线下的4S店完成购买。由于网站实现并不能锁定车型及价格，所以挑选和侃价等过程依然是在线下完成。看中A款被销售忽悠买了B款，也是非常正常的，更别说价格。整个流程与传统体验并无二样，整个操控权仍牢牢掌握在4S店手中。这类服务最终还是通过售卖销售线索从4S店那里获得利润，一个线索从几十元到一百元不等。因此这个模式只是线上导流的微微变。甚至远逊于美国，一个线索导流的价格在15美元左右，而TrueCar模式下，一个成交在299美元。<br /></p><br /><p>在此基础上，又繁衍出<u>C2B电商模式</u>，其中的代表是易车的惠买车和团车网，采用底价购车或者团购的方式。首先，消费者在线上发布自己的购车需求（具体到车型及配饰等），缴纳几百元到过千元不等的订金来显示诚意，该订金如果不购车可退。对于底价购车，各4S店通过竞相报底价来诱惑，消费者在做出选择后拿到生成的购车凭证，然后到线下的4S店完成交易。对于团购模式，消费者等待平台方派出的购车顾问联系，由购车顾问组团一批具有相似购买需求的用户到多个店询价然后团购，因为量大而在理论上易获最低报价，每个消费者随后可选择是否完成交易（甚至在发出购车需求时不需要加订金，而只需要在选定车款后缴纳意向金）。无论是底价还是团购，平台都是按成交和按比例从4S店获取相应的服务费。这个模式看起来很棒，颇有些Priceline的反向竞购的画面美感。然而平台对于线下体验的掌控实在太弱，而且汽车的定价本身就是一个复杂的过程。于是经常出现通过底价或团购，价格反而不如直接到4S店获取的报价。而且4S店也往往会利用超低价吸引消费者选择，当消费者到线下成为鱼肉的时候，4S店在成交前巧立名目来做刀俎，小刀割肉让消费者反而支出更高的成本。</p><br /><p>饱受不能控制车源和定价权的窝囊气，互联网公司又推出了更加极致的<u>B2C电商平台模式</u>，其中的代表是易车商城和汽车之家车商城的一口价。通过与整车厂的合作，这类商城推出了清库包销、订制、品牌直销、新车预售等多种在线售车方案，对消费者承诺一口价。消费者在线上通过缴纳订金来锁定交易，与4S店在线下的沟通过程被简单化和透明化，线下无需支出任何费用。商城并最终按照实际销量及比例从整车厂或4S店处提取佣金，与TrueCar的模式很类似。这可谓是汽车电商闭环的极致了，然而却在整车厂和消费者这两边都不讨好。首先，整车厂要照顾亲儿子经销商体系的利益，给到互联网平台的往往是滞销车或库存车，否则经销商体系肯定分崩离析闹分家。其次，如果互联网平台不像其他电商颠覆线下门店时给出足够的低价，消费者往往不买账；反正都需要线下环节，何不去线下门店再找找更低的价格。如此这般，互联网平台收获的只是苦果：补贴之后并没有获得用户的口碑和认可。</p><br /><p>最后出场的大咖是水泥加鼠标的卖车模式，其中的代表是上汽的车享网。看似掌握了车源的整车厂，却为了平衡线下4S店和电商之间的关系，最后的局限性非常大，最大的价值很可能是仅仅给自己的4S店导流。首先，其网上促销活动需要在4S店落地，而所有活动基本都由4S店自己独立完成，电商平台只能被动配合。其次，电商的核心优势之一就是商品大而全，而以整车厂为主建立的电商平台，必然是以自己的车款为主，让用户体验大大折扣。最后，电商的价格体系不能冲击传统4S店体系。这样的矛盾只能让车享网最终不伦不类，经销商爱搭不睬，靠着刷单向国企领导敷衍业绩。而最近车享网的大幅裁员，只是见证了这种矛盾的爆发。不过，未来更大的玩家可能是收购了爱卡汽车的广汇。广汇不仅拥有最全的车系，有可能为消费者提供真正丰富而真实的车源并能保证线下购车体验，同时作为经销商的广汇，也更有能力平衡好线上线下的关系。不过最大的挑战就是：霸道总裁广汇怎么搞定傲娇的互联网平台爱卡。这种模式赚钱的方式非常直接粗暴，就是靠差价。</p><br /><p>所以拼到最后，汽车电商的终极形式很可能就是大家一起变成高级的4S店。</p><br /><p><b>二手车电商</b></p><p>如果将问题放到二手车电商，“一车一况”的问题为电商带来的挑战就更大，在这篇专栏中（<a class="internal" href="http://zhuanlan.zhihu.com/hemingke/20581258">二手车敢问路在何方？ - 数据冰山 - 知乎专栏</a>）也有部分阐述。核心观点是，像优信这样融了大钱嚷着要电商或者B2C的企业，最终必然也是会成为车商在线下卖车，和众多车商抢夺生意。从目前市场上不断传来的优信洽谈收购车商的小道消息来说，也从另外一个方面证明这观点。</p><br /><p>_________________________________<br /></p><p>更多精彩文章请看：<a class="internal" href="http://zhuanlan.zhihu.com/hemingke">数据冰山 - 知乎专栏</a></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/he-ming-ke?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">何明科</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40932945/answer/89433520?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">51 个回答，查看全部。</a><br />
新经济指数——用大数据倾听中国未来
<p>2015年，中国年度GDP增长率下降至6.9%，达到了1991年以来的最低水平。代表着经济景气程度的先行指数PMI也一再降低，其中财新制造业PMI已连续12个月低于荣枯线50，这代表制造业的萎缩可能还将继续。</p><p>传统制造业的衰退，与中国的发展禀赋变动相关。以往的中国，是一个资本不足而劳动力过剩的国家。拥有这样禀赋的国家，对于资本十分渴求，会给予投资高回报，同时可以使用廉价劳动力，发展追赶型制造业。</p><p>而现在的中国，在这资本和劳动这两方面已经逆转。根据白重恩、宋国青等学者的研究，投资回报率从2004年的20%以上下降到2014年的2%到6%之间，显示出了过度投资的症状。劳动年龄人口在2011年达到顶峰后，开始以每年500万人的速度逐年减少。由过去的禀赋派生而出的生产逻辑，不再适用。中国需要新的生产逻辑，新的产业可能成为未来的发展动力，他们被称之为<b>「新经济」</b>。</p><p>「新经济」不能只是一个停留在纸面上的词语。从一个略微有些酷炫的词语到一个有良好定义的范畴，有太多具体的问题需要人们动手去解决。而其中优先度最靠前的，则有以下几个问题：</p><p>什么是「新经济」？哪些行业可能符合新禀赋下的生产逻辑，成为「新经济」？</p><p>「新经济」对中国经济的贡献有多大？</p><p>应该如何衡量「新经济」的发展？</p><p>为了回答这些问题，构建出「新经济」的初步图景，我和另外一些同事一起，设计了<b>「新经济指数」</b>。</p><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/d8847a09ace019a3b0dd845ffd28afb7_b.png" width="554" /><br /><p><b>从学界到业界</b></p><p>2014年5月，知乎的第一次盐club，我与知乎线上认识的老友吴桐（<a class="member_mention" href="https://www.zhihu.com/people/547f818559baffd86f27e61d51c7b972">@MrToyy</a> ）先生第一次见面。吴桐告诉我，他正在和合伙人一起创业，做一个和大数据有关的企业，他是企业的 CFO。我非常感兴趣，问了很多问题，也记下了这家创业企业的名称——数联铭品。</p><p>之后一年多时间里，在吴桐的牵线下，我与数联铭品的联系逐渐紧密，有时他们会询问我一些算法问题，有时候我会问他们一些数据资源的情况。他们公司的消息，也越来越多地出现在朋友圈中，就这样，来到了2015年9月。</p><p>那时，我拿到了一篇已经修改了N遍的论文的第N+1次修改意见。一遍遍读着这一长串修改意见，我心中充满烦躁，不知道做这些到底是为了什么。我不禁问自己：如果你今后的所有论文都要像这样，花95%甚至是99%的时间，完善这剩下的1%到5%的细节，你还愿意继续做学术吗？</p><p>我给出了否定的回答。于是，我跟吴桐说，你们这里有什么好玩的项目？我来干。老子不做学术了。</p><p>就这样，我来到数联铭品，看看他们到底在做些什么好玩的事情。而我看到的第一个项目，说来也巧，正是「新经济指数」。</p><p><b>新经济指数是什么？</b></p><p>「新经济指数」这个概念，来源于我的另一名同事，数联铭品的管理合伙人之一陈东。在我到来之前，这个项目就打算要与财新智库合作了，并且草案已经完成。</p><p>陈东原本是一名调查记者，但他也是一个对新概念非常敏感的人。他向我描述了「新经济指数」的图景，大概包括哪些范围。最后，陈东强调，这一定是一个用到了大数据的指数。</p><p>我很快发现，这是一个非常棒的想法，而且非常重要——不仅是对于数联铭品这家公司，更是对于中国的重要性。主要有两点。</p><p>第一，就像在这篇专栏中我一开始提到的，由于禀赋变化，中国需要新的生产逻辑。在新禀赋下，资本回报迅速降低——持有资本不再那么划算；劳动力萎缩，可是新进入劳动力市场人口的人均教育年限平均每年上升0.13年，这意味着更多雇佣高技能劳动力的企业将在要素投入价格上获得优势。</p><p>分析到这里，新经济的生产逻辑也就顺理成章了——<b><u>以高技能劳动力作为主要投入要素，相对轻资产</u></b>——这属于新经济的最本质标准，没有迅速降低的行业增速和产业政策的方向也是甄选「新经济」的标准之一。 </p><p>第二，量化变革中的中国的指数，需要使用大数据。 </p><p>道理很简单。就以我们耳熟能详的采购经理人指数PMI来举例。我们知道，PMI与股市高度相关，看到PMI的变动，有经验的分析人员往往可以提前预判政府的刺激政策或者紧缩政策。可是，当一个普通人看到《2016年2月中国制造业采购经理指数为49.0%》或是《2016年2月中国非制造业商务活动指数为52.7%》这样的新闻时，有没有思考过，这个数字背后代表了什么？又会有什么问题？ </p><p>1，PMI这个数字来自3000-4000家固定样本框中的企业。但是，在国家的经济禀赋发生根本变化时，固定样本框对我们了解真实情况会有阻碍作用。想象一下，如果一个传统行业普遍衰退，新企业快速生长，出现了「创造性破坏」，而固定样本框调查始终只统计了增速下降的传统部门，无法囊括快速成长的新增企业，又如何用来评价整个中国的发展状况？</p><p>2，PMI指数的计算不需要企业给予每个问题量化的回答，只需要回答“改善”、“持平”、“恶化”三项之一即可，由调查者根据三个回答的分布来决定指数数值。但是，这种方案实际上假定了不同回答企业的同质性，当不同回答的企业的各种真实财务指标来自不同的分布时，PMI的数值和整个经济量化的繁荣或衰退会产生一定的偏差。</p><p>3，PMI询问的问题包括产量、订单、存货、出口、库存等12个方面。但是，这些问题大部分为了制造业企业的生产情况而设计，服务业企业对这一系列问题存在着大量漏报的现象。无效的指标被纳入统计，其他有效的指标却不被考虑，这意味着PMI也许并不适合度量制造业行业以外的发展情况。</p><p>然而，当我们使用网络大数据作为数据来源时，上述问题恰好可以被解决。在海量大数据中，我们不仅能看到旧企业的情况，更能发掘新企业的状况；根据网络行为汇总的数据，在信息量上远远优于“改善”、“持平”、“恶化”这三个词语的组合；同时，我们也可以采取更加丰富的指标，来设计不仅适用于制造业，也适合全行业的指标体系。比如，为了计算科技投入，我们引入了专利情况和专利转移情况；为了计算每个城市的人口流动，我们使用了所有城市通过火车和飞机的净流入、净流出数据，这都是在传统调查中不可能拥有的指标。</p><p>使用网络大数据设计的指数，比起传统指数，有着得天独厚的优势。</p><p><b>需要解决哪些问题？</b></p><p>用大数据做指数，优势明显，劣势也同样。</p><p>第一个问题，是代表性。人们常常说，你使用网络大数据吧，那这些数据肯定来源于某个网站，这个网站有没有对全样本的代表性呢？比如招聘，会不会有些企业倾向于在网络上招聘，另外一些企业永远不会在网上招聘？这会不会减弱指数的有效性呢？</p><p>这个问题当然存在。比起传统调查，大数据一定会在代表性上有所缺失。一个优秀的抽样调查，可以做到地市的代表性，行业上的代表性，而大数据不行。但好在这个问题近些年来已经有所好转，越来越广泛的企业的数据在网络上有迹可循。</p><p>同时，我们对于同一个指标，会使用多个数据来源，相互补足代表性的缺失。这个方法在传统调查中也经常被用到，比如美国的SCF家庭金融调查，就在入户调查同时，利用一些税务数据、持股数据来修正极端值的覆盖不足。我们在计算新经济的劳动力指标时，就使用类似的方法，使用了不同层次的多个招聘网站。 </p><p>第二个问题，是可供交叉对比的信息缺失。一个抽样调查，会将被调查企业的各类情况详细地记录下来，但我们很难想象一个企业会在招聘时、购买专利时或者是招投标时将自己的情况完全说清楚。一般的网络大数据，往往只有一个企业名称，一个粗分类行业，以及一个企业行为，对于这些企业的其他情况，我们一无所知。在阅读一些使用大数据完成的报告时也会有这样的感觉，好像有了很大的数据，分析来分析去却都没什么内容。这就是因为整套数据在源头上就缺少足够的信息。</p><p>这时，我们就要用到大数据的另一项优势，就是不同来源数据的交叉。比如，你有招聘数据，知道某个企业招聘了哪些职位，多少人，却不知道这个企业的具体行业，不知道这个企业的具体位置？没关系，我们还有工商局登记注册数据，两者一匹配，同一个企业的信息量就加倍了。就算数据无法全部匹配，我们也能用其中一部分已知信息当做训练样本，计算出未知信息的分布。拥有的原始数据资源越多，交叉匹配越是画出接近真实的图像。而数据资源的拥有量，恰好也是数联铭品的优势。 </p><p><b>新经济指数的出炉 </b></p><p>技术上的问题得到解决，但从每个月上百G的经济大数据中，算出一个新经济指数，仍然不是一个简单的过程。</p><p>从2015年9月开始，我一直在与财新智库的首席经济学家沈明高博士合作，打磨新经济指数的算法、权重等模型关键内容。北京大学国家发展研究院的沈艳教授在2015年12月开始也加入了我们的团队。两位老师在整个指数体系设计过程中起到了非常大的作用。一开始，新经济指数被设置为一个能反映繁荣和衰退的环比指数，但在多次讨论后，我们将指数设置为一个简单的比例指数，解释为「一个经济体中的新经济占比」。这个指数形式，即避免了大数据在对总量估计上的不足；又能让人一目了然，知道新经济在中国整体中的贡献到底有多大；同时也能容易地看到新经济发展在趋势上的变动。</p><p>一个月又一个月过去，算法一次又一次迭代，我们对整个「新经济指数」的可靠性越来越自信。如果将新经济指数和统计局制造业PMI放在一起，可得下图：</p><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/24e5625eb01c417ac11d6daef07e2d74_b.png" width="554" /><p>统计局和制造业PMI，和我们的新经济指数存在明显的此消彼长。这恰好反映了传统制造业的萎缩和新经济部门占比的扩张同时进行，这张图也同时说明，经济衰退并没有遍及所有行业，一些行业不仅没有萎缩，反而可能在扩张，这一根上升的橙色曲线，正是我们想要捕捉到的「新经济」。</p><p>万事俱备，2016年3月2日，财新智库、数联铭品决定正式对外发布「新经济指数」。今后，每个月的2日上午9：00，就是上个月的新经济指数的发布时间。当然，诞生仅仅半年的「新经济指数」仍然没有最终完善，还需要更多的深化和调整，现在的指数仍然是试行版本。接下来，我们仍然会逐月修订指数的计算方法，一年后调整评估全部完毕，发布正式版本。</p><p><b>越来越重要的「新经济」</b></p><p>发布会结束后3天，在刚刚开幕的「两会」中，「新经济」作为一个概念首次被写入了政府工作报告。李克强总理提到，「当前我国发展正处于这样一个关键时期，必须培育壮大新动能，加快发展新经济」。各大媒体广泛报道了这一事件。 </p><p>看到这个新闻时，我有一种奇妙的感觉。在学术研究中，我虽然常常会因在数据中发现了某一桩事实而快乐，但像这样，感到自己的工作正与当前正在发生的变革深刻联系在一起，可以真切地为现实提供参考依据，还是第一次。</p><p>「新经济」不是一个抽象的词汇，这部分经济已经占总经济投入的三分之一左右，这个比例未来还会越来越高，并最终取代传统行业，成为中国经济发展的新动力，新脉搏。</p><p>而我们的工作，「新经济指数」，就是要成为一架准确的听诊器，让人们能够通过我们的指数，提前发现新经济的问题与趋势，让投资者看到投资的机会，让政府修正产业政策的目标。能够暂离象牙塔，参与到这一项对现实有直接意义的工作中来，成为主要的一员，我感到很高兴。</p><br /><p>技术报告见：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.nsd.edu.cn/teachers/professorNews/2016/0304/25596.html" rel="nofollow noreferrer" target="_blank">陈沁、沈明高、沈艳：财智BBD中国新经济指数技术报告<i class="icon-external"></i></a></p><p>指数发布新闻见：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//cebm.caixin.com/2016-03-03/100915274.html" rel="nofollow noreferrer" target="_blank">财智BBD新经济指数（试行版）<i class="icon-external"></i></a></p><p>政府工作报告首次出现「新经济」的相关报道：</p><p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//news.sohu.com/20160306/n439513085.shtml" rel="nofollow noreferrer" target="_blank">“新经济”一词首次亮相政府工作报告<i class="icon-external"></i></a><br /></p><p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//finance.sina.com.cn/china/2016-03-05/doc-ifxqafrm6967344.shtml" rel="nofollow noreferrer" target="_blank">新经济首次写入政府工作报告<i class="icon-external"></i></a><br /></p><p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//finance.sina.com.cn/china/gncj/2016-03-07/doc-ifxqaffy3673589.shtml" rel="nofollow noreferrer" target="_blank">新经济将成重要增长引擎 下一突破点在于“中国智造”<i class="icon-external"></i></a></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/chenqin?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">chenqin</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
AlphaGo 能战胜李世乭吗？
先直接回答这个问题，下面再分析AlphaGo和人工智能的未来。我认为AlphaGo这次的比赛打败李世乭比较悬，但是1-2年之内必然完胜人类。<br /><ol><li><b>按照两者的Elo（围棋等级分），可以算出去年年底的AlphaGo打败李世乭的概率相当低。</b>如何算出的呢？AlphaGo去年年底的顶级分布式版本的Elo是3168（见下面第一张图），而李世乭的Elo大约是3532（全球围棋手Elo: <a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.goratings.org/" rel="nofollow noreferrer" target="_blank">Go Ratings<i class="icon-external"></i></a> ，见下面第二张图）。<br /><p><img src="https://pic1.zhimg.com/f2894ef94ec70c27792ef9ccd3d05520_b.png?rss" /></p><p><img src="https://pic3.zhimg.com/bef51010f1adc9909bf7f5e3ef3d6ef6_b.png?rss" /></p><br />按照这两个等级分的两个棋手对弈，李世乭每盘的胜算为89%（<img alt="\frac{1}{(1+10^{((3168-3532)/400))} )} " src="http://zhihu.com/equation?tex=%5Cfrac%7B1%7D%7B%281%2B10%5E%7B%28%283168-3532%29%2F400%29%29%7D+%29%7D+" />，公式见：<a class=" wrap external" href="http://link.zhihu.com/?target=https%3A//www.reddit.com/r/chess/comments/2y6ezm/how_to_guide_converting_elo_differences_to/" rel="nofollow noreferrer" target="_blank">How to Guide: Converting Elo Differences To Winning Probabilities : chess<i class="icon-external"></i></a>）。如果对弈一盘，AlphaGo尚有11%的获胜的可能性，而整个比赛五盘胜出三盘或更多，AlphaGo就只有1.1%的可能性了。（当然，这是几个月前的AlphaGo，也许今天已经超越了：见下面第三点）。<br /></li><li><b>AlphaGo不是打败了欧洲冠军吗？有些</b>人认为AlphaGo去年底击败了欧洲冠军樊麾，所以挑战（前）世界冠军应有希望。但是，樊麾只是职业二段（Elo 3000左右），而李世乭是职业九段（ELO 3532）。这两位的差别是巨大的，完全不能混为一谈。就比如说一个人乒乓球打败了非洲冠军，并不代表他就可以成功挑战中国冠军。<br /></li><li><b>AlphaGo有可能在这几个月突飞猛进，进而击败李世乭吗？</b>AlphaGo的负责人说：”外界不知道我们这几个月进步了非常多“。（来自：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.geekwire.com/2016/alphago-lee-sedol-whos-underdog-in-google-ai-million-go-match/" rel="nofollow noreferrer" target="_blank">Odds favor machine over human in big Go showdown<i class="icon-external"></i></a> ）。这点确实有可能。AlphaGo进步的方法有两个：（1）增加硬件：我们从Nature的文章可以看到：从1202个CPU到1920个CPU，AlphaGo的ELO只增加了28，而且线性地增加CPU，不会看到线性的ELO成长。若要达到364 ELO积分的提升，需要的CPU将达到天文数字（有篇文章估计至少要10万个CPU：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.milesbrundage.com/blog-posts/alphago-and-ai-progress" rel="nofollow noreferrer" target="_blank">AlphaGo and AI Progress<i class="icon-external"></i></a>）。当然，谷歌有钱有机器，但是纯粹加机器将会碰到并行计算互相协调的瓶颈（就是说假设有十万万台机器，它们的总计算能力很强，但是彼此的协调将成为瓶颈）。在几个月之内增加两个数量级的CPU并调节算法，降低瓶颈，应该不容易。（2）增加学习功能：AlphaGo有两种学习功能，第一种是根据高手棋谱的学习，第二种是自我对弈，自我学习。前者已经使用了16万次高手比赛，而后者也在巨大机组上训练了8天。这方面肯定会有进步，但是要超越世界冠军可能不容易。最后，换一种分析方式：如果从过去深蓝击败世界冠军的“成长过程”来看，深蓝大约1993年达到职业大师水平，4年后才在一场六盘的比赛中击败世界冠军（大约500Elo积分点的提升）。今天的AlphaGo应该和1993年的深蓝相似，刚进入职业大师水平。若要击败世界冠军，虽然未必需要4年的时间，但是几个月似乎不够。</li><li><b>还有什么以上未考虑的因素，导致AlphaGo获胜吗？</b>如果谷歌刻意未出全力和樊麾对抗，或者有其它学习或并行计算方面超越了Nature里面的描述，那AlphaGo完全有可能获胜。</li></ol>既然写了这么多，就对这个题目再发表一些看法：<br /><ol><li><b>AlphaGo 是什么？</b>在今年一月的Nature (<a class=" external" href="http://link.zhihu.com/?target=http%3A//www.nature.com/nature/journal/v529/n7587/full/nature16961.html" rel="nofollow noreferrer" target="_blank"><span class="invisible">http://www.</span><span class="visible">nature.com/nature/journ</span><span class="invisible">al/v529/n7587/full/nature16961.html</span><span class="ellipsis"></span><i class="icon-external"></i></a> )有AlphaGo的详细介绍，AlphaGo是一套为了围棋优化的设计周密的深度学习引擎，使用了神经网路加上MCTS (Monte Carlo tree search），并且用上了巨大的谷歌云计算资源，结合CPU+GPU，加上从高手棋谱和自我学习的功能。这套系统比以前的围棋系统提高了接近1000分的Elo，从业余5段提升到可以击败职业2段的水平，超越了前人对围棋领域的预测，更达到了人工智能领域的重大里程碑。</li><li><b>AlphaGo 是科学的创新突破吗？</b>AlphaGo是一套设计精密的卓越工程，也达到了历史性的业界里程碑，不过Nature文章中并没有新的“发明”，AlphaGo的特点在于：不同机器学习技术的整合（例如：reinforcement learning, deep neural network, policy+value network, MCTS的整合可谓创新）、棋谱学习和自我学习的整合、相对非常可扩张的architecture（让其充分利用谷歌的计算资源）、CPU+GPU并行发挥优势的整合。这套“工程”不但有世界顶级的机器学习技术，也有非常高效的代码，并且充分发挥了谷歌世界最宏伟的计算资源（不仅仅是比赛使用，训练AlphaGo时也同样关键）。<br />AlphaGo的跳跃式成长来自几个因素：1）15-20名世界顶级的计算机科学家和机器学习专家（这是围棋领域从未有的豪华团队：也许你觉得这不算什么，但是要考虑到这类专家的稀缺性），2）前面一点提到的技术、创新、整合和优化。3）全世界最浩大的谷歌后台计算平台，供给团队使用，4）整合CPU+GPU的计算能力。</li><li><b>AlphaGo是个通用的大脑，可以用在任何领域吗？</b>AlphaGo里面的深度学习、神经网络、MCTS，和AlphaGo的扩张能力计算能力都是通用的技术。AlphaGo的成功也验证了这些技术的可扩展性。但是，AlphaGo其实做了相当多的围棋领域的优化；除了上述的系统调整整合之外，里面甚至还有人工设定和调节的一些参数。AlphaGo的团队在Nature上也说：AlphaGo不是完全自我对弈end-to-end的学习（如之前同一个团队做Atari AI，用end-to-end，没有任何人工干预学习打电动游戏）。如果AlphaGo今天要进入一个新的应用领域，用AlphaGo的底层技术和AlphaGo的团队，应该可以更快更有效地开发出解决方案。这也就是AlphaGo真正优于深蓝的地方。但是上述的开发也要相当的时间，并且要世界上非常稀缺的深度计算科学家（现在年待遇行情已达250万美金）。所以，AlphaGo还不能算是一个通用技术平台，不是一个工程师可以经过调动API可以使用的，而且还距离比较远。</li><li><b>如果这次AlphaGo没有打败</b><b>李世乭，那还要多久呢？</b>IBM深蓝从进入大师级别到比赛击败世界冠军花了四年。AlphaGo应该会比深蓝更快提升自己，因为深蓝需要新版本的硬件，和针对Kasparov的人工调节优化，而AlphaGo是基于谷歌的硬件计算平台，和相对通用的深度学习算法。所以，几个月太短，4年太长，就预计1-2年之间吧。<br /></li><li><b>从国际象棋到围棋，到底是不是巨大的突破呢？</b>肯定是的，在这篇文章里面（<a class="internal" href="https://www.zhihu.com/question/21714457">在国际象棋领域，电脑已经可以战胜人脑，那么围棋领域电脑还差多远？ - 计算机</a> ），第一位回答者分析了围棋的复杂度为<img alt="10^{172} " src="http://zhihu.com/equation?tex=10%5E%7B172%7D+" /> 而国际象棋则只有<img alt="10^{46} " src="http://zhihu.com/equation?tex=10%5E%7B46%7D+" /> 。在1997年深蓝击败世界冠军时，大家都认为：深蓝使用的是人工调整的评估函数，而且是用特殊设计的硬件和”暴力“的搜索 (brute-force) 地征服了国际象棋级别的复杂度，但是围棋是不能靠穷举的，因为它的搜索太广（每步的选择有几百而非几十）也太深（一盘棋有几百步而非几十步）。而AlphaGo的发展让我们看到了，过去二十年的发展，机器学习+并行计算+海量数据是可以克服这些数字上的挑战的，至少足以超越最顶尖的人类。</li><li><b>AlphaGo 若打败了世界冠军，就意味着计算机超越人脑？或者可以思考了吗？我的回答：</b></li></ol><ul><li>在可以凭逻辑分析推算的问题上，机器即将远远把人类抛在后面。机器速度会越来越快，学习能力会越来越强，数据会越来越多。当年，大家讨论“国际象棋输给机器不算什么，围棋才是真正的智慧”只是我们人类维护自己尊严但是不实际的幻想！今天，我们该面对现实了！</li><li>在大数据+机器学习+大规模并行计算的时代，我们将看到无数的商机和产品，能够在预测、分析、推荐等方面，产生巨大的商业和用户价值。不过，这些解决方案和人类相比，其实没有什么意义，因为人差太远了（比如说：推荐引擎将能推荐你最可能会买的产品、想吃的菜，想认识的人；自动交易能得到更高的投资回报和风险比例。。。）。</li><li>在感知方面，人类也将会被机器超越。今天的语音识别，人脸识别，未来的自动驾驶，都是例子。</li><li>但是，以上都还是冷冰冰的技术，机器打败了世界冠军也没有感到高兴（甚至说不出为什么）。对于那些科幻片的粉丝们：机器人是否会人性化？这还是未知的。毕竟，在情感、喜怒哀乐、七情六欲、人文艺术、美和爱、价值观等方面，机器离人还差的很远，甚至连基础都没有。对人工智能的研究者，这是下一个挑战。对我们人类，在下个突破之前，我们还是多发展右脑吧！</li></ul>P.S. - 也许有人好奇，为什么这个话题我说了这么多，因为在1986年，我在读书时，曾经开发了一套黑白棋系统（复杂度<img alt="10^{28} " src="http://zhihu.com/equation?tex=10%5E%7B28%7D+" />），击败了黑白棋的世界团体冠军，而当年的那套系统也有（非常粗浅的）自我学习的能力。有兴趣的网友可以在这里看到我当年的文章：<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//www.sciencedirect.com/science/article/pii/0004370288900768" rel="nofollow noreferrer" target="_blank">A pattern classification approach to evaluation function learning<i class="icon-external"></i></a> ) 。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/kaifulee?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">李开复</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/39906815/answer/89652546?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">304 个回答，查看全部。</a><br />
有哪些古典风格与现代风格相结合并协调得比较好的建筑？
题主提的问题是，古典风格和现代风格结合的比较好的建筑。可是楼下很多人答了新旧建筑如何处理上去了。好吧鉴于题主的配图和题干其实是两回事，我也就分两部分答一下。<br /><br />首先是新旧建筑的处理上，我比较偏爱修旧如旧的做法。我其实很反感把这类对建成环境的思考归纳为新旧对比修旧如旧几个方面，这本身就是一种对建成环境的蔑视和忽视。事实上大师们在改造或者处理相关问题的时候，都是从场地和建成环境本身出发的，而不是一开始就把自己想做的东西归入某个类型。大家现在看到的所谓新旧对比，修旧如旧，都是对建成环境的思考而来的结果。<br />直接上图，都是自己拍摄的，Scarpa的古堡博物馆和ETH在苏黎世的校区建筑系馆。<br /><br /><p><img src="https://pic4.zhimg.com/f35b5393a3f41282ac887a05085a91db_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/0db4a965f0b342291cc0485d71156aff_b.jpg?rss" /></p><p><img src="https://pic1.zhimg.com/8ac37717812cfde302c6521642b02cf0_b.jpg?rss" /></p><p><img src="https://pic1.zhimg.com/293ef3bed787be1ea073e21c2476efb8_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/1a0afeb85a399b8a7425c39c76316c4d_b.jpg?rss" /></p>另外大家也可以找找德卡洛在乌尔比诺坐的学校设计和螺旋跑马道的修复，那是1959年TEAM 10对现代主义思想的反思的极佳体现。<br /><br />以下是ETH在苏黎世的校区，浓浓的罗西风。<br /><p><img src="https://pic4.zhimg.com/ab2eec1b0e4e9a32d02d1e9f39e8b99b_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/026ac761055125dbf4a07829c10d03e1_b.jpg?rss" /></p><p><img src="https://pic3.zhimg.com/ace08755eb6b612e86e66a6450ffc99e_b.jpg?rss" /></p><p><img src="https://pic4.zhimg.com/dd87abfa7e83995e4bb3ff83c8ff2c9f_b.jpg?rss" /></p><br />对于第二个方面，如何将古典主义与现代主义很好的融入到一个作品当中去，我很赞同德国理性主义代表人物辛克尔的观点，即古典主义的精髓在于形式和装饰背后的原则，而不在于形式本身。辛克尔的这一观点影响了20世纪初的一批建筑师，包括德意志制造联盟，阿道夫路斯，甚至柯布西耶。其实我们在柯布西耶的作品中如萨伏伊住宅，都能看到很明显的古典主义的影子，如柯林罗分析的帕拉蒂奥的柱跨和教堂中的视觉体验都在萨伏伊住宅中有所体现，柯布一生都在追求建筑设计背后永恒不变的原则，这种原则既来自于古典精神，也来自于对现代科技的反映。<br /><br />事实上20世纪初的那一批建筑师们对于古典主义和现代技术的结合有诸多深入的思考和案例，那是一个特别精彩而又特别纠结的时代，建筑师们都处于一种极度闷骚的情况下，去试图在古典与现代二者中间找到平衡。例如：<br /><br /><p><img src="https://pic1.zhimg.com/4f672dc12f30cb87ce072de0ad6ffbec_b.jpg?rss" /></p><br />这是贝伦斯的AEG工厂，我再放一张图大家就明白了藏在里面的是什么。<br /><br /><p><img src="https://pic2.zhimg.com/6dbd86b20b420581abcb93bd7255da1d_b.jpg?rss" /></p><br />嗯哼。<br /><br /><p><img src="https://pic4.zhimg.com/8308d4512923d6fddcd1a7a8ac053097_b.jpg?rss" /></p><br />这是新艺术运动中，霍塔设计的人民宫。<br /><br /><p><img src="https://pic4.zhimg.com/1f11b35b0cf4ebdb7283ff102cbc6b1b_b.jpg?rss" /></p><br />以及罗西对于比萨建筑群的抽象。<br /><br /><p><img src="https://pic2.zhimg.com/56a9eef6dd1c7e3a1384fff999b52541_b.jpg?rss" /></p><br />以及沙利文的芝加哥学派。<br /><br /><p><img src="https://pic4.zhimg.com/c78d62ef35a15eec7af0b535678843e3_b.jpg?rss" /></p><br />以上只是那个年代的一小部分缩影，如果有机会我想详细讲讲我最爱的雨果哈林和阿道夫路斯。<br /><br />哈哈哈哈经提醒，再放一张曾经把我感动哭的图吧。<br /><p><img src="https://pic3.zhimg.com/698614ba15a97753abe913fe352afe62_b.jpg?rss" /></p><p><img src="https://pic3.zhimg.com/e5483c184d7826e96e4a696d8f7ae7a2_b.jpg?rss" /></p><br />路易斯康是1960s之后少有的将古典精神中的纪念性和几何元素与现代风格结合的淋漓尽致的人，我第一次看到他的作品，就联想起了古罗马的斗兽场，当然与上面1920s的建筑师比起来，康的手法会有些具象。<br /><br />我父亲曾说，明国时期的艺术家文学家在今天看来仍然是当代中国文化人不能超越的大师，是因为他们从小学习四书五经，而青年时又受到了现代西方思想的熏陶。在他们的作品中展现出来的是真正的中国古典传统和现代思想的结合，如辜鸿铭，如梁思成，如胡适，如清华四导师。<br /><br />同样的，康也好，贝伦斯、柯布西耶、阿道夫路斯这代人也好，都曾经受过严谨的Old School的布杂体系的严格训练，而在从业后开始接触现代主义的思想。这代人是前无古人，后无来者的，他们对古典体系的理解，远要比当代建筑师们深刻的多，他们对现代主义的理解，要比同时期的人深刻的多。<br /><br /><br /><b>所以在我心中，古典和现代交替的年代，是古典和现代结合最好的年代。</b>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/chen-da-4-23?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">陈达</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/39414473/answer/81264333?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">28 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/22827881?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">家居中有哪些设计不合理的地方？</a><br />
            
<a href="http://www.zhihu.com/question/30467275?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">在建筑师的眼中，什么是好的医院建筑？</a><br />
为什么虽然饮料中的香精与真实水果味道有较大区别，但喝了以后都会一致认为「嗯，这是 xx 水果味的」？
谢 <a class="member_mention" href="http://www.zhihu.com/people/8fd2bda472741d84b6fa90af689c0505">@夏三伏</a>邀请；<br /><br />我们先回忆一下，有多少次，当你和朋友在一家自助餐厅里吃冰激凌时，看着对面朋友吃的是粉红色的冰激凌球，你不假思索地问道：哎，你那草莓味儿的好吃吗？<br />然而，在问这句话的时候，你既没有看过标签，也没有尝过，可是你又是如何知道它是草莓味的？<br />再回忆一下，街边的冰茶，因为基料是“绿茶”或者“红茶”，颜色比较固定是绿色和棕红色，当你要了水果冰茶以后，你是不是经常会怀疑给弄错了，哪怕味道最强烈的芒果（因为含硫），你都不是很确定？或者再问一件事，某运动维生素饮料有一段时间集中推出了几种果味饮料，你也许可以尝得出青柠口味，但你有多少把握不看外包装的颜色就尝出荔枝味、猕猴桃味？<br />所以，看出问题没有，颜色在大多数时候决定了你能品尝出什么口味，桃红色=水蜜桃，橙色=橙子，金黄色=芒果/菠萝，青绿色=苹果，浅绿色=哈密瓜，亮绿色=薄荷，粉红色=草莓味，枚红色=西瓜，奶白色=香草……所有这些，都已经形成一种思维定势，让我们的味蕾产生了一种条件反射式的反应。<br /><b>因为，人类大脑处理问题就是这么个程序啊，我们比很多哺乳动物多一种颜色感应细胞，可以看到更多的色彩，但付出的代价就是，颜色也会让我们的味觉或嗅觉器官不那么客观。</b><br />所以，商家就运用了这个原理，用颜色干扰/强化我们的味觉和嗅觉判断，甚至让我们有一丝相信，这些食品是真的用水果做出来的。色素和香精本是独立的，从某宝买点香精色素，我完全可以配出蓝色的水蜜桃果汁儿，或是棕色的榴莲馅儿，但你一定会觉得，这不是原来那个味儿啊？！<br />这一点，可以看看添加剂之父安部司的作品，然后你就会知道，不过很简单的trick而已。顺便说一下，安部司在一线呆过，列举的很多事实性案例都非常权威，但部分观点偏极端（我理解是为了冲商业销量），如果看得话，记住尽信书不如无书。<br /><br />那么抛开一眼看出来的情况，还是有很多香精让我们一鼻子就闻得出来，或是一嘴就能尝出来，那是怎么做到的？<br />分两种情况：<b>一是原材料确实就是相应的水果或花，二是调配。</b><br /><br /><br />第一种情况在街边饮料摊当然不常见，在超市卖的原浆更是凤毛麟角。街边摊当然主要是成本问题，而瓶装饮料不用原浆，很大程度上是因为，水果原浆有保鲜的问题，如果要达到一定保质期，多数要进行消毒，而巴氏消毒这类方式是会破坏风味的，喝起来口感也许会很奇怪。但随着未来包装技术与消毒技术逐步提高，我个人比较看好原浆类饮料。<br />高档香水多数是从原材料中直接提取，这也就是人家卖得贵的因素之一，虽然只是很次要的因素。比如我参观一家做香精的公司，提取玫瑰精油的残存物堆积如山。同样，如果是某些花蜜类饮料，本来就是小众饮料，成本也不是很在乎，用精油也不难。<br /><br />第二种情况我们就很熟悉了，这也是现在大多数饮料生产的方式。在化工类行业里，做生产技术的，赚钱永远赚不过做配方技术的，无论厂家生产的塑料瓶、日化品还是饮料。时至今日，你一定会诅咒那个想出用邻苯二甲酸酯做起云剂的家伙，但人家这个岗位，就决定了他们干的就是这样的事，有没有良心另说。<br /><b>为什么配方技术岗位这么值钱？因为这是这类公司的核心技术。</b>那么配方为什么就是核心技术了？难道这么快就没人记得关于可口可乐的那个鸡汤了吗？<br />鸡汤归鸡汤，还是要说，配方不是一般人能调得出来的，不仅需要大量的实验基础，有时还需要一些天赋。举个例子吧，世界上最大的易拉罐生产商波尔公司，在他们本部有一个实验室，专门试验易拉罐会不会影响饮料的味道和口感。是的，你一定想到了GC-MS之类的仪器，然而对于饮料而言，这没什么卵用，几十个上百个峰摆在那儿，很多都是重叠的，仪器也傻了。于是没办法，他们就设置了品香师的岗位，做什么呢，就是某种有味道的成分，如果在饮料中有1ppm的变化，他们就可以品出来。<br />人类当然有这样的天赋，甚至大多数人经过培训也可以当个不太称职的品香师，喝出哪个年份的红酒，这样的人我一个没见过，但一口喝出哪个酒庄的，我还是有幸见过；至于一口喝出哪个产地的，这样的人我见过一打。<br />你要知道，波尔公司是生产易拉罐的，他们不直接生产饮料，对于味道尚有这种把控，那么以饮料为产品的企业呢？<br />所以，通过很多种不同的香精，让一般人喝出个什么味道的饮料，这取决于饮料企业有没有想这么做。<br />同样，日化品的配方师也在想方设法让你使用某个洗发水时，能感觉出是玫瑰、薰衣草或是茉莉、绿茶，你没经过训练，怎么敌得过人家德牧一样的鼻子（这一句是夸，真是夸）。至于他们用的是天然精油还是人工合成精油，也许是广告宣传，也许是成本控制，但个人感觉真没多少区别，很多人工香料还更纯净。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/sun-ya-fei-48?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">孙亚飞</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/21390205/answer/89520611?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">15 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/21231818?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">为什么冷饮（如冰激凌、奶昔）是草莓味最常见，但饮料却是橙味最多而少见草莓味？</a><br />
            
<a href="http://www.zhihu.com/question/20692856?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">奶茶里的奶和茶分别是什么成分？对人体有危害吗？</a><br />
为什么我反对教育费用纳入个税抵扣
<img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/d97159327645627b807d5d15df2df329_b.jpg" width="550" /><p>这是好久之前看到的新闻了：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//news.dichan.sina.com.cn/2016/02/01/1166436.html" rel="nofollow noreferrer" target="_blank">个税改革方案已完成：以家庭征缴 教育费用纳入抵扣<i class="icon-external"></i></a><br /></p><p>初看起来，这是个很好的政策，毕竟个税的抵扣意味着一定程度的税收减免。然而，如果仔细考虑，个人认为这可能并非一个好的政策。</p><p><b>1、为什么要推行这项政策？</b></p><p>政府提出这个政策，目的首先可能是增加教育支出，进而提高我们国家的人力资本。人力资本对经济发展的作用已经无需赘言。我想这可能是政府提出这个政策的首要目的。</p><p>其次，政府可能希望通过这个政策提高生育率。前段时间政府放开二胎，鼓励生育已经是有目共睹了。然而，正如大量报道和分析所说的那样，虽然放开了二胎，很多人不会选择生二胎，其中一个很重要的原因是生二胎的成本，特别是子女的教育支出负担非常沉重。政府也有可能寄希望于这个政策，刺激生育率。</p><p>然而，就像下面我们会分析的，如果没有完备的制度设计，甚至是配套的其他制度设计，一方面这项政策可能会加剧社会的不平等情况，而另一方面，刺激生育率的目的可能并不会达到。</p><b>2、哪些人会获益？</b><p>既然是针对个人所得税的改革，那么获益的群体当然是缴纳个人所得税的主体。可是这个群体到底有多大呢？</p><p>从2011年开始，个人所得税的起征点提高到3500元。这个数字对于生活在大城市的人来说似乎并不算多，然而如果放在全国，这实际上是一个相对较高的数字。</p><p>为了大体估算个人所得税的缴纳主体到底有多少，我使用中国家庭追踪调查（CFPS）2012年的追访数据做了一个简单的估算。CFPS调查覆盖了中国25个省份，这25个省份的人口占全国总人口的大约95%，因而可以算是一个比较有代表性的样本。然而这个抽样也并非没有问题，比如这个调查给上海、辽宁、河南、甘肃、
广东这五个省、市以更高的权重，特别是上海，权重远远高于其他身份。由于上海、广东的收入水平高于其他省份，因而有理由相信，这个调查设计可能高估了收入水平。</p><p>那么调查数据中需要缴纳个税的人数有多少呢？在样本总共35165人中，共有1796个人的收入达到了42000（=3500×12）的水平，即根据个人收入计算，共有5.11%的人能够达到个人所得税的起征点。由于样本中统计的是16岁及以上成年人的信息，根据2010年的人口普查，我国16岁以上的人口为10亿9346万人，如果按照5.11%的比例计算，可以得到我国的纳税人口大约为5587万人。<br /></p><p>注意这其中有大量出于种种原因没有收入的家庭，而即使只考虑有收入的家庭，纳税人口也不过只占样本总数的12.32%。下图给出了有收入的家庭的对数收入分布图，其中竖线标示的为42000元的个税起征点。</p><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/5d44c7e15800e4bd0e8dc7e4737e15df_b.png" width="1868" /><p>可见，只有少数的人口是落在竖线右边的。而不可忽略的一点是，数据中的收入是指的个人全部收入，而并不是所有的收入都应纳入征税范围，或者由于我们国家不完善的个税征收机制，有些收入并没有纳税。结合这个调查的抽样设计，可以几乎肯定的是，5.11%的数字应该是大大高估了纳税人口。</p><p>而实际上，一个比较可靠的数字来自于新闻报道【1】，纳税人口其实只有2400万，可见以上的估算过程的确高估了纳税人口。</p><p>那么为什么知道了纳税人口还要使用CFPS估算纳税人口呢？因为我们其实更关心有多少家庭是缴纳个税的。根据新闻报道，这次的个人所得税改革将改为以家庭为个税征税主体。如果政策如此制定，那么以上的5587万或者2400万就没有太大意义。经常出现的情况是，家庭中一个人收入很少，而另外一个收入很高，因而征税的家庭可能是高于5.11%的。</p><p>我们在样本里计算了家庭中是否有人达到42000起征点这个变量，只要有一人能够达到缴纳个税的标准，那么这个家庭就被计算为纳税家庭。据此计算，样本中共有12.34%的家庭达到了这一标准。下图是总收入大于0的家庭总收入的对数的分布图：</p><p><img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/97d890f0f55be9d402e360983e884c07_b.png" width="1868" />其中左边一条横线代表42000的单人个税起征点，而右边一条竖线代表84000的两个人个税起征点之和。我们不知道征税主体改为家庭之后起征点该如何计算，但是非常有可能在这两条线附近。图上可见，落在这两条线右边的家庭仍然不是多数，况且这张图排除了没有收入的家庭。</p><p>而基于同样的逻辑（抽样原因及收入的计算），就像基于此样本计算的5587万人大大高估了真实的2400万人一样，12.34%这个数值应该也是大大高估了纳税家庭的个数，实际缴纳个人所得税的家庭应该达不到这个比例。</p><p>如果以上的估算成立的话，能够享受到教育费用抵扣这个政策的家庭可能只占全国家庭的10%不到，而这些家庭又是我们国家相对富裕的家庭。</p><p><b>3、政策会导致什么结果？</b></p><p>如果不是所有的家庭都在缴纳个人所得税，一个很自然的想法是，缴纳个人所得税和不缴纳个人所得税的家庭在教育支出行为上是否有所不同？</p><p>中国城镇住户调查（UHS）对于教育指出有比较详细的数据，我在这个数据库里面看了一下教育支出的一些特征。</p><p>首先我们来看一下分布情况。我将样本中的家庭粗略的分为两组：收入大于42000和小于42000。当然，这并不是严格的是否缴纳个人所得税的测度，所以我们只能用这个分类看一下大体的pattern。此外，为了作图和计算的方便，教育指出的对数指的是log(1+教育支出)。</p><p>下面两张图分别是两组家庭的教育支出对数的分布（2009年）：</p><p><img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/d0874cdfc64cdb0848cb9eee5105577d_b.png" width="1142" /><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/92b368ef1f55c3f21ab5f8a2fbb3cf0c_b.png" width="1104" />可以看到的是，低收入家庭组有更多的家庭是完全没有任何教育支出的，而仔细观察坐标轴，低收入家庭平均而言有更低的教育支出。</p><p>因而单单从扩展边际（extensive margin）上来看，这项政策本来更应该让那些低收入的、没有教育支出的家庭受益，然而这部分家庭却恰恰可能享受不到这项政策。</p><p>然而这项政策的影响可能不仅仅这么简单。作为直接影响，所得税的扣除影响了家庭的收入，而作为间接影响，所得税的扣除可以通过影响市场价格，进而对家庭的决策行为有更深刻的影响。</p><p>所以在这里我们必须知道的是，家庭的教育支出的收入弹性到底有多大？</p><p>弹性是一个经济学概念，意味着当收入增加1%时，教育支出增加的百分比。根据弹性大于（小于）1，消费品通常被定义为奢侈品和必需品。弹性小于1的商品，比如粮食等，被称为必需品，意味着不管收入的增加和减少对需求的影响不大；而弹性大于1的商品，比如数码产品，当收入稍微增加时，需求就有很大的改变。</p><p>那么不同组别的家庭教育支出的收入弹性是怎样的呢？同样使用UHS的数据，我做了一个非常粗糙的估算。从上面图中可以看到，教育支出有censored问题，所以这里我使用了Tobit模型进行这个估算。在回归中，除了收入之外，由于家庭中有没有小孩在外读书是潜在的影响教育支出的重要变量，我对这个变量及其平方也加以控制。</p><p>首先是总的教育支出的结果：</p><p><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/5ee0d411e39e2b303a58fc16373a7e40_b.png" width="581" />有两点值得注意。首先是，两个组别的家庭教育的收入弹性都大于1，意味着教育支出对于这两组家庭来说，都是奢侈品。</p><p>而低收入家庭的弹性大于高收入家庭，意味着低收入家庭的教育支出对收入更为敏感。这也就意味着，同样的财政成本，为了让低收入家庭增加1%的教育支出，其成本比高收入家庭更低。</p><p>下面我们将教育支出继续细分。一般来说，教材费用是比较固定的，且只有家里有小孩时才需要缴纳，因而排除这个变量，继续看弹性：</p><img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/a1f36fd7e213b13e21fcb8c3d3aa8ab9_b.png" width="587" /><p>我们会发现，所有的弹性的估计结果都变大了，也就是说，非教材的教育支出对收入的增加更为敏感。</p><p>我们继续细分，教育支出中大家最关心的莫过于自己和小孩参加各种培训班的支出了。这部分支出的弹性又怎样呢？<br /><img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/d6f1b525eaae6e47402d1a9a4728bbe1_b.png" width="584" />这里比较奇怪的是，低收入家庭的弹性变低了，而高手家庭的弹性又一次变高了。</p><p>这意味着什么呢？意味着如果高手如家庭的收入增加，将很大可能增加培训班的支出，而低收入家庭则不会。</p><p>这里可以想象一下，如果高收入家庭可以得到这部分所得税的扣除，有可能更多的报考培训班，如此一来，各种培训班的价格将会持续上涨，这进一步排除了那些享受不到政策优惠的低收入家庭参加培训班的机会。</p><p>也就是说，这个政策让富人更富，穷人更穷。富人可以享受国家的政策优惠，通过各种培训班大力投资自己及小孩的人力资本；而穷人呢？穷人只能享受基本的教育。</p><p>这对中国社会的阶层流动性、代际流动性的改善都非常不利。</p><p>然而，结果可能还不止这一些。熟悉劳动经济学文献的人一定对所谓的“quality-quantity tradeoff”不陌生。这个理论是说，家庭由于资源限制，会权衡“更多的孩子，孩子的质量更低”和“更少的孩子，质量更高”，再通俗一点，就是家庭会在培养“一个本科”和培养“两个中专”之间进行选择。</p><p>如果是这样，提高的教育产品价格将抬高培养一个“质量”更好的孩子的成本，进而导致更低的生育率。</p><p>在国家放开二胎，鼓励生育的背景下，不知道这是不是政府愿意看到的结果。也许政府推出这个政策可能是希望鼓励生育，然而很有可能事与愿违。</p><p><b>4、与国外比较</b></p><p>虽然教育费用的个税扣除在国外应用比较普遍，然而忽略国内外的制度背景而盲目学习国外并不一定能够制定出更好的政策。</p><p>首先是个人所得税覆盖率的差别。根据估测【2】，美国大约有一半的家庭需要缴纳联邦所得税（Federal Income Tax）。然而需要注意的是，有一半的家庭需要缴纳所得税，并不意味着另外一半人享受不到教育费用抵扣的好处。实际上，另外一半不需要缴纳所得税的家庭，包含着<b>负税率</b>的家庭。负税率意味着，你不仅不需要缴纳所得税，联邦还要通过其他方式补给你钱。根据IRS的官方网站，教育的抵扣是可以给予退税的【3】。这也就意味着，即使数据中看到不需要缴纳所得税的家庭，也能享受到抵扣的好处，甚至很多家庭之所以不用缴纳所得税，正是由于享受了这些抵扣。</p><p>那么反观我们的改革，教育费用的个税扣除能不能照顾到我们国家90%的不纳税的家庭？机制该如何设计？如果像美国那样允许负的税率，只有10%的家庭在纳税，而另外的90%的家庭税率为负，政府的净收入到底会有多少？我对此表示怀疑。</p><p>其次，在美国，失业保险不仅仅是一项保险，还包含了对于失业人员的培训等内容。政府会为那些失业人员提供培训机会，以帮助他们早日找到工作。然而在国内，失业保险本身都是一项存在感很低的政策，失业之后的补助之低，甚至很多人都不会主动去登记失业，更不要说失业之后的培训。如果一个人失业了，那么他肯定是没有收入了，自然不用上缴个人所得税。而这个时候他可能更需要培训、考试，而这些费用如何体现在教育费用的扣除中？</p><p>如果考试费用可以扣除的话，究竟是一个在职的正在考CPA、CFA、FRM的职员更需要钱，还是处于失业状态打算考各种从业资格证的人更需要钱？在配套政策缺失的情况下，教育费用抵扣政策应该如何设计才能保证在职者和失业者公平的享受这个政策？</p><p>就像熔断机制一样，外来的政策不一定就是好的政策。虽然教育费用的个税抵扣是国外很普遍的做法，但是任何一项政策都不是孤立存在的，税收政策以及相应的社会保险等政策应该是相互补充、相互促进的。在国内没有完整而又成熟的配套政策之前，盲目学习国外的政策，是否欠妥？</p><p><b>5、结论及建议</b></p><p>通过上面比较粗糙的分析，我们可以想到，教育费用的个税扣除所造成的影响可能并不是单纯的增加了居民的人力资本或者生育率。如果制度设计不当，很有可能会导致中国社会的不平等加剧，社会阶层进一步割裂，而提高生育率的目的，如果有的话，也很难到达，甚至事与愿违。</p><p>所以希望政府在实施这项政策时，能够对低收入群体、失业群体等有所照顾。如果一定要学发达国家实行这个政策，那么发达国家的负税率的办法请一并学过来。同时，发达国家的失业保障体系也不容忽视。如此，才能抵消这个政策带来的fuzuoyong</p><br /><p><b>参考资料</b></p><p>【1】<a class=" external" href="https://link.zhihu.com/?target=http%3A//www.chinanews.com/cj/2011/07-01/3149387.shtml" rel="nofollow noreferrer" target="_blank"><span class="invisible">http://www.</span><span class="visible">chinanews.com/cj/2011/0</span><span class="invisible">7-01/3149387.shtml</span><span class="ellipsis"></span><i class="icon-external"></i></a><br /></p><p>【2】<a class=" external" href="https://link.zhihu.com/?target=http%3A//www.taxpolicycenter.org/numbers/displayatab.cfm%3FDocid%3D4323" rel="nofollow noreferrer" target="_blank"><span class="invisible">http://www.</span><span class="visible">taxpolicycenter.org/num</span><span class="invisible">bers/displayatab.cfm?Docid=4323</span><span class="ellipsis"></span><i class="icon-external"></i></a><br /></p><p>【3】<a class=" external" href="https://link.zhihu.com/?target=https%3A//www.irs.gov/uac/Tax-Benefits-for-Education%3A-Information-Center" rel="nofollow noreferrer" target="_blank"><span class="invisible">https://www.</span><span class="visible">irs.gov/uac/Tax-Benefit</span><span class="invisible">s-for-Education:-Information-Center</span><span class="ellipsis"></span><i class="icon-external"></i></a></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/sijichun?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">慧航</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
从高校心理学专业进入互联网「用户研究」领域是一种怎样的体验？
谢邀<a class="member_mention" href="http://www.zhihu.com/people/e37963dbb4da3870ac9e1d2d20825fc4">@刘柯</a><br />能够从事用户研究工作也是机缘巧合，现在很感谢这种缘分，因为互联网行业的用户研究让我认识到心理学的应用价值，也看到互联网行业对用户研究、用户体验的逐渐重视。<br />我是到了研二的时候才开始接触用户研究（甚至刚听说用户体验，一方面我考虑工作比较晚，一方面也说明学校的心理学和产业脱节吧），是因为参加了SAP举办的用户体验设计比赛，和几个设计师小伙伴合作很开心，后来陆续在外企、大型互联网公司、国企、互联网创业公司从事用户研究工作，只敢说还比较初级，随便聊聊自己的感受吧：<br /><ul><li>用户研究工作特别适合心理学专业的毕业生，甚至最适合，因为研究人嘛，还有比心理学更专业的吗？且不说几年积累下来的关于人类心理、认知、行为的知识，用户研究所使用的测试（实验）、数据分析（统计）、问卷调研、访谈等，恰恰应该是心理学毕业生的看家本领。</li><li>用户研究是个还在发展的职业，目前中国互联网行业还在慢慢的接受中，很多公司刚开始招募和组建团队，相信未来会有越来越多的公司认识到，虽然用户研究不像开发、设计、产品那样必不可少，但是也有着战略性的价值。</li><li>用户研究这个职业看似门槛低，但是非常“挑人”。很多公司没有专职用研，其实是产品经理、交互设计等在做着这方面的工作，毕竟找用户聊聊天、试用一下产品、发个问卷，看似谁都可以做，用研工作的好坏并不像设计和开发那样显而易见。但是，一个用研的真正专业性，不仅仅体现在他做了哪些事情，而在于如何去做，访谈的技巧，问卷设计和执行的科学性，这些才是体现专业性的地方，也是用研工作质量差异之处。另外，对人类情绪、行为、决策、认知、需求等方面的整体理解与结合实际场景的应用，是一个专业用研必不可少的，这就要求不仅研究方法基本功扎实，还要有挖掘、整合、探索的能力，甚至需要兴趣和悟性，在工作中不断思考，毕竟心理学知识体系太过庞杂，能做到这点的应该很少，甚至有这种意识的也不算多。</li><li>心理学专业的学生都知道，人很复杂，行为很难预测，心理学理论中，大多只是做到了分类、解释，涉及到预测的时候往往要前置很多条件，人口统计学信息、情景等，而在工作中需要的是解决实际问题，尤其是互联网行业这样快速的行业，如何让自己的工作产出更加可操作、精准就是个很头疼的问题，这就不仅需要理论扎实，还需要通过不断的实践去积累经验和“感觉”，也就是说一个专业的用研需要很多年的成长过程。</li></ul><br />先说这么多吧，以后想到再补充。<br />欢迎讨论和指正。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/yang-zheng-91?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">杨铮</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/39876818/answer/89492301?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">23 个回答，查看全部。</a><br />
寨卡病毒强烈的神经嗜性得到证实（及其他）
<img class="origin_image zh-lightbox-thumb" src="https://pic4.zhimg.com/e48f400e3163cefa85b7eb9ff57cdc0f_b.jpg" width="1400" /><p>近期新闻：</p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bio360.net/news/show/22633.html" rel="nofollow noreferrer" target="_blank">老挝报告首例本土感染寨卡病例<i class="icon-external"></i></a><p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//world.huanqiu.com/exclusive/2016-03/8651798.html" rel="nofollow noreferrer" target="_blank">巴西科学家：比伊蚊更常见蚊类或也可传播寨卡病毒<i class="icon-external"></i></a><br /></p><p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bio360.net/news/show/22636.html" rel="nofollow noreferrer" target="_blank">寨卡病毒可能导致更多病症<i class="icon-external"></i></a><br /></p><p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.bio360.net/news/show/22637.html" rel="nofollow noreferrer" target="_blank">世卫组织警告南半球进入寨卡热高发期<i class="icon-external"></i></a><br /></p><p>正文：与“新闻：<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzAxNzEwNjY2MA%3D%3D%26mid%3D402531076%26idx%3D1%26sn%3D1424b66b2a78d11b216b437e7ae4a6fb%26scene%3D1%26srcid%3D0307w3IOouJSJBgMhBnqG16D%26pass_ticket%3Dss1vKgczyXUR%252B7cFkKKqvi270lvLu%252BaFLkvQ8DVTm1PnCYGJVpAMNFzYCd%252F6F%252BT2%23rd" rel="nofollow noreferrer" target="_blank">寨卡病毒“杀死”神经细胞<i class="icon-external"></i></a>”相近。</p><p>————————————————————————————<br /></p><p>【1】文献：<b><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.cell.com/cell-stem-cell/fulltext/S1934-5909%2816%2900106-5" rel="nofollow noreferrer" target="_blank">Zika Virus Infects Human Cortical Neural Progenitors and Attenuates Their Growth<i class="icon-external"></i></a></b>解读。<br /></p><blockquote>约翰斯·霍普金斯大学的明囯莉、宋洪军，佛罗里达州立大学的唐恒立以及埃默里大学的金鹏带领4个研究组联合攻关，从2月初开始连续工作约1个月，获得了上述发现。谈起这项研究的起因，脑神经网络专家宋洪军教授说，大脑发育与神经干细胞的增殖、生长直接相关，所以他们问的第一个问题是，新生儿小头症是不是因为神经干细胞出了问题？因此，他们利用细胞培养的方法，把人类的<b>诱导多功能干细胞</b>分化成<b>神经干细胞</b>，<u>再利用寨卡病毒感染神经干细胞</u>。结果他们发现，寨卡病毒不仅可以“非常好”地感染神经干细胞，而且这些干细胞被感染后就像“病毒工厂”一样，会产生更多的寨卡病毒，形成一个恶性循环。从整体上看，神经干细胞的生长也减缓了。</blockquote><img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/a087fc3db43b1d57f2523c7c6239a1d9_b.jpg" width="2916" /><ul><li>A表示<b>人神经祖细胞</b>（hNPCs），<b>绿色</b>的<b>是寨卡病毒E蛋白</b>的染色（用的是黄病毒E蛋白共同抗体4G2），相比对照可以发现很多细胞被感染，绿色集中的位置处在细胞核周围，应该主要是内质网和高尔基体；<br /></li><li>B表示的是<b>神经元</b>（neuron），相比对照也能发现很多绿色；<br /></li><li>D显示的是<b>猴肾细胞</b>（Vero），Vero是病毒学上经常使用的一种干扰素缺陷型的细胞，通常用来作病毒的扩增后者滴定，这里相当于是阳性的对照。</li></ul><blockquote>不过，<b>对于其他组织样本</b>，包括<u>高级功能的脑细胞、肾细胞及胚胎干细胞</u>，寨卡病毒只能感染约一成。其中一名研究人员明国丽表示，这项发现非常重要，是了解小头症及寨卡病毒的关系的第一步。她说：“神经祖细胞对寨卡病毒特别脆弱。”“神经组细胞构成大脑皮质。小头症的病人中，大脑皮质缩小了。”“不过，这项研究不能提供直接证据，证明寨卡病毒是导致小头症的原因。”明国丽说，需要进行脑部类器官或动物研究。寨卡病毒对神经祖细胞杀伤力强，原因不明。不过，神经祖细胞看来没有对寨卡病毒起免疫反应。</blockquote><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/3711ecfe65ff258c175de33b0236a84c_b.jpg" width="1737" /><ul><li>这张表格是作者总结的不同细胞系对还寨卡病毒的易感性，可以看到<b>三个加号（+++）</b>的主要是<b>神经细胞</b>，有<b>两种神经祖细胞</b>、<b>胶质瘤细胞，星形胶质瘤细胞</b>，所以可以看到寨卡病毒对神经细胞的嗜性是非常强烈的；另外两种三个加号的细胞——猴肾细胞和<b>伊蚊细胞（C6/36）</b>，可能病毒学的人都清楚，刚才提到了猴肾细胞，其实对于这种蚊媒病毒来说，病毒一般都是用C6/36细胞也就是伊蚊细胞来扩增的，包括常见的登革病毒、乙脑病毒在内的蚊媒病毒一般都是用这种细胞来扩增的。<br /></li></ul><br /><blockquote>研究人员把一些不同的组织样本感染寨卡病毒，三天后再分析样本。研究人员发现，其中一个样本中，寨卡病毒能感染达九成的神经祖细胞，<b>导致约三成祖细胞死亡</b>，<u>其余祖细胞的生长被干扰</u>。假如寨卡病毒在发育中的脑部亦同样运作的话，对脑部将造成不堪切想的影响。</blockquote><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/d2d42abc6817ea65685f88ced954ae1c_b.jpg" width="2907" /><ul><li>A中<b>绿色</b>表示的仍然是寨卡病毒的感染，但是同时加了<b>Cas3</b>这个<b>红色</b>的抗体，Cas3是<b>Caspase3</b>的缩写，这个蛋白是<b>细胞凋亡</b>的一个标志物，可以看到相比对照（Mock），ZIKV感染组里的Cas3阳性细胞特别多【B显示的是统计图】，所以可以得出结论——寨卡病毒感染可以导致人神经祖细胞（hNPCs）的凋亡，<br /></li><li>D表示的是ZIKV感染的细胞中，GO分析（Gene Ontology analysis ）显示下调的基因主要集中在<b>细胞周期相关通路</b>（蓝色），这可能表明了ZIKV感染可能迟滞了神经细胞的继续分裂、生长。这也可以印证图C中的结果。<br /></li><li>E表示（红色）的是上调的基因，主要集中在<b>转录</b>、<b>蛋白转运</b>和<b>分解代谢</b>过程，也是病毒劫持了细胞后迫使细胞优先<b>合成病毒的蛋白</b>并<b>组装病毒</b>，同时<b>消耗细胞大量能量</b>所导致的。<br /></li></ul><br /><blockquote>因此，该研究“迈出研究小头症与寨卡病毒之间关联很重要的第一步，了解到小头症起源细胞会被寨卡病毒影响”。</blockquote><p>————————————————————————————</p><br /><p>【2】文献：<b><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.nejm.org/doi/full/10.1056/NEJMoa1602412%23t%3Darticle" rel="nofollow noreferrer" target="_blank">Zika Virus Infection in Pregnant Women in Rio de Janeiro — Preliminary Report<i class="icon-external"></i></a></b>解读。</p><blockquote>另一项美国加利福尼亚大学洛杉矶分校和巴西生物医药研究机构Fiocruz对里约热内卢一家诊所进行的研究亦提供更多证据证明寨卡病毒与小头症的关系。在去年九月及今年二月期间，研究人员调查到医院求医的孕妇。她们都有出红疹（额...这话不标准）。</blockquote><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/b2ed0c0f834a2b4e232b9d7fa484e74e_b.jpg" width="1547" /><blockquote>这８８名孕妇中，７２人被确认感染寨卡病毒，其中４２人同意进行超声波检查。这里面，有１２名孕妇在检查时被查出胎儿发育异常。</blockquote><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/4af0a316a7c0f50a6014e7b717041e7a_b.jpg" width="1482" /><blockquote><p><b>在已经生产的８名孕妇中，只有２人生出的胎儿发育正常。２人诞下死胎，两个胎儿体重不足</b>，一个胎儿出现明显的小头症，还有<b>眼部功能障碍</b>，很可能是先天失明，还有一个胎儿被发现母体没有羊水后依靠<b>紧急剖宫产手术取出</b>。</p></blockquote><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/0947a73fa30c7daacd5b38f8612435d6_b.jpg" width="1587" /><blockquote><p>研究负责人加利福尼亚大学洛杉矶分校医学院临床儿科教授卡琳·尼尔森说：“我们发现寨卡病毒和胎儿发育异常之间存在强烈关联，这些之前尚未被证实。即使胎儿未受病毒影响，胎盘似乎受到损害，这可能导致死胎。”<br /></p><p>尼尔森说，这些孕妇大多数是在怀孕的前６个月感染寨卡病毒的，但是也有一些是在临盆前３个月才感染的，产下２名死胎的孕妇在怀孕前期和中期的超声波检查中均未出现异常，生产时月份已经很大。美国和巴西科学家开展的最新研究显示，寨卡病毒可能造成的胎儿发育异常病症不仅限于新生儿小头症、积水性无脑和死胎，还包括胎儿脑钙化（<a class="internal" href="https://www.zhihu.com/question/39949468/answer/85064572">我在上次的欧盟病例解析里也提到了这一点</a>）、<b>胎盘功能不足</b>、<b>羊水少</b>、<b>胎儿发育迟缓</b>、<b>中枢神经受损</b>和<b>先天失明</b>等。</p></blockquote><p>——————————————————————————————————</p><p>【3】新闻：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//world.huanqiu.com/exclusive/2016-03/8651798.html" rel="nofollow noreferrer" target="_blank">巴西科学家：比伊蚊更常见蚊类或也可传播寨卡病毒<i class="icon-external"></i></a>解读。<br /></p><blockquote><p>据悉，埃及伊蚊已被认为是寨卡病毒的主要传播者，人们认为该病毒与一类被称为“大头症”的生育缺陷有关。但巴西科学家2日称，他们在实验室中可以使另一种蚊类——<b>致乏库蚊</b>也感染这种病毒。研究者称，在巴西这种蚊类比埃及伊蚊常见20倍。该结果表明比埃及伊蚊更常见的蚊类也可以感染寨卡病毒，这使人们对此提高关注。研究者还称，<b>仍需进一步研究以查明该蚊类是否可以传播寨卡病毒</b>。</p><p> 报道称，该次研究由巴西政府资助的奥斯瓦尔多•克鲁斯基金会中的科学家进行。科学家称，<b>病毒在致乏库蚊血液内循环，可以到达该蚊类的唾腺，这意味着该蚊类可以通过叮咬将病毒传播给人类</b>。<b>该研究还未在杂志发表或接受同行审议</b>。基金会称，还需更多工作确认野外的致乏库蚊是否也可以携带以及传染寨卡病毒。</p></blockquote><p>因为文献还没有发表，对于致乏库蚊（Culex fatigans）我只能做一个小小的担忧，<a class="internal" href="http://zhuanlan.zhihu.com/notesonvirology/19860720">我在文章里提到过吸血蚊的分类</a>，这里稍微提一下：</p><p>首先库蚊是在中华大地广泛分布的一个蚊种，包括<b>致乏库蚊，三带喙库蚊，二带喙库蚊，淡色库蚊</b>等等。我们国家流行的乙型脑炎病毒就主要是三带喙库蚊所传播的，不过其他库蚊也能传播。而乙型脑炎在我国的流行区，可以说除了新疆西藏外，都有....</p><br /><p>参考文献：</p><ul><li>[1]Zika Virus Infects Human Cortical Neural Progenitors and Attenuates Their Growth<br /></li><li>[2]Zika Virus Infection in Pregnant Women in Rio de Janeiro — Preliminary Report<br /></li><li>[3]Zika Virus Associated with Microcephaly<br /></li><li>[4]Differential Susceptibilities of Aedes aegypti and Aedes albopictus from the Americas to Zika Virus</li></ul>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/vigorous-cooler?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">Vigorous Cooler</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
量化交易或程序化交易的发展和普遍运用，会使得市场趋向于有效市场假说吗？
这问题下强答的真多。。。<br /><br />1. 首先，“假说”这个名词不能用“趋向”这个动词。问题应该是“量化交易能让市场更有效吗？”或者“量化交易能让市场满足有效市场假说吗？”<br /><br />2. 假如问的是后者，答案是不能。有效市场假说是什么？是“资产价格完全包含(incorporate)市场已知的信息”。而量化交易，by definition，只能用到可以量化的信息。这是决定资产价格的一小部分。就算量化交易者发现了所有能用数字表达的信号，还不能把剩余的价格波动变成white noise。<br /><br />3. 假如问的是前者，那么，的确，量化交易者让市场很多方面更有效。至少很多金融产品已经不会出现一件东西在两个地方卖价不同这种事了。量化交易带来的这个好处远大于它带来的各个问题。<br /><br />但是，量化交易着实在另一些方面让市场变得更无效了，因为它把一些有能力发觉市场信息的人赶走了(crowd out)。举个例子。市场上的确有些交易员真正懂得用基本面给期权定价并交易期权。但是，他们不够懂市场微观结构，在交易时很容易被懂微观结构的高频交易者发现他们的信息。他们的劳动成果无法给他们交易回报时，他们会退出市场，这样期权市场就只剩下不懂得给期权定价的高频交易者了，市场的信息减少了。<br /><br />这是著名的Stiglitz critique。在我看来这是唯一让我信服的反对高频交易的理由。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/40038706/answer/88876364?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/40038706/answer/88876364?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">16 个回答，查看全部。</a><br />
会蛙泳的人如何学习自由泳？
-<br /><b>版权声明:<br />本文版权归作者梦觉所有，如需转载，请事先联系作者梦觉，知乎私信、微信公众号 mengjue666 留言均可。<br /><br />未经作者授权，禁止转载。<br /><br />p.s. <br />为个人学习、研究或欣赏，欢迎分享。</b><br /><br /><br />谢邀。<br /><br />这个回答是针对成年有游泳基础且自学的情况来的。<br /><br />不会蛙泳或者没有基础，没关系，照例甩链接，希望会对朋友有帮助。<br />1.<a class="internal" href="http://www.zhihu.com/question/19767374/answer/18504728">怎样快速有效地学习游泳？ - 梦觉的回答</a>（这个是练习换气，漂浮和蛙泳的）<br />2.<a class="internal" href="http://www.zhihu.com/question/20952424/answer/24662616">如何学习踩水？ - 梦觉的回答</a><br /><br />一个问题问学会了蛙泳的朋友。<br />会了蛙泳后，除了自由泳就没有其它的练习了吗？<br /><br />我费了些劲，以 自己问 邀请自己 自己答 的方式，写了一些过渡的练习，希望对朋友们有些帮助。<br />3.<a class="internal" href="http://www.zhihu.com/question/24142521/answer/26923826">人们练游泳的时候，到底该练习什么？ - 梦觉的回答</a>（这个主要是讲会蛙泳后，想练自由泳前，中间还需要练些什么。）<br />4.<a class="internal" href="http://www.zhihu.com/question/24498387/answer/30588039">在游泳运动中经常提到的水性是什么？如何练习？ - 梦觉的回答</a><br />5.<a class="internal" href="http://www.zhihu.com/question/24498379/answer/32832859">在游泳运动中经常提到的水感是什么？如何练习？ - 梦觉的回答</a><br /><br />自由泳可是比蛙泳难上手得多哦，而且游好看点的难度也比蛙泳大一截。原因之一，自由泳动作是连贯的，不像蛙泳动作有个漂浮停顿的阶段。稳定性需要靠自己大量的练习才能得到提升。还有换气的原因，自由泳是转头换气，嘴巴比较贴着水面，刚刚开始练习的时候很多人因为害怕呛到水或因为习惯动作，不自觉的把头抬起来。而且不熟练的话，确实是容易呛到水，这也增加了自由泳的难度。<br />但好处是，自由泳与仰泳甚至蝶泳技术动作上是相通的。<br /><br />考虑到来这里的大部分人，是自学，我想了很久，决定换一套教学方式，先来整体动作，让人有个整体动作的概念。再练部分动作，部分动作练好再往整体动作上套。每个部分我都尽量写出 动作的不同阶段的<b>练法，</b>下面再贴个视频，然后写出动作需要<b>注意</b>的地方。这样就能看着视频里的动作来套入注意事项啦。<br /><br />我这个练法称为“囫囵渐进练习法”。<br /><br /><b>〇，囫囵游</b><br /><br /><a href="http://v.youku.com/v_show/id_XODkzNTU1NTY0.html?from=y1.7-2">自由泳囫囵游—在线播放—优酷网，视频高清在线观看</a><br /><br />注意<br />1.手真的全程要伸直，一点都不要弯，空中移臂时也不要弯，这是为了避免手往后划完水会不自觉的先往前移动小手臂。在水中划水的时候，手掌对着后面划。<br />2.空中移臂的时候，身体稍微转动一下，至少把在空中移臂那一边的肩膀给露出水面来一下下，<br />但是转动身体的时候，脑袋还是埋在水中不动。①眼睛看着池底。②下巴尽量去贴着脖子。③头顶对着前方。这三个描述的时同一个头部动作。<br />3.身体不要左右摆动，而是要左右转动。<br /><br />我的朋友，只要你照着视频上那个动作做出来，谁人能说，这不是自由泳！<br />当然，要游得好一些，就要分细一些，以上动作只是重在体验，我们还是要来一一练习的。<br />自由泳分为：<br /><br /><b>一，自由泳腿</b><br /><b>二，转体展肩+转头换气</b><br /><b>三，划手</b><br /><br />一个一个来，好好的练习，不要急，光这些练习，只要练累了，也是能减肥的。<br /><br /><br /><b>一，自由泳腿</b><br /><br />要说自由泳腿的诀窍是什么，那就是多练习，专业队的训练课打腿练习是必不可少的，这样想一想，会不会平衡一些呢？<br /><br />当然，先知道怎么练很重要，这里会啰嗦一些。<br /><br />先来谈一个问题。<br />我们打自由泳腿时，腿究竟是 绷直的 还是 弯着的，这不只是一个取向问题。教游泳的大都会说自由泳腿不能弯，要绷直打腿。可会有许多许多学员问，教练，我明明看见别人打腿的时候腿弯了呀。<br /><br />那么滴，问题来了。<br />自由泳腿，究竟是直的还是弯的？<br /><br /><a href="http://v.youku.com/v_show/id_XMTI1NjQ0MDUyMA==.html?from=y1.7-1.2">自由泳腿错误示范—在线播放—优酷网，视频高清在线观看</a><br />那么滴，自由泳腿到底是个什么样的动作呢？<br />首先，大腿带着小腿走。<br />腿往上时，大腿抬起来，小腿不需要用力。<br />腿往下时，大腿先用力，小腿加速发力，整条腿像鞭子一样，踢出去，像是踢球，又像是甩拖鞋。动作做完时，腿是伸直的。<br />然而这还不够，所谓的鞭状打腿，而且是连续的鞭状打腿，有这么几个特点：<br /><b>1.近端永远比远端要提前一步走。主要表现于，</b><b>小腿往下快踢直时，大腿已经往上开始抬起了。</b><br /><b>2.越近端越慢，越远端</b><b>越</b><b>快。</b><br /><b>3.</b><b>越</b><b>近端控制着，</b><b>越</b><b>远端放松着，脚踝是一直放松着的。（仰泳腿的话，脚掌要绷直，因为需要下压。）</b><br />这里近端指的是大腿，远端指的是小腿。<br />连续快速的抽鞭子是怎么个抽法？（视频中会有慢动作）<br /><br />自由泳腿容易卡壳的地方是，往上，小腿放松的，抬大腿。<br />抬腿时，大腿不动，直接把小腿翘起来，犯这个动作错误的学员多到我一度失眠。<br /><br />这个对一些人来说很容易上手，对另一些人来说难得飞起。为了这一难题，我决定，先练习抬腿，再练习发力，再然后才是连贯着的自由泳腿。<br />建议你们先试试自己自由泳腿打得怎么样，别跟着练了半天发现自己原来是容易上手的那一类，能跳级，就跳级。<br /><br /><br /><b>阶段一，上.抬大腿</b><br />1.趴在躺椅上，膝盖以下完全放松，两条大腿分别抬起，一上一下，注意用腰背和臀部肌肉的力。<br />还可以慢慢加快，好好体会体会。<br />2.坐在泳池边上，膝盖以下基本放松，两条大腿分别抬起，抬起时，膝盖会弯，稍微控制一下，不要弯成90°就好了。<br />3.上半身趴在泳池边上，同1。<br />4.下水，双手扶池边，手伸直低头，仍然主要是大腿上下动，小腿不要那么的放松了，不用力的跟着大腿走就好。而大腿对小腿要有一种，把你往下甩了就跑，真刺激，的感觉。<br />这个练习名称是，动起鸟你滴大腿来~<br /><br /><a href="http://v.youku.com/v_show/id_XMTI1OTczNDM1Mg==.html?from=y1.7-1.2">自由泳腿：1.动大腿—在线播放—优酷网，视频高清在线观看</a><br /><br /><b>阶段二，下.鞭打腿</b><br />双手扶池边，手伸直低头。先抬腿，再狠狠的往下踢，这时小腿得使劲，加速下踢，近端慢，远端快，力量越大越好，踢出来的水花越大越好。得记得是鞭状打腿，不要腿已经踢直了，还用力往下，因为这时腿已经僵直，没什么力了。<br />抬头换气腿也不能停。<br />这个练习，好好的体会一下踢水的感觉，记得小腿踢直时，大腿已经往上抬。<br />慢慢加快频率，控制好脚掌上下的幅度，不要出水面多了，恰好在水面是最好的。<br />频率加快后，身体可能会有些晃，尽量稳住就好。<br /><br /><a href="http://v.youku.com/v_show/id_XMTI1OTczNDc5Ng==.html?from=y1.7-1.2">自由泳腿：2.鞭打腿—在线播放—优酷网，视频高清在线观看</a><br /><br /><b>阶段三，自由泳腿的练习</b><br />此时扶着池边打腿已经没什么问题了，下面说几个练习方法。<br />1.拿着漂浮板踢腿。在深水区，身体立起来，踢腿。<br />2.冲刺踢腿，直接一口气火力全开，看看自己能踢多远。<br />3.在深水区，身体立起来，踢腿。<br />4.扶着池边，漂浮起来，吸气低头，双手用力推开池边，使劲打腿，打回池边后，抬头→吸气→低头，双手用力推开池边.....如此循环。在深水区，身体立起来，踢腿。<br />5.即使在动作没问题后，也要经常练习间歇游和变速游。如果想游得好的话。<br /><br />在这里示范一下练习3和练习4。<br /><br /><a href="http://v.youku.com/v_show/id_XMTI2MTY5MjE1Ng==.html?from=y1.7-1.2">自由泳腿：练习3和练习4.—在线播放—优酷网，视频高清在线观看</a><br />再说一次，打腿的练习基本上是每一堂课都会有的，即使是专业游泳运动员。所以要多练习。<br /><br /><b>※自由泳腿在囫囵游中的应用</b><br />动作还是那个动作，但是在游进时，注意力放在打腿上。<br /><br /><a href="http://v.youku.com/v_show/id_XMTI2NjA5ODgwMA==.html?from=y1.7-1.2">自由泳腿在囫囵游中的应用—在线播放—优酷网，视频高清在线观看</a><br /><br />我比较懒，一般放松游或者长游，我是一次腿一次划手的配合，上面视频大约是三次腿一次划手，也可以试试更多的，找到一个自己的节奏就好。<br /><br /><br /><b>二，转体展肩+转头换气</b><br /><p>先说转体展肩。</p><p>转体在自由泳中是个能充分利用上躯干核心力量的技术动作，在囫囵游中提到一下。说我们要转动不要摆动，那么先区分一下左右摆动和转体。</p><p>大家都知道我表述一向很直接。</p><p>转动是脑袋、屁股、脚 始终在一条直线上，就像是拿个铁棍，强行从肛门进，从头顶出，然后像烤乳猪一样不停的转动，就像这样子。</p><br /><a href="http://v.youku.com/v_show/id_XMTc1NTQwMjAw.html?firsttime=0&amp;amp;amp;from=y1.9-4">天才烤乳猪的方法—在线播放—优酷网，视频高清在线观看</a><br /><p>当然，并不是像烤乳猪那样转圈圈。</p><p>摆动是脑袋和脚还在直线上，而躯干并没有铁棍穿过，于是一动起来就左右摆。</p><p>练习起来，重点就是手往前伸，当整个手伸直了，还要往前伸，这时就只好动肩膀了，所以又说是展肩。像是这样。</p><br /><p>伸直手（手没有碰到前面的墙）</p><p><img src="https://pic2.zhimg.com/ceb1cf7d9fa627b5ae96e1edc7c3f6fd_b.jpg?rss" /></p><br /><p>展肩（手碰到了前面的墙，两个肩膀从一左一右变成了一前一后。）</p><p><img src="https://pic1.zhimg.com/ccaed15f6824b28a53bc4689e7e5a708_b.jpg?rss" /></p><br /><br /><br /><p><b>转体展肩的陆上模仿练习</b></p><p><b>阶段一，站立转体练习</b></p><p>准备动作，站在墙前面，一手前伸，一手放松。</p><br /><p>1，前手拼命往前伸，伸到肩膀大概能碰到脸，注意别歪成往左右伸了。</p><p>2，恢复准备动作即可。</p><br /><p>注意，前手浮空，距墙约转体展肩后手指恰好碰到的位置，此时数1数2动作，前手手指要能碰到正前方的墙。由于要求动作过程不能抬头，怎么知道自己碰到的是不是正前方的墙呢？可以拍视频啊，或者手上弄点水啊，自己想办法吧。</p><p>不要只练习一边哦~</p><br /><br /><b>阶段二，站立<u>转体+双手囫囵划</u>配合练习</b>（重点在转体）<br />准备动作同阶段一一样，站在墙前面，双脚并拢，一手前伸，一手放松。要双手交换着练习，一边一次，把手像囫囵游中那样，抡起来。身体基本没有静止的时候，一直在左右左右的转动，专注于双手的展肩动作就好。<br />这个具体就看视频吧，练习的时候，把肚子，腰绷紧一点，有一种很有力量，能控制一切的感觉。<br /><br /><br /><b>阶段三，趴腰前后手转体练习</b><br />准备动作同阶段一差不多，站在墙前面，双脚并拢，一手前伸，一手放松。要加上低头趴腰的动作。也是只练一边手，再练另一边手。<br /><br />站直的<br /><p><img src="https://pic2.zhimg.com/d1aa556598b9ca2465dab4a9e058a19d_b.jpg?rss" /></p><br />低头趴腰的<br /><p><img src="https://pic2.zhimg.com/eef3dc131e69ce3ed6265aa8e850eec9_b.jpg?rss" /></p>（原谅我的老腰...）<br /><br /><p>1，前手拼命往前伸，伸到肩膀大概能碰到苹果肌和耳朵中间那一块皮肤，注意别歪成往左右伸了。前手前伸了，后手自然也就往后伸了。保持好躯干的中线。头仍然低着，目光仍然略垂直的盯着地上。</p><p>2，恢复准备动作即可。</p><br /><br /><b>阶段四，趴腰<u>转体+双手囫囵划</u>配合练习</b><br />准备动作同阶段三一样，站在墙前面，双脚并拢，双手前伸，要加上低头趴腰的动作。手一边一次，把手像囫囵游中那样，抡起来。身体基本没有静止的时候，一直在左右左右的转动，专注于双手的展肩动作就好。<br /><br /><p>在陆上的动作练习，就是给大家一个动作的概念，并不需要苦练，但是发现前手往前伸直会向左或右歪的朋友要注意了，一定要练好才行。</p><br /><br />一直为我拍摄的好朋友也出镜了哟~<br /><a href="http://v.youku.com/v_show/id_XMTI3MDY1NTA3Ng==.html?from=y1.7-1.2">自由泳：转体陆上练习。—在线播放—优酷网，视频高清在线观看</a><br /><br /><br /><b>接下来讲转头换气。</b><br />自由泳的换气之所以难掌握，转头换气这个动作比较难占了很大的因素。为什么难呢？是因为这个转头换气根本就是一个反人类...也不说是反吧，总之是一个人类陌生的动作，我们在陆地上生活那么长时间，谁人会侧着脑袋呼吸啊。<br />（教练，我平时就是侧着睡觉的。）<br />......<br />这点需要强制的去练习来克服。<br /><br />还有一点，转头换气是要求脑袋有大概一半是在水面下的，这对于初学者来说明显是个非常危险的动作信号，导致会把头抬起来的心理过程大概是这样：一想着换气时嘴巴离水面那么近就好害怕呛到水，于是情不自禁的抬起了脑袋。<br />这个需要在转头换气前的一瞬，加速，不管是打腿还是划手。<br /><br />第三点，很多初学者朋友仔转头换气的时候害怕身体会沉下去，所以游不好。这一点除了上面说的会情不自禁的抬头所导致之外，还有一个原因是，转头换气本来就会导致身体下沉一点点。本质原因倒不是脸大脑袋沉，是因为转头换气的时候，手正在空中移臂，你的一部分出了水面，你的其它部分就会往水下沉一点点。有人说：哎，教练，为什么我不转头换气的时候就没下沉的感觉呢？<br />思考题哈，欢迎大家踊跃发言~私信也行~<br /><br /><br /><b>转头换气的陆上模仿练习</b>（基本就是在转体展肩练习的基础上加一个转头的动作。）<br /><br /><b>阶段〇，猛烈的钻头！</b><br />为了简单快速有效的了解转头到底怎么样转法，可以尝试一下这个练法：<br />双脚一前一后，低头趴腰，头顶顶着墙，双手背着。<br />1，脑袋随着身体转动约90度。<br />2，复位。<br /><br /><a href="http://v.youku.com/v_show/id_XMTI3MDY2MzkyOA==.html?from=y1.7-1.2">自由泳：陆上转头换气练习。（猛烈的钻头！）—在线播放—优酷网，视频高清在线观看</a><br /><br /><b>阶段一，趴腰前后手转头换气练习</b><br />准备动作同转体展肩的阶段三一样，站在墙前面，一手前伸，一手后伸。要加上低头趴腰的动作。头顶对着正前方，也就是前手手指的方向。<br /><br /><p>1，前手拼命往前伸（展肩），同时脑袋往后手方向转过来（例：左手放在后边，脑袋就往左边转）。动作做完，肩膀大概在耳朵这一块。</p><p>2，恢复准备动作即可。</p><br /><br /><b>阶段二，趴腰<u>转头换气+单手囫囵划</u>配合练习</b><br />加上单划手，但是练习的重点仍在转体和换气。<br />准备动作和上面差不多，不同的是双手都放在前面。<br /><br />1，一手后划，一手拼命往前伸（注意手肘不要弯，手指的方向不管对着前面还是后面，方向都要正，不要斜的。），同时脑袋往后手方向转过来（例：左手放在后边，脑袋就往左边转）。动作做完，肩膀大概在耳朵这一块。<br />2，复位，后面的手是从侧上方回到前面，移动过程中也得伸直。<br /><br /><br /><b>阶段三，趴腰<u>转头换气+双手囫囵划</u>配合练习</b><br />加上双划手，重点不变。身体基本没有静止的时候，一直在左右左右的转动，专注于双手的展肩动作就好。<br /><br /><br /><br /><b>接下来是水下练习</b><br />水下练习，转体和换气就不分开来练啦。<br /><br /><b>阶段〇，单手趴池边（深水站不稳）或 单手扶池边（浅水能站稳）</b><br />动作请直接看视频，需要注意的地方仍然是头部转过来的位置，大约要有一半脑袋在水中，尽量保持转动的幅度不要大于90度，换气依然是先呼吸再吸气，动作可以先慢一点，再慢慢加快。很多人问我换气究竟该快还是慢，该鼻子呼气还是嘴巴呼气。<br />我回答就一个，要什么都会，然后挑一个自己觉得最合适做起来最自然的。<br />这个练习主要目的是熟悉在水中转头换气的模式，脑袋务必要贴着水面，头顶务必要对着正前方。<br /><br /><a href="http://v.youku.com/v_show/id_XMTI3MTI5ODA4MA==.html?from=y1.7-1.2">自由泳：水中转头换气练习阶段〇—在线播放—优酷网，视频高清在线观看</a><br /><br /><br /><p><b>阶段一，单手扶池边转体换气练习（水中固定支撑练习）</b></p><p>准备动作，下水，单手前伸扶池边，另一手放后边。低头，踢腿使身体漂浮起来。</p><br /><p>数1数2上半身和陆地上的动作一样，需要注意的是前手前伸时，身体会转动，腿也会由往下踢变形成往转动的方向踢，但是没关系，就是踢。</p><p>这个练习有个地方我一直觉得挺别扭的。</p><p>因为扶着池边的手的位置总是会比在水中漂浮着的身体的位置要高一点点，导致转体的时候，扶着池边的手的肘关节如果要伸直，就会要用力下压，有池边这个固定支撑时，下压这个动作似乎没什么不妥，但是离开了固定支撑，到了不固定支撑（比如扶着浮板）或是到了没有支撑（前手不扶任何东西）的练习时，这个转体前手下压的动作就非常不好了，会产生相当多的阻力，而且还对划手有影响（这个讲划手的时候说），我们还是要专注于前伸这个动作。所以在手扶池边这个练习中，改变一点点动作，转体时，手肘部可以稍微弯曲一点，如图所示。</p><br /><p><img src="https://pic2.zhimg.com/2c31023a791b70f7ccb0c9fb56ebe8f1_b.jpg?rss" /></p><br /><p><img src="https://pic3.zhimg.com/53c1fd6d55db53218811ae292142945a_b.jpg?rss" /></p>(两张原图传半小时都传不上来一张，还是截小了点才能传上来！真是生气啊！我为什么在这种小问题上这么的婆婆妈妈这么久！我这是病吧？）<br /><br /><br /><b>阶段二，双手扶边<u>转体+换气+单划手</u>练习</b><b>（水中固定支撑练习）</b><br /><br /><b>阶段三，单手扶板转体换气练习</b><b>（水中不固定支撑练习）</b><br /><br /><b>阶段四，双手扶板<u>转体+换气+单划手</u>练习</b><b>（水中不固定支撑练习）</b><br /><br /><b>阶段五，前后手转体换气练习</b><b>（水中无支撑练习）</b><br /><br /><b>阶段六，<u>转体+换气+单划手</u>练习</b><b>（水中无支撑练习）</b><br /><br /><b>阶段七，<u>两边转体+两边换气+双划手</u>练习</b><b>（水中无支撑练习）</b><br /><br />以上转体换气动作要求就不再打字说了，和陆上的模仿练习差不多。视频也不每个阶段的动作都展示了。<br /><br /><a href="http://v.youku.com/v_show/id_XMTI3MTM2MjY4OA==.html?from=y1.7-1.2">自由泳：水中转体换气练习—在线播放—优酷网，视频高清在线观看</a><br /><br />转头换气于自由泳来说基本上和连续换气于蛙泳差不多重要，不能熟练掌握好动作技术，换气时机和换气速度的话，后面的划手练习是练不好的。最多加上囫囵划手体验体验划手换气的配合是怎么样的就好，练习的重心还是要放在换气上。<br /><br />望共努力。<br /><br /><br /><a href="http://v.youku.com/v_show/id_XMTI3MDYyODk2OA==.html?from=y1.7-1.2">烤乳猪式换气—在线播放—优酷网，视频高清在线观看</a><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><b>三，划手</b><br /><br /><br />蛙泳主要靠蹬腿，自由泳主要靠划手。<br />划手的动作与节奏练好了，往往事半功倍。<br /><br />（更不动了...）
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/meng-jue-99?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">梦觉</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/20237169/answer/51976709?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">71 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/21577700?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">蛙泳怎样才能游得快？</a><br />
            
<a href="http://www.zhihu.com/question/19796360?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">为什么在中国小孩学游泳几乎都从蛙泳开始？</a><br />
为什么四夸克态是在北京正负电子对撞机发现的？
2013年北京国际合作组(BESIII)利用北京正负电子对撞机(BEPCII)，发现了一个四夸克态候选者Zc(3900)，该成果在当年被美国物理学会旗下的《物理》杂志评为国际物理领域重要成果之首。<a class=" wrap external" href="http://link.zhihu.com/?target=http%3A//physics.aps.org/articles/v6/139" rel="nofollow noreferrer" target="_blank">Physics - Notes from the Editors: Highlights of the Year<i class="icon-external"></i></a><br /><br />这个成果确实非常重要，但是，一方面Zc(3900)是不是真正的四夸克态，还有待进一步研究；另一方面，Zc(3900)并不是第一个四夸克态候选者。请听我慢慢道来。<br /><br />我们知道，普通物质都是由分子或原子组成的；原子是由原子核和核外电子组成的，原子核的质量占据原子的绝大部分；原子核由质子和中子通过强相互作用束缚在一起；质子和中子都是由三个夸克组成的。<br />就我们目前的认识来说，粒子物理的标准模型告诉我们，夸克、轻子和传播子是我们世界的基本粒子。例如光子就是电磁相互作用的传播子，而电子属于轻子。夸克比较特殊，由于色禁闭，我们观察不到单个夸克，夸克总是以组合的形式出现。介子是由一个夸克和一个反夸克组成的，重子由三个夸克组成，例如质子和中子都属于重子。<br /><br />对于高能物理实验来说，介子和重子都是实验中常见的粒子，一般没什么特别的。但是，量子色动力学并不禁止“四夸克态粒子”和“五夸克态粒子”的存在，如果这些奇异的粒子没有被发现，则说明我们的标准模型以及量子色动力学很有可能不那么正确。所以，很多物理学家一直致力于寻找这些不寻常的粒子。经过不懈地努力，几十年的追寻，苦苦地搬砖挖矿找啊找。<br />时间到了21世纪，终于找到了，最近的十几年来，找到了一大堆的候选者……井喷一样的发现啊。<br /><br />第一个被发现的可能的四夸克态是X(3872)，由位于日本的Belle国际合作组在2003年发现<a class=" external" href="http://link.zhihu.com/?target=http%3A//arxiv.org/abs/hep-ex/0309032v2" rel="nofollow noreferrer" target="_blank"><span class="invisible">http://</span><span class="visible">arxiv.org/abs/hep-ex/03</span><span class="invisible">09032v2</span><span class="ellipsis"></span><i class="icon-external"></i></a>， 13年来，这篇文章的引用次数达到1000+。<br /><br />自2003年之后，其他的国际合作组陆陆续续发现各种候选者，例如下图就是由粲夸克偶素以及疑似粲夸克偶素的奇异粒子做出的图谱：<br /><p><img src="https://pic4.zhimg.com/aa41bc42f01c178060d40389076b7b6b_b.png?rss" /></p><br />上图中，被命名为X, Y, Z的粒子们都是可能的四夸克态候选者……至于哪几个是真正的四夸克态，还有待进一步研究，这是科学研究的基础前沿，尚未有定论。<br /><br />值得骄傲的是，在这些新粒子中，有一部分是由中国科学家主导的BESIII国际合作组发现的。那么Zc(3900)有何重要之处呢？<br /><br />《物理》杂志网站对Zc(3900)的评语如下：<br /><blockquote>“以前的实验表明，基本粒子一般由两个或三个夸克组成。今年夏天，在中国的北京谱仪III（BESIII）和在日本的Belle合作组报道，在高能正负电子对撞中发现了一个‘神秘粒子’，其中含有四个夸克。虽然人们对这个被称为Zc(3900)的粒子的性质有多种解释，但‘四夸克态’的解释得到更多关注。BESIII之后又发现了一系列含四个夸克的粒子。”</blockquote>有报道则提到：<br /><blockquote>Zc(3900)因为其中含有一对正反粲夸克且带有和电子相同或相反的电荷，提示其中至少含有四个夸克，极有可能是科学家们长期寻找的介子分子态或四夸克态。<br />Zc(3900)的发现<b><u>引发了实验和理论研究的热潮</u></b>，并提出了一系列亟待回答的问题：Zc(3900)到底是什么粒子，它的自旋-宇称量子数是什么，还有什么其他衰变模式，是否存在与Zc(3900)性质相同的伴随态，等等。<u><b>BESIII的实验结果表明Zc(3900)与此前发现的X(3872)、Y(4260)等粒子之间可能存在着实质性的关联，应当放在统一的框架内进行理论研究，探索它们的性质。</b></u></blockquote><br />新粒子被一个合作组发现之后，一般需要其他合作组去验证，才能确凿证实。验证的时间一般要几个月甚至几年，而Zc(3900)被中国的BESIII发现之后，第二天就被日本的Belle证实了。为啥？<br />因为Zc(3900)在BESIII的发现者和在Belle的发现者，是同一群人……高能粒子物理实验的研究团队一般都很大，有来自世界各国的参与者，中国科学家既参与了本国的BESIII，又参与了日本的Belle，然后在两个合作组的实验数据中同时发现了Zc(3900)，当然选择先把本国的文章投出去。<br /><br />(正文完)<br />=================<br />关于北京正负电子对撞机(BEPC)<br /><br />这台加速器确实是比较老的机器，但并不因为老就落伍。它1989年最初建成，2008年进行了升级改造，成为工作在粲物理能区的最好的加速器，硬生生把美国的CLEO-c搞得倒闭了。中国目前在粲物理领域处于世界领先的地位，研究粲物理的各国科学家几乎都聚集在中国。<br /><br />对撞机的能量不一定是越高越好，取决于你的研究目的。量子色动力学的微扰计算在高能量(TeV量级)下，理论和实验符合得很好，而在粲物理能区(2~4GeV量级)，由于粒子处于非微扰的状态，微扰的方法失效了，粲物理的理论也不成熟，粒子的各种性质需要使用各种唯像模型去凑，这使粲物理保持着它的重要研究价值，还有许多问题没搞清楚。<br />在TeV量级的高能区域，例如LHC，可以研究Higgs和超对称；在GeV量级的低能区域，例如BEPC，可以研究强子谱和奇异夸克态。各有所求，各取所需。<br /><br />中国的高能物理实验研究真正的崛起来自于北京正负电子对撞机，中国最初的高能物理人才几乎都来自于此。不过，北京正负电子对撞机真的老啦，去年因为探测器老化，停机了好长一段时间，好不容易换了新的零件，它的设计者谢家麟老先生上个月刚刚去世。<br />我估计十年之内这个对撞机就要关机被当作废铁卖了。到时候中国好不容易拉起来的研究队伍该何去何从？我们需要建一个新的对撞机，吸引世界各国的科学家为中国打造一个世界科学中心：<br /><a class="internal" href="https://www.zhihu.com/question/27783621/answer/44949620">LHC（大型强子对撞机）可能的后继者（计划）有哪些？ - 知乎用户的回答</a><br /><a class="internal" href="https://www.zhihu.com/question/32307083/answer/55875057">一个亿，应该用来拍一部电影，还是拿去找希格斯粒子这样的未知粒子？ - 知乎用户的回答</a><br /><a class="internal" href="https://www.zhihu.com/question/28844477/answer/81398305">如何看待环形正负电子对撞机 CEPC 项目？ - 知乎用户的回答</a>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/41016750/answer/89257541?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/41016750/answer/89257541?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">3 个回答，查看全部。</a><br />
经济学假设「人类都是理性并且自私的」，这符合心理学的研究吗？
看了前面很多人做的表达……<br />我发现太多人似乎根本没能理解经济学的理性假设在说什么了……包括举出丹尼尔·卡内曼的例子的那位高票答主……<br /><b>理性假设所假设的对象是人的行动、人的选择，而不是人的脑子里思维的过程，更不是支持某个人做出某种选择的价值观和世界观……</b><br /><b>它假设人的选择有两种特征：<br />1. 完备性：给定任意两个互斥的选项，人们总能至少选择其中一项。<br />2. 传递性：给定任意三个互斥的选项x,y,z，如果在x,y选项中某个人没有选择y，在y,z选项中这个人没有选择z，则在x,z中这个人一定不会选择z。</b><br /><b>显然“确定效应”、</b><b>“反射效应”、</b><b>“损失规避”这三个都不与理性假设相互冲突……</b><br />这里唯一与理性假设相互冲突的就是<b>“相对地位”</b>……甚至如果我们允许这个人就是在意其他人，那这个也不能算冲突……<br />其他的一些与理性假设相互冲突的现象有<b>“框架效应”</b>等情况……此处不再继续列举……<br /><b>理性假设不是完美的假设，但是请注意就只用理性假设，已经足以描述和预测很多情况（尽管它严格的来说不能解释任何情况），尽管可以说没有一个人的所有行为都符合这样的假设，但也很少有一个人的行为完全不符合这样的假设……</b><br />至于说经济学假设人是自私的……<br />经济学意义上的自私也与日常用语完全不一致……<br /><b>经济学意义上的自私是指存在一个函数，一个人的任何行为，都是在可能的范围内取这个函数的最大值……</b>（让这个函数的函数值变大，就是“获利”，否则的话我们将不可能定义“什么是获利”，凭什么一个自杀式袭击者就不能认为自己赚了呢？）……<br />一旦我们假定一个人的行为符合理性假设，那么我们就能确定这个函数的存在，并且还能确定这个函数的定义域（这个定义域是所有可能的选项的集合，可以用数学上的n维非负实数集来表示）……<br /><b>因此，即使这个人不理性，这个人也依旧是自私的，除非你想说这个人的行为方式绝不可能用任何函数加以这样的描述（一般而言，行为经济学所使用的方式也是更改这个函数的定义域及其数学表示方法，一般情况下更改为一个n维非负实数集与其幂集的叉积）……</b><br /><br /><br />另外有一位答主提到了前景理论、有限理性，以及跨期决策的一些研究……<br />但这种说法依旧是有问题的……<br />前景理论正是把一些粗看起来不理性的行为用“不对称心理效用”这种完全与理性假设兼容的方法解释了……<br />而有限理性是把一些行为用“信息不完全”这种完全与理性假设兼容的方法解释了……<br />至于跨期决策的一些研究则更是如此了……<br />这些理论和研究所摧垮的并非是理性假设，而是传统上经济学家们在理性假设的基础上，为了搜集信息的方便所进行的额外假设：“效用是对称的”、“信息是完全的”（当然，从某种角度上来说，信息不完全的情况下人们的行为还是否符合完备性假设就很难说了）、“效用是稳定的”……<br />这些假设都是一些为了搜集信息的方便，为了能够方便地统计出效用函数所做的假设……但它们都不直接包含在理性假设的范围内，甚至是经济学家自己会相信的也不多……<br />理性假设只有上面的“完备性”和“传递性”两条，后面的这些即使全部不成立，理性假设是依旧有可能成立的……<br /><br /><br />再进一步补充一下吧……<br /><b>其实这个与日常语言以及现代的心理学家所用的定义完全不同的对于“理性”和“自私”的定义，也不是与心理学一点关系都没有的，它源于斯金纳时代的行为主义心理学……在那个时代，心理学家们是不相信所谓“思维过程”而只相信外在的行为规律的……在这个基础上，经济学对于“理性”和“自私”进行了这样的定义（请注意，这是定义，是规定，我们就在这种意义上用这个词）……在后来，心理学家们不再对“思维过程”如此排斥，从而心理学对于“理性”和“自私”的解释与经济学对于“理性”和“自私”的定义就相互不兼容了，心理学和经济学开始在两个不同的意义上使用这两个词……直到今天，这两个学科还在用同一个词指代两种完全不同的东西……但对于同时接受过这两个学科的训练的人来说，应该能够适应双方的讨论，明确双方是如何使用这些词汇的，才不至于闹出什么乌龙……</b><br /><b>我们必须明确，即使是同一个人在同一种情况下所做的同一种行为……可能在哲学上是否理性是有争议的，在心理学上是不理性的，而在经济学上是理性的……这种定义上的不同出于各个学科的研究者们所意图解决的问题的需要，是完全有理由被接受的……</b>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/liu-zhen-rui-48?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">刘镇锐</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/41031870/answer/89550571?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">67 个回答，查看全部。</a><br />
资本主义社会经济危机是否存在必然性规律，马克思是否错判了资本主义制度？
首先我们需要了解，现代经济学是怎么解释经济周期的，可以参见@Junyi Hou 的回答 <a class="internal" href="https://www.zhihu.com/question/22150962/answer/33379637">宏观经济学如何解释经济周期？ - Junyi Hou 的回答</a> 在此我不想重复具体观点，我只想强调在现代经济学框架下，做到什么样才算是“解释”经济周期：宏观经济学家要建立模型（动态随机一般均衡模型，DSGE），建立矩条件，通过局部微扰(perturbation)求近似，校准(calibre)和估计参数，拟合矩条件、脉冲响应函数等等(见Fernandez-Villaverde and Rubio-Ramirez(2015))。虽然对于大的冲击（例如1929大萧条和2008金融危机）拟合效果不佳，但对中小经济周期的实证数据有较好的拟合，随着时间推移，宏观经济学家对许多重大问题共识越来越多（见Woodford(2009)）。<br /><br />而历来就有人以为嘴皮子一张，马恩经典摘两句话，就能看破世相，戳穿资产阶级庸俗经济学的丑恶面具，解释经济周期。人们不禁要问，你这个“解释”是什么意义上的“解释”？和数据拟合情况如何？或者哪怕对经济周期的几个stylized facts说圆了么。你这样的“解释”和“科学家千辛万苦爬上山，XXX早已在山顶恭候多时”有什么区别？<br /><br />而任某某的回答充分体现了一个民经的无知无畏。这位工程师声称：<br /><br /><blockquote>“其实这可以用工程问题来理解，你见过的样本多，采集的数据点多，拟合的曲线肯定就比别人精确。精确到一定程度，哪怕是平庸之才，往未来延伸一下曲线，一般来说准确度也会压倒数据少的天才。我们的教材里讲的故事，其实只是在当年那个假设曲线上延伸的一根直线，被现实打脸是必然的。现在我们要做的就是结合100多年来的历史，重新梳理一下数据和曲线。”</blockquote><br />貌似很科学。结果他的解释就是两个（不）等式：商品售价=利润+工资，商品售价&gt;老板的消费+工人的消费。<br /><br />要说结合历史，现代经济学结合得一点不少。例如Velde (2009)用1724年法国的自然实验作为案例证实货币非中性。而任某某做了什么呢？他洋洋洒洒写了那么多各位扪心自问能算“证据”么？且不说任某某最初的声称（“拟合的曲线肯定就比别人精确”）和最后的主张（两个（不）等式）形成了极其可笑的对比，认真探究一下，用最宽容的定义，这两个（不）等式能推导出资本主义经济危机么？是不能的。在这里要强调的是，这两个（不）等式作为庸俗的媒体经济学理论其实有很大的市场，例如财经媒体中常见的“消费过低、投资过高”理论。它主要捕捉了几个直觉：<br />(1)所有的生产“最终”都是为了消费，哪怕是资本品的生产都是为了“最终”生产消费品；<br />(2)每一个时期内的总产出只有一部分是最终消费品，所以某期内总产出和消费品之间有一个gap;<br />(3)由于这个gap成为投资，转而形成下一期更大的总产出，以后各期内总产出和消费品的gap越来越大。从而有一天有了生产过剩。<br /><br />这当中有多少隐含假设和逻辑跳跃呢？第(1)步中的“最终”是什么意思？阿基里斯最终追得上乌龟吗？下一期消费品不会增长到吞掉前一期的gap么？投资者是傻逼生产过剩了没有投资机会也不消费么？事实上众多经济增长模型，包括Solow和Ramsey的，都不难得到一个没有周期的稳定增长路径，满足路径上消费小于总产出，经济持续增长。甚至马克思作为经济增长理论的先驱也在《资本论-第二卷》给了一个扩大再生产模型，后人不难总结出一个没有危机的增长路径。当然这个马克思稳定增长路径是“偶然”的，in the sense of两个部类的资本家的积累—投资率必须保持相应比例才能稳定增长（吴易风(2007)），从随机角度来看概率很低。但这基本上是马克思把太多变量（技术进步、资本有机构成变化、资本家储蓄率）假定为外生给定的结果，我们不能苛责经济增长理论的先驱。任某某没有引这个结果，想来是没真正学过马经，只愿意拉大旗作虎皮拒斥现代经济学，所以只能援引庸俗版本的生产过剩论。以这种版本的生产过剩论，要避免经济危机恐怕只有取消经济增长，让消费在每一期都等于总产出减资本折旧。这哪是反资本主义，干脆就是反经济增长。工业党做到这个份上，也是够有意思的。<br /><br />最后发散讲两句。马克思认为意识形态是一种虚假意识，妨碍了人们认知真实世界。历史上，某些庸俗版本的马经理论，包括“生产过剩论”和“帝国主义论”，正是这种意义上的意识形态，导致社会主义国家执政者沉醉于幻想不能自拔。举一个例子，摘自John Lewis Gaddis的We now know: Rethinking Cold War History一书：二战末期，苏联寻求美国提供战后巨额贷款：<br /><blockquote>“Stalin hoped for a massive American reconstruction loan after World War II, and even authorized Molotov early in 1945 to offer acceptance of such assistance in order to help the United States stave off the economic crisis that Marxist analysis showed must be approaching. When the Marshall Plan was announced Stalin's first reaction was that the capitalists must be desperate.(p.41)”<br />……<br />From Moscow's perspective, anxiety over the future of capitalism had caused the Americans to raise the loan possibility in the first place: hence Molotov's curious offer on behalf of his government, some months later, to help the Americans ease their transition from war to peace by accepting a $6 billion loan, to be used to purchase capital goods in the United States. "As a banker," Ambassador W. Averell Harriman later commented, "I've had many requests for loans but Molotov's was the strangest request I have ever received."<br />……<br />The Russians, thinking as was their habit in Marxist-Leninist terms, interpreted American behavior as reflecting self-doubt, not self-confidence; as an indication of how worried the Americans were about a postwar depression. Why else would they offer credits to rebuild a non-capitalist state? <br />(p.192)”</blockquote>敌人要给我们援助是恐慌的表现，敌人的一次次胜利无非是运气好。一代又一代意识形态家当然可以继续做梦。<br /><br />参考文献：<br />Fernandez-Villaverde, Jesus and Juan Rubio-Ramirez. "Solution and Estimation Methods for DSGE Models," Prepared for <i>Handbook of Macroeconomics</i>, Volume 2, 2015.<br />Velde, François R. "Chronicle of a Deflation Unforetold," <i>Journal of Political Economy,</i>117.4(2009): 591-634.<br />Woodford, Michael. "Convergence in Macroeconomics: Elements of the New Synthesis," <i>American Economic Journal: Macroeconomics</i> 1:1(2009), 267-27.<br />吴易风，《马克思的经济增长理论模型》，《经济研究》 2007年第9期，11-17.
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/question/35823714/answer/89435575?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title">知乎用户（登录查看详情）</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/35823714/answer/89435575?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">32 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/20361395?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">如何看待「剩余价值理论」？</a><br />
            
<a href="http://www.zhihu.com/question/20081841?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">马克斯·韦伯的《新教伦理与资本主义精神》怎么样？</a><br />
乙肝病毒携带者，请不要歧视你自己
<p>抱歉，之前在公众号文章里就把我国乙肝感染者的数量写错了，不是三亿，是近一亿。贴到这里又忘记改了。</p><p>既然说到公众号，就安利一下，我们的微信公众号是：不神医堂。</p><p>—————————————————————————————————————</p><p>我国有三亿乙肝病毒携带者，在肝胆外科这一比例更高，绝大多数的肝癌、肝硬化患者，都伴有乙肝。在与乙肝患者的接触中，总会遇到一些引人思考的故事。前两天就遇到了一个。<br /></p><p>61岁女性患者，因慢性胆囊炎并胆囊结石住院，2年前因结肠癌手术治疗。此次术前血清八项提示乙肝表面抗原、表面抗体、E抗体、核心抗体阳性。</p><p>行腹腔镜胆囊切除术，术后恢复好，顺利出院。出院诊断证明书写诊断：</p><ol><li><p>慢性胆囊炎，胆结石；</p></li><li><p>结肠癌根治术后；</p></li><li><p>乙型肝炎病毒感染。</p></li></ol><p><strong>1周后，该患者找回病房闹事：</strong>院方出具的诊断证明严重侵犯了我的隐私！我20多岁查出来乙肝，跟谁都没说过，连老伴都不知道。这次不但老伴知道了，而且儿媳妇也知道了，不让我带孙子了！你们必须给我改掉！</p><p><strong>医生告诉她：</strong>医疗文书具有法律效力，不能随便乱改，我们的诊断是有事实依据的，如果检验结果明确提示有某个病，却不注明，严格说来属于漏诊。</p><p>至于带孩子这个事，就要您儿媳妇自己想通了，世界卫生组织对此有着非常明确的说法——<strong>乙肝病毒并不通过以下渠道传播：共用餐具，母乳喂养，拥抱，接吻，握手，咳嗽，喷嚏，或在公共游泳池玩耍或类似行为。</strong></p><p>您前几天做有创手术，医生不也没有拒绝吗？不仅是您，我们每天都会接触很多乙肝病毒携带者，医生们不也在正常工作嘛。</p><p><strong>如果您的工作单位因为乙肝开除您；如果您跳广场舞的团队得知您有乙肝不让您跳；如果您的儿媳妇因为乙肝不让您带孩子……这是因为他们对乙肝抱有错误的偏见，是他们的问题，不是您的问题，更不是医生诊断书的问题。</strong></p><p><strong>患者：</strong>国家不是说不得强制要求检测乙肝项目吗？为什么你们还要给我查？</p><p><strong>医生：</strong>国家的这个规定是针对升学、入职体检，因为正常的工作学习交往不会传染乙肝，为避免不必要的歧视才做出这一规定。但是如果进入某些特定行业前，入职体检还是要查乙肝的，比如医护人员。</p><p><strong>而对于所有有创检查或治疗前的患者，乙肝是必查项目，另外还要查丙肝、艾滋、梅毒。因为为这些传染病患者做术前准备，与普通患者不同，需要避免交叉感染。</strong></p><p>前几年，有一位非常有前途的肝胆外科医生，在给乙肝携带者做手术时不小心割破了手，乙肝病毒入侵造成爆发型肝衰竭，一周后就去世了。术前做了检查都会出事，如果不做检查可能这样的悲剧更多。您也不希望这样的事情一再发生对吧？</p><p><strong>患者：</strong>好，可以检查，但别写在诊断书里可以吗？</p><p><strong>医生：</strong>您又绕回开头了。您的所有医疗档案都是您的隐私，您有权不给别人看。别人未经您允许看了，属于侵犯您的隐私。</p><p><strong>但我们医生对您的诊断书也是有责任的，必须保证诊断书的真实性和完整性。</strong>这其实是对患者的保护。您想想，假如医生能够按照患者的要求修改诊断书，就可能出现这种情况：</p><p>一位患者得了肝癌，医生没有查出来，不久后病发身亡，家属拿着诊断书告医生漏诊，医生说“我们查出肝癌，但患者要求隐瞒所以没写”，这时候患者已经死无对证了，家属不是欲哭无泪吗？</p><p>费劲唇舌后，患者虽然心有不甘，但还是悻悻地走了。</p><p>其实，这个故事的背后远不止改不改诊断书这么简单，它深层的问题细思极恐：</p><ul><li><p><strong>首先，患者携带乙肝病毒40余年，她同床共枕、肌肤之亲的丈夫竟毫不知情。</strong></p></li></ul><p>此前还有一个社会新闻，一对年轻男女结婚前做婚检，女方查出了艾滋病，选择向男方隐瞒。婚后男方发现自己感染艾滋才真相大白，把婚检中心告上法庭。</p><p>一个人有没有权力知道自己配偶的健康状况？这是一个伦理问题，我作为医生，想不明白也说不明白。但从我个人而言，我希望了解另一半的健康状况，出于对等原则，我也愿意告知对方我的健康状况。</p><ul><li><p><strong>第二个问题我是可以谈的，乙肝患者出于自卑、怕别人知道，在明知自己携带乙肝病毒的情况下，从不检查、从不监测，这是很可怕的。这其实是患者自己对自己的歧视。</strong></p></li></ul><p>肝脏有很好的代偿能力，是个很“皮实”的器官。在问题不严重时，你可能不会感到不适，但真的撑不住了再来查，常常已经太迟了。所以，知道自己有肝脏疾病，不管有没有症状都应该定期检查，否则可能会有严重后果。</p><p>临床工作中，我见了太多的案例，明知自己有乙肝，但就是捂着，最后实在不舒服来检查，发现已经肝癌晚期，最终医治无效死亡。别以为这是愚昧落后地区才会发生的事，这样的人里不乏明星政要。</p><p>乙肝病毒携带者想保护隐私，我们完全尊重，但乙肝病毒携带者讳疾忌医，我们也有义务劝诫。</p><p>《2015年中国慢性乙型病毒性肝炎防治指南》已经更新推荐了抗乙肝病毒的效果非常好的药物，现在乙肝的治疗相较10年前已大大进步。<strong>只要到正规医院去诊治，虽然目前还不能从根上把肝内病毒清除干净，但要做到与病毒相安无事一辈子，最终一起寿终正寝，是很有可能的。</strong></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/wang-xiao-man-4?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">王小满</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
拉拉队效应：为什么女团这么吸引人？
<img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/c5dd175aa7dde2b71b8d5c4a9f0eb00d_b.jpg" width="1024" />偶像团体已经流行了很多年了，尤其是日本、韩国各（ge）有（zhong）特（tiao）点（dou）的少女团体，仿佛有不可抗拒的吸引力，能够让广大男青年目不转睛，同时脸上浮现出迷之微笑。<br />不可否认，一排妹（da）子（tui）齐刷刷地站着或跳着，确认非常养眼，但是，不知道大家是否有发现，如果单独把她们中的某一个挑出来，好像也不过如此，甚至很多泯然众人（麻友友和虎牙妹子除外），不信你单独仔细看下图的每一个人，相信其中很多都没有你生活中认识的某个人漂亮吧？<br /><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/8f8492259e39e80f1c8a9b292dc57f42_b.jpg" width="1024" /><br /><br />这是为什么呢？<br />曾经作为少年，很为此事所疑惑，直到看到一个网页让我豁然开朗（<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.scientificamerican.com/article/the-cheerleader-effect/" rel="nofollow noreferrer" target="_blank">英文的，不看也罢，下面我用中文解释<i class="icon-external"></i></a>）。<br />这叫做“拉拉队效应”，cheerleader effect。<br />人对于出现在群体中的脸的评价，会高于同一张脸单独出现的时候。也就是说，样貌这个东西是有“群体加成”的，放在人堆里就会显得更好看。<br />这属于人类的认知偏见，cognitive bias，是一种人类认知系统不理性的表现，因为脸还是同一张脸，只是所放置的环境不同，就产生了不同认知和评价。<br />现象说起来很简单，原因可能是这样的：当人出现在群体中时，我们是无法完全把他单独观察的，我们会将群体作为一个整体去处理，这时候会造成我们看到的所有脸都趋向于群体的平均脸，而平均脸经过心理学证实是非常符合人们的审美的。<br /><br />其实个人觉得还有一个原因，就是很多人的脸粗看可以，但是经不起细看，如果放在群体中，人们的注意力会非常快速从一张脸跳到另一张，也就是还来不及细看就过去了，这样就无法发现很多缺陷，而当一张脸单独出现时，人们的所有注意力都集中起来，也就更加容易发现不完美的地方。<br />其实不光是人的样貌，很多事情都是如此，有“群体加成”：<br /><ul><li>来到超市看到很多商品非常高兴，以为有大量的选择，但是细细看起来，每个都不是那么有吸引力，都有各种各样的缺点；</li><li>打开手机相册，照片预览感觉内容很丰富很有趣，但是一张张打开照片就会很快觉得无聊；</li><li>打开一些网站看到文章列表感觉很有意思，看到点击进去细看发现没有多少有价值的内容；</li></ul><br />拉拉队效应告诉我们，晒照片的时候尽量不要晒独照，就这样。<br /><br />如果感兴趣，可以看看这篇论文：<br />Walker, Drew; Vul, Edward (October 25, 2013). <a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//pss.sagepub.com/content/early/2013/10/25/0956797613497969" rel="nofollow noreferrer" target="_blank">"Hierarchical Encoding Makes Individuals in a Group Seem More Attractive"<i class="icon-external"></i></a>. <i>Psychological Science</i><b>25</b> (1): 230–5.
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/yang-zheng-91?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">杨铮</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
Beam Me Up——波束推进
<img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/914aa1c1f3cf8070123b60b4326b7f1c_b.png" width="1024" /><p>在目前的化学火箭基础上的太空航运，携带远远超过载荷质量的燃料是一个非常严重的瓶颈，因为大多数燃料都浪费在了把燃料本身送入轨道。例如 SpaceX 的 Falcon 9，发射重量 505,846 千克，发射到 LEO 的载荷却只有 13,150  千克，也就是燃料的质量是载荷质量的几十倍，从而开始发射时的燃料需要推动远远大于载荷的质量，大部分的燃料花费在了推动燃料本身。[1] </p><blockquote>这里有一个来自行星资源公司的视频，解释了火箭燃料的问题。链接：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//v.youku.com/v_show/id_XNjM4NDE1OTIw.html" rel="nofollow noreferrer" target="_blank">行星资源公司：为什么我们要开采小行星？<i class="icon-external"></i></a></blockquote><p> 在更加低成本的推进方式设计中，有的推进设计都是不需要携带燃料的，例如光帆；有的设计是使用了效率更高的推进剂，例如电推；还有的设计只是减少了飞船上设备质量。这一篇文章，我们主要讨论一个跟这些设计都有关系的设想——波束推进。</p><h2><b>Beam Me Up</b></h2><p>使用工质的火箭推进的原理，几乎都是动量定理：利用工质喷出时的反冲。工质的利用效率，很大程度上取决于工质喷出时相对于火箭的速度。相同质量的工质喷出的速度越高，火箭受到的推力就越大。 </p><blockquote>在一个很短的时间 <img alt="\delta t" src="https://zhihu.com/equation?tex=%5Cdelta+t" /> 内，火箭受到由工质以速度 <img alt="v_e" src="https://zhihu.com/equation?tex=v_e" />， 喷出所产生的推力为 <img alt="F = m v_e/\delta t" src="https://zhihu.com/equation?tex=F+%3D+m+v_e%2F%5Cdelta+t" />. </blockquote><p>
然而对于化学火箭，由于化学能的能量密度是非常有限的，喷出的气体的速度也非常有限。然而如果我们有一种方法让气体温度变得更高，气体的喷出速度就会更快，燃料利用效率就更高。同时，产生高温需要非常多的能量，也就意味着需要更重的设备，也就意味着原本作为载荷的质量现在只能让给这些设备了。 </p><p>
倘若我们可以将能量在地面转换成激光或者微波（总之要定向性好），然后直接传给飞船呢？这样飞船上很多沉重庞大的设备就不再必要了，更轻的飞船，更多的载荷。</p><h2>光帆</h2><p>从这样的设想出发，最容易想到的是将这种波束照向光帆——毕竟光帆原本就是利用反射光来产生动力的。 </p><p><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/bc4d8323751c29255e002a969c4945b6_b.png" width="629" /><i>上图：光帆通过反射光子来产生推力。来源：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.hngn.com/articles/97027/20150531/lightsail-solar-sail-spacecraft-restored-contact-software-glitch.htm" rel="nofollow noreferrer" target="_blank">LightSail: Solar Sail Spacecraft Restored Contact After Software Glitch (TWEETS, VINE) : News : Headlines &amp; Global News<i class="icon-external"></i></a></i></p><p>
激光驱动的光帆，是 Robert Forward 在一篇关于星际旅行的论文中提出的。[2] Robert Forward 的星际旅行方案是使用一个巨大的光帆，甚至直径达到 1000 千米，在激光的推动下，巨大的光帆可以将飞船加速到光速的五分之一。即将到达目的地时，光帆一分为二，外层一圈巨大的环状光帆从飞船上脱离，地球的激光被外圈庞大的光帆反射到一个直径小得多的内层光帆上，飞船上剩下的光帆就会被从前进的方向前方的激光照射，从而减速。</p><img class="origin_image zh-lightbox-thumb" src="https://pic3.zhimg.com/e0c70fc264d2e7c75a1d1faeb1d5bd06_b.png" width="481" /><p><i>上图：激光推动的光帆。按照设计，往返距离地球10.5光年天苑四只需要 51 年。PARALENS 的目的是用来聚焦波束。很多细节技术上来讲都是极其困难的。来自 Robert Forward, 1984。 </i></p><h2>光船</h2><p>
激光光帆进行星际旅行，是一个飞船伟大的设想。由于目前技术上巨大的困难，我们是无法在近期实现的。我们可以把眼光放得更近一些，波束驱动对于我们近未来有哪些有价值的启发。</p><p>
最著名的当属美国 Air Force Research Laboratory  进行过很多实验的光船（lightcraft）：一个经过特殊设计的橡果形状物体，当激光照射到底部的时候，激光会电离物体表面附近的空气，产生强烈的冲击波，从而推进物体上升。当通过调节激光照射的速率，这个橡果型物体的飞行是可以达到相对稳定的状态的。 </p><img class="origin_image zh-lightbox-thumb" src="https://pic1.zhimg.com/e5dd150d2fd279759be2b9cbe863e3b4_b.png" width="638" /><p><i>上图：橡果型物体后部经过特殊设计，可以将激光聚焦在边缘，从而电离空气产生冲击波。来自 Eric Davis &amp; Franklin Mead, 2008。</i></p><p>

目前的设计的目标是将载荷送入 LEO，即近地轨道。上面的实验中，是使用空气作为工质的，进入一定高度，空气过于稀薄的话就不再工作了。这时候可以选择使用其它的工质，例如可以被激光气化的固态工质，或者装在容器中可以被激光加热到极高温度的气体。</p><img class="origin_image zh-lightbox-thumb" src="https://pic2.zhimg.com/07f54de1384b758fefc0d439d4538dc9_b.png" width="903" /><p><i>上图：从起飞到近地轨道的不同阶段。起飞是使用的空气作为工质，到达一个高度之后，切换到飞船自带的工质。来自 Eric Davis &amp; Franklin Mead, 2008。</i></p><br /><h2>我们就差个程序员了</h2><p>
波束推进自然可以用在很多其它的推进方式上，例如可以用在电推上，因为有了更加大功率的光源，从而不需要很大的太阳能电池板或者其它的发电设备；在比如可以直接用来加热气体，用来取代飞船上需要携带的热核加热设备等等。同时与热核火箭这些高效率的推进理论相比，至少波束推进不需要考虑坠毁后造成放射性污染。 </p><p>
也许在一个开放的未来，在太空中航行的，是外形样式各样、推进方式各异、品牌不同的飞船，而单单波束推进，或许就可以成就一方飞船业巨头。早期的鸟儿有虫吃，这样的话，我们就差程序员，公司就能开起来了【误】。</p><br /><h2>参考文献</h2><ol><li><a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Falcon_9" rel="nofollow noreferrer" target="_blank">Falcon 9<i class="icon-external"></i></a> on wikipedia<br /></li><li>Forward, R. L. (1984). Roundtrip Interstellar Travel Using Laser-Pushed Lightsails. Journal of Spacecraft and Rockets, 21(2), 187–195. doi:10.2514/3.8632<br /></li><li>Davis, E. W., Mead, F. B., &amp; Pakhomov, A. V. (2008). Review Of Laser Lightcraft Propulsion System. AIP Conference Proceedings, 997(1), 283–294. doi:10.1063/1.2931899<br /></li><li><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.centauri-dreams.org/%3Fp%3D9413" rel="nofollow noreferrer" target="_blank">Lightcraft: A Laser Push to Orbit<i class="icon-external"></i></a> from Centauri Dreams. </li><li>题图来自 <a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//demodomo.deviantart.com/art/Beam-Me-Up-Scotty-360892850" rel="nofollow noreferrer" target="_blank">Beam Me Up Scotty! :) by DemoDomo on DeviantArt<i class="icon-external"></i></a></li></ol>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/interimm?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">星移君</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
艺术应该被国家所资助吗？我们应该资助艺术吗？
我写过一篇论文讨论政府支持对艺术产业的必要性，所以对这个话题有一点自己的想法。<br /><br />纵观全球，艺术好像一直都是岌岌可危的一个品种。有人说艺术是奢侈品，最容易受到经济萧条的影响。在这个好的艺术作品却也频频受到各路娱乐活动冲击的时代，除了艺术创造者的努力，国家是否也应该做些什么呢？<br /><br />的确曾有人诟病政府资助，认为艺术和艺术家的独立性会因此受到负面影响。<br /><br />以及，艺术机构所遇到的经济困难不能够成为政府资助的正当理由，他们更需要加强对于市场的理解或尽力满足市场的需求来以求自给自足。<br /><br />这两个观点其实很容易辩驳。第一个，个人和公司的赞助是否也会影响到艺术的独立性，甚至于，与第二个观点相关，是否为了满足市场而完成的艺术作品也不是那么符合艺术创作的初衷了？如果因此而不允许政府、公司、个人以及市场的资金流入，那么艺术除了自说自话之外还有别的出路吗？艺术家岂不是也只有死路一条了？<br /><br />第二个，艺术确实需要适当的包装和推广从而吸引更多的观者/听众，但是对于整个社会而言，不是只有观众爱看的才是我们需要的。文化的多样性才是最宝贵的，我们希望它们都能够好好的存活下来。<br /><br />所以，政府的资助行为对于艺术领域是有利的。这种有利来源于几个方面：一是保护珍贵的文化遗产，二是降低艺术参与的门槛（通过补贴使降低票价），三是对于艺术创作者来说是一种鼓励。<br /><br />这背后一个重要的逻辑是：一个国家文化的基础是基于自由表达、互相尊重，以及容忍不同观点的碰撞。<br /><br />国家对于艺术的资助的出发点，显然不应该从政治诉求抑或社会发展的角度，而是一个最为简单的理念，那就是自由。艺术本身的价值体现就是创造力与自由。<br /><br />美国非营利艺术机构的收入数据显示，只有6.7%来自各级政府资助。其中直接来源于国家政府机构的赞助，包括National Endownment for the Arts（NEA）、National Endownment for the Humanities（NEH）、Institute of Museum and Library Service（IMLS）的赞助更是少之又少，但政府的支持从某种程度上来讲起到了背书的作用。同样两个非营利组织，一个有NEA的支持，一个没有，作为一个普通的个人慈善家，我们更愿意跟随NEA的选择，相信这个机构对公共利益更有帮助。<br /><br />NEA成立时，国会将这样一个理念写进了法律：对于联邦政府来说，帮助建立并维持一个鼓励自由思想、想象、发问与创造的环境是必要的。<br /><br />所以各级政府选择资助的艺术机构时，不是我们想象的一拍大腿作出的决定。具体的流程非常复杂。大概来讲就是每个极其细分的艺术领域都有专门的工作人员进行材料的审核，接下来他们会分头召集自己领域的一群学者，对所有初审过关的机构进行讨论，再下来就是与二审过关机构的负责人进行直接的对话，询问详情，收集进一步的资料，进行上门访问和检查，最后通过的艺术机构就能获得一笔资金。<br /><br />由于目的是支持多样，甚至互相矛盾的艺术文化形式，所以赞助的金额很小，但是广度极大。<br /><br />当然，除了艺术，政府机构中还有数不胜数的其他关于各项公共事业的资助流程，都是类似的审核过程。<br /><br />而提到关于为什么要支持艺术，为什么纳税人交的税不去用于支持其他看似更加紧迫的人文关怀组织这件事，不光是困扰着国家机构，其实基金、公司、个人慈善家都是一直在权衡。<br /><br />这要看艺术对于一个国家的人民来说意味着什么。当然，你可以说它没有饥饿、疾病、灾难那么重要，可对于很多人来说，它其实和生命一样重要。<br /><br />更何况，对于整个人类社会而言，艺术和文化的传承其实是像灵魂和血脉一样的存在。
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/shermmm?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">张田Tiffany</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/21440473/answer/82780668?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">39 个回答，查看全部。</a><br />
                延伸阅读：<br />
<a href="http://www.zhihu.com/question/28720296?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">不会欣赏艺术怎么办？</a><br />
            
<a href="http://www.zhihu.com/question/19713769?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">为什么电影分级制在国内无法实行？</a><br />
哈勃望远镜能看到火星车、旅行者号吗，如果能清晰度怎样，如果不能需要达到怎样的性能才能看到？
<a class="member_mention" href="http://www.zhihu.com/people/58341f94cde3c33af497deefb49f5df9">@监听员10492号</a>算的是对的。哈勃虽然至今仍然是高分辨率光学观测的顶级之选，不过这事真的是……臣妾办不到。<br /><br /><p>哈勃望远镜，口径2.5米，光学分辨率~0.05角秒——大概是日月直径的三万分之一。地火距离最近5460万公里，算下来哈勃看火星，分辨率最好可以达到<strong>13公里</strong>。也就是这样：</p><p><img src="https://pic4.zhimg.com/75c4568ee6934d9aca2257b7a85537a3_b.jpg?rss" /></p><br /><br /><p>这火星车得比《环太平洋》里的机甲<strong>大100多倍</strong>才能占据一个像素……</p><p><img src="https://pic3.zhimg.com/399df524f0d215554d1539e3e19d2346_b.jpg?rss" /></p><br /><p>请允许我做一个……的表情</p><p><img src="https://pic1.zhimg.com/dca24853d35550b74c64fe59b911c230_b.jpg?rss" /></p><br /><p>那……咋……办……</p><br /><blockquote>如果你的照片拍的不够好，那是因为你靠的不够近。<br />——安德鲁·弗里德曼</blockquote><br /><br />看看能拍到火星车的是什么玩意：<br /><p><img src="https://pic1.zhimg.com/3081559f0bd07bcbff3de487e119e750_b.jpg?rss" /></p>（MRO，艺术想象图）<br /><br />火星勘测者轨道飞行器（MRO）。这货离火星地表只有300公里。那是多近呢，这么近：<br /><p><img src="https://pic2.zhimg.com/b6e73fdcadeefec5fce7fa671f12b565_b.png?rss" /></p>（MRO实时位置图）<br /><br />MRO距离火星地表只有约300公里。这个距离如此之小，以至于再低一点，就可以在飞行中感受到拂面而来的火星大气了。实际上MRO一开始入轨的时候，也正是利用了这一点：让近地点浸没在火星大气边缘靠内处，不断的消耗MRO的动能，这样逐步把一个高椭率的轨道修成后来的正圆形。<br /><p><img src="https://pic4.zhimg.com/8a74ce103c5470348099471f1e21d6c3_b.png?rss" /></p><br />（MRO气动刹车轨道示意。图中还画出另外几个火星轨道器以及火星的两颗天然卫星的轨道作为对比。）<br /><br />就这么修了400多圈，才修成几乎贴着火星飞的轨道。<br /><br />都离得这么近了，MRO还是带了一个口径巨大的相机（或者说望远镜）：<br /><p><img src="https://pic2.zhimg.com/40b841971753995aa8a610aa70f87e89_b.jpg?rss" /></p><br />（MRO/HiRISE）<br /><br />它携带的HiRISE相机，口径达0.5米，是有史以来太阳系深空探测任务中最大口径的望远镜。当然比地球轨道上的很多空间望远镜是要小一些。但是能把这么一大坨东西扔到火星，也是挺不容易的。感受一下0.5米口径望远镜的大小：<br /><p><img src="https://pic3.zhimg.com/d7fd554df12b29257c59c0172cfb5efe_b.jpg?rss" /></p>（香港可观自然教育中心暨天文台的0.5米望远镜）<br /><br />MRO/HiRISE的分辨率达到0.2角秒，在300公里高的轨道上，对应火星地面上0.3m的物体。妥妥的是能看到火星车了——虽然也只能看到几个像素。感受一下它看到的好奇号火星车：<br /><p><img src="https://pic3.zhimg.com/f64553213c09be933946137dd340100a_b.jpg?rss" /></p>（左下角是好奇号火星车，曲曲折折的不是荷塘，而是好奇号的车辙）<br /><br />实际上好奇号还没落地的时候，MRO就开始注视它了：<br /><p><img src="https://pic4.zhimg.com/a7e3a40075550d2b6d1ef9db570b0623_b.jpg?rss" /></p>（好奇号火星车降落时MRO拍摄的影像）<br /><br />好奇号落地之后，MRO又盯着它风中摇曳的降落伞看了好几年：<br /><p><img src="https://pic3.zhimg.com/d16151278297f48766a24708b4ab97da_b.png?rss" /></p>（摇曳动图见：<a class=" wrap external" href="http://link.zhihu.com/?target=https%3A//www.nasa.gov/sites/default/files/thumbnails/image/pia19159-figa_backshell_anim_v3.gif" rel="nofollow noreferrer" target="_blank">https://www.nasa.gov/sites/default/files/thumbnails/image/pia19159-figa_backshell_anim_v3.gif）<i class="icon-external"></i></a><br /><br />好奇号是有史以来最大的火星车，在MRO/HiRISE眼中尚且可以据有几十个像素，稍小一些的火星车呢，能看到吗？<br /><p><img src="https://pic1.zhimg.com/a05dec53108b7c18a1e00aa06dada2b0_b.jpg?rss" /></p><p><img src="https://pic2.zhimg.com/bd3998be39ac4278c170ae205485eef1_b.jpg?rss" /></p><br />（勇气号和机遇号）<br /><br />勇气号和机遇号大约是两米直径。……还能看到更小的吗？<br /><br />2003年，英国发射的猎兔犬2号火星探测器，进入火星大气层之后与地球失联。这桩悬案到2015年，终于被MRO解开：<br /><p><img src="https://pic4.zhimg.com/ea850c0ed1e5efcf4297de01857dccaf_b.png?rss" /></p><br />放大：<br /><p><img src="https://pic3.zhimg.com/5dc21f27a1af7025de26425a912bb51e_b.png?rss" /></p><br /><br />看起来似乎是太阳能电池板没有完全打开。所以就GG了……<br /><p><img src="https://pic2.zhimg.com/2165f98fc16ed819b88b289d2e4ce891_b.jpg?rss" /></p>（英国一个太空博物馆<a class=" wrap external" href="http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Spaceport_%28Seacombe%29" rel="nofollow noreferrer" target="_blank">Spaceport<i class="icon-external"></i></a>陈列的猎兔犬2号死相复原）<br /><br />猎兔犬2号这个大“怀表”的直径是57厘米，展开一半后大约一米，已经在挑战MRO分辨力极限了。话说MRO还能再给力一点吗……比如，马特达蒙的火星宠物——旅居者号火星车？<br /><p><img src="https://pic1.zhimg.com/a0449488eabe7f4307c8bbc89854da34_b.jpg?rss" /></p><br />（《火星救援》剧照）<br /><br />噫，这家伙只有65厘米长，原则上在MRO的影像中只占2个像素……<br /><p><img src="https://pic1.zhimg.com/819e7722666ecd4afcc516bab5764920_b.png?rss" /></p>虽然感觉没什么希望，MRO还是拍了。黄线所指是携带旅居者号去火星的“探路者号”，就是马特达蒙用来跟地球通话的那个不能动的玩意。<br /><br /><p><img src="https://pic4.zhimg.com/169cd84267c329fb627e67c19ddc238b_b.png?rss" /></p>这是探路者号拍摄的着陆点全景图的一部分。NASA的同志们对比了半天，觉得MRO拍到的遥感图上，似乎在图左打问号的地方多出了一个不知道什么东西——兴许就是失联的旅居者号了。我对了半天，觉得他们可能是想说这个地方（红圈内）：<br /><br /><p><img src="https://pic2.zhimg.com/1b7d64781f8f0a8ca4c7be0271f62169_b.png?rss" /></p><br />恩，在接近极限分辨率的地方，想象力是一个重要的能力。<br /><br />最后附一张好奇号、勇气/机遇号、旅居者号全家福：<br /><p><img src="https://pic4.zhimg.com/413839802f52db91bd2b8934e6320327_b.jpg?rss" /></p>这是1997年到2012年，15年间，人类（mei di）的进步成绩单。<br /><br />以上。<br /><br />=============<br />欢迎关注我和朋友们建立的天文教育公益组织“青年天文教师连线”，微信公众号TeachForAstro。<br />如果你想以教师志愿者、天文科普写手/画手、媒体专员、项目主管、专家顾问等身份加入我们的话，赶快行动咯。<br /><p><img src="https://pic3.zhimg.com/b26164cbb2a730af587c07a7a764de1e_b.png?rss" /></p>
<br /><br />
来源：知乎 www.zhihu.com<br />
    
作者：<a href="http://www.zhihu.com/people/spto?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author">刘博洋</a><br />
            
<br />
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal" target="_blank">点击下载</a><br />
<br />
此问题还有 <a href="http://www.zhihu.com/question/41064963/answer/89475308?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title" target="_blank">1 个回答，查看全部。</a><br />
